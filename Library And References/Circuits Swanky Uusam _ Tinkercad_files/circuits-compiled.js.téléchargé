!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n=i(1);n.config=i(2),i(3),i(131),i(169),i(196),i(797),e.exports=n},function(e,t){e.exports={}},function(e,t){var i=!0;if(i)var n={site:"http://localhost:8888",arduinoServerCompile:"https://prod-circuits-compiler.tinkercad.com/compile",worker:"/build/circuits_worker-compiled.js",contentAPI:{url:"/api"},shareJS:{url:"https://colab.tinkercad.com/channel",thumbnailUrl:"https://contentapi.acg.autodesk.com/tinkercad/thumbupload",crossDomainXhr:!0,serverTenant:"circuits"},eventsAPI:{url:"http://beta-event.acg.autodesk.com/Event/v1/Log",afc:"CR1ONL",persist:!1},legacyPackagedDeviceUrl:"https://beta-editor.tinkercad.com/packaged_devices/legacy",instructablesAPI:"/instructableapi"};else var n={site:"http://localhost:8888",arduinoServerCompile:"https://alpha-circuits-compiler.tinkercad.com/compile",worker:"/build/circuits_worker-compiled.js",contentAPI:{url:"/api"},shareJS:{url:"https://beta-colab.tinkercad.com/channel",thumbnailUrl:"https://contentapi-alpha.acg.autodesk.com/tinkercad/thumbupload",crossDomainXhr:!0,serverTenant:"circuits"},eventsAPI:{url:"http://beta-event.acg.autodesk.com/Event/v1/Log",afc:"CR1ONL",persist:!1},legacyPackagedDeviceUrl:"https://alpha-editor.tinkercad.com/packaged_devices/legacy",instructablesAPI:"/instructableapi"};e.exports=n},function(e,t,i){var n={inlineEncodeSVG:function(e){var t=encodeURIComponent(n[e]).replace(/%0A/g,"").replace(/%20/g," ").replace(/%3D/g,"=").replace(/%3A/g,":").replace(/%2F/g,"/").replace(/%22/g,"'");return"data:image/svg+xml,"+t},inlineEncodePNG:function(e){return"data:image/png;base64,"+n[e]}};n.admin_horse=i(4),n.admin_horse2=i(5),n.admin_horse3=i(6),n.admin_horse4=i(7),n.admin_horse5=i(8),n.icon_activate_breakpoints=i(9),n.icon_arrow=i(10),n.icon_check=i(11),n.icon_circle=i(12),n.icon_close=i(13),n.icon_codeeditor=i(14),n.icon_community=i(15),n.icon_copperpour=i(16),n.icon_cornertype_left_bevel=i(17),n.icon_cornertype_left_miter=i(18),n.icon_cornertype_left_round=i(19),n.icon_cornertype_polygon=i(20),n.icon_cornertype_right_bevel=i(21),n.icon_cornertype_right_miter=i(22),n.icon_cornertype_right_round=i(23),n.icon_cs_conductiveink=i(24),n.icon_cs_resistiveink=i(25),n.icon_deactivate_breakpoints=i(26),n.icon_debugger=i(27),n.icon_doc_brd=i(28),n.icon_doc_circuits_component=i(29),n.icon_doc_circuits_pcbdesign=i(30),n.icon_doc_csv=i(31),n.icon_doc_ino=i(32),n.icon_doc_jpg=i(33),n.icon_doc_pdf=i(34),n.icon_doc_sch=i(35),n.icon_doc_svg=i(36),n.icon_drawingaids=i(37),n.icon_drill=i(38),n.icon_dropdown_arrow=i(39),n.icon_duplicate=i(40),n.icon_eagle=i(41),n.icon_electroninks=i(42),n.icon_externallink=i(43),n.icon_facebook=i(44),n.icon_flip_horizontal=i(45),n.icon_flip_vertical=i(46),n.icon_fork=i(47),n.icon_graph=i(48),n.icon_grid=i(49),n.icon_hamburger=i(50),n.icon_help=i(51),n.icon_hint=i(52),n.icon_home=i(53),n.icon_hub_librarymanager=i(54),n.icon_import=i(55),n.icon_inbox=i(56),n.icon_key=i(57),n.icon_layer_hidden=i(58),n.icon_layer_visible=i(59),n.icon_layers=i(60),n.icon_library=i(61),n.icon_line=i(62),n.icon_littlebits=i(63),n.icon_locked=i(64),n.icon_logout=i(65),n.icon_mesh=i(66),n.icon_next=i(67),n.icon_pause=i(68),n.icon_pauze=i(69),n.icon_pen=i(70),n.icon_play_incircle=i(71),n.icon_play=i(72),n.icon_plus=i(73),n.icon_polygon=i(74),n.icon_previous=i(75),n.icon_printer_extended=i(76),n.icon_printer=i(77),n.icon_profile=i(78),n.icon_rectangle=i(79),n.icon_reddit=i(80),n.icon_redo=i(81),n.icon_resume=i(82),n.icon_rocket=i(83),n.icon_rotate_ccw=i(84),n.icon_rotate_cw=i(85),n.icon_search=i(86),n.icon_serialmonitor=i(87),n.icon_settings_small=i(88),n.icon_settings=i(89),n.icon_shop=i(90),n.icon_shoppingcart_small=i(91),n.icon_shoppingcart=i(92),n.icon_starred_big=i(93),n.icon_starred=i(94),n.icon_step_into_next_function=i(95),n.icon_step_out_current_function=i(96),n.icon_step_over_next_function=i(97),n.icon_stop=i(98),n.icon_text=i(99),n.icon_tinkercad=i(100),n.icon_trace=i(101),n.icon_trash=i(102),n.icon_twitter=i(103),n.icon_undo=i(104),n.icon_unstarred_big=i(105),n.icon_unstarred=i(106),n.icon_uploadandsimulate=i(107),n.icon_via=i(108),n.icon_view_3dpackage=i(109),n.icon_view_bit=i(110),n.icon_view_bitlab=i(111),n.icon_view_bom=i(112),n.icon_view_component=i(113),n.icon_view_electronicslab=i(114),n.icon_view_grid=i(115),n.icon_view_list=i(116),n.icon_view_pcb=i(117),n.icon_view_schematic=i(118),n.icon_view_showcase=i(119),n.icon_view_sketch=i(120),n.icon_view_wire=i(121),n.icon_youtube=i(122),n.icon_zoomall=i(123),n["icon_scratch_dropdown-arrow"]=i(124),n.icon_scratch_blocks=i(125),n.icon_scratch_repeat=i(126),n["icon_scratch_zoom-in"]=i(127),n["icon_scratch_zoom-out"]=i(128),n["icon_scratch_zoom-reset"]=i(129),n.icon_scratch_sprites=i(130),e.exports=n},function(e,t){e.exports='<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="30.948px" height="30.948px" viewBox="0 0 30.948 30.948" style="enable-background:new 0 0 30.948 30.948;"\r\n	 xml:space="preserve">\r\n<g>\r\n	<path d="M30.291,9.105c0,0,0.05-2.744-0.588-3.432l0.44-2.061L28.967,4.84l0.146-1.473l-1.08,1.422c0,0-2.992-2.205-6.082,2.992\r\n		c0,0-0.291,0.557-0.814,1.276c-0.126-0.103-0.234-0.201-0.284-0.295c-0.166-0.31-0.127-1.095,0.046-1.397\r\n		c0.278-0.488,0.467-2.705,0.467-2.705c1.258,0.188,2.004-1.117,2.004-1.117l0.652,0.466c0.419-0.466,0.35-1.785,0.232-2.237\r\n		c-0.659-2.574-3.355-1.585-3.355-1.585c-1.771,0.839-0.652,1.865-0.652,1.865c-0.697-0.142-2.869-0.078-3.82,0.093\r\n		c-1.815,0.325-5.408,2.938-5.408,2.938C9.2,6.341,9.806,7.88,9.806,7.88c0.28,1.117,4.009,4.055,4.009,4.055\r\n		c0.011,0.014,0.015,0.03,0.026,0.044c-0.771-0.104-1.488-0.243-1.842-0.419c0,0-4.266-0.688-5.737,1.473\r\n		c0,0-4.561-1.275-4.708,4.658c0,0,0.735,3.482-1.079,4.169c0,0,2.549,0.98,3.481-5.052c0,0-0.098-2.452,1.667-2.796\r\n		c0,0-0.98,1.914,0,4.905c0,0,0.491,1.617-0.833,2.795c0,0-0.98-0.098-1.177,2.796c0,0-1.521,2.647-0.932,3.823\r\n		c0,0,0.393,0.638,0.197,0.933c0,0-0.932,0.442,0.245,1.274c0,0,1.374,0.588,1.079-0.539c0,0-0.883-2.6,0.294-4.903\r\n		c0,0,3.532-3.775,3.875-4.659c0,0,1.374,0.099,1.618,1.913c0,0-0.589,2.602,0.637,3.729c0,0,0.834,3.529,1.815,3.529\r\n		c0,0-0.048,1.128,1.374,1.128c0,0,1.421-0.05,0.637-0.884c0,0-2.942-0.439-2.746-5.885c0,0,0.833-2.99,0.833-4.363\r\n		c0,0,5.688,1.961,7.797,0.688c0,0,0.147,4.461-0.637,7.062c0,0-0.736,1.472,0.342,1.814c0,0-0.782,1.716,0.346,1.716\r\n		c0,0,1.472,0.344,1.374-0.539c0,0-0.394-0.979-0.834-1.273c0,0-0.64-1.57,0.294-3.337c0,0,1.423-3.776,1.374-5.002\r\n		c0,0,2.157,1.029,3.334,2.257c0,0,0.639,1.668-0.49,3.141c0,0-0.688,0.589-0.638,1.029c0,0-1.227-0.539-1.275,1.176\r\n		c0,0,0.147,1.719,1.127,0c0,0,2.256-1.567,2.746-4.118c0,0,0.49-1.666-0.883-2.648c0,0-1.127-1.765-1.716-2.107\r\n		c0,0,1.812-2.305,0.833-4.412c0,0-0.833-0.637-0.245-1.913c0,0,0.603-1.088,0.962-2.388c0.396-0.032,0.811-0.075,1.234-0.127\r\n		c0.16,0.133,0.338,0.258,0.55,0.354c0,0,0,1.667,1.373,1.619C29.507,12.588,30.979,12.537,30.291,9.105z M18.359,6.875l0.723-0.094\r\n		c0,0-0.045,1.586,0.233,1.864c0,0-0.899-0.211-1.002-0.513C18.231,7.897,18.359,6.875,18.359,6.875z M17.92,11.899\r\n		c-0.562-1.271-2.194-3.043-2.194-3.043c-0.979-1.305,0.886-1.397,0.886-1.397l0.141,1.771c0.357,1.009,2.078,1.269,3.084,1.331\r\n		C19.283,11.092,18.64,11.578,17.92,11.899z M26.613,9.157c0,0,0.135,0.5,0.524,1.006c-0.228,0.022-0.447,0.043-0.666,0.062\r\n		C26.547,9.87,26.604,9.509,26.613,9.157z"/>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='\n<?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="30.11px" height="30.11px" viewBox="0 0 30.11 30.11" style="enable-background:new 0 0 30.11 30.11;" xml:space="preserve"\n    >\n<g>\n    <g>\n        <g>\n            <path d="M15.556,10.985c0.368,0,0.73,0.014,1.089,0.038V0.981c0-0.542-0.439-0.981-0.98-0.981c-0.543,0-0.98,0.439-0.98,0.981\n                v10.024c0.041-0.001,0.081-0.001,0.122-0.003C15.054,10.991,15.304,10.985,15.556,10.985z"/>\n            <path d="M14.684,21.913v7.216c0,0.543,0.438,0.981,0.981,0.981c0.542,0,0.98-0.438,0.98-0.981v-7.205\n                c-0.357-0.033-0.721-0.056-1.089-0.056C15.261,21.868,14.973,21.893,14.684,21.913z"/>\n            <path d="M28.569,19.26c-1.016-0.348-1.921-1.258-1.271-2.637c0.816-1.731,0.987-4.627-1.871-5.58\n                c-2.981-0.994-4.393,1.582-4.899,2.893c-1.371-0.618-3.095-0.989-4.971-0.989c-0.223,0-0.441,0.005-0.661,0.015\n                c-0.099,0.005-0.198,0.007-0.297,0.007c-0.833,0-1.644-0.174-2.397-0.483l0.442-0.247c0.201-0.112,0.336-0.313,0.365-0.542\n                c0.029-0.228-0.052-0.457-0.218-0.615c-1.036-0.992-1.091-2.556-1.091-2.556c-0.521-4.009-3.208-4.612-4.541-4.66\n                c-0.196-0.008-0.387,0.065-0.53,0.202c-0.14,0.137-0.22,0.325-0.22,0.522v1.587C6.033,6.247,5.636,6.346,5.35,6.613\n                C4.559,7.352,3.406,8.575,2.511,9.401c-0.965,0.892-1.469,2.162-0.929,3.359c0.28,0.621,0.895,0.996,1.543,0.996\n                c0.184,0,0.369-0.03,0.551-0.093l2.988-1.031l0.421,1.728c0.256,1.052,0.392,2.157,0.392,3.239c0,0.969,0.523,1.861,1.403,2.604\n                l-0.751,5.136C8.041,25.933,8.4,26.517,8.99,26.693c0.65,0.193,1.336-0.176,1.53-0.824l1.651-5.515\n                c1.032-0.278,2.168-0.449,3.383-0.449c1.199,0,2.321,0.166,3.345,0.438l1.689,5.525c0.174,0.567,0.738,0.942,1.347,0.856\n                c0.674-0.094,1.141-0.715,1.047-1.387l-0.726-5.16c0.862-0.739,1.377-1.625,1.377-2.582c0-0.709-0.283-1.377-0.775-1.979\n                c0.494-0.268,1.058-0.009,1.513,2.092c0.645,2.969,2.979,2.52,4.205,2.053c0.105-0.039,0.175-0.143,0.173-0.254\n                C28.748,19.395,28.675,19.295,28.569,19.26z"/>\n        </g>\n    </g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 viewBox="0 0 448.546 448.546" style="enable-background:new 0 0 448.546 448.546;" xml:space="preserve">\r\n<g>\r\n	<path d="M440.243,167.706c0-11.868-4.621-23.025-13.013-31.416c-8.391-8.392-19.552-13.014-31.427-13.014\r\n		c-19.69,0-36.765,13.135-42.448,31.277c-5.418-1.311-10.982-1.988-16.624-1.988c-16.155,0-32.298,5.542-45.455,15.607\r\n		c-6.048,4.628-12.589,8.308-19.475,11.001c-0.379-56.859-22.995-110.52-59.285-139.536c-2.278-4.122-5.096-7.947-8.453-11.322\r\n		l-6.029-6.063l-4.615,5.245c-14.915-7.159-30.575-9.539-45.658-6.858c-10.969,1.952-20.159,9.247-24.584,19.514\r\n		c-3.117,7.234-3.543,15.173-1.412,22.511c-1.653,0.767-3.252,1.625-4.796,2.569L8.303,0L88.68,107.432l-22.606,49.411\r\n		c-4.969,10.856-3.98,23.269,2.643,33.202c6.358,9.534,17.001,15.227,28.469,15.227c6.129,0,12.163-1.661,17.449-4.805\r\n		l17.271-10.269c-8.082,18.234-16.945,40.986-16.945,53.067c0,22.728,7.94,44.652,22.357,61.737\r\n		c5.036,5.967,10.79,11.242,17.086,15.753v127.79h33h15h42V338.559c23.455-1.98,55.128-15.9,83.098-30.766\r\n		c-0.066,3.365-0.098,6.385-0.098,9.213v131.54h32h16h41V316.088l23.84,43.529V167.706z M241.637,107.103\r\n		c9.688,23.505,14.535,49.807,14.142,76.437c-4.132,0.664-8.339,1.006-12.597,1.006h-9.405\r\n		c-2.255-16.181-8.859-56.497-22.198-87.708c5.073-8.275,7.696-17.871,7.973-27.541C228.232,80.062,235.794,92.925,241.637,107.103z\r\n		 M137.871,46.486c2.323-5.393,6.95-9.072,12.69-10.094c10.537-1.87,21.194-0.621,31.788,3.684L171.452,52.46\r\n		c-1.186,1.096-2.835,1.697-4.758,1.697c-6.766,0-18.485,1.586-29.624,3.927C135.987,54.31,136.238,50.275,137.871,46.486z\r\n		 M69.922,55.652l32.549,19.54l-6.209,15.667L69.922,55.652z M106.457,186.715c-2.813,1.672-6.019,2.557-9.271,2.557\r\n		c-6.107,0-11.773-3.029-15.156-8.104c-3.472-5.206-4.011-11.976-1.406-17.668l32.285-70.566c4.13-9.025,11.996-15.538,21.58-17.868\r\n		c11.51-2.798,25.355-4.908,32.305-4.908c6.164,0,11.88-2.308,16.092-6.496l15.13-17.166c7.906,13.432,7.512,32.182-1.935,44.711\r\n		l-2.878,3.817l1.998,4.343c0.569,1.237,1.126,2.496,1.672,3.775c4.245,9.944,4.454,21.294-0.004,31.145\r\n		c-3.774,8.34-10.347,14.981-19.683,19.849c-13.224,6.896-27.214,7.729-27.354,7.736l0,0c-1.263,0.129-2.484,0.532-3.575,1.181\r\n		L106.457,186.715z M187.403,335.923v71.623h-17v-77.53C175.845,332.496,181.532,334.486,187.403,335.923z M170.403,432.546v-9h17v9\r\n		H170.403z M203.403,432.546v-9h25v9H203.403z M238.937,322.8c-0.721,0-1.43-0.019-2.106-0.055l-8.428-0.452v85.253h-25v-84.874\r\n		l-6.649-1.138c-18.506-3.169-35.271-12.704-47.208-26.85c-11.985-14.202-18.586-32.464-18.586-51.419\r\n		c0-10.817,12.437-41.03,24.581-65.919c6.205-0.849,17.416-3.073,28.536-8.763c9.202-4.71,19.319-12.309,25.808-24.357\r\n		c6.24,26.061,8.868,48.854,8.908,49.212l0.801,7.106h23.59c21.01,0,41.003-6.801,57.815-19.665\r\n		c10.382-7.942,23.072-12.315,35.733-12.315c6.323,0,12.518,1.071,18.414,3.185c1.911,0.685,3.44,1.347,4.545,1.969\r\n		c6.377,3.587,12.215,8.01,17.349,13.145c15.066,15.066,23.364,35.053,23.364,56.278v164.404h-25v-83.374l-4.846-2.078\r\n		c-10.421-4.471-17.154-14.845-17.154-26.429v-20.904l-12.021,6.988C295.849,308.221,259.467,322.8,238.937,322.8z M359.403,334.354\r\n		v73.191h-16v-89.347C347.211,324.822,352.678,330.427,359.403,334.354z M343.403,432.546v-9h16v9H343.403z M375.403,432.546v-9h25\r\n		v9H375.403z M424.243,297.094l-7.84-14.315v-39.637c0-25.499-9.962-49.504-28.05-67.593c-5.947-5.946-12.68-11.084-20.01-15.302\r\n		c3.324-12.102,14.51-20.971,27.46-20.971c7.601,0,14.744,2.957,20.112,8.327c5.37,5.369,8.327,12.509,8.327,20.103V297.094z"/>\r\n	<path d="M160.997,128.102c7.36-10.74,4.61-25.465-6.13-32.825c-3.948-2.705-8.56-4.136-13.333-4.136\r\n		c-7.8,0-15.087,3.838-19.492,10.267c-7.359,10.74-4.609,25.466,6.131,32.824c3.948,2.706,8.559,4.137,13.333,4.137h0.001\r\n		C149.306,138.368,156.592,134.53,160.997,128.102z M147.798,119.058c-1.421,2.073-3.772,3.311-6.292,3.311\r\n		c-1.532,0-3.016-0.462-4.29-1.335c-3.462-2.372-4.349-7.12-1.977-10.582c1.421-2.073,3.773-3.311,6.294-3.311\r\n		c1.532,0,3.016,0.462,4.289,1.334c1.677,1.149,2.807,2.884,3.18,4.882C149.375,115.355,148.948,117.38,147.798,119.058z"/>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 viewBox="0 0 382.257 382.257" style="enable-background:new 0 0 382.257 382.257;" xml:space="preserve">\r\n<g>\r\n	<g id="Layer_5_11_">\r\n		<g>\r\n			<g>\r\n				<path d="M381.397,363.507c1.972,3.307,0.435,6.013-3.415,6.013H4.275c-3.85,0-5.387-2.706-3.416-6.013l14.443-24.228\r\n					c1.972-3.307,6.734-6.013,10.584-6.013h330.482c3.851,0,8.613,2.706,10.585,6.013L381.397,363.507z"/>\r\n			</g>\r\n			<g>\r\n				<path d="M208.126,309.138c0,2.75-2.25,5-5,5h-23.997c-2.75,0-5-2.25-5-5V159.13c0-2.75,2.25-5,5-5h23.997c2.75,0,5,2.25,5,5\r\n					V309.138z"/>\r\n			</g>\r\n			<path d="M194.048,13.316c-1.606-0.772-4.234-0.772-5.84,0l-176.9,85.018c0,0-8.417,4.126-0.019,4.126\r\n				c92.062,0,267.291,0,356.387,0c11.767,0-0.08-5.738-0.08-5.738L194.048,13.316z"/>\r\n			<path d="M376.857,122.27c-93.535,0-276.944,0-369.259,0c-4.659,0-4.875,1.313-4.649,3.282\r\n				c0.682,5.905,3.407,17.716,14.307,17.716c10.438,0,17.075-9.74,17.075-9.74c1.004-1.473,2.918-2.678,4.254-2.678\r\n				c1.335,0,3.25,1.205,4.253,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\r\n				s3.792,1.205,4.794,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\r\n				c1.634,0,3.792,1.205,4.795,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\r\n				c1.633,0,3.792,1.205,4.794,2.678c0,0,6.637,9.74,17.074,9.74c10.439,0,17.075-9.74,17.075-9.74\r\n				c1.003-1.473,3.161-2.678,4.795-2.678c1.633,0,3.791,1.205,4.795,2.678c0,0,6.637,9.74,17.074,9.74s17.075-9.74,17.075-9.74\r\n				c1.002-1.473,3.16-2.678,4.794-2.678c1.633,0,3.791,1.205,4.794,2.678c0,0,6.638,9.74,17.075,9.74s17.074-9.74,17.074-9.74\r\n				c1.004-1.473,3.162-2.678,4.795-2.678c1.635,0,3.791,1.205,4.794,2.678c0,0,6.638,9.74,17.075,9.74s17.074-9.74,17.074-9.74\r\n				c1.004-1.473,2.92-2.678,4.254-2.678c1.336,0,3.25,1.205,4.254,2.678c0,0,6.639,9.74,17.075,9.74\r\n				c11.456,0,13.882-13.047,14.396-18.572C379.533,123.211,379.533,122.27,376.857,122.27z"/>\r\n			<g>\r\n				<path d="M40.495,228.795c-0.292,0.437-0.655,1.496-0.461,2.425l1.54,7.704c0.373,1.857,2.219,3.233,4.105,3.059l9.844-0.914\r\n					c1.886-0.175,4.204,1.024,5.15,2.666l4.035,6.999c0.947,1.641,1.445,4.507,1.107,6.371l-6.981,38.574\r\n					c-0.338,1.864,0.863,3.858,2.668,4.432l6.286,1.998c1.553,0.459,2.176-0.892,2.437-1.697c3.136-9.7,8.761-27.347,31.267-27.347\r\n					c23.497,0,29.938,16.539,34.098,26.66c0.32,0.776,1.018,2.383,3.951,1.712l5.904-1.986c1.796-0.604,2.721-2.55,2.058-4.323\r\n					c0,0-5.376-14.366-6.932-20.421c-1.042-4.055-2.419-12.315-2.471-16.502c-0.053-4.44-1.138-16.452-0.385-16.484\r\n					c1.519-0.064,9.813,12.667,10.773,14.104c0,0,1.594,2.319,2.673,0.38c0.292-0.521,1.126-2.105,1.126-2.105\r\n					c0.894-1.669,0.957-4.435,0.139-6.143l-6.301-13.189c-0.817-1.71-1.396-4.77-20.652-4.77l-32.943-0.084\r\n					c-1.896-0.005-4.364-1.256-5.488-2.78l-10.898-14.778c-1.124-1.524-3.237-3.761-4.695-4.968l-6.747-5.59\r\n					c-1.458-1.208-3.282-0.782-4.055,0.947l-2.53,5.667C54.649,215.697,44.903,222.204,40.495,228.795z"/>\r\n				<path d="M106.055,210.068c1.782,0.004,3.24-1.449,3.24-3.231v-42.466c0-1.783-1.458-3.24-3.24-3.24h-2.7\r\n					c-1.782,0-3.24,1.458-3.24,3.24v42.441c0,1.782,1.458,3.244,3.24,3.248L106.055,210.068z"/>\r\n				<path d="M102.367,289.943c-2.252,0-2.252,1.513-2.252,3.295v17.66c0,1.782,1.458,3.24,3.24,3.24h2.7\r\n					c1.782,0,3.24-1.458,3.24-3.24V294.2c0-2.458-1.426-3.544-3.168-3.916C106.127,290.284,105.402,289.943,102.367,289.943z"/>\r\n			</g>\r\n			<g>\r\n				<path d="M322.329,208.411l-2.531-5.667c-0.772-1.729-2.598-2.156-4.055-0.947l-6.747,5.59c-1.458,1.208-3.571,3.444-4.695,4.968\r\n					l-10.897,14.778c-1.125,1.524-3.594,2.775-5.488,2.78l-32.943,0.084c-19.256,0-19.834,3.06-20.652,4.77l-6.302,13.189\r\n					c-0.817,1.708-0.754,4.474,0.14,6.143c0,0,0.835,1.584,1.126,2.105c1.08,1.938,2.675-0.38,2.675-0.38\r\n					c0.959-1.437,9.254-14.168,10.773-14.104c0.752,0.033-0.332,12.044-0.386,16.484c-0.052,4.187-1.429,12.447-2.472,16.502\r\n					c-1.556,6.055-6.931,20.421-6.931,20.421c-0.663,1.773,0.262,3.719,2.058,4.323l5.904,1.986\r\n					c2.933,0.671,3.631-0.936,3.951-1.712c4.158-10.121,10.602-26.66,34.098-26.66c22.506,0,28.13,17.647,31.267,27.347\r\n					c0.261,0.805,0.884,2.156,2.437,1.697l6.285-1.998c1.807-0.574,3.008-2.568,2.668-4.432l-6.98-38.574\r\n					c-0.338-1.864,0.16-4.73,1.107-6.371l4.035-6.999c0.947-1.641,3.264-2.84,5.15-2.666l9.844,0.914\r\n					c1.887,0.175,3.732-1.201,4.104-3.059l1.54-7.704c0.193-0.929-0.169-1.988-0.461-2.425\r\n					C335.542,222.204,325.796,215.697,322.329,208.411z"/>\r\n				<path d="M274.39,210.068c-1.781,0.004-3.239-1.449-3.239-3.231v-42.466c0-1.783,1.458-3.24,3.239-3.24h2.701\r\n					c1.781,0,3.238,1.458,3.238,3.24v42.441c0,1.782-1.457,3.244-3.238,3.248L274.39,210.068z"/>\r\n				<path d="M278.079,289.943c2.25,0,2.25,1.513,2.25,3.295v17.66c0,1.782-1.457,3.24-3.238,3.24h-2.701\r\n					c-1.781,0-3.239-1.458-3.239-3.24V294.2c0-2.458,1.427-3.544,3.169-3.916C274.319,290.284,275.044,289.943,278.079,289.943z"/>\r\n			</g>\r\n		</g>\r\n	</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	  viewBox="0 0 975.711 975.711" style="enable-background:new 0 0 975.711 975.711;"\r\n	 xml:space="preserve">\r\n<g>\r\n	<path d="M522.22,797.502c-14.3-3.301-32.7-1.4-46.101,4.6c-12.899,5.7-23.8,15.7-30.5,28.1c-4.399,8.101-6.899,17.2-7.3,26.4\r\n		c-0.6,13.7,4.601,28.8,12.5,40.2c3.9,5.6,8.3,10.2,12.601,13.899c6.899,6.2,15.1,10.301,23.8,13.301c0.2,0.1,0.2,0.1,0.2,0.1\r\n		s-0.101,0-0.2,0c-16.101-3.2-30.601-11-41.8-23c-5.101-5.5-9.9-12.1-13.801-20c-10.1-20.9-8.899-43.5-0.3-64.5\r\n		c9.3-22.6,31.101-40.1,54.2-46.8c5-1.5,10.6-2.4,15.9-3c3.8-0.4,7.5-0.9,11.199-1.3c73.301-65,200.5-113.5,194.9-252.301\r\n		c-5.5-136.8-80.2-211.899-125.2-244.899c49.3-9.4,84.5-42,84.5-42l97.7,62c5.5,3.5,12.8,1.5,15.7-4.3l26.6-52.8\r\n		c3.8-7.6-2.1-16.5-10.6-15.9c-30.601,2.1-90.5-6.7-146.2-91.3c-59.6-90.7-143.2-123.4-202.6-124c-6.4-0.1-11.601,5.4-11.101,11.8\r\n		c1.9,25.3-2.6,84.9-84.1,96.8c-2.5,0.4-4.8,1.6-6.5,3.4c-15,16.4-83.6,100.4-36.4,224.7c12.4-0.3,26,0,40.3,1\r\n		c37.9,2.7,75.9,10.7,110.4,27.1c2,0.9,3.9,1.9,5.9,2.9c21.6,11,41.399,25.5,57.899,43.3c4.8,5.3,9.3,10.899,13.7,16.6\r\n		c1,1.4,1.8,2.6,2.5,3.5c1.3,1.9,2,2.9,2,2.9s-0.9-0.9-2.5-2.601c-0.8-0.8-1.8-1.899-3-3c-21.5-21.2-47.9-36.899-76.6-46.1\r\n		c-36.9-11.9-76.7-13.7-115.101-9.9c-24.7,2.5-50.5,6.4-74.1,14.4c-43.6,14.899-78.5,38.2-98.7,53.7c-7.6,5.8-4.6,17.8,4.8,19.5\r\n		c97.3,17.8,165.2,71.3,185,88.5c3.6,3.1,8.8,3.6,12.9,1.1c16.3-9.9,55.399-33.7,55.399-33.6c46.2,81.8-21.3,149.6-48.6,191.3\r\n		c-33.2,50.6-61.5,115.8-40.9,177.5c19,56.7,74.3,97.6,135,90c20.7-2.601,40.7-10,59.101-19.8c31.1-16.601,52.899-43.5,51.5-80.301\r\n		C584.72,836.602,557.619,805.602,522.22,797.502z M527.319,142.302c-0.6-13.8,10.2-25.5,24-26c13.8-0.6,25.5,10.2,26,24\r\n		c0.601,13.8-10.2,25.5-24,26C539.52,166.901,527.819,156.102,527.319,142.302z"/>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<svg width="20" height="9" viewBox="0 0 20 9" xmlns="http://www.w3.org/2000/svg"><path d="M1.59606236,9 C1.15088639,9 0.789999962,8.61339449 0.789999962,8.15354979 L0.789999962,0.849085707 C0.789999962,0.381604165 1.16060336,0.00263549819 1.59606236,0.00263549819 L15.8514368,0 C16.1460339,0 16.5486265,0.181978762 16.7585922,0.415283203 L19.6918898,3.67463064 C20.1021288,4.13046955 20.1032776,4.86825389 19.6918898,5.32536936 L16.7585922,8.5847168 C16.5521812,8.81407138 16.1494332,9 15.8514368,9 L1.59606236,9 Z" transform="translate(-.79 0)"  fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.591,16.4925606 C22.171,16.0245606 21.878,14.8545606 21.001,14.1515606 L11.404,6.48556063 C10.468,5.72456063 10,5.84156063 10,6.95356063 L10.176,20.0025606 C10.176,21.1145606 10.937,21.4065606 11.697,20.7635606 L13.277,19.5345606 C14.038,18.8905606 15.032,19.1245606 15.501,20.0025606 L17.198,23.3375606 C17.842,24.5665606 20.241,23.3375606 19.714,22.2845606 L17.9,18.6565606 C17.49,17.8375606 17.549,17.2525606 18.661,16.9595606 L20.591,16.4925606 L20.591,16.4925606 Z"  transform="translate(-618 -468) translate(618 468)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.074,21 L8,14.129 L9.822,12.294 L14.216,17.184 L22.328,9 L24.007,10.982 L14.074,21 L14.074,21 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.603,8.838 C11.423,8.838 8.837,11.424 8.837,14.603 C8.837,17.782 11.423,20.368 14.603,20.368 C17.781,20.368 20.367,17.782 20.367,14.603 C20.367,11.424 17.781,8.838 14.603,8.838 L14.603,8.838 Z M14.603,22.205 C10.411,22.205 7,18.795 7,14.603 C7,10.411 10.411,7 14.603,7 C18.795,7 22.205,10.41 22.205,14.603 C22.205,18.795 18.795,22.205 14.603,22.205 L14.603,22.205 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M14.978,6.935 C19.42,6.935 23.022,10.537 23.022,14.981 C23.022,19.423 19.42,23.026 14.978,23.026 C10.534,23.026 6.933,19.423 6.933,14.981 C6.933,10.536 10.535,6.935 14.978,6.935 L14.978,6.935 Z M14.979,5 C9.476,5 5,9.479 5,14.98 C5,20.481 9.476,24.959 14.979,24.959 C20.481,24.959 24.958,20.482 24.958,14.98 C24.958,9.478 20.48,5 14.979,5 L14.979,5 L14.979,5 Z" transform=""/><path d="M18.56,17.076 L16.268,14.781 L18.569,12.484 L17.087,11 L14.788,13.299 L12.497,11.007 L11,12.476 L13.306,14.781 L11.006,17.083 L12.484,18.561 L14.787,16.261 L17.082,18.556 L18.56,17.076 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M24.268,7 L5.732,7 C4.775,7 4,7.776 4,8.732 L4,21.952 C4,22.531 4.469,23 5.048,23 L24.953,23 C25.531,23 26,22.531 26,21.952 L26,8.732 C26,7.776 25.224,7 24.268,7 L24.268,7 Z M12,8.99 C12,8.443 12.443,8 12.99,8 L13.01,8 C13.557,8 14,8.443 14,8.99 L14,9.01 C14,9.557 13.557,10 13.01,10 L12.99,10 C12.443,10 12,9.557 12,9.01 L12,8.99 L12,8.99 Z M9,8.99 C9,8.443 9.443,8 9.99,8 L10.01,8 C10.557,8 11,8.443 11,8.99 L11,9.01 C11,9.557 10.557,10 10.01,10 L9.99,10 C9.443,10 9,9.557 9,9.01 L9,8.99 L9,8.99 Z M6,8.99 C6,8.443 6.443,8 6.99,8 L7.01,8 C7.557,8 8,8.443 8,8.99 L8,9.01 C8,9.557 7.557,10 7.01,10 L6.99,10 C6.443,10 6,9.557 6,9.01 L6,8.99 L6,8.99 Z M25,11 L25,22 L5,22 L5,11 L25,11 L25,11 Z" transform=""/><path d="M13,20.7 C12.805,20.7 12.609,20.637 12.444,20.507 L8.364,17.297 C8.147,17.127 8.021,16.866 8.021,16.59 C8.021,16.314 8.147,16.054 8.364,15.883 L12.444,12.672 C12.834,12.364 13.4,12.431 13.708,12.822 C14.016,13.213 13.948,13.779 13.558,14.086 L10.377,16.59 L13.558,19.093 C13.949,19.4 14.016,19.966 13.709,20.357 C13.53,20.582 13.266,20.7 13,20.7 L13,20.7 Z"/><path d="M17,20.9 C16.882,20.9 16.762,20.877 16.646,20.827 C16.189,20.632 15.978,20.102 16.173,19.645 L19.173,12.645 C19.368,12.188 19.897,11.975 20.355,12.172 C20.812,12.368 21.023,12.897 20.828,13.354 L17.828,20.354 C17.681,20.695 17.349,20.9 17,20.9 L17,20.9 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.9780076,18.5153619 C20.7409316,17.9799054 18.0034829,17.0414475 18.0034829,17.0414475 C18.0034829,17.0414475 17.2971794,16.8174012 17.1202552,16.1480806 C16.9879104,15.7901702 16.7664069,15.4773509 16.2370275,16.505991 C15.7508343,17.4881309 15.6630688,17.6670861 15.6630688,17.6670861 C15.6630688,17.6670861 15.3983791,18.3378158 15.3983791,19.0522275 C15.3983791,19.7229572 15.4429584,20.1245496 15.4429584,20.1245496 C15.4429584,20.1245496 15.3551929,20.6163241 15.0013446,20.6163241 C14.60431,20.6163241 14.5151514,20.1245496 14.5151514,20.1245496 C14.5151514,20.1245496 14.5597307,19.7229572 14.5597307,19.0522275 C14.5597307,18.3378158 14.295041,17.6670861 14.295041,17.6670861 C14.295041,17.6670861 14.2072755,17.4881309 13.7210823,16.505991 C13.1917029,15.47876 12.9701995,15.7915793 12.8378546,16.1480806 C12.6609304,16.8188103 11.9546269,17.0414475 11.9546269,17.0414475 C11.9546269,17.0414475 9.21717824,17.9799054 7.98010221,18.5153619 C6.78621239,19.0522275 6.87397792,22.0000564 6.87397792,22.0000564 L14.9553721,22.0000564 L14.9999515,22.0000564 L23.0813457,22.0000564 C23.0813457,22.0000564 23.1705043,19.0522275 21.9780076,18.5153619 L21.9780076,18.5153619 Z M14.9999515,16.1043986 C14.7352618,16.1043986 12.7473029,16.0156256 12.3948476,13.2904338 C12.2625028,13.1565697 12.130158,12.9776145 12.0855786,12.9325234 C11.7317303,12.7535682 11.6885441,12.4407489 11.6885441,11.5924731 C11.6885441,10.6103331 11.7331234,9.00114547 11.7331234,9.00114547 C11.7331234,8.91237242 12.130158,6.5 15.0013446,6.5 C17.9157174,6.5 18.314145,8.91237242 18.314145,8.95746349 C18.314145,9.00255457 18.3587243,10.6103331 18.3587243,11.5924731 C18.3587243,12.4407489 18.314145,12.7535682 17.9616898,12.9325234 C17.8739243,12.9776145 17.7401863,13.1565697 17.6524208,13.2904338 C17.2985725,16.0156256 15.2674274,16.1043986 15.047317,16.1043986 L14.9999515,16.1043986 L14.9999515,16.1043986 Z M7.31559178,18.0249965 C6.96174345,17.3993579 6.8293986,17.5783131 6.74163308,17.8460413 C6.60928823,18.3378158 6.12309506,18.47168 6.12309506,18.47168 C6.12309506,18.47168 4.13513616,19.1424097 3.29648777,19.544002 C2.41465317,19.9005033 2.5024187,22.0000564 2.5024187,22.0000564 L5.99075021,22.0000564 C5.99075021,21.4195089 5.99075021,18.8732723 7.31559178,18.0249965 L7.31559178,18.0249965 Z M26.7034151,19.5425929 C25.8647667,19.1410006 23.8768079,18.4702709 23.8768079,18.4702709 C23.8768079,18.4702709 23.3906147,18.3364067 23.2582698,17.8446322 C23.1705043,17.576904 23.0367664,17.3979488 22.6843111,18.0235874 C24.0091527,18.8718632 24.0091527,21.4180998 24.0091527,21.9986473 L27.4974842,21.9986473 C27.4974842,22.0000564 27.5866428,19.9005033 26.7034151,19.5425929 L26.7034151,19.5425929 Z M10.4068888,12.3519759 C10.4068888,12.3519759 10.1853853,10.8329703 8.2433988,10.8329703 C6.34459854,10.8329703 6.12309506,12.3519759 6.12309506,12.3519759 C6.12309506,12.3519759 6.07851574,13.5581621 6.07851574,14.2725738 C6.07851574,14.9869854 6.12309506,14.9433035 6.21086059,15.0320765 C6.34320543,15.0771676 6.56470891,15.4336689 6.56470891,15.4336689 C6.78621239,17.3993579 8.2433988,17.3091757 8.2433988,17.3091757 C8.2433988,17.3091757 9.70058521,17.3979488 9.9652749,15.4336689 C9.9652749,15.4336689 10.1867784,15.0757585 10.2745439,15.0320765 C10.4068888,14.9433035 10.4514681,14.9869854 10.4514681,14.2725738 C10.4514681,13.5581621 10.4068888,12.3519759 10.4068888,12.3519759 L10.4068888,12.3519759 Z M23.9213872,12.3519759 C23.9213872,12.3519759 23.6998837,10.8329703 21.7578972,10.8329703 C19.8159107,10.8329703 19.5944073,12.3519759 19.5944073,12.3519759 L19.5944073,14.2725738 C19.5944073,14.9869854 19.6389866,14.9433035 19.7267521,15.0320765 C19.859097,15.0771676 20.0806004,15.4336689 20.0806004,15.4336689 C20.3021039,17.3993579 21.7592903,17.3091757 21.7592903,17.3091757 C21.7592903,17.3091757 23.2164767,17.3979488 23.4379802,15.4336689 C23.4379802,15.4336689 23.6594837,15.0757585 23.7918285,15.0320765 C23.9241734,14.9433035 23.9687527,14.9869854 23.9687527,14.2725738 C23.9645734,13.5581621 23.9213872,12.3519759 23.9213872,12.3519759 L23.9213872,12.3519759 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>';
},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.632,22.793 L18.042,22.793 C17.302,22.793 17.006,22.25 17.006,21.51 C17.006,20.819 17.302,20.227 18.042,20.227 L22.632,20.227 C23.323,20.227 23.619,20.819 23.619,21.51 C23.619,22.25 23.323,22.793 22.632,22.793 L22.632,22.793 Z M14.884,22.793 L10.936,22.793 C10.245,22.793 9.949,22.25 9.949,21.51 C9.949,20.819 10.245,20.227 10.936,20.227 L14.884,20.227 C15.624,20.227 15.871,20.819 15.871,21.51 C15.871,22.25 15.624,22.793 14.884,22.793 L14.884,22.793 Z M22.286,19.042 C21.644,19.042 21.003,18.795 21.003,18.055 L21.003,16.032 L18.535,13.614 C17.943,13.17 18.239,12.627 18.683,12.084 C19.177,11.541 19.719,11.245 20.213,11.689 L23.618,14.848 L23.618,18.056 C23.619,18.795 23.027,19.042 22.286,19.042 L22.286,19.042 Z M16.167,11.688 L13.946,9.763 C13.403,9.319 13.601,8.727 14.094,8.233 C14.588,7.69 15.081,7.345 15.624,7.789 L17.845,9.763 C18.388,10.207 18.19,10.75 17.697,11.293 C17.154,11.886 16.414,11.886 16.167,11.688 L16.167,11.688 Z M11.182,9.566 L7.431,9.566 C6.691,9.566 6.395,9.023 6.395,8.283 C6.395,7.543 6.691,7 7.431,7 L11.182,7 C11.922,7 12.169,7.543 12.169,8.283 C12.169,9.023 11.923,9.566 11.182,9.566 L11.182,9.566 Z M7.333,16.081 C6.593,16.081 6,15.736 6,15.094 L6,12.084 C6,11.393 6.592,11.048 7.333,11.048 C8.024,11.048 8.567,11.393 8.567,12.084 L8.567,15.094 C8.567,15.735 8.024,16.081 7.333,16.081 L7.333,16.081 Z M7.333,22.349 C6.593,22.349 6,22.053 6,21.362 L6,18.154 C6,17.463 6.592,17.167 7.333,17.167 C8.024,17.167 8.567,17.463 8.567,18.154 L8.567,21.362 C8.567,22.052 8.024,22.349 7.333,22.349 L7.333,22.349 Z"  transform="translate(-18 -468) translate(18 468)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11.5,22 L9.5,22 L9.5,9 L22.5,9 L22.5,11 L11.5,11 L11.5,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11,22 L9,22 L9,16.765 L16.765,9 L22,9 L22,11 L17.593,11 L11,17.593 L11,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11,22 L9,22 L9,20 C9,13.935 13.935,9 20,9 L22,9 L22,11 L20,11 C15.037,11 11,15.037 11,20 L11,22 L11,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><rect  transform="rotate(45.009)" x="14" y="7" width="2" height="16.971" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.235,22 L9,22 L9,20 L13.407,20 L20,13.407 L20,9 L22,9 L22,14.235 L14.235,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21,21 L8,21 L8,19 L19,19 L19,8 L21,8 L21,21 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10,22 L8,22 L8,20 L10,20 C14.963,20 19,15.963 19,11 L19,9 L21,9 L21,11 C21,17.065 16.065,22 10,22 L10,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M13.5348878,17.0576454 C13.5918878,16.9186454 13.5158878,16.8056454 13.3658878,16.8056454 L12.1408878,16.8056454 C11.9908878,16.8056454 11.9548878,16.7196454 12.0608878,16.6136454 L16.6088878,12.0656454 C16.7148878,11.9596454 16.7518878,11.9846454 16.6908878,12.1216454 L15.2438878,15.4006454 C15.1828878,15.5376454 15.2568878,15.6496454 15.4058878,15.6496454 L16.6308878,15.6496454 C16.7808878,15.6496454 16.8168878,15.7366454 16.7108878,15.8416454 L12.3668878,20.1856454 C12.2608878,20.2916454 12.2208878,20.2646454 12.2778878,20.1256454 L13.5348878,17.0576454 L13.5348878,17.0576454 Z" transform=""/><path d="M15.0078016,24.114 L15.0078016,24.114 L14.8468016,24.112 C10.7998016,24.028 7.44980162,21.017 7.05180162,17.108 C6.77780162,14.41 7.58880162,12.201 9.53180162,10.353 C10.5858016,9.35 11.6358016,8.307 12.6528016,7.297 L14.9668016,5 L17.1558016,7.333 C18.1008016,8.343 19.0658016,9.376 20.0548016,10.331 C21.9328016,12.143 22.8918016,14.589 22.6868016,17.04 C22.4928016,19.383 21.2948016,21.421 19.3148016,22.78 C18.0458016,23.652 16.5558016,24.114 15.0078016,24.114 L15.0078016,24.114 Z M14.9208016,7.596 L13.9438016,8.566 C12.9028016,9.6 11.8428016,10.653 10.7788016,11.665 C9.24780162,13.121 8.63580162,14.792 8.85280162,16.925 C9.15780162,19.925 11.7498016,22.237 14.8828016,22.302 L15.0078016,22.304 C16.1888016,22.304 17.3238016,21.953 18.2908016,21.288 C19.8148016,20.242 20.7358016,18.681 20.8838016,16.89 C21.0438016,14.982 20.2838016,13.067 18.7988016,11.634 C17.7758016,10.647 16.7938016,9.597 15.8448016,8.581 L14.9208016,7.596 L14.9208016,7.596 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15.0078016,24.114 L15.0078016,24.114 L14.8468016,24.112 C10.7998016,24.028 7.44980162,21.017 7.05180162,17.108 C6.77780162,14.41 7.58880162,12.201 9.53180162,10.353 C10.5858016,9.35 11.6358016,8.307 12.6528016,7.297 L14.9668016,5 L17.1558016,7.333 C18.1008016,8.343 19.0658016,9.376 20.0548016,10.331 C21.9328016,12.143 22.8918016,14.589 22.6868016,17.04 C22.4928016,19.383 21.2948016,21.421 19.3148016,22.78 C18.0458016,23.652 16.5558016,24.114 15.0078016,24.114 L15.0078016,24.114 Z M14.9208016,7.596 L13.9438016,8.566 C12.9028016,9.6 11.8428016,10.653 10.7788016,11.665 C9.24780162,13.121 8.63580162,14.792 8.85280162,16.925 C9.15780162,19.925 11.7498016,22.237 14.8828016,22.302 L15.0078016,22.304 C16.1888016,22.304 17.3238016,21.953 18.2908016,21.288 C19.8148016,20.242 20.7358016,18.681 20.8838016,16.89 C21.0438016,14.982 20.2838016,13.067 18.7988016,11.634 C17.7758016,10.647 16.7938016,9.597 15.8448016,8.581 L14.9208016,7.596 L14.9208016,7.596 Z"  transform=""/><path d="M8.80000305,17 L9.81666946,17 L10.8333359,15 L12.8666687,19 L14.9000015,15 L16.9333344,19 L18.9666672,15 L19.9833336,17 L21,17" /></g></svg>'},function(e,t){e.exports='<svg width="19" height="18" viewBox="0 0 19 18" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M11.7860619,5.0026355 C11.3506029,5.0026355 10.9799995,5.38160417 10.9799995,5.84908571 L10.9799995,13.1535498 C10.9799995,13.6133945 11.340886,14 11.7860619,14 L14.0483579,13.9973645 L19,5 L11.7860619,5.0026355 Z" transform="translate(-10.98 0)"/><path d="M5.33998322,5 L6.4514124,5 C6.74600948,5 7.14860207,5.18197876 7.35856782,5.4152832 L10.2918654,8.67463064 C10.7021043,9.13046955 10.7032532,9.86825389 10.2918654,10.3253694 L7.35856782,13.5847168 C7.1521568,13.8140714 6.74940882,14 6.4514124,14 L0.389975548,14 L5.33998322,5 L5.33998322,5 Z" transform="translate(8.01 0)"/><path d="M7.90733277,0.938408255 L5.08893706,2.4878344 L13.6107809,17.9890108 L16.4291766,16.4395846 L7.90733277,0.938408255 L7.90733277,0.938408255 Z" transform="matrix(-1 0 0 1 19 0)"/></g></svg>'},function(e,t){e.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M4.40012334,0.840359057 C4.44871443,1.15184039 4.7406108,1.36495504 5.05209213,1.31636395 C5.45139481,1.31636395 5.74466797,1.47992013 6.0390691,1.77432126 C6.33347023,2.06872239 6.58613633,2.48607265 6.77901983,2.93726212 C6.85008217,3.10307425 6.89971301,3.26888638 6.95498372,3.43131459 C6.1631462,4.34046138 5.8890486,5.67485424 6.53199359,6.63927173 C6.51056209,6.65393539 6.48236275,6.65957526 6.46093125,6.67423892 L3.67596424,4.80631451 C3.55488716,4.71568647 3.40248405,4.6774841 3.25297412,4.70028498 C3.02797604,4.74224408 2.850647,4.916021 2.80414436,5.14012412 C2.75764173,5.36422723 2.85118794,5.59421226 3.04091506,5.72222913 L5.61382302,7.44915683 C5.36115692,7.72663836 5.14684192,8.03119125 4.94380666,8.36619943 L0.854902077,10.4112157 C0.632740555,10.469456 0.468084877,10.6565954 0.438600207,10.8843635 C0.409115536,11.1121317 0.52069176,11.3350294 0.720700354,11.4479198 C0.920708947,11.5608101 1.16919599,11.5411421 1.34895455,11.3981927 L4.23995108,9.95325839 C4.04932353,10.6052272 3.92299048,11.3011869 3.92299048,12.0332419 C3.92299048,12.0806167 3.92186251,12.1268637 3.92299048,12.1742386 L1.77307265,15.0652351 C1.63907639,15.2284299 1.60461321,15.4516572 1.68315364,15.6476647 C1.76169407,15.8436722 1.94076654,15.9813356 2.15037744,16.0068466 C2.35998834,16.0323577 2.56685319,15.9416655 2.69011525,15.7702186 L4.13504953,13.8312319 C4.5907509,15.6743409 5.7390281,17.1350668 7.20200996,17.814107 C7.86187456,17.3211825 8.43601316,16.4447469 8.43601316,15.4171629 L8.43601325,13.8312321 C8.43601325,13.5199113 8.68867935,13.2672452 9.00000009,13.2672452 C9.31132082,13.2672452 9.56398693,13.5199113 9.56398693,13.8312321 L9.56398684,15.4171629 C9.56398684,16.4447469 10.1381254,17.3211825 10.79799,17.814107 C12.2609719,17.1339388 13.4092491,15.6743409 13.8649505,13.8312319 L15.3098847,15.7702186 C15.4331468,15.9416655 15.6400117,16.0323577 15.8496226,16.0068466 C16.0592335,15.9813356 16.2383059,15.8436722 16.3168464,15.6476647 C16.3953868,15.4516572 16.3609236,15.2284299 16.2269273,15.0652351 L14.0770095,12.1742386 C14.0781375,12.1268637 14.0770095,12.0806167 14.0770095,12.0332419 C14.0770095,11.3011869 13.9495485,10.6052272 13.7600489,9.95325839 L16.6510455,11.3981927 C16.830804,11.5411421 17.0792911,11.5608101 17.2792996,11.4479198 C17.4793082,11.3350294 17.5908845,11.1121317 17.5613998,10.8843635 C17.5319151,10.6565954 17.3672594,10.469456 17.1450979,10.4112157 L13.0561933,8.36619943 C12.8531581,8.03231922 12.6388431,7.72776633 12.386177,7.44915683 L14.9590849,5.72222913 C15.1824359,5.57267206 15.2692008,5.28627308 15.1664008,5.03790817 C15.0636007,4.78954326 14.7998079,4.64824269 14.5360948,4.70028498 C14.4586942,4.7202035 14.3864109,4.75634514 14.3240358,4.80631451 L11.5041016,6.67423892 C11.4826701,6.65957526 11.4555987,6.65393539 11.4330392,6.63927173 C12.2045732,5.49889034 11.7218005,3.90167962 10.6220261,3.04329165 C10.6366898,3.00832446 10.6423297,2.97335728 10.6569933,2.93726212 C10.8510048,2.48494468 11.1025429,2.06872239 11.3969441,1.77432126 C11.6913452,1.47992013 11.9846183,1.31636395 12.383921,1.31636395 C12.6954024,1.31636395 12.9479079,1.06385844 12.9479079,0.75237711 C12.9479079,0.44089578 12.6954024,0.188390272 12.383921,0.188390272 C11.65525,0.188390272 11.0326086,0.517758586 10.585931,0.964436162 C10.1403814,1.40998576 9.82793268,1.98074044 9.59895402,2.51539997 C9.41171039,2.47140899 9.23687447,2.44433763 9.03496718,2.44433763 C8.64243234,2.44433763 8.24200169,2.5311916 7.90699351,2.69136386 C7.88217809,2.63045328 7.86300253,2.57631055 7.83593117,2.51539997 C7.60695251,1.98074044 7.2945038,1.40998576 6.8489542,0.964436162 C6.4034046,0.518886559 5.77963515,0.188390272 5.05096416,0.188390272 C5.0156994,0.185060642 4.98019939,0.185060642 4.94493463,0.188390272 C4.92127055,0.186902442 4.89753637,0.186902442 4.87387229,0.188390272 C4.56464691,0.236981359 4.35153226,0.528877727 4.40012334,0.840359057 Z" transform="matrix(-1 0 0 1 18 0)"  fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="18px" viewBox="0 0 16 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-doc-brd</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Filetypes" transform="translate(-328.000000, -26.000000)" fill="#000000">\n            <g id="doc-brd" transform="translate(320.000000, 20.000000)">\n                <g id="icon-doc-brd" transform="translate(8.000000, 6.000000)">\n                    <polygon id="Shape-23-Copy" points="14 5 9 5 9 0 10 0 10 4 14 4"></polygon>\n                    <path d="M10,0 L2,0 C0.896,0 0,0.895 0,2 L0,16 C0,17.105 0.896,18 2,18 L12,18 C13.104,18 14,17.105 14,16 L14,4 L10,0 Z M13,7 L14,7 L14,14 L13,14 L13,7 Z M13,16 C13,16.551 12.552,17 12,17 L2,17 C1.448,17 1,16.551 1,16 L1,2 C1,1.449 1.448,1 2,1 L9.586,1 L13,4.414 L13,16 L13,16 Z" id="Shape-22-Copy"></path>\n                    <path d="M3,7 L16,7 L16,14 L3,14 L3,7 Z M4,8 L5,8 L5,13 L4,13 L4,8 Z M5,8 L6,8 L6,9 L5,9 L5,8 Z M6,9 L7,9 L7,12 L6,12 L6,9 Z M5,12 L6,12 L6,13 L5,13 L5,12 Z M5,10 L6,10 L6,11 L5,11 L5,10 Z M8,8 L9,8 L9,13 L8,13 L8,8 Z M9,8 L11,8 L11,9 L9,9 L9,8 Z M10,9 L11,9 L11,10 L10,10 L10,9 Z M9,10 L11,10 L11,11 L9,11 L9,10 Z M10,12 L11,12 L11,13 L10,13 L10,12 Z M9,11 L10,11 L10,12 L9,12 L9,11 Z M12,8 L13,8 L13,13 L12,13 L12,8 Z M13,8 L14,8 L14,9 L13,9 L13,8 Z M13,12 L14,12 L14,13 L13,13 L13,12 Z M14,9 L15,9 L15,12 L14,12 L14,9 Z" id="Combined-Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-doc-circuits-component</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="Filetypes" transform="translate(-564.000000, -24.000000)">\n            <g id="docs-circuits-component" transform="translate(549.000000, 20.000000)">\n                <g id="icon-doc-circuits-component" transform="translate(15.000000, 4.000000)">\n                    <path d="M10.0082746,16.3976779 L10.0082746,18.896343 C10.0082746,19.4486278 10.4559899,19.896343 11.0082746,19.896343 C11.5605594,19.896343 12.0082746,19.4486278 12.0082746,18.896343 L12.0082746,16.3976779 C12.0082746,15.8453931 11.5605594,15.3976779 11.0082746,15.3976779 C10.4559899,15.3976779 10.0082746,15.8453931 10.0082746,16.3976779 L10.0082746,16.3976779 Z" id="Shape"></path>\n                    <path d="M10.5082746,19.8385803 L10.5082746,21.4795836 C10.5082746,21.755726 10.7321322,21.9795836 11.0082746,21.9795836 C11.284417,21.9795836 11.5082746,21.755726 11.5082746,21.4795836 L11.5082746,19.8385803 C11.5082746,19.5624379 11.284417,19.3385803 11.0082746,19.3385803 C10.7321322,19.3385803 10.5082746,19.5624379 10.5082746,19.8385803 L10.5082746,19.8385803 Z" id="Shape"></path>\n                    <path d="M14.0082746,13.3976779 L14.0082746,15.896343 C14.0082746,16.4486278 14.4559899,16.896343 15.0082746,16.896343 C15.5605594,16.896343 16.0082746,16.4486278 16.0082746,15.896343 L16.0082746,13.3976779 C16.0082746,12.8453931 15.5605594,12.3976779 15.0082746,12.3976779 C14.4559899,12.3976779 14.0082746,12.8453931 14.0082746,13.3976779 L14.0082746,13.3976779 Z" id="Shape"></path>\n                    <path d="M14.5082746,16.8385803 L14.5082746,18.4795836 C14.5082746,18.755726 14.7321322,18.9795836 15.0082746,18.9795836 C15.284417,18.9795836 15.5082746,18.755726 15.5082746,18.4795836 L15.5082746,16.8385803 C15.5082746,16.5624379 15.284417,16.3385803 15.0082746,16.3385803 C14.7321322,16.3385803 14.5082746,16.5624379 14.5082746,16.8385803 L14.5082746,16.8385803 Z" id="Shape"></path>\n                    <path d="M18.0082746,10.3976779 L18.0082746,12.896343 C18.0082746,13.4486278 18.4559899,13.896343 19.0082746,13.896343 C19.5605594,13.896343 20.0082746,13.4486278 20.0082746,12.896343 L20.0082746,10.3976779 C20.0082746,9.84539313 19.5605594,9.39767788 19.0082746,9.39767788 C18.4559899,9.39767788 18.0082746,9.84539313 18.0082746,10.3976779 L18.0082746,10.3976779 Z" id="Shape"></path>\n                    <path d="M18.5082746,13.8385803 L18.5082746,15.4795836 C18.5082746,15.755726 18.7321322,15.9795836 19.0082746,15.9795836 C19.284417,15.9795836 19.5082746,15.755726 19.5082746,15.4795836 L19.5082746,13.8385803 C19.5082746,13.5624379 19.284417,13.3385803 19.0082746,13.3385803 C18.7321322,13.3385803 18.5082746,13.5624379 18.5082746,13.8385803 L18.5082746,13.8385803 Z" id="Shape"></path>\n                    <path d="M1.45009358,8.07384803 C1.32342875,8.15079029 1.23742394,8.27995931 1.21528705,8.42649958 L0.923505135,10.3580177 C0.901211562,10.5055951 0.946011714,10.6554158 1.04566044,10.7665295 L8.12091917,18.6558222 C8.28473679,18.8384876 8.55689295,18.8752942 8.76334592,18.7427045 L19.9588254,11.5526616 C20.0331704,11.5049152 20.0935354,11.4383207 20.1337742,11.3596585 L21.0437934,9.58067625 C21.1144947,9.4424634 21.1169842,9.27925022 21.0505312,9.13894534 L20.3547181,7.66984802 L20.2633233,7.53738716 L13.931376,0.949630811 C13.7691156,0.780815189 13.5114318,0.747215696 13.3113087,0.868780011 L1.45009358,8.07384803 L1.45009358,8.07384803 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="21px" viewBox="0 0 20 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-docs-circuits-pcbdesign</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="Filetypes" transform="translate(-625.000000, -25.000000)">\n            <g id="docs-circuits-pcbdesign" transform="translate(610.000000, 20.000000)">\n                <g id="icon-docs-circuits-pcbdesign" transform="translate(15.000000, 5.000000)">\n                    <path d="M6.39704241,4.65864472 C7.60528512,4.65864472 8.58475937,3.67917048 8.58475937,2.47092777 C8.58475937,1.26268506 7.60528512,0.283210813 6.39704241,0.283210813 C5.1887997,0.283210813 4.20932546,1.26268506 4.20932546,2.47092777 C4.20932546,3.67917048 5.1887997,4.65864472 6.39704241,4.65864472 L6.39704241,4.65864472 Z M6.39704241,3.27185033 C5.95470509,3.27185033 5.59611985,2.91326509 5.59611985,2.47092777 C5.59611985,2.02859045 5.95470509,1.6700052 6.39704241,1.6700052 C6.83937973,1.6700052 7.19796498,2.02859045 7.19796498,2.47092777 C7.19796498,2.91326509 6.83937973,3.27185033 6.39704241,3.27185033 L6.39704241,3.27185033 Z" id="Oval-22-Copy"></path>\n                    <path d="M11.94422,4.65864472 C13.1524627,4.65864472 14.1319369,3.67917048 14.1319369,2.47092777 C14.1319369,1.26268506 13.1524627,0.283210813 11.94422,0.283210813 C10.7359773,0.283210813 9.75650302,1.26268506 9.75650302,2.47092777 C9.75650302,3.67917048 10.7359773,4.65864472 11.94422,4.65864472 L11.94422,4.65864472 Z M11.94422,3.27185033 C11.5018827,3.27185033 11.1432974,2.91326509 11.1432974,2.47092777 C11.1432974,2.02859045 11.5018827,1.6700052 11.94422,1.6700052 C12.3865573,1.6700052 12.7451425,2.02859045 12.7451425,2.47092777 C12.7451425,2.91326509 12.3865573,3.27185033 11.94422,3.27185033 L11.94422,3.27185033 Z" id="Oval-22-Copy-3"></path>\n                    <path d="M17.4913975,4.65864472 C18.6996402,4.65864472 19.6791145,3.67917048 19.6791145,2.47092777 C19.6791145,1.26268506 18.6996402,0.283210813 17.4913975,0.283210813 C16.2831548,0.283210813 15.3036806,1.26268506 15.3036806,2.47092777 C15.3036806,3.67917048 16.2831548,4.65864472 17.4913975,4.65864472 L17.4913975,4.65864472 Z M17.4913975,3.27185033 C17.0490602,3.27185033 16.690475,2.91326509 16.690475,2.47092777 C16.690475,2.02859045 17.0490602,1.6700052 17.4913975,1.6700052 C17.9337348,1.6700052 18.2923201,2.02859045 18.2923201,2.47092777 C18.2923201,2.91326509 17.9337348,3.27185033 17.4913975,3.27185033 L17.4913975,3.27185033 Z" id="Oval-22-Copy-4"></path>\n                    <path d="M2.8947482,20.3733504 C4.10299092,20.3733504 5.08246516,19.3938762 5.08246516,18.1856335 C5.08246516,16.9773908 4.10299092,15.9979165 2.8947482,15.9979165 C1.68650549,15.9979165 0.70703125,16.9773908 0.70703125,18.1856335 C0.70703125,19.3938762 1.68650549,20.3733504 2.8947482,20.3733504 L2.8947482,20.3733504 Z M2.8947482,18.986556 C2.45241089,18.986556 2.09382564,18.6279708 2.09382564,18.1856335 C2.09382564,17.7432962 2.45241089,17.3847109 2.8947482,17.3847109 C3.33708552,17.3847109 3.69567077,17.7432962 3.69567077,18.1856335 C3.69567077,18.6279708 3.33708552,18.986556 2.8947482,18.986556 L2.8947482,18.986556 Z" id="Oval-22-Copy-7"></path>\n                    <path d="M8.44190158,20.3733504 C9.65014429,20.3733504 10.6296185,19.3938762 10.6296185,18.1856335 C10.6296185,16.9773908 9.65014429,15.9979165 8.44190158,15.9979165 C7.23365887,15.9979165 6.25418463,16.9773908 6.25418463,18.1856335 C6.25418463,19.3938762 7.23365887,20.3733504 8.44190158,20.3733504 L8.44190158,20.3733504 Z M8.44190158,18.986556 C7.99956426,18.986556 7.64097902,18.6279708 7.64097902,18.1856335 C7.64097902,17.7432962 7.99956426,17.3847109 8.44190158,17.3847109 C8.8842389,17.3847109 9.24282415,17.7432962 9.24282415,18.1856335 C9.24282415,18.6279708 8.8842389,18.986556 8.44190158,18.986556 L8.44190158,18.986556 Z" id="Oval-22-Copy-5"></path>\n                    <path d="M13.9890953,20.3756478 C15.197338,20.3756478 16.1768122,19.3961736 16.1768122,18.1879309 C16.1768122,16.9796881 15.197338,16.0002139 13.9890953,16.0002139 C12.7808526,16.0002139 11.8013783,16.9796881 11.8013783,18.1879309 C11.8013783,19.3961736 12.7808526,20.3756478 13.9890953,20.3756478 L13.9890953,20.3756478 Z M13.9890953,18.9888534 C13.5467579,18.9888534 13.1881727,18.6302682 13.1881727,18.1879309 C13.1881727,17.7455935 13.5467579,17.3870083 13.9890953,17.3870083 C14.4314326,17.3870083 14.7900178,17.7455935 14.7900178,18.1879309 C14.7900178,18.6302682 14.4314326,18.9888534 13.9890953,18.9888534 L13.9890953,18.9888534 Z" id="Oval-22-Copy-6"></path>\n                    <polygon id="Path-142" points="3.9781931 11.6257323 7.24463028 8.23422255 7.49849368 7.96667594 7.49849368 7.59785645 7.49849368 3.75019679 5.64943449 3.75019679 5.6494345 7.2738038 2.38299727 10.671535 2.12913387 10.9390816 2.12913387 11.3079011 2.12913387 16.3170413 3.97819306 16.3170413"></polygon>\n                    <polygon id="Path-142-Copy" points="15.0725482 13.5137332 18.3389854 10.0832817 18.5928488 9.81573512 18.5928488 9.44691564 18.5928488 3.75019679 16.7437896 3.75019679 16.7437896 9.11834702 13.4773524 12.5205941 13.223489 12.7881408 13.223489 13.1569602 13.223489 16.3170413 15.0725482 16.3170413"></polygon>\n                    <polygon id="Path-142-Copy-2" points="9.52537066 12.5516971 12.7918078 9.15875215 13.0456712 8.89120553 13.0456712 8.52238604 13.0456712 3.75019679 11.1966121 3.75019679 11.1966121 8.19299302 7.93017483 11.5960646 7.67631143 11.8636112 7.67631143 12.2324307 7.67631143 16.3170413 9.52537062 16.3170413"></polygon>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""/><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"/><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,14 L15,14 L15,15 L12,15 L12,14 Z M12,15 L13,15 L13,19 L12,19 L12,15 Z M13,18 L15,18 L15,19 L13,19 L13,18 Z M16,14 L19,14 L19,15 L16,15 L16,14 Z M16,15 L17,15 L17,17 L16,17 L16,15 Z M17,16 L19,16 L19,17 L17,17 L17,16 Z M18,17 L19,17 L19,19 L18,19 L18,17 Z M16,18 L18,18 L18,19 L16,19 L16,18 Z M20,14 L21,14 L21,18 L20,18 L20,14 Z M21,18 L22,18 L22,19 L21,19 L21,18 Z M22,14 L23,14 L23,18 L22,18 L22,14 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""/><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"/><path d="M11,13 L23,13 L23,20 L11,20 L11,13 Z M19,18 L21,18 L21,19 L19,19 L19,18 Z M21,15 L22,15 L22,19 L21,19 L21,15 Z M20,14 L22,14 L22,15 L20,15 L20,14 Z M19,14 L20,14 L20,18 L19,18 L19,14 Z M16,16 L17,16 L17,17 L16,17 L16,16 Z M15,15 L16,15 L16,16 L15,16 L15,15 Z M17,14 L18,14 L18,19 L17,19 L17,14 Z M14,14 L15,14 L15,19 L14,19 L14,14 Z M12,14 L13,14 L13,19 L12,19 L12,14 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""/><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"/><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,17 L13,17 L13,19 L12,19 L12,17 Z M13,18 L14,18 L14,19 L13,19 L13,18 Z M14,14 L15,14 L15,19 L14,19 L14,14 Z M16,14 L17,14 L17,19 L16,19 L16,14 Z M17,14 L19,14 L19,15 L17,15 L17,14 Z M18,15 L19,15 L19,17 L18,17 L18,15 Z M17,16 L18,16 L18,17 L17,17 L17,16 Z M20,14 L23,14 L23,15 L20,15 L20,14 Z M20,15 L21,15 L21,19 L20,19 L20,15 Z M21,18 L23,18 L23,19 L21,19 L21,18 Z M22,16 L23,16 L23,18 L22,18 L22,16 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""/><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"/><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M13,14 L15,14 L15,15 L13,15 L13,14 Z M13,16 L14,16 L14,17 L13,17 L13,16 Z M14,15 L15,15 L15,17 L14,17 L14,15 Z M16,14 L17,14 L17,19 L16,19 L16,14 Z M17,18 L18,18 L18,19 L17,19 L17,18 Z M17,14 L18,14 L18,15 L17,15 L17,14 Z M18,15 L19,15 L19,18 L18,18 L18,15 Z M20,14 L21,14 L21,19 L20,19 L20,14 Z M21,14 L23,14 L23,15 L21,15 L21,14 Z M21,16 L23,16 L23,17 L21,17 L21,16 Z M12,14 L13,14 L13,19 L12,19 L12,14 Z"/></g></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="18px" viewBox="0 0 16 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-doc-sch</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Filetypes" transform="translate(-388.000000, -26.000000)" fill="#000000">\n            <g id="doc-sch" transform="translate(380.000000, 20.000000)">\n                <g id="icon-doc-sch" transform="translate(8.000000, 6.000000)">\n                    <polygon id="Shape-23-Copy" points="14 5 9 5 9 0 10 0 10 4 14 4"></polygon>\n                    <path d="M10,0 L2,0 C0.896,0 0,0.895 0,2 L0,16 C0,17.105 0.896,18 2,18 L12,18 C13.104,18 14,17.105 14,16 L14,4 L10,0 Z M13,7 L14,7 L14,14 L13,14 L13,7 Z M13,16 C13,16.551 12.552,17 12,17 L2,17 C1.448,17 1,16.551 1,16 L1,2 C1,1.449 1.448,1 2,1 L9.586,1 L13,4.414 L13,16 L13,16 Z" id="Shape-22-Copy"></path>\n                    <path d="M3,7 L16,7 L16,14 L3,14 L3,7 Z M4,8 L5,8 L5,11 L4,11 L4,8 Z M5,8 L7,8 L7,9 L5,9 L5,8 Z M4,12 L7,12 L7,13 L4,13 L4,12 Z M5,10 L7,10 L7,11 L5,11 L5,10 Z M8,8 L9,8 L9,13 L8,13 L8,8 Z M9,8 L11,8 L11,9 L9,9 L9,8 Z M9,12 L11,12 L11,13 L9,13 L9,12 Z M12,8 L13,8 L13,13 L12,13 L12,8 Z M13,10 L14,10 L14,11 L13,11 L13,10 Z M14,8 L15,8 L15,13 L14,13 L14,8 Z M6,11 L7,11 L7,12 L6,12 L6,11 Z" id="Combined-Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""/><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"/><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,14 L15,14 L15,15 L12,15 L12,14 Z M12,15 L13,15 L13,17 L12,17 L12,15 Z M13,16 L15,16 L15,17 L13,17 L13,16 Z M14,17 L15,17 L15,19 L14,19 L14,17 Z M12,18 L14,18 L14,19 L12,19 L12,18 Z M16,14 L17,14 L17,18 L16,18 L16,14 Z M18,14 L19,14 L19,18 L18,18 L18,14 Z M17,18 L18,18 L18,19 L17,19 L17,18 Z M20,14 L23,14 L23,15 L20,15 L20,14 Z M20,15 L21,15 L21,19 L20,19 L20,15 Z M21,18 L23,18 L23,19 L21,19 L21,18 Z M22,16 L23,16 L23,18 L22,18 L22,16 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24,14 L19,14 L19,11 L16,11 L16,6 L14,6 L14,11 L11,11 L11,14 L6,14 L6,16 L11,16 L11,19 L14,19 L14,24 L16,24 L16,19 L19,19 L19,16 L24,16 L24,14 L24,14 Z M17,17 L13,17 L13,13 L17,13 L17,17 L17,17 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M15.025,11.185 C12.88,11.185 11.185,12.881 11.185,15.025 C11.185,17.169 12.881,18.865 15.025,18.865 C17.169,18.865 18.865,17.169 18.865,15.025 C18.865,12.881 17.17,11.185 15.025,11.185 L15.025,11.185 Z M15.025,22.057 C11.135,22.057 7.943,18.865 7.943,15.025 C7.943,11.135 11.135,7.993 15.025,7.993 C18.915,7.993 22.008,11.135 22.008,15.025 C22.007,18.865 18.915,22.057 15.025,22.057 L15.025,22.057 Z" transform=""/><path d="M24.352,15.673 L5.698,15.673 C5.349,15.673 5,15.424 5,15.025 C5,14.626 5.349,14.327 5.698,14.327 L24.351,14.327 C24.7,14.327 24.999,14.626 24.999,15.025 C24.999,15.424 24.701,15.673 24.352,15.673 L24.352,15.673 Z"/><path d="M15.025,25 C14.626,25 14.327,24.701 14.327,24.302 L14.327,5.698 C14.327,5.349 14.626,5 15.025,5 C15.424,5 15.673,5.349 15.673,5.698 L15.673,24.301 C15.673,24.701 15.424,25 15.025,25 L15.025,25 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,13.3346667 L10.7586667,12 L15.166,16.672 L19.5726667,12 L20.832,13.3346667 L15.166,19.342 L9.5,13.3346667 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><rect x="7" y="11" width="12" height="2"/><rect x="7" y="13" width="2" height="10"/><rect x="9" y="21" width="10" height="2"/><rect x="17" y="13" width="2" height="8"/><rect x="12" y="7" width="12" height="2"/><rect x="22" y="9" width="2" height="10"/><rect x="19" y="17" width="3" height="2"/><rect x="12" y="9" width="2" height="2"/></g></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="23px" height="22px" viewBox="0 0 23 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch -->\n    <title>Group</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Hub---Eagle" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="SCREEN_Eagle_Overview" transform="translate(-263.000000, -251.000000)" fill="#D90035">\n            <g id="Latest-sketches--Big-title" transform="translate(249.500000, 131.000000)">\n                <g id="Row">\n                    <g transform="translate(0.000000, 57.000000)">\n                        <g id="Group" transform="translate(13.000000, 63.000000)">\n                            <path d="M11.798899,20.0588235 L11.798899,20.0588235 C16.8010655,20.0588235 20.8561226,16.0030501 20.8561226,11 C20.8561226,5.99694991 16.8010655,1.94117647 11.798899,1.94117647 C6.79673259,1.94117647 2.74167549,5.99694991 2.74167549,11 C2.74167549,16.0030501 6.79673259,20.0588235 11.798899,20.0588235 L11.798899,20.0588235 Z M11.798899,22 L11.798899,22 C5.72483979,22 0.800841867,17.0751322 0.800841867,11 C0.800841867,4.92486775 5.72483979,0 11.798899,0 C17.8729583,0 22.7969562,4.92486775 22.7969562,11 C22.7969562,17.0751322 17.8729583,22 11.798899,22 L11.798899,22 Z" id="Oval-223"></path>\n                            <path d="M20.3034067,5.38744729 C19.1070036,3.91725678 15.4454097,1.14459919 15.4454097,1.14459919 C15.4454097,1.14459919 14.5682492,-0.427250702 14.5682492,2.01674126 C14.5682492,4.46073323 16.1913851,5.47791352 17.1159946,6.80413801 C17.4695935,7.31132673 16.2518995,8.55874086 16.2518995,8.55874086 C16.2518995,8.55874086 12.3310883,7.38872895 10.2746773,8.80518485 C8.21826631,10.2216408 8.62014698,11.392201 8.62014698,11.392201 C8.62014698,11.392201 6.82042427,12.3538371 6.63726659,13.770293 C6.48372124,14.962463 7.75206735,16.3731027 7.75206735,16.3731027 C7.75206735,16.3731027 7.43236398,14.8195527 8.48305291,14.499301 C9.53429022,14.1795976 10.4023699,12.6715629 13.098736,16.0533993 C13.098736,16.0533993 13.1903148,17.5614341 13.6471122,18.3839985 C14.1039097,19.2065629 14.0918969,20.5505189 14.0918969,20.5505189 L16.2518994,20.1624642 C16.2518994,20.1624642 18.9558853,20.0500845 20.769586,16.5879155 C22.5832867,13.1257464 22.1216799,9.86235826 22.1216799,9.86235826 C22.1216799,9.86235826 21.8951355,7.34343061 20.3034067,5.38744729 Z" id="Fill-1"></path>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.0284728,6.91182663 C16.4878178,6.31909264 15.0112171,4.92004395 15.0112171,4.92004395 C15.0112171,4.92004395 13.65958,6.29439539 13.0832214,6.87972021 C11.8131922,8.16397718 10.4998085,9.49515893 9.18387466,10.7744765 C7.04675723,12.8465757 6.15416642,15.3286493 6.45764729,18.3590018 C6.8911914,22.720536 10.5712158,26.0818317 15.0112175,26.1732115 C16.765796,26.2102574 18.4515175,25.6990243 19.8873136,24.6938463 C22.0550342,23.1749654 23.3658675,20.9003488 23.5775391,18.2923192 C23.8045121,15.5385759 22.7385037,12.7873023 20.657492,10.7399003 C19.4078648,9.50997728 18.1990418,8.18867443 17.0284728,6.91182663 Z M13.5397178,9.48034058 C13.9783624,9.03579009 15.0234374,8.00476074 15.0234374,8.00476074 C15.0234374,8.00476074 16.1333317,9.05307816 16.5464737,9.50503783 C17.4390645,10.4781095 18.3597082,11.4832875 19.310955,12.421783 C20.2673023,13.3602785 20.9354703,14.4988217 21.2823055,15.7139264 C20.2009955,17.889754 18.3622585,19.2752697 16.008369,19.6531377 C15.6181793,19.7198202 15.2254393,19.7519267 14.8352496,19.7519267 C12.2084824,19.7519267 9.85204264,18.267622 8.61006628,15.8571704 C8.88804456,14.5778529 9.53581046,13.4491886 10.5712158,12.4464802 C11.5734678,11.4734086 12.5731695,10.4608214 13.5397178,9.48034058 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M19,11.9902943 C19,11.4433698 18.549245,11 18.0097057,11 L13.0029293,11 C12.4378814,11 12,11.4477153 12,12 C12,12.5561352 12.4490268,13 13.0029293,13 L17,13 L17,16.9970707 C17,17.5621186 17.4477153,18 18,18 C18.5561352,18 19,17.5509732 19,16.9970707 L19,11.9902943 Z" transform="translate(-618 -248) translate(618 248)"/><path d="M10.7671577,19.2205712 C10.3766334,18.8300469 10.3780953,18.19542 10.7709077,17.8026076 L15.7626525,12.8108629 C16.1552478,12.4182675 16.7873691,12.4138659 17.180616,12.8071129 L17.180616,12.8071129 C17.5711403,13.1976372 17.5696784,13.8322641 17.176866,14.2250764 L12.1851213,19.2168212 C11.7925259,19.6094165 11.1604047,19.6138181 10.7671577,19.2205712 L10.7671577,19.2205712 L10.7671577,19.2205712 Z" transform="translate(-618 -248) translate(618 248)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.4899202,11.5711549 L15.9366133,11.5711549 L15.9366133,9.90363056 C15.9366133,9.27726944 16.3531457,9.13090784 16.646756,9.13090784 L18.4485008,9.13090784 L18.4485008,6.37764656 L15.9670099,6.368 C13.2119504,6.368 12.5849806,8.42171936 12.5849806,9.73598 L12.5849806,11.5711549 L10.991669,11.5711549 L10.991669,14.4085741 L12.5849806,14.4085741 L12.5849806,22.4375058 L15.9366133,22.4375058 L15.9366133,14.4085741 L18.197646,14.4085741 L18.4899202,11.5711549"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.7642072,14.0548425 L7.23120717,14.0548425 C6.37420717,14.1088425 6.16020717,12.9298425 6.85620717,12.6088425 L22.4962072,5.75284247 C22.9242072,5.53884247 23.5672072,5.75284247 23.5672072,6.44884247 L23.5672072,13.3048425 C23.5682072,13.7338425 23.1932072,14.0548425 22.7642072,14.0548425 L22.7642072,14.0548425 Z M11.3552072,17.5898425 L21.8002072,22.1958425 L21.8002072,17.5898425 L11.3552072,17.5898425 L11.3552072,17.5898425 Z M22.4962072,24.2318425 L6.85620717,17.3758425 C6.10620717,17.0008425 6.42820717,15.9298425 7.23120717,15.9298425 L22.7642072,15.9298425 C23.1922072,15.9298425 23.5672072,16.2508425 23.5672072,16.6798425 L23.5672072,23.5358425 C23.5682072,24.1778425 23.0852072,24.4998425 22.4962072,24.2318425 L22.4962072,24.2318425 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.5601515,22.851608 L15.5601515,6.80560801 C15.5571515,5.94360801 16.7511515,5.74760801 17.0961515,6.46060801 L24.1471515,22.537608 C24.3521515,23.007608 24.1651515,23.634608 23.4261515,23.634608 L16.3431515,23.634608 C15.9361515,23.634608 15.5601515,23.289608 15.5601515,22.851608 L15.5601515,22.851608 Z M11.9251515,11.099608 L7.1921515,21.816608 L11.9241515,21.816608 L11.9241515,11.099608 L11.9251515,11.099608 Z M5.0931515,22.537608 L12.1761515,6.46060801 C12.5621515,5.65860801 13.6801515,5.98760801 13.6801515,6.80560801 L13.6801515,22.850608 C13.6801515,23.289608 13.3351515,23.633608 12.8961515,23.633608 L5.8141515,23.633608 C5.1471515,23.634608 4.8281515,23.151608 5.0931515,22.537608 L5.0931515,22.537608 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.921,14.37 C18.186,14.37 17.503,13.792 17.503,13.005 C17.503,12.218 18.186,11.535 18.921,11.535 C19.761,11.535 20.444,12.218 20.444,13.005 C20.444,13.792 19.761,14.37 18.921,14.37 L18.921,14.37 Z M12.095,24.452 C11.36,24.452 10.73,23.769 10.73,22.982 C10.73,22.142 11.36,21.564 12.095,21.564 C12.988,21.564 13.618,22.142 13.618,22.982 C13.618,23.769 12.987,24.452 12.095,24.452 L12.095,24.452 Z M12.095,5.653 C12.988,5.653 13.618,6.231 13.618,7.018 C13.618,7.701 13.093,8.331 12.41,8.383 L11.937,8.383 C11.254,8.33 10.729,7.7 10.729,7.018 C10.729,6.231 11.36,5.653 12.095,5.653 L12.095,5.653 Z M22.492,13.005 C22.492,11.062 20.917,9.434 18.921,9.434 C17.031,9.434 15.455,11.062 15.455,13.005 C15.455,14.265 16.138,15.368 17.135,15.998 C16.242,16.681 14.719,17.468 13.197,18.046 L13.197,10.432 C14.615,9.959 15.718,8.594 15.718,7.019 C15.718,5.076 14.09,3.501 12.095,3.501 C10.257,3.501 8.577,5.076 8.577,7.019 C8.577,8.594 9.627,9.96 11.098,10.432 L11.098,19.674 C9.628,20.094 8.577,21.407 8.577,22.982 C8.577,24.925 10.257,26.5 12.095,26.5 C14.09,26.5 15.718,24.925 15.718,22.982 C15.718,21.722 14.983,20.566 13.933,19.936 C15.771,19.306 18.344,18.151 19.447,16.47 C21.179,16.208 22.492,14.737 22.492,13.005 L22.492,13.005 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.416,21.91 L22.416,8.646 C22.416,8.29 22.114,8 21.744,8 L19.392,8 C19.022,8 18.719,8.29 18.719,8.646 L18.719,21.91 L16.851,21.91 L16.851,12.113 C16.851,11.759 16.548,11.468 16.179,11.468 L13.828,11.468 C13.459,11.468 13.156,11.759 13.156,12.113 L13.156,21.91 L11.288,21.91 L11.288,16.147 C11.288,15.792 10.985,15.502 10.617,15.502 L8.266,15.502 C7.896,15.502 7.593,15.793 7.593,16.147 L7.593,21.91 L6,21.91 L6,23.004 L8.266,23.004 L10.618,23.004 L13.829,23.004 L16.18,23.004 L19.392,23.004 L21.744,23.004 L24.009,23.004 L24.009,21.91 L22.416,21.91 L22.416,21.91 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24 14h-5v-3h-3V6h-2v5h-3v3H6v2h5v3h3v5h2v-5h3v-3h5v-2zm-7 3h-4v-4h4v4z" /></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M5,8 L25,8 L25,11 L5,11 L5,8 Z M5,14 L25,14 L25,17 L5,17 L5,14 Z M5,20 L25,20 L25,23 L5,23 L5,20 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9.85176181,7.55988947 C10.1549412,7.30618731 10.4844382,7.06827574 10.8413055,6.84720747 C11.1971202,6.6261392 11.5803052,6.43138858 11.9898078,6.26400831 C12.3993105,6.09662805 12.8393416,5.96503979 13.3109539,5.87029625 C13.7825662,5.77660541 14.292076,5.72923364 14.8405358,5.72923364 C15.6111167,5.72923364 16.30485,5.83134612 16.9227884,6.0366238 C17.5417796,6.24190149 18.0681326,6.53455377 18.5029002,6.91563336 C18.9366151,7.29671296 19.2713756,7.7556928 19.5040237,8.29152018 C19.7377244,8.82840027 19.8545748,9.4242319 19.8545748,10.0790151 C19.8545748,10.709586 19.7682529,11.2506769 19.5956091,11.7012351 C19.424018,12.1517933 19.2050551,12.5455054 18.9387205,12.8813186 C18.6723859,13.2171318 18.3807863,13.5055733 18.0660272,13.7476957 C17.7512681,13.9898181 17.4522996,14.2172026 17.1691216,14.4298492 C16.8869964,14.6435485 16.6396105,14.8519843 16.4311747,15.0562093 C16.2216862,15.261487 16.093256,15.4899242 16.0437789,15.7446791 L15.7005967,17.4637481 L13.0951492,17.4637481 L12.8246037,15.4857134 C12.8161821,15.4362362 12.8109185,15.3878117 12.805655,15.3383345 C12.8014442,15.2888574 12.7993388,15.2404329 12.7993388,15.1909557 C12.7993388,14.8309302 12.8856607,14.5151184 13.0583045,14.2445729 C13.2309483,13.9750802 13.4478057,13.7266416 13.7099295,13.5013625 C13.9720533,13.2760834 14.2541786,13.0592259 14.5573579,12.8497374 C14.8605372,12.6413016 15.1426625,12.4160225 15.4047863,12.1739001 C15.6679628,11.9317777 15.8848202,11.662285 16.0564113,11.3633165 C16.2290551,11.0643479 16.315377,10.7106387 16.315377,10.3011361 C16.315377,9.80952232 16.154313,9.41896837 15.8300795,9.12736879 C15.5058461,8.83682192 15.0616041,8.69154849 14.4973537,8.69154849 C14.0636388,8.69154849 13.6994025,8.73576214 13.4099083,8.82629486 C13.1183087,8.91682758 12.8688174,9.01683466 12.6603816,9.12736879 C12.4508931,9.23790293 12.2687749,9.33896271 12.1140271,9.42844273 C11.9582266,9.51897545 11.8024261,9.5631891 11.6466256,9.5631891 C11.2939691,9.5631891 11.0318453,9.41159943 10.8602542,9.10842009 L9.85176181,7.55988947 L9.85176181,7.55988947 Z M12.1129744,21.8987987 C12.1129744,21.6029883 12.1677151,21.3292847 12.279302,21.0755826 C12.3898361,20.8218804 12.5414258,20.6008121 12.7330183,20.4123777 C12.9256635,20.2239434 13.153048,20.0744591 13.4162245,19.963925 C13.6783483,19.8523381 13.9646844,19.7975974 14.2762854,19.7975974 C14.5794647,19.7975974 14.8615899,19.8523381 15.1237138,19.963925 C15.3868903,20.0744591 15.6153275,20.2239434 15.8121835,20.4123777 C16.0090396,20.6008121 16.1627346,20.8218804 16.2722161,21.0755826 C16.3838029,21.3292847 16.4395963,21.604041 16.4395963,21.8987987 C16.4395963,22.1935564 16.3838029,22.4704181 16.2722161,22.7283311 C16.1616819,22.9872968 16.0079868,23.2094177 15.8121835,23.3978521 C15.6153275,23.5862865 15.3868903,23.7336654 15.1237138,23.8410414 C14.8615899,23.9473647 14.5794647,24 14.2762854,24 C13.9657371,24 13.6783483,23.946312 13.4162245,23.8410414 C13.153048,23.7336654 12.9267162,23.5873392 12.7330183,23.3978521 C12.5414258,23.2094177 12.3898361,22.9862441 12.279302,22.7283311 C12.1677151,22.4704181 12.1129744,22.1935564 12.1129744,21.8987987 L12.1129744,21.8987987 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.993,6 C9.483,6 5,9.958 5,14.822 C5,16.917 5.833,18.915 7.357,20.506 C7.362,20.773 7.272,21.044 6.951,21.555 C6.658,22.016 6.624,22.599 6.858,23.093 C7.094,23.587 7.564,23.923 8.103,23.98 C8.15,23.985 8.319,24.001 8.572,24.001 C9.306,24.001 10.546,23.87 11.641,23.128 C12.719,23.47 13.844,23.644 14.995,23.644 C20.504,23.644 24.985,19.686 24.985,14.822 C24.983,9.958 20.501,6 14.993,6 L14.993,6 Z M14.993,22.062 C13.672,22.062 12.428,21.795 11.317,21.33 C10.47,22.302 9.158,22.42 8.57,22.42 C8.379,22.42 8.265,22.408 8.265,22.408 C9.01,21.228 8.99,20.568 8.82,19.741 C7.422,18.45 6.563,16.724 6.563,14.822 C6.563,10.823 10.336,7.582 14.993,7.582 C19.647,7.582 23.421,10.824 23.421,14.822 C23.421,18.821 19.646,22.062 14.993,22.062 L14.993,22.062 Z M12.503,13.98 C13.206,13.98 13.78,13.402 13.78,12.69 C13.78,11.976 13.206,11.397 12.503,11.397 C11.798,11.397 11.227,11.977 11.227,12.69 C11.227,13.402 11.798,13.98 12.503,13.98 L12.503,13.98 Z M17.482,13.98 C18.185,13.98 18.758,13.402 18.758,12.69 C18.758,11.976 18.185,11.397 17.482,11.397 C16.776,11.397 16.205,11.977 16.205,12.69 C16.205,13.402 16.776,13.98 17.482,13.98 L17.482,13.98 Z M15.056,19.02 C17.101,19.02 18.759,18.043 18.759,15.975 L11.352,15.975 C11.352,18.043 13.011,19.02 15.056,19.02 L15.056,19.02 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23.4880051,16.489124 C23.4725149,16.489124 23.229097,16.2811619 22.9458471,16.0287159 L15.5149624,9.37948976 C15.2306061,9.12704381 14.7692185,9.12704381 14.4848622,9.37948976 L7.05397752,16.0287159 C6.7707276,16.2811619 6.5273097,16.489124 6.51181947,16.489124 L6.48526479,16.5135901 L6.47862612,16.5436167 L6.47862612,16.5569619 L6.48526479,17.214211 L6.48526479,24.3494234 C6.48415834,24.7064065 6.81277251,25 7.21219915,25 L12.7643402,25 L12.7543822,24.919929 L12.7543822,19.709756 C12.7543822,19.3516609 13.0818899,19.0591794 13.482423,19.0591794 L16.5151887,19.0591794 C16.9168283,19.0591794 17.244336,19.352773 17.244336,19.709756 L17.244336,24.919929 L17.234378,25 L22.786519,25 C23.1870521,25 23.5145598,24.7064065 23.5145598,24.3505355 L23.5145598,17.214211 L23.5211985,16.5569619 L23.5211985,16.5436167 L23.5145598,16.5135901 L23.4880051,16.489124 L23.4880051,16.489124 Z M26.6646087,13.9991394 L20.9055625,8.84679544 L20.9033496,8.84457125 L15.8446831,4.31944978 C15.3666988,3.89351674 14.5213748,3.89351674 14.0433906,4.31944978 L3.40602835,13.8367733 C2.9081281,14.281612 2.84948651,14.8954894 3.33410942,15.3525611 C3.47462794,15.4837885 3.65719136,15.5627474 3.85303213,15.6005587 C4.13849494,15.6739571 4.44719309,15.6461547 4.71495278,15.5160393 L4.77691371,15.4871248 L4.80457483,15.4737797 C4.93070956,15.4148385 5.05241851,15.3414402 5.1553179,15.2502482 L14.4627333,6.92398025 C14.7459832,6.6715343 15.2084772,6.6715343 15.4917271,6.92398025 L24.8511454,15.2902837 L24.9274901,15.3458886 L25.0436668,15.4493135 C25.491777,15.8496684 26.2187114,15.8496684 26.6657152,15.4493135 C27.1116125,15.0478466 27.1116125,14.3994943 26.6646087,13.9991394 L26.6646087,13.9991394 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30px" height="30px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 30 30" enable-background="new 0 0 30 30"><defs><path id="a" d="M-314.468-375.722c-0.127,0.077-0.213,0.206-0.235,0.353l-0.292,1.932 c-0.022,0.148,0.022,0.297,0.122,0.409l7.075,7.889c0.164,0.183,0.436,0.219,0.642,0.087l11.195-7.19 c0.074-0.048,0.135-0.114,0.175-0.193l0.91-1.779c0.071-0.138,0.073-0.301,0.007-0.442l-0.696-1.469l-0.091-0.132l-6.332-6.588 c-0.162-0.169-0.42-0.202-0.62-0.081L-314.468-375.722z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><rect id="c" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#c" overflow="visible"/></clipPath></g><defs><path id="d" d="M-305.91-367.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-305.462-368.398-305.91-367.951-305.91-367.398z"/></defs><clipPath id="e"><use xlink:href="#d" overflow="visible"/></clipPath><g clip-path="url(#e)"><defs><rect id="f" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#f" overflow="visible"/></clipPath></g><defs><path id="g" d="M-305.41-363.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-305.186-364.458-305.41-364.234-305.41-363.958z"/></defs><clipPath id="h"><use xlink:href="#g" overflow="visible"/></clipPath><g clip-path="url(#h)"><defs><rect id="i" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#i" overflow="visible"/></clipPath></g><defs><path id="j" d="M-301.91-370.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-301.462-371.398-301.91-370.951-301.91-370.398z"/></defs><clipPath id="k"><use xlink:href="#j" overflow="visible"/></clipPath><g clip-path="url(#k)"><defs><rect id="l" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#l" overflow="visible"/></clipPath></g><defs><path id="m" d="M-301.41-366.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-301.186-367.458-301.41-367.234-301.41-366.958z"/></defs><clipPath id="n"><use xlink:href="#m" overflow="visible"/></clipPath><g clip-path="url(#n)"><defs><rect id="o" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#o" overflow="visible"/></clipPath></g><defs><path id="p" d="M-297.91-373.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-297.462-374.398-297.91-373.951-297.91-373.398z"/></defs><clipPath id="q"><use xlink:href="#p" overflow="visible"/></clipPath><g clip-path="url(#q)"><defs><rect id="r" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#r" overflow="visible"/></clipPath></g><defs><path id="s" d="M-297.41-369.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-297.186-370.458-297.41-370.234-297.41-369.958z"/></defs><clipPath id="t"><use xlink:href="#s" overflow="visible"/></clipPath><g clip-path="url(#t)"><defs><rect id="u" x="-637.91" y="-405.796" width="1277" height="883"/></defs><clipPath><use xlink:href="#u" overflow="visible"/></clipPath></g><g><g><g><g><path d="M4.299,11.913c-0.141,0.085-0.236,0.229-0.261,0.391l-0.324,2.144c-0.025,0.164,0.025,0.33,0.136,0.454 l7.855,8.758c0.182,0.203,0.484,0.244,0.713,0.096l12.429-7.982c0.083-0.053,0.15-0.127,0.194-0.214l1.01-1.975 c0.078-0.153,0.081-0.335,0.007-0.49l-0.772-1.631l-0.101-0.147l-7.029-7.313c-0.18-0.187-0.466-0.225-0.688-0.09L4.299,11.913 L4.299,11.913z" transform=""/><path d="M13.799,21.153v2.774c0,0.613,0.497,1.11,1.11,1.11c0.613,0,1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11C14.297,20.043,13.799,20.54,13.799,21.153L13.799,21.153z"/><path d="M14.355,24.973v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S14.355,24.667,14.355,24.973L14.355,24.973z"/><path d="M18.24,17.823v2.774c0,0.613,0.497,1.11,1.11,1.11s1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11S18.24,17.21,18.24,17.823L18.24,17.823z"/><path d="M18.795,21.643v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S18.795,21.336,18.795,21.643L18.795,21.643z"/><path d="M22.681,14.493v2.774c0,0.613,0.497,1.11,1.11,1.11s1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11S22.681,13.879,22.681,14.493L22.681,14.493z"/><path d="M23.236,18.312v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S23.236,18.006,23.236,18.312L23.236,18.312z"/></g></g></g></g></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g stroke="none" stroke-width="1"  fill-rule="evenodd">\n        <g transform="translate(-858.000000, -18.000000)">\n            <g transform="translate(850.000000, 10.000000)">\n                <g transform="translate(8.000000, 8.000000)">\n                    \n                    <path d="M17.3505553,15.477 L16.0275553,15.475 L16.0275553,12.475 C16.0275553,12.212 15.8145553,12 15.5525553,12 L14.5025553,12 C14.2405553,12 14.0275553,12.212 14.0275553,12.475 L14.0275553,15.475 L12.7065553,15.477 C12.5045553,15.477 12.4395553,15.647 12.5615553,15.854 L14.7825553,18.475 C14.9055553,18.683 15.1075553,18.684 15.2315553,18.477 L17.4925553,15.852 C17.6165553,15.646 17.5525553,15.477 17.3505553,15.477 L17.3505553,15.477 Z"  transform="translate(15.027909, 15.315814) rotate(-180.000000) translate(-15.027909, -15.315814) "></path>\n                    <path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" ></path>\n                    <path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 L18,6 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z" ></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10.045,8.968 C10.153,8.59 10.585,8.32 10.962,8.32 L19.219,8.32 C19.597,8.32 20.029,8.59 20.19,8.968 L23.374,14.311 C23.482,14.689 23.32,15.013 22.942,15.013 L20.028,15.013 C19.65,15.013 19.38,15.283 19.38,15.715 L19.38,18.629 C19.38,19.061 19.056,19.385 18.678,19.385 L11.554,19.385 C11.176,19.385 10.852,19.061 10.852,18.629 L10.852,15.715 C10.852,15.283 10.528,15.013 10.15,15.013 L7.29,15.013 C6.912,15.013 6.696,14.689 6.858,14.311 L10.045,8.968 L10.045,8.968 Z M4.001,22.298 C4.001,22.676 4.325,23 4.703,23 L25.535,23 C25.912,23 26.182,22.676 26.182,22.298 L26.182,15.336 C26.182,14.904 26.074,14.311 25.966,13.933 L21.864,6.701 C21.703,6.324 21.271,6 20.893,6 L9.344,6 C8.912,6 8.48,6.324 8.372,6.702 L4.27,13.934 C4.108,14.312 4,14.905 4,15.337 L4,22.298 L4.001,22.298 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M19.479,12.217625 C18.584,13.112625 17.141,13.112625 16.246,12.217625 C15.351,11.322625 15.351,9.87962503 16.246,8.98462503 C17.141,8.08962503 18.584,8.08962503 19.479,8.98462503 C20.325,9.87962503 20.325,11.322625 19.479,12.217625 L19.479,12.217625 Z M14.605,7.34262503 C13.113,8.83462503 12.864,11.122625 13.859,12.913625 L6,20.772625 L7.691,22.463625 L8.487,21.667625 L9.333,22.513625 L8.537,23.308625 L10.228,24.999625 L13.511,21.766625 L11.82,20.075625 L11.024,20.821625 L10.178,19.975625 L15.55,14.603625 C17.291,15.598625 19.629,15.349625 21.121,13.857625 C22.912,12.066625 22.912,9.13262503 21.121,7.34162503 C19.33,5.55262503 16.395,5.55262503 14.605,7.34262503 L14.605,7.34262503 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M14.875,12.802 C14.002,12.802 13.293,13.562 13.293,14.502 C13.293,15.44 14.002,16.202 14.875,16.202 C15.749,16.202 16.457,15.44 16.457,14.502 C16.457,13.562 15.748,12.802 14.875,12.802 L14.875,12.802 Z M23.002,13.451 L23.002,13.443 C20.779,11.166 14.132,5.781 6.77,13.503 L6.77,13.51 C6.532,13.748 6.382,14.083 6.382,14.46 C6.382,14.84 6.536,15.178 6.778,15.415 C9.077,17.843 15.751,23.37 23.002,15.256 L23.002,15.252 C23.225,15.026 23.367,14.707 23.367,14.351 C23.367,13.995 23.225,13.676 23.002,13.451 L23.002,13.451 Z M14.86,18.338 C12.886,18.338 11.287,16.62 11.287,14.501 C11.287,12.381 12.886,10.664 14.86,10.664 C16.833,10.664 18.433,12.382 18.433,14.501 C18.433,16.621 16.833,18.338 14.86,18.338 L14.86,18.338 Z" transform=""/><path d="M10.726,21.271 C10.521,21.271 10.315,21.209 10.137,21.079 C9.691,20.753 9.594,20.127 9.92,19.682 L18.411,8.065 C18.737,7.621 19.362,7.522 19.808,7.848 C20.254,8.174 20.351,8.799 20.025,9.245 L11.534,20.861 C11.338,21.13 11.035,21.271 10.726,21.271 L10.726,21.271 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.992,12.8150099 C14.119,12.8150099 13.41,13.5750099 13.41,14.5150099 C13.41,15.4530099 14.119,16.2150099 14.992,16.2150099 C15.866,16.2150099 16.574,15.4530099 16.574,14.5150099 C16.574,13.5750099 15.866,12.8150099 14.992,12.8150099 L14.992,12.8150099 Z M23.12,13.4640099 L23.12,13.4560099 C20.897,11.1790099 14.25,5.79400988 6.888,13.5160099 L6.888,13.5230099 C6.65,13.7610099 6.5,14.0960099 6.5,14.4730099 C6.5,14.8530099 6.654,15.1910099 6.896,15.4280099 C9.195,17.8560099 15.869,23.3830099 23.12,15.2690099 L23.12,15.2650099 C23.343,15.0390099 23.485,14.7200099 23.485,14.3640099 C23.484,14.0080099 23.343,13.6890099 23.12,13.4640099 L23.12,13.4640099 Z M14.977,18.3510099 C13.003,18.3510099 11.404,16.6330099 11.404,14.5140099 C11.404,12.3940099 13.003,10.6770099 14.977,10.6770099 C16.95,10.6770099 18.55,12.3950099 18.55,14.5140099 C18.55,16.6340099 16.95,18.3510099 14.977,18.3510099 L14.977,18.3510099 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M15.0997875,16.80025 C14.9337875,16.80025 14.7687875,16.75425 14.6227875,16.66325 L6.62278746,11.66325 C6.35978746,11.49925 6.19978746,11.21125 6.19978746,10.90025 C6.19978746,10.58925 6.35978746,10.30125 6.62278746,10.13725 L14.6227875,5.13725 C14.9147875,4.95425 15.2847875,4.95425 15.5767875,5.13725 L23.5767875,10.13725 C23.8397875,10.30125 23.9997875,10.58925 23.9997875,10.90025 C23.9997875,11.21125 23.8397875,11.49925 23.5767875,11.66325 L15.5767875,16.66325 C15.4307875,16.75425 15.2657875,16.80025 15.0997875,16.80025 L15.0997875,16.80025 Z M8.79778746,10.90025 L15.0997875,14.83825 L21.4017875,10.90025 L15.0997875,6.96225 L8.79778746,10.90025 L8.79778746,10.90025 Z" transform=""/><path d="M15.0998937,20.9624224 L6.62289373,15.6644224 C6.20189373,15.4014224 6.07289373,14.8454224 6.33689373,14.4244224 C6.59989373,14.0044224 7.15489373,13.8754224 7.57689373,14.1384224 L15.0998937,18.8384224 L22.6228937,14.1364224 C23.0458937,13.8734224 23.5998937,14.0024224 23.8628937,14.4224224 C24.1268937,14.8434224 23.9978937,15.3994224 23.5768937,15.6624224 L15.0998937,20.9624224 L15.0998937,20.9624224 Z"/><path d="M15.0998937,24.961492 L6.62289373,19.663492 C6.20189373,19.399492 6.07289373,18.844492 6.33689373,18.423492 C6.59989373,18.002492 7.15489373,17.875492 7.57689373,18.136492 L15.0998937,22.837492 L22.6228937,18.135492 C23.0458937,17.874492 23.5998937,18.001492 23.8628937,18.422492 C24.1268937,18.843492 23.9978937,19.399492 23.5768937,19.662492 L15.0998937,24.961492 L15.0998937,24.961492 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M10.719,9 L10.109,10 L19.859,10 L19.281,9 L10.719,9 Z" transform=""/><path d="M9.719,11 L9.109,12 L21,12 L20.406,11 L9.719,11 Z"/><path d="M7.595,13 L10.653,8 L19.347,8 L22.459,13 L24,13 L20,7 L10,7 L6,13 L7.595,13 Z"/><path d="M6,13 L6,22 C6,22.552 6.448,23 7,23 L23,23 C23.552,23 24,22.552 24,22 L24,13 L6,13 L6,13 Z M19,17 L11,17 L11,16 L19,16 L19,17 L19,17 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17,24.091 C17,24.453 16.529,24.814 16.058,24.814 L14.927,24.814 C14.456,24.814 13.985,24.452 13.985,24.091 L13.985,5.723 C13.985,5.289 14.456,5 14.927,5 L16.058,5 C16.529,5 17,5.289 17,5.723 L17,24.091 L17,24.091 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23.8928283,12.9655 C23.6038283,11.6855 23.1728283,10.4695 22.4898283,9.3505 C21.9998283,8.5485 21.4068283,7.8375 20.7328283,7.1955 C20.1898283,6.6785 19.5848283,6.2525 18.9418283,5.8755 C18.3698283,5.5395 17.7738283,5.2665 17.1498283,5.0565 C16.5408283,4.8505 15.9168283,4.7155 15.2818283,4.6195 C14.7508283,4.5385 14.2168283,4.5105 13.6838283,4.5105 C13.5688283,4.5105 13.4538283,4.5125 13.3388283,4.5145 C12.6818283,4.5285 12.0278283,4.6065 11.3808283,4.7495 C10.7258283,4.8955 10.0908283,5.0965 9.48282834,5.3795 C8.25682834,5.9505 7.27682834,6.8305 6.50382834,7.9565 C6.13382834,8.4965 5.87582834,9.0975 5.64182834,9.7095 C5.33382834,10.5135 5.14482834,11.3485 5.06082834,12.2055 C5.01182834,12.7045 4.99382834,13.2085 5.00182834,13.7095 C5.01382834,14.5135 5.07882834,15.3145 5.24882834,16.1025 C5.39282834,16.7705 5.56482834,17.4325 5.78882834,18.0765 C5.94082834,18.5145 6.09982834,18.9515 6.29382834,19.3715 C6.47982834,19.7745 6.70782834,20.1575 6.92882834,20.5425 C7.56082834,21.6455 8.31982834,22.6405 9.28982834,23.4535 C9.54382834,23.6675 9.81182834,23.8625 10.0768283,24.0605 C10.5748283,24.4335 11.1238283,24.7215 11.6968283,24.9405 C12.1768283,25.1245 12.6798283,25.2575 13.1838283,25.3595 C13.5878283,25.4415 13.9968283,25.4895 14.4108283,25.4895 C14.5318283,25.4895 14.6538283,25.4855 14.7748283,25.4765 C15.3708283,25.4335 15.9608283,25.3735 16.5348283,25.2005 C16.9428283,25.0775 17.3618283,24.9755 17.7528283,24.8085 C18.4248283,24.5235 19.0738283,24.1915 19.6828283,23.7715 C20.4758283,23.2235 21.2168283,22.6165 21.8328283,21.8665 C22.4238283,21.1485 22.9388283,20.3775 23.2868283,19.4945 C23.5948283,18.7155 23.8978283,17.9395 23.9948283,17.0965 C24.0488283,16.6355 24.1138283,16.1755 24.1568283,15.8475 C24.1398283,14.7885 24.0968283,13.8705 23.8928283,12.9655 L23.8928283,12.9655 Z M22.5118283,16.1095 C22.4698283,16.6405 22.3788283,17.1595 22.2418283,17.6695 C22.0668283,18.3215 21.8148283,18.9395 21.4878283,19.5325 C21.1298283,20.1825 20.6938283,20.7615 20.1788283,21.2855 C19.5088283,21.9675 18.7358283,22.4975 17.8978283,22.9325 C17.2378283,23.2745 16.5478283,23.5365 15.8228283,23.6895 C15.3618283,23.7875 14.9008283,23.8415 14.4418283,23.8415 C13.9078283,23.8415 13.3748283,23.7675 12.8448283,23.6005 C11.5358283,23.1875 10.4398283,22.4415 9.53282834,21.3975 C8.90982834,20.6805 8.37682834,19.8995 7.94182834,19.0445 C7.50682834,18.1895 7.21882834,17.2865 6.96182834,16.3635 C6.70882834,15.4585 6.62482834,14.5375 6.59282834,13.6065 L6.60882834,13.3335 L6.59882834,13.3335 C6.62382834,12.9505 6.62882834,12.5655 6.67582834,12.1865 C6.82082834,10.9895 7.19782834,9.8745 7.84882834,8.8705 C8.42882834,7.9765 9.20982834,7.3205 10.1668283,6.8775 C11.2918283,6.3565 12.4738283,6.1615 13.6978283,6.1615 L13.7208283,6.1615 C14.2928283,6.1625 14.8598283,6.1995 15.4218283,6.3005 C15.9128283,6.3895 16.4028283,6.4875 16.8628283,6.6915 C17.3098283,6.8895 17.7578283,7.0865 18.1908283,7.3135 C18.7558283,7.6095 19.2518283,8.0165 19.7038283,8.4685 C20.0658283,8.8285 20.4048283,9.2185 20.7148283,9.6265 C21.2988283,10.3935 21.7288283,11.2515 22.0438283,12.1715 C22.4818283,13.4485 22.6188283,14.7605 22.5118283,16.1095 L22.5118283,16.1095 Z M16.4828283,13.4865 C17.2858283,12.8395 18.0888283,12.1925 18.8918283,11.5455 C19.2648283,11.2455 19.3458283,10.7115 19.0718283,10.3525 C18.9128283,10.1435 18.6958283,10.0375 18.4668283,10.0375 C18.2818283,10.0385 18.0888283,10.1075 17.9118283,10.2485 C17.3798283,10.6745 16.8458283,11.0995 16.3128283,11.5255 C15.9138283,11.8455 15.5158283,12.1675 15.1168283,12.4875 C15.0368283,12.5515 14.9838283,12.5835 14.9358283,12.5835 C14.8818283,12.5835 14.8338283,12.5425 14.7628283,12.4575 L14.5798283,12.2245 C14.0188283,11.4475 13.4638283,10.6665 12.8968283,9.8955 C12.6938283,9.6185 12.4728283,9.3555 12.2418283,9.1035 C12.0888283,8.9365 11.8988283,8.8485 11.6858283,8.8485 C11.6288283,8.8485 11.5708283,8.8545 11.5118283,8.8675 C11.0478283,8.9635 10.6268283,9.6075 11.0938283,10.2125 C11.4968283,10.7335 11.9118283,11.2455 12.3018283,11.7765 C12.7188283,12.3445 13.1158283,12.9285 13.5158283,13.5095 C13.6428283,13.6945 13.6318283,13.7215 13.4738283,13.8765 L13.3548283,13.9865 C12.9188283,14.3885 12.4808283,14.7885 12.0468283,15.1935 C11.5328283,15.6735 11.0648283,16.1975 10.6378283,16.7595 L10.4378283,17.1125 C10.2388283,17.6415 10.5968283,18.1755 11.1478283,18.1905 C11.1568283,18.1905 11.1648283,18.1915 11.1738283,18.1915 C11.4738283,18.1915 11.6918283,18.0465 11.8738283,17.8075 C12.6078283,16.8485 13.4808283,16.0335 14.3948283,15.2605 C14.4728283,15.1945 14.5258283,15.1605 14.5728283,15.1605 C14.6258283,15.1605 14.6728283,15.2035 14.7438283,15.2945 C15.0638283,15.7085 15.3788283,16.1275 15.6918283,16.5465 C16.2118283,17.2415 16.7248283,17.9405 17.2498283,18.6315 C17.4078283,18.8395 17.5828283,19.0385 17.7738283,19.2145 C17.9338283,19.3625 18.1168283,19.4395 18.3048283,19.4395 C18.4248283,19.4395 18.5468283,19.4085 18.6678283,19.3445 C18.9548283,19.1915 19.1028283,18.9275 19.0788283,18.5755 C19.0668283,18.4045 19.0218283,18.2565 18.9128283,18.1245 C18.6368283,17.7905 18.3538283,17.4625 18.0938283,17.1155 C17.5028283,16.3275 16.9218283,15.5325 16.3408283,14.7365 C16.1768283,14.5125 16.0268283,14.2775 15.8608283,14.0335 L16.0628283,13.8225 L16.4828283,13.4865 L16.4828283,13.4865 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>';
},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="14px" height="17px" viewBox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.7.1 (28215) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-lock</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Other" transform="translate(-217.000000, -34.000000)" fill="#000000">\n            <g id="lock" transform="translate(208.000000, 28.566406)">\n                <g id="icon-lock" transform="translate(9.000000, 6.000000)">\n                    <path d="M11.5477424,7.12840444 L11.3473897,7.12840444 L11.3473897,5.00855151 C11.3473897,2.42163753 9.18174537,0.317138672 6.51853306,0.317138672 C3.85634036,0.317138672 1.68967644,2.42163753 1.68967644,5.00855151 L1.68967644,7.12840444 L1.49034336,7.12840444 C0.676697333,7.12840444 0.0190511085,7.76832266 0.0190511085,8.557324 L0.0190511085,14.9069769 C0.0190511085,15.6959783 0.676697333,16.3358965 1.49034336,16.3358965 L11.5472326,16.3358965 C12.3608786,16.3358965 13.0185248,15.6959783 13.0185248,14.9069769 L13.0185248,8.557324 C13.0190346,7.76832266 12.3613884,7.12840444 11.5477424,7.12840444 L11.5477424,7.12840444 Z M9.31684324,7.12840444 L3.72124249,7.12840444 L3.72124249,5.00855151 C3.72124249,3.50979568 4.97637816,2.29038495 6.51853306,2.29038495 C8.06170758,2.29038495 9.31633344,3.50979568 9.31633344,5.00855151 L9.31633344,7.12840444 L9.31684324,7.12840444 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9,8.5 L9,21 L15,24 L15,20.9598728 L20,20.9598728 L20,19.9598728 L19,19.9598728 L19,20 L20,20 L20,16 L19,16 L19,19.9598728 L19,19.9598728 L15,19.9598728 L15,11 L11,9 L20,9 L20,8 L9,8 L9,8.5 Z M21.0191119,13 L17,13 L17,15 L21.0191119,15 L21.0191119,16.5089948 C21.0191119,16.7721195 21.1784628,16.8406491 21.3750321,16.6440798 L24.0191119,14 L21.3750321,11.3559202 C21.180405,11.161293 21.0191119,11.2198305 21.0191119,11.4910052 L21.0191119,13 L21.0191119,13 Z M19,9 L20,9 L20,12 L19,12 L19,9 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M12.844,24.234 L19.984,23.556 C20.02,23.552 20.068,23.512 20.076,23.49 L20.075,5.848 L12.877,5.42 L12.937,4.422 L20.296,4.86 C20.718,4.869 21.075,5.229 21.075,5.661 L21.075,23.501 C21.075,24.029 20.63,24.5 20.083,24.551 L12.962,25.317 L12.844,24.234 Z" transform="translate(-498 -18) translate(498 18)"/><path d="M12.578,25.317 C12.392,25.285 9.72,24.827 9.72,24.827 C9.309,24.765 9,24.406 9,23.993 L9,5.881 C9,5.423 9.354,5.006 9.806,4.931 L12.962,4.41 L12.962,25.317 C12.962,25.317 12.764,25.349 12.578,25.317 Z M9.953,23.812 L11.962,24.155 L11.962,5.589 L9.969,5.917 L9.953,23.812 L9.953,23.812 Z" transform="translate(-498 -18) translate(498 18)"/><path d="M16.656,8.5 C15.846,8.5 15.187,9.173 15.187,10 C15.187,10.827 15.827,11.5 16.614,11.5 L16.644,11.5 C17.434,11.482 18.111,10.792 18.124,9.992 C18.131,9.598 17.981,9.225 17.703,8.942 C17.424,8.657 17.052,8.5 16.656,8.5 L16.656,8.5 Z" transform="translate(-498 -18) translate(498 18)"/><path d="M12.629,4.984 L9.566,5.468 L9.532,15.278 L12.852,15.426 L12.852,15.408 L20.429,15.176 L20.468,5.469 L12.629,4.984 L12.629,4.984 Z M16.667,12.5 L16.614,12.5 C15.276,12.5 14.187,11.378 14.187,10 C14.187,8.622 15.294,7.5 16.656,7.5 C17.322,7.5 17.947,7.763 18.417,8.241 C18.885,8.717 19.136,9.345 19.125,10.009 C19.103,11.352 18,12.47 16.667,12.5 L16.667,12.5 L16.667,12.5 Z" transform="translate(-498 -18) translate(498 18)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M8,21.0015538 L8,9.00155383 C8,8.19455383 8.906,7.72055383 9.569,8.17955383 L18.569,13.8155538 C19.126,14.2015538 19.146,15.0175538 18.61,15.4305538 L9.61,21.7945538 C8.952,22.2995538 8,21.8315538 8,21.0015538 L8,21.0015538 Z" transform=""/><path d="M21.515,21.97 L21.485,21.97 C20.665,21.97 20,21.305 20,20.485 L20,10.485 C20,9.665 20.665,9 21.485,9 L21.515,9 C22.335,9 23,9.665 23,10.485 L23,20.485 C23,21.305 22.335,21.97 21.515,21.97 L21.515,21.97 Z"/></g></svg>'},function(e,t){e.exports='<svg width="12" height="13" viewBox="0 0 12 13" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><rect width="4" height="13" rx="2"/><rect x="8" width="4" height="13" rx="2"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.062,20.931 C20.062,21.519 19.581,22 18.993,22 L16.962,22 C16.374,22 15.893,21.519 15.893,20.931 L15.893,9.069 C15.893,8.481 16.374,8 16.962,8 L18.993,8 C19.581,8 20.062,8.481 20.062,9.069 L20.062,20.931 L20.062,20.931 Z M13.169,20.931 C13.169,21.519 12.688,22 12.1,22 L10.069,22 C9.481,22 9,21.519 9,20.931 L9,9.069 C9,8.481 9.481,8 10.069,8 L12.1,8 C12.688,8 13.169,8.481 13.169,9.069 L13.169,20.931 L13.169,20.931 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11.194017,17.8227333 C11.615017,17.3097333 12.372017,17.2347333 12.886017,17.6567333 C13.399017,18.0777333 13.473017,18.8357333 13.052017,19.3487333 C12.630017,19.8617333 11.872017,19.9357333 11.360017,19.5147333 C10.846017,19.0927333 10.772017,18.3347333 11.194017,17.8227333 L11.194017,17.8227333 Z M8.62201704,17.1837333 C9.71901704,19.9557333 7.15801704,22.5867333 7.13201704,22.6137333 C7.04201704,22.7047333 6.99901704,22.8307333 7.00001704,22.9597333 C7.00601704,23.0887333 7.06601704,23.2097333 7.16601704,23.2907333 L8.46801704,24.3607333 C8.56801704,24.4417333 8.69801704,24.4647333 8.82501704,24.4597333 C8.95201704,24.4407333 9.06601704,24.3687333 9.13801704,24.2617333 C9.15801704,24.2327333 11.249017,21.2087333 14.175017,21.7457333 C14.364017,21.7807333 14.556017,21.6927333 14.652017,21.5277333 L18.251017,15.3927333 C18.366017,15.1977333 18.322017,14.9517333 18.147017,14.8077333 L14.655017,11.9397333 C14.480017,11.7957333 14.230017,11.8007333 14.060017,11.9507333 L8.74101704,16.6727333 C8.60101704,16.8007333 8.55101704,17.0057333 8.62201704,17.1837333 L8.62201704,17.1837333 Z M15.031017,9.88273326 C14.815017,10.1467333 14.853017,10.5387333 15.117017,10.7557333 L19.222017,14.1277333 C19.486017,14.3447333 19.879017,14.3057333 20.095017,14.0417333 L23.098017,10.3857333 C23.314017,10.1217333 23.276017,9.72973326 23.012017,9.51273326 L18.907017,6.14073326 C18.643017,5.92373326 18.250017,5.96173326 18.034017,6.22673326 L15.031017,9.88273326 L15.031017,9.88273326 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M18.1957853,14.4324959 C18.7979427,14.8327188 18.798049,15.4815378 18.1957853,15.8818314 L13.5903024,18.9428582 C12.988145,19.3430812 12.5,19.0187777 12.5,18.2181905 L12.5,12.0961368 C12.5,11.2956909 12.9880387,10.9711754 13.5903024,11.371469 L18.1957853,14.4324959 L18.1957853,14.4324959 Z" transform=""/><path d="M26.5,15 C26.5,8.64872538 21.3512746,3.5 15,3.5 C8.64872538,3.5 3.5,8.64872538 3.5,15 C3.5,21.3512746 8.64872538,26.5 15,26.5 C21.3512746,26.5 26.5,21.3512746 26.5,15 Z M5.5,15 C5.5,9.75329488 9.75329488,5.5 15,5.5 C20.2467051,5.5 24.5,9.75329488 24.5,15 C24.5,20.2467051 20.2467051,24.5 15,24.5 C9.75329488,24.5 5.5,20.2467051 5.5,15 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10,21.0619852 L10,9.00198521 C10,8.19498521 10.906,7.71998521 11.569,8.17998521 L20.569,13.8129852 C21.126,14.1989852 21.147,15.0149852 20.61,15.4279852 L11.61,21.8549852 C10.952,22.3609852 10,21.8919852 10,21.0619852"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M14.781,22.438 L14.22,22.438 C13.546,22.438 13,21.892 13,21.219 L13,8.219 C13,7.546 13.546,7 14.219,7 L14.78,7 C15.454,7 16,7.546 16,8.219 L16,21.219 C16,21.892 15.454,22.438 14.781,22.438 L14.781,22.438 Z" transform=""/><path d="M7,14.674 L7,14.327 C7,13.594 7.593,13 8.326,13 L21.326,13 C22.059,13 22.279,13.594 22.279,14.326 L22.279,14.673 C22.279,15.406 22.059,16 21.326,16 L8.326,16 C7.593,16 7,15.406 7,14.674 L7,14.674 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10.82425,21.743 C10.97425,22.03 11.34325,22.264 11.64225,22.264 L18.30625,22.264 C18.60625,22.264 18.97425,22.029 19.12425,21.743 L22.35025,15.597 C22.50025,15.31 22.50025,14.841 22.35025,14.555 L19.12425,8.409 C18.97425,8.122 18.60525,7.888 18.30625,7.888 L11.64225,7.888 C11.34225,7.888 10.97425,8.123 10.82425,8.409 L7.59825,14.555 C7.44825,14.842 7.44825,15.311 7.59825,15.597 L10.82425,21.743 L10.82425,21.743 Z M20.10825,23.63 C19.95825,23.917 19.58925,24.151 19.29025,24.151 L10.65925,24.151 C10.35925,24.151 9.99125,23.916 9.84125,23.63 L5.62525,15.597 C5.45825,15.31 5.45825,14.841 5.62525,14.555 L9.84125,6.521 C9.99125,6.234 10.36025,6 10.65925,6 L19.29025,6 C19.59025,6 19.95825,6.235 20.10825,6.521 L24.32425,14.554 C24.47425,14.841 24.47425,15.31 24.32425,15.596 L20.10825,23.63 L20.10825,23.63 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M23,9.99844617 L23,21.9984462 C23,22.8054462 22.094,23.2794462 21.431,22.8204462 L12.431,17.1844462 C11.874,16.7984462 11.854,15.9824462 12.39,15.5694462 L21.39,9.20544617 C22.048,8.70044617 23,9.16844617 23,9.99844617 L23,9.99844617 L23,9.99844617 Z" transform="translate(-258 -318) translate(258 318)"/><path d="M9.485,9.03 L9.515,9.03 C10.335,9.03 11,9.695 11,10.515 L11,20.515 C11,21.335 10.335,22 9.515,22 L9.485,22 C8.665,22 8,21.335 8,20.515 L8,10.515 C8,9.695 8.665,9.03 9.485,9.03 L9.485,9.03 L9.485,9.03 Z" transform="translate(-258 -318) translate(258 318)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><rect x="9" y="17" width="12" height="7"/><rect x="9" y="7" width="12" height="3"/><path d="M23,11 L7,11 C5.896,11 5,11.895 5,13 L5,18.5 C5,19.328 5.672,20 6.5,20 L8,20 L8,16.5 C8,16.224 8.224,16 8.5,16 L21.5,16 C21.776,16 22,16.224 22,16.5 L22,20 L23.5,20 C24.328,20 25,19.328 25,18.5 L25,13 C25,11.895 24.104,11 23,11 L23,11 Z M22,14 C21.448,14 21,13.552 21,13 C21,12.448 21.448,12 22,12 C22.552,12 23,12.448 23,13 C23,13.552 22.552,14 22,14 L22,14 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><rect x="10" y="17" width="11" height="6"/><rect x="10" y="8" width="11" height="2"/><path d="M23,11 L8,11 C6.896,11 6,11.895 6,13 L6,18.5 C6,19.328 6.672,20 7.5,20 L9,20 L9,16.5 C9,16.224 9.224,16 9.5,16 L21.5,16 C21.776,16 22,16.224 22,16.5 L22,20 L23.5,20 C24.328,20 25,19.328 25,18.5 L25,13 C25,11.895 24.104,11 23,11 L23,11 Z M22,14 C21.448,14 21,13.552 21,13 C21,12.448 21.448,12 22,12 C22.552,12 23,12.448 23,13 C23,13.552 22.552,14 22,14 L22,14 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.9994002,3 C8.38251612,3 3,8.3837157 3,15.0005998 C3,21.6174839 8.38251612,27 14.9994002,27 C21.6162843,27 27,21.6174839 27,15.0005998 C27,8.3837157 21.6162843,3 14.9994002,3 Z M22.7366922,21.5575049 C21.1736392,20.751387 18.8344579,19.545809 18.8344579,19.545809 C18.8344579,19.545809 17.2917979,18.7408907 17.2917979,17.2306193 L17.6528715,16.5324636 L18.1842855,14.8206628 C18.1842855,14.8206628 18.9304244,14.337232 18.9304244,13.1796371 C18.9304244,12.4310991 18.6425251,12.1408007 18.6425251,12.1408007 C18.6425251,12.1408007 18.9304244,11.0563803 18.9304244,10.2850502 C18.9304244,9.51252062 17.9671615,7.00419853 14.9754086,7.00419853 C11.7653321,7.00419853 11.0191933,9.51252062 11.0191933,10.2850502 C11.0191933,11.0563803 11.3082921,12.1408007 11.3082921,12.1408007 C11.3082921,12.1408007 11.0191933,12.4550907 11.0191933,13.1796371 C11.0191933,14.337232 11.7653321,14.8422552 11.7653321,14.8422552 L12.3663218,16.6524217 L12.6590193,17.2306193 C12.6590193,18.8524516 11.1151597,19.545809 11.1151597,19.545809 C11.1151597,19.545809 8.80596791,20.7453891 7.25850952,21.551507 C5.75783476,19.7821263 4.84855301,17.4969261 4.84855301,15.0005998 C4.84855301,9.40215924 9.40215924,4.84855301 14.9994002,4.84855301 C20.5966412,4.84855301 25.151447,9.40215924 25.151447,15.0005998 C25.151447,17.4993252 24.2397661,19.7869246 22.7366922,21.5575049 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M8.723,20.722 C8.723,21 9.001,21.278 9.279,21.278 L20.723,21.278 C21.001,21.278 21.279,21 21.279,20.722 L21.279,9.278 C21.279,9 21.001,8.722 20.723,8.722 L9.279,8.722 C9.001,8.722 8.723,9 8.723,9.278 L8.723,20.722 L8.723,20.722 Z M23.001,22.444 C23.001,22.722 22.723,23 22.445,23 L7.556,23 C7.278,23 7,22.722 7,22.444 L7,7.556 C7,7.278 7.278,7 7.556,7 L22.445,7 C22.723,7 23.001,7.278 23.001,7.556 L23.001,22.444 L23.001,22.444 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M21.2903399,6.49601361 L16.7870066,5.43601361 L16.2904406,5.31913133 L16.1365971,5.80551736 L14.4819304,11.0368507 L15.5307177,11.3685813 L17.1853844,6.13724796 L16.5349749,6.50675171 L21.0383083,7.56675171 L21.2903399,6.49601361 L21.2903399,6.49601361 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M24.2273241,7.39538266 C24.2273241,8.07148354 23.6783765,8.62071599 23.0033241,8.62071599 C22.3256762,8.62071599 21.7773241,8.07222166 21.7773241,7.39538266 C21.7773241,6.71833055 22.3252229,6.17071599 23.0033241,6.17071599 C23.6788297,6.17071599 24.2273241,6.71906804 24.2273241,7.39538266 L24.2273241,7.39538266 Z M25.3273241,7.39538266 C25.3273241,6.11149091 24.286279,5.07071599 23.0033241,5.07071599 C21.7178374,5.07071599 20.6773241,6.1106895 20.6773241,7.39538266 C20.6773241,8.67967103 21.7180991,9.72071599 23.0033241,9.72071599 C24.2860175,9.72071599 25.3273241,8.67886905 25.3273241,7.39538266 L25.3273241,7.39538266 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M11.0099487,21.4840247 C11.9045602,22.3786362 13.2138167,22.7044493 14.9088574,22.7044493 C16.6282182,22.7044493 17.9366634,22.3804551 18.8336203,21.4841705 L18.0560945,20.7060615 C17.4188618,21.3428165 16.3622623,21.6044493 14.9088574,21.6044493 C13.4797099,21.6044493 12.4230562,21.3414974 11.7877661,20.7062073 L11.0099487,21.4840247 L11.0099487,21.4840247 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M18.5172574,14.9899827 C17.5556836,14.9899827 16.7759241,15.7700434 16.7759241,16.7326493 C16.7759241,17.6947393 17.5558341,18.4746493 18.5172574,18.4746493 C19.4796807,18.4746493 20.2592574,17.6950726 20.2592574,16.7326493 C20.2592574,15.76971 19.4798313,14.9899827 18.5172574,14.9899827 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M11.3321908,14.9899827 C10.3691008,14.9899827 9.58952408,15.7695594 9.58952408,16.7326493 C9.58952408,17.6952232 10.3692514,18.4746493 11.3321908,18.4746493 C12.2941301,18.4746493 13.0741908,17.69489 13.0741908,16.7326493 C13.0741908,15.7700753 12.2937968,14.9899827 11.3321908,14.9899827 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M22.628998,13.1896587 C23.043774,12.831861 23.5708048,12.632116 24.1301241,12.632116 C25.4021043,12.632116 26.4327908,13.6628676 26.4327908,14.9347827 C26.4327908,15.7525149 26.0036967,16.4950424 25.315638,16.9089432 L26.0685486,17.2681025 C25.8019275,15.3628329 24.5443143,13.6487575 22.5714045,12.3895846 L22.628998,13.1896587 L22.628998,13.1896587 Z M21.9758153,12.4324583 L21.4672295,12.8711789 L22.0334089,13.2325323 C23.7759344,14.3446667 24.8556348,15.8162541 25.0781986,17.4066909 L25.1830154,18.1557101 L25.8311092,17.7658501 C26.8168223,17.1728958 27.4327908,16.1069906 27.4327908,14.9347827 C27.4327908,13.110597 25.9544032,11.632116 24.1301241,11.632116 C23.3287045,11.632116 22.57048,11.9194836 21.9758153,12.4324583 L21.9758153,12.4324583 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M4.45391657,16.8629684 C3.80790167,16.4401746 3.41112408,15.72199 3.41112408,14.9347827 C3.41112408,13.6629186 4.44109272,12.632116 5.71179075,12.632116 C6.25583146,12.632116 6.76957705,12.8208246 7.17971307,13.1606476 L7.23245447,12.3524296 C5.24845657,13.6006886 3.97362092,15.3062409 3.68575142,17.2064421 L4.45391657,16.8629684 L4.45391657,16.8629684 Z M3.90630484,17.6997009 L4.55783779,18.1261061 L4.67446999,17.3562272 C4.91497806,15.7686546 6.01092446,14.3024312 7.76498514,13.1988404 L8.3494008,12.8311474 L7.81772654,12.3906224 C7.22982284,11.9035078 6.49097789,11.632116 5.71179075,11.632116 C3.88862671,11.632116 2.41112408,13.1108149 2.41112408,14.9347827 C2.41112408,16.0628321 2.98081792,17.0940026 3.90630484,17.6997009 L3.90630484,17.6997009 Z" transform="translate(-198 -178) translate(198 178)"/><path d="M26.1216574,18.031916 C26.1216574,13.6908372 21.0604595,10.325916 14.8723241,10.325916 C8.68472157,10.325916 3.62365742,13.6909388 3.62365742,18.031916 C3.62365742,22.3722434 8.68466449,25.7365827 14.8723241,25.7365827 C21.0609779,25.7365827 26.1216574,22.3727214 26.1216574,18.031916 L26.1216574,18.031916 Z M25.1216574,18.031916 C25.1216574,21.7138595 20.5741949,24.7365827 14.8723241,24.7365827 C9.171454,24.7365827 4.62365742,21.7134036 4.62365742,18.031916 C4.62365742,14.349724 9.17152734,11.325916 14.8723241,11.325916 C20.5736585,11.325916 25.1216574,14.3496384 25.1216574,18.031916 L25.1216574,18.031916 Z" transform="translate(-198 -178) translate(198 178)"/></g></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="17px" height="13px" viewBox="0 0 17 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-987.000000, -28.000000)" fill="#000000">\n            <g transform="translate(980.000000, 20.000000)">\n                <g transform="translate(7.000000, 8.000000)">\n                    <path d="M14.1504386,5.92900219 C12.6644737,4.4345943 10.7605811,3.67472588 8.10104167,3.55652412 L8.10104167,0.568839576 C8.10104167,0.346725612 7.9464464,0.269783882 7.77343777,0.385183075 L0.412869196,5.29478588 C0.184847835,5.44687933 0.184518576,5.69318782 0.413084344,5.845565 L7.77748855,10.7551678 C7.95851347,10.8758511 8.10526316,10.7925656 8.10526316,10.5740155 L8.10526316,7.60493421 C9.79385965,7.65137061 10.7394737,7.98908991 11.7652961,8.44923246 C13.0697368,9.03179825 14.0997807,10.3066886 14.9651864,11.6828947 L15.7757127,13 L16.2105263,13 C16.2105263,12.5736294 16.2063048,12.0332785 16.2063048,11.6575658 C16.2063048,10.9483553 16.3582785,8.14950658 14.1504386,5.92900219 Z" transform="translate(8.226141, 6.665953) scale(-1, 1) translate(-8.226141, -6.665953) "></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="16" height="13" viewBox="0 0 16 13" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><path d="M6,0.92616469 C6,0.180230621 6.96258314,-0.258825988 7.66699001,0.166365675 L15.4682144,5.40300056 C16.0600012,5.75979182 16.0823127,6.51404486 15.5117751,6.89579303 L7.71055062,12.8065743 C7.01145602,13.2742852 6,12.8407745 6,12.0735809 L6,0.92616469 Z"/><rect width="3" height="13" rx="2"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M17.314557,18.3175668 L17.3110289,18.3236777 C17.368367,18.2188948 17.3992512,18.1533668 17.4008796,18.1505464 L17.4099499,18.1545296 C22.4180058,9.41139532 21.6451296,6.8956151 20.624474,6.30132527 L20.6266452,6.29756472 C20.6237336,6.29713726 20.6213649,6.29576966 20.6184533,6.2953422 C20.6166274,6.29303446 20.6154132,6.28857292 20.6124327,6.28935912 C20.6109424,6.28975222 20.6102615,6.29311968 20.6102615,6.29311968 C19.6727098,5.75182397 16.9795319,6.2940543 11.844199,15.1887118 L11.8408828,15.1867972 C11.8441395,15.1811564 11.8480771,15.1721481 11.8513339,15.1665072 C10.7087481,15.0383271 8.7211869,15.3649465 8.03768528,18.9120172 L8.04621278,18.9169405 L8.00503453,19.107518 C8.00503453,19.107518 7.50081572,21.4469168 8.11153218,21.6265285 C8.62164694,21.7768887 9.24310794,20.2322207 9.4343009,19.7183536 L9.43572215,19.7191741 L9.45168922,19.6707309 C9.47960243,19.59722 9.49495767,19.5509305 9.49495767,19.5509305 L9.49157238,19.5502295 L9.6004208,19.2194682 C9.6004208,19.2194682 10.0524172,17.9486282 11.1830924,18.2560793 C11.1751648,18.197601 11.1757696,18.1396615 11.169806,18.0810637 C11.1779502,18.1271318 11.1797286,18.1732852 11.1900392,18.2199774 C11.3629887,18.9773006 11.8678468,19.6028434 12.6907509,20.0779473 C13.5093913,20.5505895 14.2942788,20.6746959 15.0250328,20.447274 C15.0536888,20.4381214 15.0805878,20.4254474 15.10877,20.4160212 C15.0718437,20.4329341 15.0389097,20.4527788 15.0020524,20.468478 C15.7964075,21.2906197 14.9348482,22.2993013 14.9348482,22.2993013 L14.7028247,22.5589474 L14.700525,22.5563662 C14.700525,22.5563662 14.6685885,22.5930824 14.618409,22.6537379 L14.5844394,22.6917875 L14.5863344,22.6928815 C14.2369089,23.1153931 13.209444,24.4256546 13.5947171,24.7922468 C14.0556236,25.2313369 15.829493,23.6249712 15.829493,23.6249712 L15.9739488,23.4940211 L15.9824763,23.4989444 C18.7192899,21.1273258 17.9987569,19.2396945 17.314557,18.3175668 L17.314557,18.3175668 L17.314557,18.3175668 Z M15.1232509,15.8133121 C14.336247,15.330731 14.0779845,14.3098006 14.5488259,13.5205372 C15.0122016,12.746393 16.0034421,12.4901099 16.795043,12.9176831 C17.5616065,13.3897165 17.8348054,14.376024 17.3960647,15.1643912 C16.9479632,15.9667836 15.935154,16.2538604 15.1232509,15.8133121 L15.1232509,15.8133121 L15.1232509,15.8133121 Z" transform=""/><path d="M13.2785981,21.3240464 C12.9476004,21.2255475 12.613638,21.0840412 12.2772558,20.8898308 C11.9233437,20.6854996 11.6198054,20.4551906 11.3595313,20.2035588 C11.3400212,20.2461044 11.3230872,20.2776233 11.3127917,20.2954556 L11.311437,20.2978019 C10.8634987,21.3362482 10.3084292,22.9060003 10.8651053,23.2668161 L10.8634797,23.2696317 C10.8658486,23.2709994 10.8693012,23.27049 10.8711963,23.2715841 C10.874039,23.2732254 10.8748504,23.2761966 10.8776931,23.2778378 L10.8793187,23.2750222 C11.4701324,23.5767099 12.5520428,22.3111296 13.2278683,21.404254 L13.229223,21.4019077 C13.2384347,21.3859525 13.2551645,21.3580698 13.2785981,21.3240464"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M21.7606028,10.3060673 C20.5903471,10.2204043 19.3978407,10.3175494 18.3299426,10.6800228 C16.3104116,11.365506 15.0520281,12.8861438 14.7961167,15.5976842 C14.7540545,16.0433598 14.3586649,16.370553 13.9129894,16.3284907 C13.4673139,16.2864285 13.1401206,15.8910389 13.1821829,15.4453634 C13.4995053,12.083135 15.1974486,10.0313306 17.8088928,9.14493607 C19.0173063,8.73476792 20.3098548,8.60676736 21.5833563,8.6709158 L21.3187271,8.38160488 C21.0165902,8.05128802 21.0394346,7.53858298 21.3697515,7.23644613 C21.7000684,6.93430928 22.2127734,6.95715369 22.5149102,7.28747055 L24.1846588,9.11295498 C24.4802005,9.4360615 24.4656918,9.93548325 24.1518912,10.2408877 L22.3152473,12.0283904 C21.994444,12.3406102 21.4812775,12.333652 21.1690577,12.0128488 C20.8568379,11.6920456 20.8637961,11.178879 21.1845993,10.8666592 L21.7606028,10.3060673 L21.7606028,10.3060673 Z" transform="matrix(-1 0 0 1 37.576 0)"/><path d="M26.5999756,14.6282576 L26.5999756,20.5810833 C26.5999756,21.1755359 26.1107988,21.6579936 25.5201724,21.658668 L13.4687205,21.6724289 C12.8723617,21.6731099 12.8142261,21.4305939 13.3213446,21.1407708 L25.6675484,14.084797 C26.1825137,13.7904893 26.5999756,14.0346698 26.5999756,14.6282576 Z M18.5165224,20.0375631 L24.9788699,20.0375631 L24.9788699,16.3507691 L18.5165224,20.0375631 Z" transform="matrix(-1 0 0 1 39.578 0)"/><path d="M10.8312453,21.6400003 L4.8784196,21.6400003 C4.28396697,21.6400003 3.80196901,21.1501891 3.8018496,20.5587967 L3.79941311,8.4917144 C3.79929254,7.8945821 4.04186317,7.83637109 4.33120972,8.34414729 L11.3755821,20.7063638 C11.6694058,21.221997 11.4248332,21.6400003 10.8312453,21.6400003 Z" transform="matrix(-1 0 0 1 15.3 0)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M14.184939,10.3060673 C13.0146834,10.2204043 11.8221769,10.3175494 10.7542788,10.6800228 C8.73474782,11.365506 7.47636435,12.8861438 7.22045294,15.5976842 C7.1783907,16.0433598 6.78300113,16.370553 6.3373256,16.3284907 C5.89165008,16.2864285 5.56445686,15.8910389 5.60651909,15.4453634 C5.92384153,12.083135 7.62178486,10.0313306 10.233229,9.14493607 C11.4416425,8.73476792 12.734191,8.60676736 14.0076925,8.6709158 L13.7430633,8.38160488 C13.4409264,8.05128802 13.4637709,7.53858298 13.7940877,7.23644613 C14.1244046,6.93430928 14.6371096,6.95715369 14.9392465,7.28747055 L16.6089951,9.11295498 C16.9045367,9.4360615 16.890028,9.93548325 16.5762274,10.2408877 L14.7395835,12.0283904 C14.4187803,12.3406102 13.9056137,12.333652 13.5933939,12.0128488 C13.2811741,11.6920456 13.2881323,11.178879 13.6089356,10.8666592 L14.184939,10.3060673 L14.184939,10.3060673 Z" transform="translate(-678 -318) translate(678 318)"/><path d="M17.0223569,14.6282576 L17.0223569,20.5810833 C17.0223569,21.1755359 16.5331801,21.6579936 15.9425537,21.658668 L3.8911019,21.6724289 C3.29474306,21.6731099 3.23660745,21.4305939 3.74372593,21.1407708 L16.0899297,14.084797 C16.6048951,13.7904893 17.0223569,14.0346698 17.0223569,14.6282576 Z M8.93890378,20.0375631 L15.4012513,20.0375631 L15.4012513,16.3507691 L8.93890378,20.0375631 Z" transform="translate(-678 -318) translate(678 318)"/><path d="M25.5318323,21.6400003 L19.5790065,21.6400003 C18.9845539,21.6400003 18.5025559,21.1501891 18.5024365,20.5587967 L18.5,8.4917144 C18.4998795,7.8945821 18.7424501,7.83637109 19.0317967,8.34414729 L26.076169,20.7063638 C26.3699928,21.221997 26.1254201,21.6400003 25.5318323,21.6400003 Z" transform="translate(-678 -318) translate(678 318)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24.0442354,21.4210088 L19.9932354,17.0790088 C20.9662354,15.6010088 21.4232354,13.8550088 21.2772354,12.0630088 C21.1052354,9.93800882 20.1132354,8.00700882 18.4892354,6.62700882 C15.5102354,4.09600882 11.0412354,4.11800882 8.0942354,6.67600882 C7.7902354,6.94200882 7.5012354,7.23200882 7.2392354,7.54200882 C4.3892354,10.8960088 4.7992354,15.9430088 8.1542354,18.7920088 C10.5072354,20.7910088 13.7872354,21.1900088 16.5142354,20.0120088 C16.5472354,20.0520088 16.5722354,20.0970088 16.6072354,20.1360088 L20.7082354,24.5320088 C21.2072354,25.0660088 21.9012354,25.3080088 22.5772354,25.2480088 C23.0662354,25.2050088 23.5452354,25.0050088 23.9312354,24.6440088 C24.8532354,23.7850088 24.9022354,22.3420088 24.0442354,21.4210088 L24.0442354,21.4210088 Z M10.2222354,16.3590088 C8.2092354,14.6480088 7.9632354,11.6210088 9.6722354,9.60800882 C9.8312354,9.42100882 10.0052354,9.24600882 10.1872354,9.08700882 C11.9532354,7.55300882 14.6352354,7.54200882 16.4222354,9.06000882 C17.3972354,9.88800882 17.9912354,11.0470088 18.0952354,12.3220088 C18.1982354,13.5960088 17.8002354,14.8350088 16.9722354,15.8110088 C16.8132354,15.9970088 16.6392354,16.1730088 16.4562354,16.3320088 C14.6882354,17.8650088 12.0082354,17.8780088 10.2222354,16.3590088 L10.2222354,16.3590088 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24.268,7 L5.732,7 C4.775,7 4,7.776 4,8.732 L4,21.952 C4,22.531 4.469,23 5.048,23 L24.953,23 C25.531,23 26,22.531 26,21.952 L26,8.732 C26,7.776 25.224,7 24.268,7 L24.268,7 Z M12,8.99 C12,8.443 12.443,8 12.99,8 L13.01,8 C13.557,8 14,8.443 14,8.99 L14,9.01 C14,9.557 13.557,10 13.01,10 L12.99,10 C12.443,10 12,9.557 12,9.01 L12,8.99 L12,8.99 Z M9,8.99 C9,8.443 9.443,8 9.99,8 L10.01,8 C10.557,8 11,8.443 11,8.99 L11,9.01 C11,9.557 10.557,10 10.01,10 L9.99,10 C9.443,10 9,9.557 9,9.01 L9,8.99 L9,8.99 Z M6,8.99 C6,8.443 6.443,8 6.99,8 L7.01,8 C7.557,8 8,8.443 8,8.99 L8,9.01 C8,9.557 7.557,10 7.01,10 L6.99,10 C6.443,10 6,9.557 6,9.01 L6,8.99 L6,8.99 Z M18,22 L5,22 L5,11 L18,11 L18,22 L18,22 Z M25,22 L19,22 L19,19 L25,19 L25,22 L25,22 Z M25,18 L19,18 L19,11 L25,11 L25,18 Z M20,20 L24,20 L24,21 L20,21 L20,20 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.568,14.983 C17.568,16.41 16.372,17.568 14.983,17.568 C13.556,17.568 12.36,16.411 12.36,14.983 C12.36,13.555 13.556,12.36 14.983,12.36 C16.372,12.359 17.568,13.555 17.568,14.983 L17.568,14.983 Z M21.465,13.787 L20.732,13.787 C20.462,13.787 20.23,13.671 20.153,13.401 L19.574,12.437 C19.497,12.206 19.535,11.858 19.69,11.704 L20.307,11.125 C20.461,10.971 20.461,10.623 20.307,10.469 L19.497,9.62 C19.266,9.427 18.995,9.427 18.803,9.62 L18.224,10.276 C18.031,10.392 17.722,10.43 17.491,10.315 L16.527,9.775 C16.334,9.736 16.103,9.466 16.103,9.196 L16.103,8.463 C16.103,8.193 15.872,8 15.447,8 L14.521,8 C14.019,8 13.865,8.193 13.865,8.463 L13.865,9.196 C13.865,9.466 13.634,9.736 13.441,9.775 L12.438,10.315 C12.245,10.431 11.936,10.392 11.744,10.276 L11.125,9.62 C10.971,9.427 10.662,9.427 10.508,9.62 L9.621,10.469 C9.467,10.623 9.467,10.971 9.621,11.125 L10.238,11.704 C10.431,11.858 10.431,12.206 10.354,12.437 L9.852,13.401 C9.736,13.671 9.505,13.787 9.235,13.787 L8.463,13.787 C8.232,13.787 8,14.057 8,14.52 L8,15.369 C8,15.909 8.231,16.063 8.463,16.063 L9.235,16.063 C9.505,16.063 9.737,16.256 9.814,16.487 L10.354,17.49 C10.431,17.721 10.431,18.03 10.238,18.146 L9.621,18.763 C9.467,18.994 9.467,19.265 9.621,19.419 L10.508,20.306 C10.662,20.46 10.971,20.46 11.125,20.306 L11.742,19.689 C11.935,19.535 12.244,19.458 12.436,19.612 L13.439,20.114 C13.632,20.23 13.863,20.423 13.863,20.731 L13.863,21.503 C13.863,21.696 14.017,21.927 14.519,21.927 L15.445,21.927 C15.869,21.927 16.101,21.696 16.101,21.503 L16.101,20.731 C16.101,20.422 16.332,20.229 16.525,20.114 L17.489,19.612 C17.72,19.458 18.029,19.535 18.222,19.689 L18.801,20.306 C18.994,20.46 19.264,20.46 19.495,20.306 L20.305,19.419 C20.459,19.265 20.459,18.995 20.305,18.763 L19.688,18.146 C19.534,18.03 19.495,17.722 19.572,17.49 L20.151,16.487 C20.228,16.256 20.46,16.063 20.73,16.063 L21.463,16.063 C21.733,16.063 21.926,15.909 21.926,15.407 L21.926,14.52 C21.928,14.057 21.735,13.787 21.465,13.787 L21.465,13.787 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.502,14.99 C18.502,16.93 16.877,18.503 14.989,18.503 C13.049,18.503 11.424,16.93 11.424,14.99 C11.424,13.05 13.049,11.425 14.989,11.425 C16.877,11.425 18.502,13.05 18.502,14.99 L18.502,14.99 Z M23.798,13.365 L22.802,13.365 C22.435,13.365 22.12,13.208 22.016,12.841 L21.23,11.53 C21.125,11.215 21.178,10.744 21.387,10.534 L22.226,9.748 C22.436,9.538 22.436,9.066 22.226,8.857 L21.125,7.704 C20.81,7.442 20.443,7.442 20.181,7.704 L19.394,8.593 C19.132,8.75 18.712,8.803 18.398,8.645 L17.087,7.911 C16.825,7.859 16.51,7.492 16.51,7.125 L16.51,6.129 C16.51,5.762 16.195,5.5 15.619,5.5 L14.361,5.5 C13.679,5.5 13.47,5.762 13.47,6.129 L13.47,7.125 C13.47,7.492 13.155,7.859 12.893,7.911 L11.53,8.645 C11.267,8.803 10.848,8.751 10.585,8.593 L9.747,7.702 C9.537,7.44 9.118,7.44 8.908,7.702 L7.702,8.856 C7.492,9.066 7.492,9.538 7.702,9.747 L8.541,10.533 C8.803,10.743 8.803,11.215 8.698,11.529 L8.016,12.84 C7.859,13.207 7.544,13.364 7.177,13.364 L6.129,13.364 C5.814,13.364 5.5,13.731 5.5,14.36 L5.5,15.513 C5.5,16.247 5.815,16.457 6.129,16.457 L7.178,16.457 C7.545,16.457 7.86,16.719 7.964,17.034 L8.698,18.397 C8.803,18.712 8.803,19.131 8.541,19.288 L7.702,20.127 C7.492,20.442 7.492,20.809 7.702,21.018 L8.908,22.224 C9.118,22.434 9.537,22.434 9.747,22.224 L10.586,21.385 C10.848,21.175 11.268,21.07 11.53,21.28 L12.893,21.962 C13.155,22.119 13.47,22.381 13.47,22.801 L13.47,23.85 C13.47,24.112 13.68,24.427 14.361,24.427 L15.619,24.427 C16.196,24.427 16.51,24.112 16.51,23.85 L16.51,22.801 C16.51,22.382 16.825,22.119 17.087,21.962 L18.398,21.28 C18.713,21.07 19.132,21.175 19.394,21.385 L20.18,22.224 C20.442,22.434 20.809,22.434 21.124,22.224 L22.225,21.018 C22.435,20.808 22.435,20.441 22.225,20.127 L21.386,19.288 C21.176,19.131 21.124,18.711 21.229,18.397 L22.015,17.034 C22.12,16.719 22.434,16.457 22.801,16.457 L23.797,16.457 C24.164,16.457 24.426,16.247 24.426,15.566 L24.426,14.36 C24.427,13.732 24.165,13.365 23.798,13.365 L23.798,13.365 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>';
},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.8065838,9.22045455 C22.7382681,8.66136364 22.2392154,8.23977273 21.6475312,8.23977273 L19.571426,8.23977273 L19.571426,7.89659091 C19.571426,5.19545455 17.261426,3 14.4222681,3 C11.5842681,3 9.27426806,5.19545455 9.27426806,7.89659091 L9.27426806,8.23977273 L7.19816279,8.23977273 C6.60532069,8.23977273 6.10742595,8.66136364 6.03795227,9.22045455 L4.00816279,25.6386364 C3.96879437,25.9534091 4.0730049,26.2704545 4.29532069,26.5056818 C4.51647858,26.7431818 4.83374174,26.8784091 5.16721543,26.8784091 L23.6773207,26.8784091 C24.0107944,26.8784091 24.3292154,26.7431818 24.5503733,26.5056818 C24.7715312,26.2704545 24.8757417,25.9534091 24.8375312,25.6386364 L22.8065838,9.22045455 L22.8065838,9.22045455 Z M11.6097417,7.89659091 C11.6097417,6.42045455 12.8706891,5.22045455 14.4222681,5.22045455 C15.973847,5.22045455 17.2359523,6.42045455 17.2359523,7.89659091 L17.2359523,8.23977273 L11.6097417,8.23977273 L11.6097417,7.89659091 L11.6097417,7.89659091 Z M8.23563648,10.4602273 L9.27426806,10.4602273 L9.27426806,11.9204545 C9.27426806,12.5340909 9.79763648,13.0306818 10.441426,13.0306818 C11.0863733,13.0306818 11.6097417,12.5340909 11.6097417,11.9204545 L11.6097417,10.4602273 L17.2359523,10.4602273 L17.2359523,11.9204545 C17.2359523,12.5340909 17.7593207,13.0306818 18.4031102,13.0306818 C19.0480575,13.0306818 19.571426,12.5340909 19.571426,11.9204545 L19.571426,10.4602273 L20.6088996,10.4602273 L21.9300575,21.1477273 L6.91447858,21.1477273 L8.23563648,10.4602273 L8.23563648,10.4602273 Z M6.48026806,24.6579545 L6.70489964,22.8465909 L22.1407944,22.8465909 L22.3642681,24.6579545 L6.48026806,24.6579545 L6.48026806,24.6579545 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.442,17.366 L12.095,17.366 L8.892,8.413 C8.803,8.166 8.566,8 8.299,8 L5.628,8 C5.281,8 5,8.276 5,8.618 C5,8.959 5.281,9.235 5.628,9.235 L7.854,9.235 L11.057,18.188 C11.146,18.436 11.383,18.6 11.65,18.6 L21.442,18.6 C21.789,18.6 22.07,18.323 22.07,17.982 C22.071,17.642 21.79,17.366 21.442,17.366 L21.442,17.366 Z M22.438,10.087 L11.178,9.67 C10.833,9.657 10.649,9.908 10.769,10.225 L12.794,15.602 C12.914,15.922 13.295,16.182 13.641,16.182 L21.705,16.182 C22.05,16.182 22.366,15.907 22.407,15.569 L22.992,10.723 C23.032,10.386 22.784,10.1 22.438,10.087 L22.438,10.087 Z M19.552,19.692 C18.726,19.692 18.054,20.352 18.054,21.164 C18.054,21.975 18.725,22.635 19.552,22.635 C20.377,22.635 21.049,21.975 21.049,21.164 C21.05,20.352 20.378,19.692 19.552,19.692 L19.552,19.692 Z M13.319,19.692 C12.493,19.692 11.822,20.352 11.822,21.164 C11.822,21.975 12.493,22.635 13.319,22.635 C14.144,22.635 14.816,21.975 14.816,21.164 C14.816,20.352 14.144,19.692 13.319,19.692 L13.319,19.692 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)"  fill-rule="evenodd"><path d="M4.89591806,6.25235078 L3.81630022,5.22901931 L7.85646916,18.6043472 L8.17854609,19.6706106 L9.29239138,19.6706106 L24.8871821,19.6706106 L25.8761888,19.6706106 L26.2658516,18.7616018 L29.5221586,11.1652588 C29.848554,10.4038407 29.4958984,9.52199358 28.7344803,9.1955982 C27.9730621,8.86920283 27.0912151,9.22185845 26.7648197,9.98327657 L23.8707506,16.6706106 L10.3928902,16.6706106 L6.68814466,4.36154624 L6.44048833,3.54165861 L5.60852681,3.33821476 L2.35630438,2.54293199 C1.55158793,2.34615051 0.739713461,2.83897918 0.542931988,3.64369562 C0.346150515,4.44841207 0.838979181,5.26028654 1.64369562,5.45706801 L4.89591806,6.25235078 Z"/><circle cx="11.142" cy="23.031" r="2"/><circle cx="23.142" cy="23.031" r="2"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.0178617,1.84608163 C14.5840046,0.717972789 15.4339944,0.717972789 15.9287878,1.84608163 L18.6881526,7.62725313 C19.182946,8.75536197 20.5990787,9.81238451 21.8027139,10.0240981 L27.8891376,10.9404934 C29.0927728,11.1522069 29.3750687,11.9975159 28.4552804,12.9154565 L24.0672854,17.3583509 C23.2172956,18.2747462 22.7225022,19.9669095 22.8636502,21.2356456 L23.9245864,27.5808715 C24.1370839,28.7800667 23.429793,29.3441211 22.3673057,28.7800667 L16.9183745,25.748081 C15.8574383,25.1840265 14.0876601,25.1840265 13.0267239,25.748081 L7.6475911,28.7800667 C6.58665487,29.3441211 5.87781297,28.7800667 6.020512,27.5808715 L7.08144823,21.2356456 C7.29394569,19.9669095 6.72780282,18.2747462 5.87781297,17.3583509 L1.48981796,12.9154565 C0.639828112,11.9990612 0.923675086,11.1522069 2.12731034,10.9404934 L8.14238446,10.0240981 C9.34601971,9.81238451 10.7606013,8.75536197 11.3267442,7.62725313 L14.0178617,1.84608163 L14.0178617,1.84608163 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.3927923,5.5475 C14.7577923,4.8175 15.3057923,4.8175 15.6247923,5.5475 L17.4037923,9.2885 C17.7227923,10.0185 18.6357923,10.7025 19.4117923,10.8395 L23.3357923,11.4325 C24.1117923,11.5695 24.2937923,12.1165 23.7007923,12.7105 L20.8717923,15.5855 C20.3237923,16.1785 20.0047923,17.2735 20.0957923,18.0945 L20.7797923,22.2005 C20.9167923,22.9765 20.4607923,23.3415 19.7757923,22.9765 L16.2627923,21.0145 C15.5787923,20.6495 14.4377923,20.6495 13.7537923,21.0145 L10.2857923,22.9765 C9.60179229,23.3415 9.14479229,22.9765 9.23679229,22.2005 L9.92079229,18.0945 C10.0577923,17.2735 9.69279229,16.1785 9.14479229,15.5855 L6.31579229,12.7105 C5.76779229,12.1175 5.95079229,11.5695 6.72679229,11.4325 L10.6047923,10.8395 C11.3807923,10.7025 12.2927923,10.0185 12.6577923,9.2885 L14.3927923,5.5475 L14.3927923,5.5475 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="10" height="21" viewBox="0 0 10 21" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 11 0)"  fill-rule="evenodd"><path d="M5,1 L5,10 C5,10.5522847 5.44771525,11 6,11 C6.55228475,11 7,10.5522847 7,10 L7,1 C7,0.44771525 6.55228475,0 6,0 C5.44771525,0 5,0.44771525 5,1 L5,1 Z"/><path d="M1.26430901,7.72188274 L5.24220129,11.718701 C5.63361651,12.1119785 6.27038537,12.1113891 6.66107186,11.7173877 L10.6655749,7.67890676 C11.0544459,7.28673618 11.0517711,6.65357685 10.6596005,6.26470581 C10.2674299,5.87583478 9.63427062,5.87850958 9.24539958,6.27068016 L5.24089657,10.3091611 L6.65976714,10.3078477 L2.68187487,6.31102944 C2.29227849,5.91957944 1.65911529,5.91807678 1.26766529,6.30767316 C0.876215286,6.69726954 0.874712629,7.33043274 1.26430901,7.72188274 L1.26430901,7.72188274 Z"/><circle cx="6" cy="18" r="3"/></g></svg>'},function(e,t){e.exports='<svg width="10" height="21" viewBox="0 0 10 21" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 11 0)"  fill-rule="evenodd"><path d="M7,20 L7,11 C7,10.4477153 6.55228475,10 6,10 C5.44771525,10 5,10.4477153 5,11 L5,20 C5,20.5522847 5.44771525,21 6,21 C6.55228475,21 7,20.5522847 7,20 L7,20 Z"/><path d="M2.68187487,14.6889706 L6.65976714,10.6921523 L5.24089657,10.6908389 L9.24539958,14.7293198 C9.63427062,15.1214904 10.2674299,15.1241652 10.6596005,14.7352942 C11.0517711,14.3464232 11.0544459,13.7132638 10.6655749,13.3210932 L6.66107186,9.28261232 C6.27038537,8.88861089 5.63361651,8.88802148 5.24220129,9.28129897 L1.26430901,13.2781173 C0.874712629,13.6695673 0.876215286,14.3027305 1.26766529,14.6923268 C1.65911529,15.0819232 2.29227849,15.0804206 2.68187487,14.6889706 L2.68187487,14.6889706 Z"/><circle transform="matrix(1 0 0 -1 0 6)" cx="6" cy="3" r="3"/></g></svg>'},function(e,t){e.exports='<svg width="21" height="15" viewBox="0 0 21 15" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 21 0)"  fill-rule="evenodd"><circle cx="11" cy="11" r="3.5"/><path d="M3.42640365,7.77376425 C3.47315916,7.63361637 3.5878856,7.3544791 3.77851137,6.98374733 C4.10215865,6.35431339 4.51763424,5.72351056 5.03076857,5.1372941 C6.4802704,3.48134989 8.4025059,2.49999994 10.9195838,2.5 C13.455814,2.50000006 15.4018187,3.41814086 16.8734454,4.96015042 C17.3912753,5.50274641 17.8117025,6.08559932 18.1404781,6.66650247 C18.33326,7.00712265 18.449344,7.26224859 18.4960848,7.3879698 C18.6885435,7.9056358 19.2642133,8.16926842 19.7818794,7.97680973 C20.2995454,7.78435103 20.563178,7.20868122 20.3707193,6.69101521 C20.0697489,5.88147984 19.4174759,4.72899948 18.3202931,3.57934208 C16.4877637,1.65916895 14.0308985,0.500000078 10.9195839,0.5 C7.78911698,0.499999922 5.3354956,1.75263583 3.5258632,3.82000148 C2.44857331,5.05072222 1.81617846,6.28061292 1.52919772,7.14082691 C1.3544169,7.66472586 1.63743307,8.23111773 2.16133202,8.40589854 C2.68523097,8.58067936 3.25162283,8.2976632 3.42640365,7.77376425 L3.42640365,7.77376425 Z"/><path d="M0.408286129,5.07725713 L1.51646688,8.37944696 C1.68834202,8.89160562 2.23591648,9.1746653 2.75315145,9.01873088 L6.20796221,7.97718502 C6.73673963,7.81777081 7.03616767,7.25988127 6.87675346,6.73110386 C6.71733925,6.20232644 6.15944971,5.9028984 5.6306723,6.06231261 L2.17586154,7.10385847 L3.41254612,7.74314238 L2.30436537,4.44095255 C2.12865471,3.91736472 1.56176128,3.63535456 1.03817346,3.81106522 C0.514585636,3.98677587 0.232575472,4.5536693 0.408286129,5.07725713 L0.408286129,5.07725713 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.5,22 L9.5,22 C8.672,22 8,21.328 8,20.5 L8,9.5 C8,8.672 8.672,8 9.5,8 L20.5,8 C21.328,8 22,8.672 22,9.5 L22,20.5 C22,21.328 21.328,22 20.5,22 L20.5,22 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.312,7.948 C21.153,7.387 20.641,7 20.059,7 L15.805,7 L14.805,7 L9.551,7 C8.969,7 8.457,7.387 8.298,7.948 C8.298,7.948 8,9.844 8,10.375 C8,10.906 8.391,11 8.391,11 L9,11 L9.64,9.72 C9.86,9.279 10.311,9 10.805,9 L13.805,9 L13.805,20 L12.805,21 L10.805,21 L10.805,23 L18.805,23 L18.805,21 L16.805,21 L15.805,20 L15.805,9 L18.805,9 C19.299,9 19.75,9.279 19.971,9.72 L20.611,11 L21.22,11 C21.22,11 21.611,10.906 21.611,10.375 C21.61,9.844 21.312,7.948 21.312,7.948 L21.312,7.948 Z"  transform="translate(-498 -468) translate(498 468)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         viewBox="0 0 160 160" style="enable-background:new 0 0 396 160;" xml:space="preserve">\n<style type="text/css">\n        .st0{fill:#FB4725;}\n        .st1{fill:#FF7B39;}\n        .st2{fill:#FC9B3A;}\n        .st3{fill:#22B45C;}\n        .st4{fill:#91CA06;}\n        .st5{fill:#D6D230;}\n        .st6{fill:#0066B6;}\n        .st7{fill:#429ACC;}\n        .st8{fill:#6CBADD;}\n        .st9{fill:#FFFFFF;}\n        .st10{opacity:0.2;fill:#F15A24;}\n        .st11{display:none;opacity:0.25;}\n        .st12{display:inline;fill:#CCCCCC;}\n        .st13{fill:#5C95DA;}\n        .st14{opacity:0.25;fill:url(#SVGID_1_);}\n        .st15{fill:url(#SVGID_2_);}\n        .st16{fill:url(#SVGID_3_);}\n        .st17{opacity:0.2;fill:url(#SVGID_4_);}\n        .st18{fill:none;}\n        .st19{opacity:0.15;fill:url(#SVGID_5_);}\n        .st20{opacity:0.5;fill:url(#SVGID_6_);}\n        .st21{fill:url(#SVGID_7_);}\n        .st22{opacity:0.03;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}\n        .st23{opacity:0.5;fill:url(#SVGID_8_);}\n        .st24{fill:url(#SVGID_9_);}\n        .st25{fill:url(#SVGID_10_);}\n        .st26{fill:url(#SVGID_11_);}\n        .st27{fill:url(#SVGID_12_);}\n        .st28{fill:url(#SVGID_13_);}\n        .st29{display:none;}\n        .st30{display:inline;opacity:0.25;fill:#808080;}\n        .st31{display:inline;opacity:0.25;fill:#FF0000;}\n        .st32{display:inline;fill:#FFFFFF;}\n        .st33{display:inline;opacity:0.2;fill:#F15A24;}\n        .st34{display:inline;opacity:0.2;}\n</style>\n<g id="Layer_1">\n        <g class="st11">\n                <rect class="st12" width="160" height="160"/>\n        </g>\n        <g>\n            <g>\n                    <rect x="8" y="8" class="st0" width="43.56" height="44"/>\n                    <rect x="57.19" y="8" class="st1" width="45.02" height="44"/>\n                    <rect x="107.82" y="8" class="st2" width="43.18" height="44"/>\n                    <rect x="8" y="57.62" class="st3" width="43.56" height="45.02"/>\n                    <rect x="57.19" y="57.62" class="st4" width="45.02" height="45.02"/>\n                    <rect x="107.82" y="57.62" class="st5" width="43.18" height="45.02"/>\n                    <rect x="8" y="108" class="st6" width="43.56" height="44"/>\n                    <rect x="57.19" y="108" class="st7" width="45.02" height="44"/>\n                    <rect x="107.41" y="108" class="st8" width="43.59" height="44"/>\n            </g>\n            <polygon class="st9" points="26.6,43.94 34.04,43.94 34.04,21.9 42.34,21.9 42.34,15.61 18.02,15.61 18.02,21.9 26.6,21.9          "/>\n            <rect x="76.11" y="15.61" class="st9" width="7.44" height="28.33"/>\n            <polygon class="st9" points="123.62,24.65 132.32,43.94 142.22,43.94 142.22,15.61 135.35,15.61 135.35,35.09 126.77,15.61\n                    116.75,15.61 116.75,43.94 123.62,43.94          "/>\n            <polygon class="st9" points="42.74,65.69 33.73,65.69 25.17,76.1 25.17,65.69 17.73,65.69 17.73,94.02 25.17,94.02 25.17,82.54\n                    34.3,94.02 43.66,94.02 30.75,79.02              "/>\n            <polygon class="st9" points="88.7,88.58 76.68,88.58 76.68,82.29 87.84,82.29 87.84,76.85 76.68,76.85 76.68,71.41 88.13,71.41\n                    88.13,65.69 69.24,65.69 69.24,94.02 88.7,94.02          "/>\n            <path class="st9" d="M139.39,73.5c0-4.87-3.81-7.81-10.19-7.81h-11.28v28.33h7.15V82.86h1.49c2.46,0,2.98,0.77,4.15,3.92\n                    l2.58,7.24h8.01l-3.81-9.64c-0.8-1.97-1.57-3.32-2.86-4.18C137.7,79.05,139.39,76.68,139.39,73.5z M131.95,74.07\n                    c0,2.8-2.66,3.38-4.89,3.38h-1.97v-6.3h2.15C130.63,71.13,131.95,71.96,131.95,74.07z"/>\n            <path class="st9" d="M38.28,137.69c-1.57,0.72-3.41,1.06-5.47,1.06c-5.35,0-8.56-3.29-8.56-8.79c0-5.27,3.49-8.79,8.67-8.79\n                    c1.75,0,3.72,0.37,5.27,1.03l0.94,0.4l0.31-6.04l-0.54-0.17c-2.12-0.63-4.69-1-6.93-1c-8.93,0-15.43,6.12-15.43,14.57\n                    c0.03,4.49,1.52,8.21,4.38,10.79c2.72,2.46,6.55,3.78,11.08,3.78c2.6,0,5.12-0.43,7.07-1.17l0.49-0.2l-0.34-5.9L38.28,137.69z"/>\n            <path class="st9" d="M75.51,115.77L64.72,144.1h7.41l2.43-6.87h10.42l2.38,6.87h7.76L84.3,115.77H75.51z M83.24,131.8h-6.93\n                    l3.52-9.47L83.24,131.8z"/>\n            <path class="st9" d="M127.22,115.77h-10.19v28.33h9.44c9.79,0,15.65-5.44,15.65-14.54C142.13,120.69,136.84,115.77,127.22,115.77z\n                     M134.46,129.56c0,5.87-3.06,9.1-8.84,9.1h-1.14v-17.46h1.83C131.57,121.21,134.46,124.27,134.46,129.56z"/>\n        </g>\n    </g>\n    <g id="Layer_2" class="st29">\n            <rect x="148" y="-8" class="st30" width="32" height="160"/>\n            <rect x="364" y="0" class="st30" width="32" height="160"/>\n            <rect x="92" y="58" class="st31" width="306" height="45"/>\n            <rect x="322" class="st30" width="32" height="28"/>\n            <rect x="148" y="144" class="st32" width="16" height="16"/>\n            <rect x="164" y="128" class="st32" width="16" height="16"/>\n            <rect x="180" y="120" class="st32" width="16" height="16"/>\n            <rect x="196" y="108" class="st32" width="12" height="12"/>\n            <rect x="348" y="120" class="st32" width="16" height="16"/>\n            <rect x="336" y="108" class="st32" width="12" height="12"/>\n            <rect x="180" y="28" class="st32" width="16" height="16"/>\n            <rect x="148" class="st32" width="16" height="16"/>\n            <rect x="164" y="16" class="st32" width="16" height="16"/>\n            <rect x="196" y="44" class="st32" width="12" height="12"/>\n    </g>\n</svg>\n'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.5527973,17.0329325 C16.3327973,17.0299325 15.4057973,16.0989325 15.4087973,14.8789325 C15.4117973,13.7169325 16.3427973,12.7319325 17.5627973,12.7349325 C18.7247973,12.7379325 19.7677973,13.7269325 19.7647973,14.8889325 C19.7627973,16.1089325 18.7147973,17.0359325 17.5527973,17.0329325 L17.5527973,17.0329325 Z M25.2417973,7.8149325 C24.4307973,6.9999325 23.5017973,6.6489325 22.6867973,7.4609325 L19.4857973,10.4159325 C18.9057973,10.1819325 18.2667973,10.0649325 17.5697973,10.0629325 C15.5367973,10.0579325 13.7917973,11.2159325 13.0907973,12.9569325 L9.37379726,12.9479325 L3.49479726,18.4529325 C2.67979726,19.2059325 2.96779726,20.1359325 3.66379726,20.9509325 C4.47479726,21.7659325 5.57879726,21.8849325 6.16079726,21.3629325 L10.9337973,16.9589325 L13.0827973,16.9639325 C13.8917973,18.5919325 15.5737973,19.7579325 17.5487973,19.7619325 C20.2207973,19.7679325 22.3747973,17.5659325 22.3807973,14.8939325 C22.3817973,14.3709325 22.3247973,13.8479325 22.1517973,13.3829325 L25.4117973,10.3119325 C26.1667973,9.5599325 25.9367973,8.6299325 25.2417973,7.8149325 L25.2417973,7.8149325 Z"  transform="translate(-198 -468) translate(198 468)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M12.39,6 C11.346,6 10.5,6.846 10.5,7.89 L10.5,8 L10.5,9 L12.5,9 L12.5,8 L17.5,8 L17.5,9 L19.5,9 L19.5,8 L19.5,7.89 C19.5,6.846 18.654,6 17.61,6 L12.39,6 L12.39,6 Z" transform=""/><path d="M20.5,23 L9.5,23 C8.948,23 8.5,22.553 8.5,22 L8.5,10 C8.5,9.448 8.948,9 9.5,9 L20.5,9 C21.052,9 21.5,9.448 21.5,10 L21.5,22 C21.5,22.553 21.052,23 20.5,23 L20.5,23 Z M11.261,21 L18.74,21 C19.159,21 19.5,20.659 19.5,20.239 L19.5,11 L10.5,11 L10.5,20.239 C10.5,20.659 10.841,21 11.261,21 L11.261,21 Z"/><path d="M13.51,20 L13.49,20 C12.943,20 12.5,19.557 12.5,19.01 L12.5,12.99 C12.5,12.443 12.943,12 13.49,12 L13.51,12 C14.057,12 14.5,12.443 14.5,12.99 L14.5,19.01 C14.5,19.557 14.057,20 13.51,20 L13.51,20 Z"/><path d="M16.51,20 L16.49,20 C15.943,20 15.5,19.557 15.5,19.01 L15.5,12.99 C15.5,12.443 15.943,12 16.49,12 L16.51,12 C17.057,12 17.5,12.443 17.5,12.99 L17.5,19.01 C17.5,19.557 17.057,20 16.51,20 L16.51,20 Z"/><path d="M21.5,9 L8.5,9 C7.953,9 7.51,9.443 7.51,9.99 L7.51,10.01 C7.51,10.557 7.953,11 8.5,11 L21.5,11 C22.047,11 22.49,10.557 22.49,10.01 L22.49,9.99 C22.49,9.443 22.047,9 21.5,9 L21.5,9 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.8341115,9.041594 C21.8192659,9.034664 21.8044202,9.018032 21.7900385,9.00371 C20.9173914,8.229398 19.8921123,7.859798 18.7132733,7.903688 L18.677087,7.824686 C18.6845098,7.817294 18.6914687,7.817294 18.6988915,7.817294 C19.7677798,7.584446 20.4010404,7.34513 20.5898588,7.085486 C20.6557365,6.875276 20.575941,6.759776 20.3425856,6.73067 C19.8044301,6.795812 19.3094197,6.90392 18.8659053,7.071164 C19.4263294,6.73067 19.6443752,6.491816 19.5205066,6.368 C18.9679693,6.382322 18.3718229,6.651206 17.7455212,7.180196 C17.9784126,6.803204 18.0660948,6.599924 18.0081039,6.563888 C17.7097988,6.759776 17.447216,6.969986 17.2222113,7.193594 C16.7494695,7.693478 16.3709049,8.157326 16.0800225,8.577746 L16.0656408,8.613782 C15.3168623,9.765548 14.7930885,10.923782 14.4799376,12.105116 L14.3639558,12.192896 L14.3421512,12.213224 C13.891214,11.677304 13.3525945,11.229164 12.70588,10.865108 C11.9417919,10.395254 11.0473403,9.945728 10.0141744,9.51191 C8.88683132,8.961206 7.74464256,8.50475 6.58807205,8.150396 C6.58157707,9.374696 7.21390984,10.351826 8.47254433,11.06192 L8.47254433,11.083634 C8.028566,11.07578 7.59943334,11.141384 7.18468243,11.2652 C7.26447791,12.402182 8.11578432,13.184348 9.73071489,13.618166 L9.72282813,13.63988 C9.09049536,13.604768 8.56672155,13.814978 8.15939347,14.249258 C8.69012619,15.234242 9.62865091,15.704558 10.9893494,15.668522 C10.7198077,15.799268 10.5087208,15.94295 10.3709344,16.103264 C10.1231973,16.349972 10.0434018,16.64057 10.1231973,16.972286 C10.4140797,17.47217 10.9378535,17.70317 11.7089005,17.668058 L11.7525096,17.718878 C11.7455507,17.725808 11.7381279,17.7332 11.730705,17.74013 C10.3996979,19.044356 8.79219017,19.630634 6.90818182,19.507742 L6.87895441,19.522526 C5.73027067,19.51421 4.50086359,18.993536 3.16985646,17.95034 C4.50828643,19.77524 6.28280796,21.093326 8.47950324,21.919844 C10.9958444,22.709402 13.5131133,22.767152 16.0220316,22.093094 L16.0656408,22.093094 C18.5026503,21.426428 20.5680542,20.057522 22.2697392,17.986838 C23.0551679,16.900214 23.5501783,15.865334 23.7468834,14.871572 C25.0194357,14.915 25.9356919,14.567576 26.5030749,13.8293 L26.489157,13.807124 C26.0669833,13.951268 25.2379454,13.908764 24.0080744,13.66991 L24.0080744,13.539164 C24.0080744,13.532696 24.0080744,13.532696 24.0159612,13.539164 C25.36135,13.394558 26.1542016,12.981992 26.4088976,12.30008 C25.4703729,12.648428 24.5462299,12.654896 23.6299737,12.329648 C23.4629599,11.127062 22.8668135,10.033508 21.8341115,9.041594"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="17px" height="13px" viewBox="0 0 17 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>icon-undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-926.000000, -28.000000)" fill="#000000">\n            <g transform="translate(920.000000, 20.000000)">\n                <g transform="translate(6.000000, 8.000000)">\n                    <path d="M14.1504386,5.92900219 C12.6644737,4.4345943 10.7605811,3.67472588 8.10104167,3.55652412 L8.10104167,0.568839576 C8.10104167,0.346725612 7.9464464,0.269783882 7.77343777,0.385183075 L0.412869196,5.29478588 C0.184847835,5.44687933 0.184518576,5.69318782 0.413084344,5.845565 L7.77748855,10.7551678 C7.95851347,10.8758511 8.10526316,10.7925656 8.10526316,10.5740155 L8.10526316,7.60493421 C9.79385965,7.65137061 10.7394737,7.98908991 11.7652961,8.44923246 C13.0697368,9.03179825 14.0997807,10.3066886 14.9651864,11.6828947 L15.7757127,13 L16.2105263,13 C16.2105263,12.5736294 16.2063048,12.0332785 16.2063048,11.6575658 C16.2063048,10.9483553 16.3582785,8.14950658 14.1504386,5.92900219 Z"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.0178617,1.84608163 C14.5840046,0.717972789 15.4339944,0.717972789 15.9287878,1.84608163 L18.6881526,7.62725313 C19.182946,8.75536197 20.5990787,9.81238451 21.8027139,10.0240981 L27.8891376,10.9404934 C29.0927728,11.1522069 29.3750687,11.9975159 28.4552804,12.9154565 L24.0672854,17.3583509 C23.2172956,18.2747462 22.7225022,19.9669095 22.8636502,21.2356456 L23.9245864,27.5808715 C24.1370839,28.7800667 23.429793,29.3441211 22.3673057,28.7800667 L16.9183745,25.748081 C15.8574383,25.1840265 14.0876601,25.1840265 13.0267239,25.748081 L7.6475911,28.7800667 C6.58665487,29.3441211 5.87781297,28.7800667 6.020512,27.5808715 L7.08144823,21.2356456 C7.29394569,19.9669095 6.72780282,18.2747462 5.87781297,17.3583509 L1.48981796,12.9154565 C0.639828112,11.9990612 0.923675086,11.1522069 2.12731034,10.9404934 L8.14238446,10.0240981 C9.34601971,9.81238451 10.7606013,8.75536197 11.3267442,7.62725313 L14.0178617,1.84608163 L14.0178617,1.84608163 Z"  transform="translate(0 0)" fill="none" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.3927923,5.5475 C14.7577923,4.8175 15.3057923,4.8175 15.6247923,5.5475 L17.4037923,9.2885 C17.7227923,10.0185 18.6357923,10.7025 19.4117923,10.8395 L23.3357923,11.4325 C24.1117923,11.5695 24.2937923,12.1165 23.7007923,12.7105 L20.8717923,15.5855 C20.3237923,16.1785 20.0047923,17.2735 20.0957923,18.0945 L20.7797923,22.2005 C20.9167923,22.9765 20.4607923,23.3415 19.7757923,22.9765 L16.2627923,21.0145 C15.5787923,20.6495 14.4377923,20.6495 13.7537923,21.0145 L10.2857923,22.9765 C9.60179229,23.3415 9.14479229,22.9765 9.23679229,22.2005 L9.92079229,18.0945 C10.0577923,17.2735 9.69279229,16.1785 9.14479229,15.5855 L6.31579229,12.7105 C5.76779229,12.1175 5.95079229,11.5695 6.72679229,11.4325 L10.6047923,10.8395 C11.3807923,10.7025 12.2927923,10.0185 12.6577923,9.2885 L14.3927923,5.5475 L14.3927923,5.5475 Z"  transform="translate(0 0)" fill="none" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20,16 L17,16 L17,21 L13,21 L13,16 L10,16 L15,8 L20,16 L20,16 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.739,10.354 C12.314,10.354 10.405,12.315 10.405,14.739 C10.405,17.112 12.314,19.021 14.739,19.021 C17.112,19.021 19.073,17.112 19.073,14.739 C19.073,12.314 17.113,10.354 14.739,10.354 L14.739,10.354 Z M14.791,22.53 C10.457,22.53 7,19.073 7,14.791 C7,10.509 10.457,7 14.791,7 C19.022,7 22.53,10.508 22.53,14.791 C22.53,19.074 19.022,22.53 14.791,22.53 L14.791,22.53 Z"  transform="translate(-258 -468) translate(258 468)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M2.55250901,4.99603225 L5.49078147,5 L5.8051281,4 L2.83418777,4 L3.6825903,1 L6.95734549,1 L3.44479585,15.0218506 L1.76255402,15.0218506 L2.08718865,18.6150846 C2.16254641,19.1613223 1.83779618,19.6041355 1.47435877,19.6041355 L0.537633359,19.6041355 L3.01980663e-14,14.0218506 L1.13738273,10 L4.35831398,10 L4.64853811,9 L1.42018357,9 L2.55250901,4.99603225 Z" transform=""/><path d="M19.7236239,5 L22.7126667,5 L22.9615463,4 L20.0144343,4 L20.8868656,1 L24.0999756,1 L20.6865107,15.0218506 L18.9124493,15.0218506 L19.1941177,18.5802144 C19.2716097,19.1264522 18.8203668,19.5692654 18.4615388,19.5692654 L17.6006753,19.5692654 L17.0999756,14.0218506 L18.2695717,10 L21.5021743,10 L21.7441161,9 L18.5603821,9 L19.7236239,5 Z" transform="matrix(-1 0 0 1 41.2 0)"/><path d="M3.92715414,14.0000001 L3.92715414,14.0000001 L4.01248093,14.0000001 L4.34653379,17.9149821 L3.35015436,17 L20.7219877,17 L19.7258668,17.9120044 L20.0714466,14 L20.159785,14 L20.994776,14.9120044 L20.9870026,15 L3.09417399,15.0000001 L3.08691969,14.9149823 L3.92715414,14.0000001 Z M3.0088472,14.0000001 L3.0088472,14.0000001 L21.0753409,14 L20.7219877,18 L3.35015436,18 L3.0088472,14.0000001 Z"/><path d="M3.95427496,15 L3.95427496,15 L3.73812745,15 L3.10166405,14.2112686 L3.14732924,14 L20.7745786,14 L20.8188217,14.208027 L20.177572,15 L19.9648922,15 L16.8189384,0.208027015 L17.7970615,1 L6.17339435,1 L7.15082239,0.211268634 L3.95427496,15 Z M2.93118173,15 L6.17339435,0 L17.7970615,0 L20.9872584,15 L2.93118173,15 L2.93118173,15 Z"/><path d="M15.5793604,15 C15.5793604,13.0231738 13.9768262,12 12,12 C10.0231738,12 8.42063958,13.0231738 8.42063958,15 L15.5793604,15 Z"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23,7 L8,7 L8,7 C8,6.448 7.552,6 7,6 L5,6 C4.448,6 4,6.448 4,7 L4,23 C4,23.552 4.448,24 5,24 L7,24 C7.552,24 8,23.552 8,23 L23,23 C23,23.552 23.448,24 24,24 L26,24 C26.552,24 27,23.552 27,23 L27,7 C27,6.448 26.552,6 26,6 L24,6 C23.448,6 23,6.448 23,7 Z M23,8 L8,8 L8,22 L23,22 L23,8 L23,8 Z M3,15 L4,15 L4,12 L3,12 C2.448,12 2,12.448 2,13 L2,14 C2,14.552 2.448,15 3,15 Z M28,15 L27,15 L27,18 L28,18 C28.552,18 29,17.552 29,17 L29,16 C29,15.448 28.552,15 28,15 Z M20,13 L20,12 L19,12 L19,13 L16,13 L16,12 L15,12 L15,13 L12,13 L12,12 L11,12 L11,13 L10,13 L10,17 L11,17 L11,18 L12,18 L12,17 L15,17 L15,18 L16,18 L16,17 L19,17 L19,18 L20,18 L20,17 L21,17 L21,13 L20,13 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill="none" fill-rule="evenodd"><path d="M24,21 L24,23 L7,23 L7,21 L4,21 L4,9 L7,9 L7,7 L24,7 L24,9 L27,9 L27,21 L24,21 L24,21 Z" /><rect  x="10" y="11" width="3" height="3"/><rect  x="14" y="11" width="3" height="3"/><rect  x="18" y="11" width="3" height="3"/><rect  x="18" y="16" width="3" height="3"/><rect  x="14" y="16" width="3" height="3"/><rect  x="10" y="16" width="3" height="3"/><circle  cx="7" cy="12.017" r="1"/><circle  cx="7" cy="15.017" r="1"/><circle  cx="7" cy="18.017" r="1"/><circle  cx="24" cy="12.017" r="1"/><circle  cx="24" cy="15.017" r="1"/><circle  cx="24" cy="18.017" r="1"/></g></svg>'},function(e,t){e.exports='<svg width="23px" height="17px" viewBox="0 0 23 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-677.000000, -35.000000)" fill="#000000"><g transform="translate(670.609375, 28.566406)"><g transform="translate(7.016357, 7.084473)"><path d="M1,15 L21,15 L21,1 L1,1 L1,15 Z M0,0 L22,0 L22,16 L0,16 L0,0 Z"></path><rect x="0.0321211815" y="0" width="21.8838501" height="4.8483628" rx="0.5"></rect><rect x="5.28992932" y="4.35204078" width="1.13682338" height="10.9195827"></rect><rect x="0.742635795" y="10.9929933" width="20.4628209" height="1.13682338"></rect><rect x="0.742635795" y="7.3138598" width="20.4628209" height="1.13682338"></rect></g></g></g></g></svg>'},function(e,t){e.exports='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M1.44181896,8.07384803 C1.31515413,8.15079029 1.22914932,8.27995931 1.20701244,8.42649958 L0.915230519,10.3580177 C0.892936946,10.5055951 0.937737098,10.6554158 1.03738582,10.7665295 L8.11264455,18.6558222 C8.27646217,18.8384876 8.54861833,18.8752942 8.75507131,18.7427045 L19.9505508,11.5526616 C20.0248958,11.5049152 20.0852608,11.4383207 20.1254996,11.3596585 L21.0355188,9.58067625 C21.1062201,9.4424634 21.1087096,9.27925022 21.0422566,9.13894534 L20.3464435,7.66984802 L20.2550487,7.53738716 L13.9231014,0.949630811 C13.760841,0.780815189 13.5031572,0.747215696 13.3030341,0.868780011 L1.44181896,8.07384803 L1.44181896,8.07384803 Z" transform=""/><path d="M10,16.3976779 L10,18.896343 C10,19.4486278 10.4477153,19.896343 11,19.896343 C11.5522847,19.896343 12,19.4486278 12,18.896343 L12,16.3976779 C12,15.8453931 11.5522847,15.3976779 11,15.3976779 C10.4477153,15.3976779 10,15.8453931 10,16.3976779 L10,16.3976779 Z"/><path d="M10.5,19.8385803 L10.5,21.4795836 C10.5,21.755726 10.7238576,21.9795836 11,21.9795836 C11.2761424,21.9795836 11.5,21.755726 11.5,21.4795836 L11.5,19.8385803 C11.5,19.5624379 11.2761424,19.3385803 11,19.3385803 C10.7238576,19.3385803 10.5,19.5624379 10.5,19.8385803 L10.5,19.8385803 Z"/><path d="M14,13.3976779 L14,15.896343 C14,16.4486278 14.4477153,16.896343 15,16.896343 C15.5522847,16.896343 16,16.4486278 16,15.896343 L16,13.3976779 C16,12.8453931 15.5522847,12.3976779 15,12.3976779 C14.4477153,12.3976779 14,12.8453931 14,13.3976779 L14,13.3976779 Z"/><path d="M14.5,16.8385803 L14.5,18.4795836 C14.5,18.755726 14.7238576,18.9795836 15,18.9795836 C15.2761424,18.9795836 15.5,18.755726 15.5,18.4795836 L15.5,16.8385803 C15.5,16.5624379 15.2761424,16.3385803 15,16.3385803 C14.7238576,16.3385803 14.5,16.5624379 14.5,16.8385803 L14.5,16.8385803 Z"/><path d="M18,10.3976779 L18,12.896343 C18,13.4486278 18.4477153,13.896343 19,13.896343 C19.5522847,13.896343 20,13.4486278 20,12.896343 L20,10.3976779 C20,9.84539313 19.5522847,9.39767788 19,9.39767788 C18.4477153,9.39767788 18,9.84539313 18,10.3976779 L18,10.3976779 Z"/><path d="M18.5,13.8385803 L18.5,15.4795836 C18.5,15.755726 18.7238576,15.9795836 19,15.9795836 C19.2761424,15.9795836 19.5,15.755726 19.5,15.4795836 L19.5,13.8385803 C19.5,13.5624379 19.2761424,13.3385803 19,13.3385803 C18.7238576,13.3385803 18.5,13.5624379 18.5,13.8385803 L18.5,13.8385803 Z"/></g></svg>';
},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20,5 L10,5 C9.448,5 9,5.448 9,6 L9,24 C9,24.552 9.448,25 10,25 L20,25 C20.552,25 21,24.552 21,24 L21,6 C21,5.448 20.552,5 20,5 L20,5 Z M15.001,8.091 C14,8.091 13,7.096 13,6 L17,6 C17.08,7.484 16.002,8.091 15.001,8.091 Z M6,7 L8,7 L8,11 L6,11 L6,7 Z M6,13 L8,13 L8,17 L6,17 L6,13 Z M6,19 L8,19 L8,23 L6,23 L6,19 Z M22,7 L24,7 L24,11 L22,11 L22,7 Z M22,13 L24,13 L24,17 L22,17 L22,13 Z M22,19 L24,19 L24,23 L22,23 L22,19 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="20px" height="16px" viewBox="0 0 20 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-573.000000, -35.000000)" fill="#000000"><g transform="translate(568.000000, 28.566406)"><g transform="translate(5.000000, 7.000000)"><polygon points="0 0 6 0 6 7 0 7"></polygon><polygon points="0 8 6 8 6 15 0 15"></polygon><polygon points="7 8 13 8 13 15 7 15"></polygon><polygon points="14 8 20 8 20 15 14 15"></polygon><polygon points="14 0 20 0 20 7 14 7"></polygon><polygon points="7 0 13 0 13 7 7 7"></polygon></g></g></g></g></svg>'},function(e,t){e.exports='<svg width="19px" height="14px" viewBox="0 0 19 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-625.000000, -37.000000)" fill="#000000"><g transform="translate(619.304688, 28.566406)"><g transform="translate(6.000000, 9.000000)"><path d="M0,0 L3,0 L3,3 L0,3 L0,0 Z M5,0 L18,0 L18,3 L5,3 L5,0 Z M5,5 L18,5 L18,8 L5,8 L5,5 Z M5,10 L18,10 L18,13 L5,13 L5,10 Z M0,5 L3,5 L3,8 L0,8 L0,5 Z M0,10 L3,10 L3,13 L0,13 L0,10 Z"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9,7 L6,7 L6,11 L9,11 L9,13 L6,13 L6,17 L9,17 L9,19 L6,19 L6,23 L9,23 L9,24 L10,24 L10,23 L12,23 L12,19 L10,19 L10,17 L12,17 L12,13 L10,13 L10,11 L12,11 L12,7 L10,7 L10,6 L9,6 L9,7 L9,7 Z M20,7 L18,7 L18,11 L20,11 L20,13 L18,13 L18,17 L20,17 L20,19 L18,19 L18,23 L20,23 L20,24 L21,24 L21,23 L24,23 L24,19 L21,19 L21,17 L24,17 L24,13 L21,13 L21,11 L24,11 L24,7 L21,7 L21,6 L20,6 L20,7 L20,7 Z M9,5 L21,5 L21,6 L9,6 L9,5 Z M9,24 L21,24 L21,25 L9,25 L9,24 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M19,7 L19,23 L11,23 L11,7 L19,7 L19,7 Z M21,5 L9,5 L9,25 L21,25 L21,5 L21,5 Z M5,8 L9,8 L9,10 L5,10 L5,8 L5,8 Z M5,14 L9,14 L9,16 L5,16 L5,14 L5,14 Z M5,20 L9,20 L9,22 L5,22 L5,20 L5,20 Z M21,8 L25,8 L25,10 L21,10 L21,8 L21,8 Z M21,14 L25,14 L25,16 L21,16 L21,14 L21,14 Z M21,20 L25,20 L25,22 L21,22 L21,20 L21,20 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.903,9.764 L2.15,12.628 C1.716,12.702 1.426,13.11 1.501,13.539 L3.631,25.857 C3.705,26.286 4.116,26.575 4.549,26.501 L21.302,23.639 C21.734,23.565 22.024,23.157 21.949,22.726 L19.82,10.41 C19.746,9.979 19.335,9.691 18.903,9.764 L18.903,9.764 Z M5.062,24.81 L3.202,14.051 L18.388,11.456 L20.249,22.215 L5.062,24.81 L5.062,24.81 Z M13.63,20.847 L9.378,17.006 L5.916,23.417 L18.847,21.207 L15.21,17.923 L13.63,20.847 L13.63,20.847 Z M15.015,16.681 C15.919,16.526 16.525,15.674 16.369,14.776 C16.214,13.878 15.356,13.276 14.452,13.429 C13.548,13.583 12.942,14.437 13.098,15.334 C13.254,16.231 14.111,16.835 15.015,16.681 L15.015,16.681 Z M26.706,4.495 L9.707,4.495 C9.267,4.495 8.911,4.849 8.911,5.285 L8.911,9.91 L20.799,7.878 C21.231,7.805 21.642,8.093 21.717,8.523 L23.455,18.572 L26.706,18.572 C27.144,18.572 27.5,18.218 27.5,17.782 L27.5,5.284 C27.5,4.849 27.144,4.495 26.706,4.495 L26.706,4.495 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M25.492531,20.0300008 L17.571531,6.49200085 C16.419531,4.50100085 13.544531,4.50300085 12.396531,6.49600085 L4.50453098,20.0340008 C3.35753098,22.0260008 4.79553098,24.5130008 7.09353098,24.5130008 L22.907531,24.5130008 C25.207531,24.5130008 26.644531,22.0220008 25.492531,20.0300008 L25.492531,20.0300008 Z M8.98453098,22.5130008 C7.88053098,22.5130008 6.98453098,21.6180008 6.98453098,20.5130008 C6.98453098,19.4080008 7.88053098,18.5130008 8.98453098,18.5130008 C10.088531,18.5130008 10.984531,19.4080008 10.984531,20.5130008 C10.984531,21.6180008 10.088531,22.5130008 8.98453098,22.5130008 L8.98453098,22.5130008 Z M14.984531,11.5130008 C13.880531,11.5130008 12.984531,10.6180008 12.984531,9.51300085 C12.984531,8.40800085 13.880531,7.51300085 14.984531,7.51300085 C16.088531,7.51300085 16.984531,8.40800085 16.984531,9.51300085 C16.984531,10.6180008 16.088531,11.5130008 14.984531,11.5130008 L14.984531,11.5130008 Z M20.984531,22.5130008 C19.880531,22.5130008 18.984531,21.6180008 18.984531,20.5130008 C18.984531,19.4080008 19.880531,18.5130008 20.984531,18.5130008 C22.088531,18.5130008 22.984531,19.4080008 22.984531,20.5130008 C22.984531,21.6180008 22.088531,22.5130008 20.984531,22.5130008 L20.984531,22.5130008 Z"  transform="translate(-258 -98) translate(258 98)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M8.98809814,19 L8.98809822,25.0000009 L11.0264282,25.0000009 L11.0264282,20 L17.0618629,9.99999998 L17.0618629,6.06350992 L14.999742,6.06350992 L14.999742,8.99999998 L8.98809814,19 Z" transform="translate(-918 -98) translate(918 98)"/><path d="M6.99999999,15.0396727 L6.99999999,25.0000008 L4.99999991,25.0000008 L4.99999999,14.0129393 L7.99798304,9.00367404 L7.99060058,5.94566997 L10,5.94566997 L10,9.99999984 L6.99999999,15.0396727 Z" transform="translate(-918 -98) translate(918 98)"/><path d="M15.5315552,24.9999998 L13.072815,25.0000008 L22,9.00000008 L22,5.94566997 L24,5.94566997 L24,9.99999984 C20.9646633,15.0679598 15.5315552,24.9999998 15.5315552,24.9999998 Z" transform="translate(-918 -98) translate(918 98)"/><path d="M6.25,6.42458404 L9,8.06350992 L11.75,6.42458404 L9.00103112,4.78778525 L6.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"/><path d="M13.25,6.42458404 L16,8.06350992 L18.75,6.42458404 L16.0010311,4.78778525 L13.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"/><path d="M20.25,6.42458404 L23,8.06350992 L25.75,6.42458404 L23.0010311,4.78778525 L20.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"/></g></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M4,14.9335079 C4,10.7166071 4.33612773,10.3933184 4.33612773,10.3933184 C4.65675053,8.78155218 6.2598727,7.37855244 7.9055857,7.27014566 C7.9055857,7.27014566 11.4680057,6.97495747 15.0658321,6.97495747 C18.6636585,6.97495747 22.091672,7.26653304 22.091672,7.26653304 C23.7439209,7.38164267 25.3911201,8.78050146 25.6742366,10.4224241 C25.6742366,10.4224241 26,10.597765 26,14.9749575 C26,19.35215 25.6716514,19.5454289 25.6716514,19.5454289 C25.3467323,21.1633628 23.7447879,22.5784243 22.0888438,22.6971125 C22.0888438,22.6971125 18.3380351,23.0250425 15.0658317,23.0250425 C11.7936284,23.0250425 7.90587151,22.6931557 7.90587151,22.6931557 C6.25497926,22.5726482 4.61905127,21.1626085 4.34133283,19.5400523 C4.34133283,19.5400523 4,19.1504087 4,14.9335079 Z M13,18 L13,12 L18,15 L13,18 Z"  transform="translate(0 0)" fill-rule="evenodd"/></svg>'},function(e,t){e.exports='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g  fill-rule="evenodd"><path d="M9,19 L21,19 L21,11 L9,11 L9,19 L9,19 Z" transform="translate(-618 -318) translate(618 318)"/><path d="M7,11 L7,9 L11,9 C11.547,9 11.99,8.557 11.99,8.01 L11.99,7.99 C11.99,7.443 11.547,7 11,7 L6.398,7 C5.626,7 5,7.626 5,8.398 L5,11 C5,11.547 5.443,11.99 5.99,11.99 L6.01,11.99 C6.557,11.99 7,11.547 7,11 L7,11 Z" transform="translate(-618 -318) translate(618 318)"/><path d="M19,9 L23,9 L23,11 C23,11.547 23.443,11.99 23.99,11.99 L24.01,11.99 C24.557,11.99 25,11.547 25,11 L25,8.398 C25,7.626 24.374,7 23.602,7 L19,7 C18.453,7 18.01,7.443 18.01,7.99 L18.01,8.01 C18.01,8.557 18.453,9 19,9 L19,9 Z" transform="translate(-618 -318) translate(618 318)"/><path d="M11.01,21 L7,21 L7,19 C7,18.453 6.557,18.01 6.01,18.01 L5.99,18.01 C5.443,18.01 5,18.453 5,19 L5,21.602 C5,22.374 5.626,23 6.398,23 L11.01,23 C11.557,23 12,22.557 12,22.01 L12,21.99 C12,21.443 11.557,21 11.01,21 L11.01,21 Z" transform="translate(-618 -318) translate(618 318)"/><path d="M23,19 L23,21 L18.99,21 C18.443,21 18,21.443 18,21.99 L18,22.01 C18,22.557 18.443,23 18.99,23 L23.602,23 C24.374,23 25,22.374 25,21.602 L25,19 C25,18.453 24.557,18.01 24.01,18.01 L23.99,18.01 C23.443,18.01 23,18.453 23,19 L23,19 Z" transform="translate(-618 -318) translate(618 318)"/></g></svg>'},function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="12.71" height="8.79" viewBox="0 0 12.71 8.79"><title>dropdown-arrow</title><g opacity="0.1"><path d="M12.71,2.44A2.41,2.41,0,0,1,12,4.16L8.08,8.08a2.45,2.45,0,0,1-3.45,0L0.72,4.16A2.42,2.42,0,0,1,0,2.44,2.48,2.48,0,0,1,.71.71C1,0.47,1.43,0,6.36,0S11.75,0.46,12,.71A2.44,2.44,0,0,1,12.71,2.44Z" fill="#231f20"/></g><path d="M6.36,7.79a1.43,1.43,0,0,1-1-.42L1.42,3.45a1.44,1.44,0,0,1,0-2c0.56-.56,9.31-0.56,9.87,0a1.44,1.44,0,0,1,0,2L7.37,7.37A1.43,1.43,0,0,1,6.36,7.79Z" fill="#fff"/></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" style="padding:9px 4px 8px 4px" viewBox="0 0 52 31" preserveAspectRatio="xMidYMid meet"><path d="M0 1.4L0 23.2C0 24.7 0.5 25.4 1.5 25.4 2.9 25.4 4.4 25.4 5.8 25.4L5.8 25.4C6.4 25.4 6.9 25.6 7.3 26L10.5 29.4 10.5 29.4C10.9 29.8 11.4 30 12 30L17.6 30 17.6 30C18.2 30 18.7 29.8 19 29.5L22.6 26 22.6 26C23 25.6 23.5 25.4 24.1 25.4L49.6 25.4C50.7 25.5 51.2 24.9 51.2 23.6 51.2 22.4 51.2 15.1 51.2 1.8 51.3 0.6 50.7 0 49.5 0 41.1 0 32.6 0 24.2 0L24.2 0C23.6 0 23.1 0.2 22.7 0.6L19.4 3.9 19.4 3.9C19.1 4.3 18.5 4.5 18 4.5L12 4.5 12 4.5C11.4 4.5 10.8 4.2 10.5 3.8L7.5 0.7 7.5 0.7C7.1 0.3 6.6 0.1 6.1 0.1 3.5 0 1.9 0 1.2 0.1 0.5 0.2 0.1 0.6 0 1.4Z"/></svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="repeat" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve">\n<style type="text/css">\n	.st0{fill:#CF8B17;}\n	.st1{fill:#FFFFFF;}\n</style>\n<title>repeat</title>\n<path class="st0" d="M23.3,11c-0.3,0.6-0.9,1-1.5,1h-1.6c-0.1,1.3-0.5,2.5-1.1,3.6c-0.9,1.7-2.3,3.2-4.1,4.1\n	c-1.7,0.9-3.6,1.2-5.5,0.9c-1.8-0.3-3.5-1.1-4.9-2.3c-0.7-0.7-0.7-1.9,0-2.6c0.6-0.6,1.6-0.7,2.3-0.2H7c0.9,0.6,1.9,0.9,2.9,0.9\n	s1.9-0.3,2.7-0.9c1.1-0.8,1.8-2.1,1.8-3.5h-1.5c-0.9,0-1.7-0.7-1.7-1.7c0-0.4,0.2-0.9,0.5-1.2l4.4-4.4c0.7-0.6,1.7-0.6,2.4,0L23,9.2\n	C23.5,9.7,23.6,10.4,23.3,11z"/>\n<path class="st1" d="M21.8,11h-2.6c0,1.5-0.3,2.9-1,4.2c-0.8,1.6-2.1,2.8-3.7,3.6c-1.5,0.8-3.3,1.1-4.9,0.8c-1.6-0.2-3.2-1-4.4-2.1\n	c-0.4-0.3-0.4-0.9-0.1-1.2c0.3-0.4,0.9-0.4,1.2-0.1l0,0c1,0.7,2.2,1.1,3.4,1.1s2.3-0.3,3.3-1c0.9-0.6,1.6-1.5,2-2.6\n	c0.3-0.9,0.4-1.8,0.2-2.8h-2.4c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.3,0.2-0.4l4.4-4.4c0.3-0.3,0.7-0.3,0.9,0L22,9.8\n	c0.3,0.3,0.4,0.6,0.3,0.9S22,11,21.8,11z"/>\n</svg>\n'},function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><defs><style>.cls-1{fill:#231f20;opacity:0.15;}.cls-2{fill:#fff;}.cls-3{opacity:0.75;}.cls-4{fill:none;stroke:#575e75;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}</style></defs><title>zoom-in</title><circle class="cls-1" cx="18" cy="18" r="18"/><circle class="cls-2" cx="18" cy="18" r="16"/><g class="cls-3"><circle class="cls-4" cx="18" cy="18" r="7"/><line class="cls-4" x1="23" y1="23" x2="26" y2="26"/><line class="cls-4" x1="16" y1="18" x2="20" y2="18"/><line class="cls-4" x1="18" y1="16" x2="18" y2="20"/></g></svg>'},function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><defs><style>.cls-1{fill:#231f20;opacity:0.15;}.cls-2{fill:#fff;}.cls-3{opacity:0.75;}.cls-4{fill:none;stroke:#575e75;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}</style></defs><title>zoom-out</title><circle class="cls-1" cx="18" cy="18" r="18"/><circle class="cls-2" cx="18" cy="18" r="16"/><g class="cls-3"><circle class="cls-4" cx="18" cy="18" r="7"/><line class="cls-4" x1="23" y1="23" x2="26" y2="26"/><line class="cls-4" x1="16" y1="18" x2="20" y2="18"/></g></svg>'},function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><defs><style>.cls-1{fill:#231f20;opacity:0.15;}.cls-2{fill:#fff;}.cls-3{opacity:0.75;}.cls-4{fill:#575e75;}</style></defs><title>zoom-reset</title><circle class="cls-1" cx="18" cy="18" r="18"/><circle class="cls-2" cx="18" cy="18" r="16"/><g class="cls-3"><rect class="cls-4" x="13" y="14" width="10" height="2" rx="1" ry="1"/><rect class="cls-4" x="13" y="20" width="10" height="2" rx="1" ry="1"/></g></svg>'},function(e,t){e.exports="iVBORw0KGgoAAAANSUhEUgAAAGAAAAB8CAYAAACWjLXYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA+vSURBVHic7Z19cBzlfce/v73TvWD8IicYHDL4LcRgYAI2ttPGKcHOtJ0hvDXExZSQ9J9oOp1A41jau5Ox17V1t3dyFNAw03g6k6HgBLBDB9PyMkljQ+xS8FtLEpwWv2CbBAJObIyw7iTd7rd/7J58Ou2e9u50OlnsZ+ZGq919nu8+z3f3ed27B/C54FgCQOoU99I6xTshmAlgCwADQKBOGnkA2wDMqlP8FyRNAB4AcBYA7U+pAQthGUOPHxPAMgetQhznAGgAoqOakguQWwEcwfAMdHoCfuhwntvncRe9UhPfBnAf6lfkjVuuAvAC3DPQyYBLMfQpcfucA3CFi67bU/QSgOtrTtUFwHQADwMYQPlMdKsDYiOEI4C1ZfTLFWMGgMdgGT3hCAL4FoBT8FaEuBkQAvBmmXAnAVxU5jq81CNnAKgAwtUkdLyhlPzPGuPrB9BW5vhqAL01akxoai2CCrzoEGYPRq5MP7ZFUClXAXge1RuwAENNNAAs8qBbrhL+XIVpmBBU0gwt5ZGi87d41POboQ546Yg50QzgD3a4yzxqlXbEIhVe64SmmqGIb8OqeL3iD0V4oJLBuCCspqlX/ME4Hx+fcpBcQrK0AzdacX++HvFOCEjOJLmFpEGyLvMBJPMkt5H0K+ECJEMkHyB5lucJlJxzg22MV0ySw+YDiuI4R1InefEoJWMmrF70349SfGMDyVtJHnXIwGFPAMkfVmDAYy56pSa+TfI+krV0xCIADgJ4BlarbPxD8iqSL5TJQCcDLiX5gYfMP0fScT7AwYACr5Kston6T7BGaCdXGX7sIDmd5MMkB0bIRMc6gKTqwYD2MvrlijGD5GMkKxmMuwnWCO2NFWbF2EIySPJbJE95yMByBoRIvlkm3EmSrvMBIxhQoIekRnKk+YAQgEOwRnfHLaM6HyAiI84HiEit8wF5AFk4X+unAXzS3v6mvb2+Rr2xg2QzayiCiuJ50SHMHo5QmY7wBBSKoBllovgVgD8CmA/gGMpPf45fSM4n+XwNBiwg2V+SeSPOB5QxYBdJL/MBfw7rCTkNoAfWBNOFC61m6JFKDbDDPlJ0/g886pUacJLkfRVedjus4qmrwnDjE5JNHKEj5hKumeQf7HCe5gM4tCOmkaxmPkBgTVvW6+29xsDzQxF5LwbYYb5N0vN8AM8PRbi9N+RDcjE99kxpNW89zweQXFL9lfn4+Pj4+Pj4+Pj4eKTqmSZd168AsAvA3KqERd4WkZvb2tqOVnsNE4GqDKg18wfFfRMqN2C0Mn/wAj7mJgwaoOv6AC6ASetcLhfQNM1s9HWMFnV5wcrHO74BDcY3oMH4BjQY3wAfH58G4toR8zrtOBaISK1fIB+3OGayrusGxlH9MNE6X8WMm0z+uOJmwLgpfiY6jgaMp/J/ouNogMi4y/8JW1RO2IRdKPgGNBjfgAbjG9BgfAMajG9Ag/ENaDC+AQ3GN6DB+AY0GN+ABuMb0GB8AxqMb0CDuSAMWLBgwYSdE3YzwBjTqxiBQ4cOfewM8BkjfAMajG9Ag/ENaDC+AQ3GN6DB+AY0GN+ABuMb0GB8AxqMb0CD8Q1oML4BDcY3oMH4BjQY34AG4xvQYNwM+HBMr6I8PRP1G5KAuwE/H9OrKIOIvNjoa6gnbl/Si8P6Df5GcxqVLQZ6weFoQDweP0Jr1aJtsNZwH2vOiMh2kktVVf1tA/THjJq+Dqnr+m4AoVgsVvdVUDVNi0QikRUAbgewENaSt5+wD58GcBzWemE7crnczzVNy9VZfzbOr9DxRwAnROQAyWcr0a/VgDyAwNy5c4MrV66sy6ssmzZturypqWkdyXsAeF1Z7yMAT+Tz+Q1r1679Xa36wWBwPYBV9dAftwZ0dXVF+/r6HhSRBwBcBGtZkv0issMwjJ1NTU1H16xZcwoANm/efMnAwMA8RVFuBnAHrHXDBEAvyYfD4fDG1atXZyvV7+/vXwfg/mJ9AM+YprnLqz6Ah3K53Ea3J6JiA7Zs2dJ05syZpSIyh+SjABQR+aaIHJs6deqrLS0tA5XGWUo6nf4UyWcALIaV8KdIPhiPx494CZ9KpT4jIhsB/DWsNO4TkTtUVX2nGn0ReVJEHvT605oO+ntF5E4nfc8GpFKpGwB8V0RuATDN5bQPADxPsisejx/wGncxuq5/DsBzAC4HcEREVqmqur+auNLp9I0knwDwGQDvKIpyS1tb2/+UC5PJZK43TfM5AJ8CcJjkqmrTkkqlFovIj2393ymK8pVS/RENSCaTlyiK8hCAu2G3mkj+EsDriqL83l50Z6aIXAfgejsYReRJRVH+obW19X2vF5zJZC4zTXMfgE+T3E3yq4lE4pTX8E50dXVN7+/vfwrAlwG8KyJL3FpWHR0dMwOBwN466G8DsMJJv6wBuq5fB2AHgDkAsiLSrSjKltbW1reczk+lUrNFpAV2uUnyhIjcHovFXvdwodH+/v6XYK1Zv6u5ufkvRqM4AwaLzRdgZcK+UCh0U2mdYOu/DKvY2dnc3PyXo6z/IoDlAPbmcrmbCnWC61hQR0fHtQD2wMr8V/L5/HxVVWNumQ8A8Xj8eCwWi+fz+c8C2CMiswDstouVsvT19bXDyvwjoVDortFKPAC0tLQMhEKhlQCOAFhsaw2hv79/LazMPxIKhb5WB/2vATgKYEkkEhnUd3wC7GLnNQBzRGR7NBr9+v33399XiaimaaFoNPooyVUkTwSDwSVuxZH96B8GcJGIfF5V1b1eNJLJ5FIASiKR+C8v56fT6SUkX4X1NF9ZqBTtSvcwgCjJpfF4fJ+3VFZGkX6vYRhXtre3v+v4BCiK0gXrzt/f1NT0jUozHwA0TeufNm3aN0i+LCKzDMP4vtu5wWBwHYBJALZ7zXz7On+qKMrPvP6+kaqqe0VkG6zicV1hv719kYhsq1fmF/QBbAcwyU7z8CLILi7uAZALBoN3Vdp+LqalpWVAUZR7Ya1+encmk1lYeo6maSG7k0XTNB+sUOJiAJM2bNjguTVnGMY6WE3bVd3d3eHu7u4wrE4WRaRS/Yqx00iS92iaFhpmAMnvwDLmkTVr1pxwi0jTtCnpdHpFKpX6sq7rU93OU1X1tyLSDUAxDGPYwFo4HF4OYAqAg4lE4s1qElUJtsZBAFN6e3uX9/b2FvQPtLW1HR4j/f8GMCUcDi8fYsC2bdsCdjsfpmn+s1MEJEXX9UQkEvk9yf8QkZ8BeFfX9bVuRYFpmj8AABH5iqZppSvr3Wr/fbaGdFWEiOyw/95W0BeRMdOH1bKEiNw2xIC33nprMaxFkA+53Y3pdFoF0AEgWrQ7CmBjJpNJOIWJx+PHYa31OzUSiQxZrlBEFgGAoii7qkpKFZDcZf9dCGBR8b6xoCitC4cYQHK2vflLp4Capl2MMoskk2zXNG2Ky+FCX2B2yf45ADAwMOBpmGE0MAyjUNTMKegrijJm+gAG9YOpVOoXIvLFkhPedQoViUQWwmqtuBENh8M3AtjpcKwwDvK4ruuP29uvAZgKAJMnT3acALK78y/BGhBzJBKJGLqul+7uFZEVqqq+WnpgYGDgTCAQQEEbAHp7ex317abjrnL6LvSaprk8kUi85nC9Z3p7ewFgqiIixR2OwtyrY1muKMqI31Ysc05phW+gaG3406dPO2oGAgED1X1rM4vz6RnC9OnTi7XosK8Ys0r9XhFx1C9OazAWi60o/KPr+koAT8EaiBqGiByEtVT4ZBfRc7CGbJ0oxPk3sVjsx0Wa7wGIRKPR6Tj/lAzS1tZ2EFYrZRiFn1iu9KeNc7lcs7151v57SU9Pz3Q4PPn2QKBbsVoVTU1Ng/pD7koROW5vOg4dtLa2ngOguUVMcoOqqj0uhwtxHi/Zf8zWvtL1ikcZ0zQ/W6R9DAACgcCY6Tc1NQ3qDzEgm83uB/AegPnpdHq+U+BYLNYlIt/B0FdXekiuicVim53CZDKZeQCuAXA6l8sN6emS3A8Apmkuryo1VUCyoLXf/hTvqzuFtJLcP8QA+zF+zj74d24RqKr6UCgUusw0zWWmaS7L5XKXxePx77n9zHxRXP+uaVq++JiiKIX29+1VpqdiROQO++8Oks/a22OmT/IOe3PHsIpH1/VrYDUZDUVRFtS6wJo9RP0bAKFAIHBDa2vrkCauPVT7PoBppmlek0gkDnmNu5o6IJlMLlAU5Q0AZ3O53AwAiEQi7wOYKiILVFX9jefEVUGR/gfNzc0zhg1FxGKxNwD8C4CQaZrbNU2rtPk1iKZpERF5EkAEwGOlmQ9Y40UktwKAoiibKpToAfDR+vXrPf+WRJHGVk3T+jVN6wewFQBIVqpfMYqidNhaW1taWgbcXsxaA6uzcEM4HH6iGhO6urqikUjkRwCWAjgaCoW+63ZuMBjcCCsz70wmk1/wqqEoypcURbnJ6wobdtx3AugxDGNjYb+9/RGAO3Vd/1Ov+pWi6/oyWJP2PXaa3WfEksnkVYqivAKgGcABkndXMCk+177zFwP4wDTNL4xUtOi6vg7AhpHmDqolmUxeIiL77Emi9bFY7B+Lj6fT6fUkNQDHTdNcUutUZCmdnZ0z8vn8XhGZJSLrVFXdCJSZEUskEv8rIn8C60lYJCJvpFKph9Pp9NVuYdLp9NW6rj9kl/mLARzxkvkAkMvldNizaIZhPG0PE48KmqaFRORpO/P32FpDyGazKRH5TwCzRWRU9bu7u8P5fP4nBf1sNpsuHBtxHD2VSjUripIh+bcAAvbuwwBeJ/mO/fhfDqudX2hLGwAeDYVCbatXr/b8jmkymfyEoih7Ya3U+ophGH/V3t7+ntfwTmzevPmT+Xx+O4AvAThpGMYStzjtc1+rp34gEFhc/HR7nshIp9NX23MFtwG41OW0U7CGlb9vV+YVo+v6NSSfE5FZJE8EAoGvt7W17a4mrkwm80XDMB6377yThmHc0t7e/utK9EXk3lgstqdafdM0twK4wo7rltJ8qfjFLE3TlGg0uhDAbJJPAVBI3g3g2Lx58w6OxhtynZ2dMwzDeBrAMnvXDsMw1o6UeQXspnQHzvct9gQCga96rVc6OztnmKb5ryQLDYJnAKz1elN1dHRcGwgENhX0Se4OBoN3OemP21cTNU0LRSKRNgCtsMdiROTXpmnuALDTMIz/y+fzZydNmsS+vr5pgUBgPoDl9iTLdXY0HwLozOVyGbu5WZF+NBpVSbbi/NjXrwDsEJGdAwMDbzrpK4pyO8lrC/oikslms51u+uPWgAJ262WtiNyL828jj8RpkltJbqq1NVNv/VoN+CmAplgsdnMt8XhB07RgOBz+M/sOXwTrdb/CnfkhrHduDojIv2Wz2ZdLhzxGU19EbiQ5z0mf5LN9fX2/8Kr//6lZJgHNanPhAAAAAElFTkSuQmCC"},function(e,t,i){var n={};n.circuitscribe_view=i(132),n.drawing_aids=i(133),n.layers=i(134),n.layers_list=i(135),n.add_component=i(136),n.all_search_results=i(137),n.bom=i(138),n.bom_table=i(139),n.breadboard=i(140),n.circuit_editor=i(141),n.circuitscribe_add_component=i(142),n.circuitscribe_add_footprint=i(143),n.circuitscribe_all_components_search_results=i(144),n.circuitscribe_all_footprints_search_results=i(145),n.circuitscribe=i(146),n.code_editor=i(147),n.components_search_results=i(148),n.footprint_search_results=i(149),n.footprint_selector=i(150),n.menu_edit=i(151),n.menu_map=i(152),n.menu_render=i(153),n.menu_sub_breadboard=i(154),n.menu_sub_circuitscribe=i(155),n.menu_sub_other=i(156),n.menu_sub_pcb=i(157),n.menu_sub_schematic=i(158),n.menu_view=i(159),n.modal_dialog=i(160),n.pcb=i(161),n.schematic=i(162),n.settings=i(163),n.chat=i(164),n.dialogue=i(165),n.error=i(166),n.ignite_lesson=i(167),n.instructables_lesson=i(168),e.exports=n},function(e,t){e.exports="<div class='drawing_aids overlay_box js-circuitscribe_view circuitscribe hide'>\n  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>\n    <div class='overlay_box__top__title float'>View</div>\n  </div> \n  <div class='overlay_box__body'>\n    <div class='overlay_box__item overlay_box__item--cursor non-selectable js-toggle_modules_visibility clearfix'>\n      <div class='overlay_box__eye float action'>\n        <div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>\n      </div>\n      <div class='overlay_box__title float'>Modules</div>\n    </div>\n    <div class='overlay_box__item overlay_box__item--cursor non-selectable js-toggle_paper_visibility clearfix'>\n      <div class='overlay_box__eye float action'>\n        <div class='js-eye-icon'><span class='js-eye-active hide'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>\n      </div>\n      <div class='overlay_box__title float'>Paper</div>\n    </div>\n  </div>\n</div>"},function(e,t){e.exports="<div class='drawing_aids overlay_box overlay_box--dark js-drawing_aids pcb hide'>\n  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>\n    <div class='overlay_box__top__title float'>View</div>\n  </div> \n  <div class='overlay_box__body js-drawing_aids__body'>\n    <div class='drawing_aids__aid clearfix'>\n      <div class='drawing_aids__aid__eye float action js-toggle_grid_visibility'>\n        <div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>\n      </div>\n      <div class='drawing_aids__aid__title float'>Grid</div>\n      <div class='drawing_aids__aid__settings right action js-grid-settings'><%= embedded_svg(\"icon-settings-small.svg\") %></div>\n    </div>\n    <div class='drawing_aids__aid clearfix'>\n      <div class='drawing_aids__aid__eye float action js-toggle_board_visibility'><div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div></div>\n      <div class='drawing_aids__aid__title float'>Board</div>\n      <!-- <div class='drawing_aids__aid__settings right action js-board-settings'><%= embedded_svg(\"icon-settings-small.svg\") %></div> -->\n    </div>\n  </div>\n</div>"},function(e,t){e.exports="<div class='layers overlay_box overlay_box--dark js-layers pcb hide'>\n  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>\n    <div class='overlay_box__top__title float'>Layers</div>\n    <div class='overlay_box__top__settings right'>\n        <!-- <a href=\"#settings\"><%= embedded_svg( 'icon-settings-small.svg' ) %></a> -->\n    </div>\n  </div> \n  <div class='overlay_box__body js-layers__body'></div>\n</div>"},function(e,t){e.exports="<% layers.forEach(function(layer){ %>\n<div>\n    <div class='layers__layer clearfix js-layers__layer' data-layer='<%= layer.index %>'>\n        <div class='layers__layer__title float'><%= layer.name %></div>\n        <div class='layers__layer__colorcirle js-layers__layer__colorcirle right' style=\"background-color: <%= layer.color %>\"></div>\n    </div>\n</div>\n<% }); %>\n"},function(e,t){e.exports='<!-- SEARCH OVERLAY -->\n<div class=\'overlay_container js-component_search_container <%= circuit_type %>\'>\n	<div class=\'overlay_container__top\'>\n		<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-breadboard\'>\n			<a id="BASIC_COMPONENTS_ID" class=\'overlay_container__tab js-analytics\' data-event="show-basic-components" data-ref="basic-components">Basic Components</a>\n			<a class=\'overlay_container__tab js-analytics\' data-event="show-basic-components" data-ref="basic-components-list">Basic Components</a>\n			<a id="ALL_COMPONENTS_ID" class=\'overlay_container__tab js-analytics\' data-event="show-all-components" data-ref="all-components">All Components</a>\n			<a class=\'overlay_container__tab js-analytics\' data-event="show-all-components" data-ref="all-components-list">All Components</a>\n			<a id="STARTERS_ID" class=\'overlay_container__tab js-analytics\' data-event="show-starters" data-ref="starter-circuits">Starters</a>\n            <a class=\'overlay_container__tab js-analytics\' data-event="show-starters" data-ref="starter-circuits-list">Starters</a>\n        </div>\n		<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-schematic\'>\n			<a class=\'overlay_container__tab\' data-ref="123d-components">123D Components</a>\n			<a class=\'overlay_container__tab\' data-ref="all-components">All Components</a>\n			<a class=\'overlay_container__tab\' data-ref="my-components">My Components</a>\n		</div>\n		<div class=\'overlay_container__search_controls\'>\n			<div class=\'overlay_container__searchbox\'>\n				<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-component_search" method="get">\n					<input name="utf8" type="hidden" value="✓">\n					<input class="text-input text-input--s js-analytics" data-event="component-search" id="q" name="q" placeholder="Search" type="text">\n					<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\n						<%= embedded_svg("icon-search.svg") %>\n					</button>\n					<a class="overlay_container__searchbox__btn js-search-clear__btn js-analytics hide" data-event="component-search-clear">\n						<%= embedded_svg("icon-close.svg") %>\n					</a>\n				</form>\n			</div>\n			<div class=\'overlay_container__right_btn\'>\n				<div class="overlay_container__svg_block_btn js-component-list js-analytics" data-event="show-component-list"><%= embedded_svg("icon-view-list.svg") %></div>\n				<div class="overlay_container__svg_block_btn js-component-grid js-analytics hide" data-event="show-component-grid"><%= embedded_svg("icon-view-grid.svg") %></div>\n			</div>\n		</div>\n	</div>\n	<div class=\'overlay_container__inner js-component_search_inner\'>\n		<div data-rel=\'basic-components\' class=\'clearfix\'></div>\n		<div data-rel=\'basic-components-list\' class=\'clearfix\'></div>\n		<div data-rel=\'123d-components\' class=\'clearfix\'></div>\n        <div data-rel=\'all-components\' class=\'clearfix hide\'></div>\n        <div data-rel=\'all-components-list\' class=\'clearfix hide\'></div>\n        <div data-rel=\'starter-circuits\' class=\'clearfix hide\'></div>\n        <div data-rel=\'starter-circuits-list\' class=\'clearfix hide\'></div>\n		<div data-rel=\'my-components\' class=\'clearfix hide\'></div>\n        <div data-rel=\'arduinokit\' class=\'clearfix\'></div>\n        <div data-rel=\'dfrobotkit\' class=\'clearfix\'></div>\n	</div>\n</div>\n'},function(e,t){e.exports="  <table class=\"search_results__table\">\n    <% results.forEach(function(result){ %>\n        <tr class='search_results__row'>\n        <% if (result.description == 'category') { %>\n          <td colspan=\"4\">\n            <p class='search_overlay__list_category'><%= result.name %></p>\n          </td>\n        <% } else { %>\n          <td class='search_results__thumb'>\n              <% if ( result.thumbUrl ) { %>\n                <img src=\"<%= result.thumbUrl %>\" class=\"search_results__thumb__img\"/>\n              <% } %>\n          </td>\n          <td class='search_results__name'>\n              <%= result.name %>\n              <div class=\"search_results__tags hidden\">\n              <% if (result.tags){ %>\n              <%= result.tags.join(' ') %>\n              <% } %>\n              </div>\n          </td>\n          <td class='search_results__description'><%= result.description %></td>\n          <td class='search_results__add'>\n            <a class='btn btn--s btn--accent_white_accent js-add-component' data-type='<%= (result.type) ? result.type : null%>' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>Add</a>\n          </td>\n        <% } %>\n        </tr>\n    <% }); %>\n  </table>\n"},function(e,t){e.exports='<div id="bomTab" class=\'guiTab\'>\n  <div class="bom__container">\n\n    <div class="bom__loading"></div>\n    <div class="bom__inner js-bom-table-target">\n    </div>\n\n    <form action="/circuits/export_bom.csv" method="post" target="_blank" class=\'js-bom-download-csv-form\'>\n      <input type=\'hidden\' name=\'data\' class=\'js-bom-download-csv-form-data\'>\n    </form>\n\n    <a class="js-bom-download-csv-internal hidden"></a>\n\n  </div>\n</div>\n'},function(e,t){e.exports='<table class="bom__table js-bom-table">\n\n    <tr class=\'bom__table__heading\'>\n        <th>Name</th>\n        <th class="bom__table__column_quantity">Quantity</th>\n        <th class="bom__table__column_component">Component</th>\n    </tr>\n\n    <% bom.forEach(function(material) { %>\n    <tr class=\'bom__table__row\'>\n        <td><%= material.ids.split(\',\').join(\'<br>\') %></td>\n        <td class="bom__table__column_quantity"><%= material.nr %></td>\n        <td class="bom__table__column_component"><%= material.properties %> <%= material.device_name %></td>\n    </tr>\n    <% }, this) %>\n\n</table>\n'},function(e,t){e.exports="<div id='breadboardTab' class='guiTab non-selectable'></div>"},function(e,t){e.exports='<div class="js-tpl-target__menu"></div>\n\n<div class="<%= ( mode != 3) ? "editor" : "" %> js-root_container" -->\n\n    <div class="js-tpl-target__menu_sub"></div>\n\n    <% if ( mode == 1 ) { %>\n        <div class=\'editor__content js-editor__content\'>\n    <% } %>\n\n        <!-- BREADBOARD -->\n        <% if ( model.meta(\'circuit_type\') == \'breadboard\' ) { %>\n            <div class="js-tpl-target__breadboard"></div>\n        <% } %>\n\n        <!-- CIRCUITSCRIBE -->\n        <% if ( model.meta(\'circuit_type\') == \'circuitscribe\' ) { %>\n            <div class="js-tpl-target__circuitscribe"></div>\n        <% } %>\n\n        <!-- VIEW -->\n        <% if ( mode == 1 && model.meta(\'circuit_type\') == \'circuitscribe\') { %>\n            <div class="js-tpl-target__circuitscribe_view"></div>\n        <% } %>\n\n        <!-- SCHEMATIC -->\n        <div class="js-tpl-target__schematic"></div>\n\n        <!-- PCB -->\n        <div class="js-tpl-target__pcb"></div>\n\n        <!-- PCB LAYERS -->\n        <div class="js-tpl-target__layers"></div>\n\n        <!-- PCB DRAWING AIDS -->\n        <div class="js-tpl-target__drawing_aids"></div>\n\n        <!-- BOM -->\n        <div class="js-tpl-target__bom"></div>\n\n        <!-- SETTINGS -->\n        <% if ( mode == 1 ) { %>\n            <div class="js-tpl-target__settings"></div>\n        <% } %>\n\n        <!-- CHAT -->\n        <div class="js-tpl-target__chat"></div>\n\n        <!-- FOR COMPONENT / FOOTPRINT SEARCH -->\n        <div class="js-tpl-target__overlay"></div>\n\n        <!-- CODE EDITOR -->\n        <div class="js-tpl-target__code_editor"></div>\n\n     <% if ( mode == 1 ) { %>\n        </div>\n        <canvas class="js-tpl-target__render-canvas" width="725" height="453" display="none"></canvas>\n        <a class="js-tpl-target__render-download" display="none"></a>\n     <% } %>\n\n</div>\n\n<!-- DIALOG -->\n<div class="js-tpl-target__dialogue"></div>\n\n<!-- ERRORS -->\n<div class="js-tpl-target__error"></div>\n\n<!-- CIRCUIT DATA MODEL -->\n<div class="js-tpl-target__data_model"></div>\n'},function(e,t){e.exports='<!-- SEARCH OVERLAY -->\n<div class=\'overlay_container js-component_search_container circuitscribe\'>\n	<div class=\'overlay_container__top\'>\n		<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-circuitscribe\'>\n			<a class=\'overlay_container__tab\' data-ref="all-modules">All Modules</a>\n			<a class=\'overlay_container__tab\' data-ref="power">Power</a>\n			<a class=\'overlay_container__tab\' data-ref="input">Input</a>\n			<a class=\'overlay_container__tab\' data-ref="connect">Connect</a>\n			<a class=\'overlay_container__tab\' data-ref="output">Output</a>\n		</div>\n		<div class=\'overlay_container__searchbox\'>\n			<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-component_search" method="get">\n				<input name="utf8" type="hidden" value="✓">\n				<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\n				<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\n					<%= embedded_svg("icon-search.svg") %>\n				</button>\n				<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\n					<%= embedded_svg("icon-close.svg") %>\n				</a>\n			</form>\n		</div>\n	</div>\n	<div class=\'overlay_container__inner js-component_search_inner\'>\n		<div data-rel=\'all-modules\' class=\'clearfix\'></div>\n		<div data-rel=\'power\' class=\'clearfix hide\'></div>\n		<div data-rel=\'input\' class=\'clearfix hide\'></div>\n		<div data-rel=\'connect\' class=\'clearfix hide\'></div>\n		<div data-rel=\'output\' class=\'clearfix hide\'></div>\n	</div>\n</div>\n';
},function(e,t){e.exports='<!-- SEARCH OVERLAY -->\n<div class=\'overlay_container js-circuitscribe_footprint_search_container circuitscribe\'>\n	<div class=\'overlay_container__top\'>\n		<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-circuitscribe\'>\n			<a class=\'overlay_container__tab\' data-ref="circuitscribe-footprints">Footprints</a>\n		</div>\n		<div class=\'overlay_container__searchbox\'>\n			<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-circuitscribe_footprint_search" method="get">\n				<input name="utf8" type="hidden" value="✓">\n				<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\n				<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\n					<%= embedded_svg("icon-search.svg") %>\n				</button>\n				<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\n					<%= embedded_svg("icon-close.svg") %>\n				</a>\n			</form>\n		</div>\n	</div>\n	<div class=\'overlay_container__inner js-circuitscribe_footprint_search_inner\'>\n		<div data-rel=\'circuitscribe-footprints\' class=\'clearfix\'></div>\n	</div>\n</div>\n'},function(e,t){e.exports="<div class='search_overlay__results search_overlay__results--columns'>\n    <% results.forEach(function(result){ %>\n    <div class='search_overlay__result__column__item clearfix'>\n        <a class='js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>\n            <div class='search_overlay__result__column__item__inner'>\n                <div class='search_overlay__result__column__item__thumb'>\n                    <% if ( result.thumbUrl ) { %>\n                        <img src='<%= result.thumbUrl %>'></img>\n                    <% } %>\n                </div>\n                <div class='search_overlay__result__column__item__name'><%= result.name %></div>\n            </div>\n        </a>\n    </div>\n    <% }); %>\n</div>\n"},function(e,t){e.exports="<div class='search_overlay__results search_overlay__results--columns'>\n    <% results.forEach(function(result){ %>\n    <div class='search_overlay__result__column__item clearfix'>\n        <a class='js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>\n            <div class='search_overlay__result__column__item__inner'>\n                <div class='search_overlay__result__column__item__thumb'>\n                    <% if ( result.thumbUrl ) { %>\n                        <img src='<%= result.thumbUrl %>'></img>\n                    <% } %>\n                </div>\n                <div class='search_overlay__result__column__item__name'><%= result.name %></div>\n            </div>\n        </a>\n    </div>\n    <% }); %>\n</div>\n"},function(e,t){e.exports="<div id='circuitscribeTab' class='guiTab non-selectable'></div>\n\n<% if ( mode == 1 ) { %>\n  <div class='circuitscribe_buttons circuitscribe'>\n    <div class='js-breadboard_button'>\n      <a class='btn btn--m btn--background_base_borders js-einkTool' title='Conductive Pen Tool'>\n        <div class='btn__icon'><%= embedded_svg(\"icon-cs-conductiveink.svg\") %></div>\n        <div class='btn__txt'>Conductive Pen</div>\n      </a>\n    </div>\n  </div>\n<% } %>\n\n<form action=\"circuitscribe_print\" method=\"post\" target=\"_blank\" class='js-circuitscribe-download-pdf hide'>\n	<input name=\"authenticity_token\" type=\"hidden\" value=\"<%= model.meta('form_authenticity_token') %>\" />\n  <input type='hidden' name='svgdata' class='js-circuitscribe-download-pdf-svgdata'>\n  <input type='hidden' name='doc_width' class='js-circuitscribe-download-pdf-doc_width'>\n  <input type='hidden' name='doc_height' class='js-circuitscribe-download-pdf-doc_height'>\n</form>\n"},function(e,t){e.exports="<div class='overlay_container js-code_editor__container breadboard'>\n	<div class='overlay_container__top code_editor__top'>\n		<div class='float'>\n			<div class='code_editor__top__item float code_editor__selector js-code_editor__selector' data-rel='js-code_editor__select'>\n				<a class=\"clearfix disabled js-components-disabled js-analytics\" title=\"Select other programmable components\" data-event=\"component-switcher\">\n					<div class=\"code_editor__selector__text float js-code_editor__selector__text\">(None)</div>\n					<div class=\"code_editor__selector__icon float js-rotate-dropdown-arrow\"><%= embedded_svg(\"icon-dropdown-arrow.svg\") %></div>\n				</a>\n			</div>\n			<div class='code_editor__top__item float'>\n				<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code-editor__upload js-analytics' title=\"Upload and run simulation\" data-event=\"upload-and-run\">\n					<div class='btn__icon'>\n						<span class='js-code-editor__upload__icon'><%= embedded_svg(\"icon-uploadandsimulate.svg\") %></span>\n						<span class='js-code-editor__upload__spinner hide'></span>\n					</div>\n					<div class='btn__txt js-code-editor__button__text js-code-editor__upload__text'>Upload & Run</div>\n				</a>\n			</div>\n            <div class='code_editor__top__item float'>\n				<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code_editor__toggle_block_editor js-analytics' title=\"Toggle block programming mode\" data-event=\"toggle-block-mode\">\n					<div class='btn__icon'>\n						<span class='js-code-editor__block__icon'><%= embedded_svg(\"icon_scratch_blocks.svg\") %></span>\n					</div>\n					<div class='btn__txt js-code-editor__button__text'>Block</div>\n				</a>\n			</div>\n\n			<!--  <div class='code_editor__top__item float'>\n                <div class=\"code_editor_disabled disabled js-components-disabled js-code_editor__breakpoints__codeOpt\">\n                    <input class=\"js-code_editor__breakpoints__codeOpt_checkbox\" type=\"checkbox\"> Code Optimizations\n                </div>\n            </div> -->\n\n			<div class='code_editor__top__item code-editor__success-compiled float noOpacity js-code-editor__success-compiled'>Successfully compiled</div>\n\n		</div>\n		<div class='code_editor__right'>\n\n			<% if (edit) { %>\n				<div class='code_editor__top__item float'>\n					<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code_editor__toggle_libraries js-code_editor__toggle-btn js-analytics' title=\"Libraries\" data-rel='js-code_editor__libraries' data-event='libraries'>\n						<div class='btn__icon'><%= embedded_svg(\"icon-library.svg\") %></div>\n						<div class='btn__txt js-code-editor__button__text'>Libraries</div>\n					</a>\n				</div>\n			<% } %>\n\n			<div class='code_editor__top__item float'>\n				<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code-editor__download_code js-analytics' title=\"Download Code\" data-event=\"download-code\">\n					<div class='btn__icon'><%= embedded_svg(\"icon-doc-ino.svg\") %></div>\n					<div class='btn__txt js-code-editor__button__text'>Download Code</div>\n				</a>\n                <a class=\"js-code-editor__download_code_internal hidden\"></a>\n			</div>\n\n			<div class='code_editor__top__item float'>\n				<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code_editor__toggle_debugger js-code_editor__toggle-btn js-analytics' title=\"Debugger\" data-event=\"debugger\">\n					<div class='btn__icon cio-ui-icon'><%= embedded_svg(\"icon-debugger.svg\") %></div>\n					<div class='btn__txt js-code-editor__button__text'>Debugger</div>\n				</a>\n			</div>\n\n			<div class='code_editor__top__item float'>\n				<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-code-editor__button__anchor js-components-disabled js-code_editor__toggle_serial-monitor js-code_editor__toggle-btn js-analytics' title=\"Serial Monitor\" data-event=\"serial-monitor\">\n					<div class='btn__icon'><%= embedded_svg(\"icon-serialmonitor.svg\") %></div>\n					<div class='btn__txt js-code-editor__button__text'>Serial Monitor</div>\n				</a>\n			</div>\n\n		</div>\n\n\n	</div>\n\n	<div class='overlay_container__inner js-code_editor__inner'>\n		<div class='js-code_editor__content'>\n\n			<div class='js-code_editor__tab js-code_editor__none-found'>\n				<div class='code_editor__content__title-container'>\n					<div class='code_editor__content__title'>No programmable components found!</div>\n					<div class='code_editor__content__subtitle'>Add an Arduino or other microcontroller using the Components Overlay.</div>\n				</div>\n			</div>\n\n            <div class='js-code_editor__tab js-code_editor__block_editor hide hidden' style='min-width:65%;height:100%;min-height:100px;float:left;'>\n                <div class='js-code_editor__tab js-code_editor__blockly__area clearfix' style='height:100%;display:block;'>\n                </div>\n            </div>\n\n			<div class='js-code_editor__tab code_editor__texteditor js-code_editor__texteditor hide' style='position:inherit;'>\n				<textarea class=\"code_editor__textarea js-code_editor__textarea\"></textarea>\n			</div>\n\n			<div class='js-code_editor__tab js-code_editor__select hide'>\n				<div class='code_editor__content__title-container'>\n					<div class='code_editor__content__title'>Component Switcher</div>\n					<div class='code_editor__content__subtitle'>Overview of components that can be programmed using the code editor.</div>\n				</div>\n				<div class='js-code_editor__select__container'></div>\n\n				<div class='code_editor__select__option js-code_editor__select__option--template clearfix hide'>\n					<a class='js-code_editor__select__option__action'><div class='left js-code_editor__select__option__text'></div></a>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__select__option__action js-code_editor__select__option__btn'></a></div>\n				</div>\n\n			</div>\n\n			<div class='js-code_editor__tab js-code_editor__libraries hide' style='overflow-y:auto'>\n				<div class='code_editor__content__title-container clearfix'>\n					<div class='float code_editor__big_icon'>\n						<%= embedded_svg(\"icon-documentbox.svg\") %>\n					</div>\n					<div class='float'>\n						<div class='code_editor__content__title'>Libraries with compatible components</div>\n						<div class='code_editor__content__subtitle'>Libraries that interact with components available in the editor.</div>\n					</div>\n				</div>\n				<div class='code_editor__select__option clearfix'>\n					<div class='left code_editor__library-name'>EEPROM</div>\n					<div class='left code_editor__library-description'>Reading and writing to \"permanent\" storage</div>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='eeprom' data-event='library-eeprom'>Include</a></div>\n				</div>\n				<div class='code_editor__select__option clearfix'>\n					<div class='left code_editor__library-name'>IRremoteInterrupts</div>\n					<div class='left code_editor__library-description'>Interrupt based library to decode IR sensors</div>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='IRremoteInterrupts'  data-event='library-ir-interrupt'>Include</a></div>\n				</div>\n				<div class='code_editor__select__option clearfix'>\n					<div class='left code_editor__library-name'>IRremote</div>\n					<div class='left code_editor__library-description'>Library to decode IR sensors</div>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='IRremote' data-event='library-ir'>Include</a></div>\n				</div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>LiquidCrystal</div>\n                    <div class='left code_editor__library-description'>Controlling liquid crystal displays (LCDs)</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='liquidcrystal' data-event='library-liquid-crystal'>Include</a></div>\n                </div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>Keypad</div>\n                    <div class='left code_editor__library-description'>Allows reading keypad button pushes</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='keypad' data-event='library-keypad'>Include</a></div>\n                </div>\n				<div class='code_editor__select__option clearfix'>\n					<div class='left code_editor__library-name'>NeoPixel</div>\n					<div class='left code_editor__library-description'>Controlling NeoPixel LEDs</div>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='neopixel' data-event='library-neopixel'>Include</a></div>\n				</div>\n                <div class='code_editor__select__option clearfix'>\n					<div class='left code_editor__library-name'>Servo</div>\n					<div class='left code_editor__library-description'>Controlling servo motors</div>\n					<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='servo' data-event='library-servo'>Include</a></div>\n				</div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>Software Serial</div>\n                    <div class='left code_editor__library-description'>Allow serial communication on other digital pins of the Arduino</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='softwareserial' data-event='library-softwareserial'>Include</a></div>\n                </div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>Wire</div>\n                    <div class='left code_editor__library-description'>This library allows you to communicate with I2C / TWI devices</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='wire' data-event='library-wire'>Include</a></div>\n                </div>\n				<div class='code_editor__content__title-container clearfix'>\n					<div class='float code_editor__big_icon'>\n						<%= embedded_svg(\"icon-documentbox.svg\") %>\n					</div>\n					<div class='float'>\n						<div class='code_editor__content__title'>Other libraries</div>\n						<div class='code_editor__content__subtitle'>Libaries that can be included but have no effect in the simulator.</div>\n					</div>\n				</div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>SD</div>\n                    <div class='left code_editor__library-description'>The SD library allows for reading from and writing to SD cards</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='SD' data-event='library-sd'>Include</a></div>\n                </div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>SPI</div>\n                    <div class='left code_editor__library-description'>Communicating with devices using the Serial Peripheral Interface (SPI) Bus</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='spi' data-event='library-spi'>Include</a></div>\n                </div>\n                <div class='code_editor__select__option clearfix'>\n                    <div class='left code_editor__library-name'>Stepper</div>\n                    <div class='left code_editor__library-description'>Controlling stepper motors</div>\n                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn js-analytics' data-library='stepper' data-event='library-stepper'>Include</a></div>\n                </div>\n\n                <!-- <div class='code_editor__select__option clearfix'>\n                                                                   <div class='left code_editor__library-name'>EEPROM</div>\n                                                                   <div class='left code_editor__library-description'>Reading and writing to \"permanent\" storage</div>\n                                                                   <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='eeprom'>Include</a></div>\n                                                               </div>\n                                                               <div class='code_editor__select__option clearfix'>\n                                                                   <div class='left code_editor__library-name'>Ethernet</div>\n                                                                   <div class='left code_editor__library-description'>For connecting to the internet using the Arduino Ethernet ShieldControlling liquid crystal displays (LCDs)</div>\n                                                                   <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='ethernet'>Include</a></div>\n                                                               </div>         -->\n			</div>\n\n		</div>\n\n	</div>\n\n	<div class='code_editor__serial-monitor js-code_editor__serial-monitor hide'>\n		<div class='code_editor__serial-monitor__content js-code_editor__serial-monitor__content'></div>\n		<div class='code_editor__serial-monitor__bottom js-code_editor__serial-monitor__bottom clearfix'>\n			<form class='js-code_editor__serial-monitor--form'>\n				<input type='text' class='code_editor__serial-monitor__input js-code_editor__serial-monitor__input'>\n				<input type='submit' class='serial-monitor__send' value='Send'>\n			</form>\n		</div>\n	</div>\n\n	<div class='code_editor__debugger js-code_editor__debugger hide'>\n		<div class='code_editor__debugger__top clearfix'>\n\n			<div class='code_editor__debugger__top__icon float'>\n				<a class='js-code_editor__breakpoints__play' title=\"Resume execution\">\n					<div class='cio-ui-icon'><%= embedded_svg(\"icon-resume.svg\") %></div>\n				</a>\n			</div>\n			<div class='code_editor__debugger__top__icon float'>\n				<a class='js-code_editor__breakpoints__pause' title=\"Pause execution\">\n					<div class='cio-ui-icon'><%= embedded_svg(\"icon-pause.svg\") %></div>\n				</a>\n			</div>\n			<div class='code_editor__debugger__top__icon float'>\n				<a class='js-code_editor__breakpoints__step' title=\"Step Over Next Function\">\n					<div class='cio-ui-icon'><%= embedded_svg(\"icon-step-over-next-function.svg\") %></div>\n				</a>\n			</div>\n			<div class='code_editor__debugger__top__icon float'>\n				<a class='js-code_editor__breakpoints__deactivate' title=\"Deactivate Breakpoints\">\n					<div class='cio-ui-icon'><%= embedded_svg(\"icon-deactivate-breakpoints.svg\") %></div>\n				</a>\n			</div>\n			<div class='code_editor__debugger__top__icon float'>\n				<a class='js-code_editor__breakpoints__activate' title=\"Activate Breakpoints\">\n					<div class='cio-ui-icon'><%= embedded_svg(\"icon-activate-breakpoints.svg\") %></div>\n				</a>\n			</div>\n\n		</div>\n\n		<div class='code_editor__debugger__content'>\n			<div class='code_editor__debugger__content__title'>How it works</div>\n			<div class='code_editor__debugger__content__list'>\n				<div class='code_editor__debugger__content__list__item'>1. Add breakpoints by clicking on the linenumbers.</div>\n				<div class='code_editor__debugger__content__list__item'>2. Start simulation</div>\n				<div class='code_editor__debugger__content__list__item'>3. Hover over the variables while paused to see their value.</div>\n			</div>\n		</div>\n	</div>\n\n	<div class='code_editor__error js-code_editor__error hide'>\n		<div class='code_editor__error__top clearfix'>\n			<div class='code_editor__error__top__title float'>Sorry, it seems like your code has some errors preventing us from running the code.</div>\n			<div class='code_editor__error__top__close right'>\n				<div class=\"dual_btn dual_btn--white-hover js-code_editor__error__close\">\n					<a class=\"clearfix\" title=\"Close\">\n						<div class=\"dual_btn__text float\">Close</div>\n						<div class=\"dual_btn__icon dual_btn__icon--white float \"><%= embedded_svg(\"icon-close.svg\") %></div>\n					</a>\n				</div>\n			</div>\n		</div>\n		<div class='code_editor__error__content js-code_editor__error__content'></div>\n	</div>\n\n    <div class='js-code_editor__blockly__div' style=\"position:absolute;\">\n    </div>\n</div>\n"},function(e,t){e.exports="<div class='search_overlay__results search_overlay__results--columns'>\n	<% results.forEach(function(result){ %>\n		<% if (result.description == 'category') { %>\n			<p class='search_overlay__category'><%= result.name %></p>\n		<% } else { %>\n			<div class='search_overlay__result__column__item'>\n				<a class='js-add-component' data-type='<%= (result.type) ? result.type : null%>' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>\n					<div class='search_overlay__result__column__item__inner'>\n						<div class='search_overlay__result__column__item__thumb'>\n							<img src='<%= result.thumbUrl %>'>\n						</div>\n						<div class='search_overlay__result__column__item__name'><%= result.name %></div>\n                        <div class='search_overlay__result__column__item__tags hidden'>\n                            <% if (result.tags){ %>\n                            <%= result.tags.join(' ') %>\n                            <% } %>\n                        </div>\n					</div>\n				</a>\n			</div>\n		<% } %>\n	<% }); %>\n</div>\n"},function(e,t){e.exports="<div class='footprint__results'>\n    <% results.forEach(function(result){ %>\n    <div class='footprint__result float js-instant_search_item'>\n        <a class='editor_tools__tool clearfix js-change-footprint-action' data-pdid='<%= result.pdid %>'>\n            <div class='footprint__result__thumb'>\n                <% if ( result.footprint_thumb_url ) { %>\n                <img src='<%= result.footprint_thumb_url %>' width='190'/>\n                <% } %>\n            </div>\n            <div class='footprint__result__name'><%= result.footprint_name %></div>\n        </a>\n    </div>\n    <% }); %>\n</div>\n"},function(e,t){e.exports='<!-- SEARCH OVERLAY -->\n<div class=\'overlay_container js-footprint_search_container pcb\'>\n	<div class=\'overlay_container__top\'>\n		<div class=\'overlay_container__tabs js-search_overlay__tabs\'>\n			<a class=\'overlay_container__tab\' data-ref="all-footprints">Choose footprint</a>\n		</div>\n		<div class=\'overlay_container__searchbox\'>\n			<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-footprint_search" method="get">\n				<input name="utf8" type="hidden" value="✓">\n				<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\n				<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\n					<%= embedded_svg("icon-search.svg") %>\n				</button>\n				<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\n					<%= embedded_svg("icon-close.svg") %>\n				</a>\n			</form>\n		</div>\n	</div>\n	<div class=\'overlay_container__inner js-footprint_search_inner\'>\n		<div data-rel=\'all-footprints\' class=\'clearfix\'></div>\n	</div>\n</div>\n'},function(e,t){e.exports='<nav class="sitemenu sitemenu--editor js-sitemenu">\n    <div class="sitemenu__left clearfix">\n\n         <div class=\'float sitemenu__logo sitemenu__logo--editor\'>\n            <a id="TINKERCAD_LOGO_ID" class="js-sitemenu__logo js-analytics" href="/#/?type=circuits&collection=designs" data-event="tinkercad-logo">\n                <div height=\'48\'><%= embedded_svg("icon-tinkercad.svg") %></div>\n            </a>\n        </div>\n\n        <div class=\'float\'>\n            <span class=\'sitemenu__editor-title js-circuit-menu-title\'><%= model.meta(\'name\') %></span>\n        </div>\n    </div>\n\n    <div class="sitemenu__right">\n        <div class="sitemenu__right__item--editor sitemenu__connection-menu editor__topnav__connection-menu__normal">Saved</div>\n        <div class=\'sitemenu__right__item--editor sitemenu__borderleft\'>\n\n            <div class=\'sitemenu__right__item--editor\'>\n                <a id="CIRCUITS_VIEW_ID" class="js-circuit_breadboard_button js-circuits_menu_hash_btn js-analytics" data-event="show-circuit" href="#breadboard" title="Circuit View">\n                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-electronicslab.svg") %></div>\n                </a>\n            </div>\n\n            <div class=\'sitemenu__right__item--editor\'>\n                <a id="COMPONENT_LIST_ID" class="js-circuit_bom_button js-circuits_menu_hash_btn js-analytics"  data-event="show-components" href="#bom" title="Component List">\n                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-bom.svg") %></div>\n                </a>\n            </div>\n\n        </div>\n\n        <div class=\'sitemenu__right__item--editor sitemenu__borderleft\'>\n            <a class="js-analytics" data-event="user-profile">\n                <div class="sitemenu__view_switch sitemenu__svg_block_btn">\n                    <%= image_tag( model.meta(\'profile_pic\') ) %>\n                </div>\n            </a>\n        </div>\n    </div>\n</nav>\n'},function(e,t){e.exports="<%\n    console.log(\"MAP\");\n    console.log( model.meta_data('name') );\n    console.log( model );\n    console.log('--');\n%>\n"},function(e,t){e.exports="<%\n    // console.log(\"RENDER\");\n    // console.log( model.meta_data('name') );\n    // console.log( model );\n    // console.log('--');\n%>\n"},function(e,t){e.exports='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu breadboard">\n	<div class="sitemenu__left">\n		<div class="editor_tools">\n			<div class=\'editor_tools__tool\'>\n				<a id="ROTATE_ID" class="rotate js-rotate js-analytics" title="Rotate" data-event="rotate">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool\'>\n				<a id="DELETE_ID" class="delete js-delete js-analytics" title="Delete" data-event="delete">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderleft\'>\n				<a id="ZOOM_TO_FIT_ID" class="zoomToFit js-zoomToFit js-analytics" title="Zoom To Fit" data-event="zoom-to-fit">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderleft\'>\n				<a id="UNDO_ID" class="undo js-undo js-analytics" title="Undo" data-event="undo">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-undo.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderright\'>\n				<a id="REDO_ID" class="redo js-redo js-analytics" title="Redo" data-event="redo">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-redo.svg") %></div>\n				</a>\n			</div>\n		</div>\n	</div>\n\n    <div class="sitemenu__center sitemenu__left">\n        <div class=\'sitemenu__info js-breadboard-menu-info\'></div>\n    </div>\n\n	<div class="sitemenu__right editor_actions">\n\n		<div class="editor_actions__action">\n			<a id="CODE_EDITOR_ID" class=\'btn btn--m btn--none_base_borders js-toggle_code_editor js-analytics\' title=\'Toggle code editor\' data-event=\'code-editor\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-codeeditor.svg") %></div>\n				<div class=\'btn__txt\'>Code Editor</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action">\n			<a id="COMPONENTS_ID" class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn js-analytics\' title=\'Add Component\' data-event=\'components\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\n				<div class=\'btn__txt\'>Components</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action js-simulation">\n			<a id="SIMULATION_ID" class=\'btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation js-analytics\' title=\'Start/Stop Simulation\' data-event=\'simulate\'>\n				<div class=\'btn__icon\'>\n					<span class=\'js-simulation-play\'><%= embedded_svg("icon-play.svg") %></span>\n					<span class=\'js-simulation-stop hide\'><%= embedded_svg("icon-stop.svg") %></span>\n					<span class=\'js-simulation-spinner hide\'></span>\n				</div>\n				<div class=\'btn__txt js-simulation-text\'>Start Simulation</div>\n			</a>\n		</div>\n\n        <div class="editor_actions__action sitemenu__borderleft js-export">\n            <a id="EXPORT_ID" class="btn btn--m btn--none_base_borders js-export_btn js-analytics" title=\'Export Circuit\' data-event=\'export\'>\n                <div class=\'btn__txt\'>Export</div>\n            </a>\n        </div>\n\n        <div class="editor_actions__action js-share">\n            <a id="SHARE_ID" class="btn btn--m btn--none_base_borders js-share_btn js-analytics" title=\'Share/Collaborate Circuit\' data-event=\'share\'>\n                <div class=\'btn__txt\'>Share</div>\n            </a>\n        </div>\n\n	</div>\n</div>\n'},function(e,t){e.exports='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu circuitscribe">\n	<div class="sitemenu__left">\n		<div class="editor_tools">\n			<div class=\'editor_tools__tool\'>\n				<a class="rotate js-rotate" title="Rotate">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool\'>\n				<a class="delete js-delete" title="Delete">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderleft\'>\n				<a class="zoomToFit js-zoomToFit" title="Zoom To Fit">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderleft\'>\n				<a class="undo js-undo" title="Undo">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-previous.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool sitemenu__borderright\'>\n				<a class="redo js-redo" title="Redo">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-next.svg") %></div>\n				</a>\n			</div>\n		</div>\n	</div>\n\n	\n	<div class="sitemenu__right sitemenu__right--editor_submenu editor_actions">\n\n		<% if ( model.meta(\'coppa_allowed\') ) { %>\n			<div class="editor_actions__action editor_actions__chat_icon js-chat__toggle">\n				<a class="editor_tools__tool bordered_icon_btn" title="Toggle chat window"><%= embedded_svg("icon-chat.svg") %></a>\n			</div>\n		<% } %>\n\n		<div class="editor_actions__action">\n			<a class=\'btn btn--m btn--none_base_borders js-circuitscribe_view__toggle\' title=\'Views\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-layer-visible.svg") %></div>\n				<div class=\'btn__txt\'>View</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action">\n			<a class=\'btn btn--m btn--none_base_borders js-circuitscribe-papersettings\' title=\'Paper Settings\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-printer.svg") %></div>\n				<div class=\'btn__txt\'>Paper Settings</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action">\n			<a class=\'btn btn--m btn--none_base_borders js-download_circuitscribe_pdf\' title=\'Paper Settings\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-doc-pdf.svg") %></div>\n				<div class=\'btn__txt\'>Download PDF</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action">\n			<a class=\'btn btn--m btn--none_base_borders js-circuitscribe_footprint_search_toggle_btn\' title=\'Add Footprint\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\n				<div class=\'btn__txt\'>Footprints</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action">\n			<a class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn\' title=\'Add Module\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\n				<div class=\'btn__txt\'>Modules</div>\n			</a>\n		</div>\n\n		<div class="editor_actions__action js-simulation">\n			<a class=\'btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation\' title=\'Start/Stop Simulation\'>\n				<div class=\'btn__icon\'>\n					<span class=\'js-simulation-play\'><%= embedded_svg("icon-play.svg") %></span>\n					<span class=\'js-simulation-stop hide\'><%= embedded_svg("icon-stop.svg") %></span>\n					<span class=\'js-simulation-spinner hide\'></span>\n				</div>\n				<div class=\'btn__txt js-simulation-text\'>Start Simulation</div>\n			</a>\n		</div>\n\n\n	</div>\n\n</div>';
},function(e,t){e.exports='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu bom js-submenu-bom">\n	<div class="sitemenu__center sitemenu__left">\n		<div class=\'sitemenu__info bom js-submenu-bom\'>Component List</div>\n	</div>\n\n	<div class="sitemenu__right sitemenu__right--editor_submenu editor_actions">\n		<div class="editor_actions__action">\n			<a id="DOWNLOAD_BOM_ID" class=\'btn btn--m btn--none_base_borders js-bom-download-csv js-analytics\' data-event=\'download-bom\'>\n				<div class=\'btn__icon\'><%= embedded_svg("icon-doc-csv.svg") %></div>\n				<div class=\'btn__txt\'>Download CSV</div>\n			</a>\n		</div>\n		<% if ( model.meta(\'circuit_type\') == "circuitscribe" ) { %>\n			<div class="editor_actions__action">\n				<a class=\'btn btn--m btn--none_base_borders js-add-bom-items-to-cart\'>\n					<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\n					<div class=\'btn__txt\'>Add to Cart</div>\n				</a>\n			</div>\n		<% } %>\n	</div>\n</div>\n\n<div class="sitemenu sitemenu--editor sitemenu--editor_submenu settings js-submenu-settings">\n	<div class="sitemenu__center sitemenu__left">\n		<div class=\'sitemenu__info settings js-submenu-settings\'>Settings and details of your circuit</div>\n	</div>\n</div>\n'},function(e,t){e.exports="<div class=\"sitemenu sitemenu--editor sitemenu--editor_submenu sitemenu--editor_submenu--pcb pcb\">\n	<div class=\"sitemenu__left\">\n		<div class=\"editor_tools\">\n			<div class='editor_tools__tool'>\n				<a class=\"rotate js-rotate\" title=\"Rotate\">\n					<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-rotate-cw.svg\") %></div>\n				</a>\n			</div>\n			<div class='editor_tools__tool sitemenu__borderleft'>\n				<a class=\"zoomToFit js-zoomToFit\" title=\"Zoom To Fit\">\n					<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-zoomall.svg\") %></div>\n				</a>\n			</div>\n			<div class='editor_tools__tool sitemenu__borderleft'>\n				<a class=\"undo js-undo\" title=\"Undo\">\n					<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-previous.svg\") %></div>\n				</a>\n			</div>\n			<div class='editor_tools__tool sitemenu__borderright'>\n				<a class=\"redo js-redo\" title=\"Redo\">\n					<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-next.svg\") %></div>\n				</a>\n			</div>\n			<div class='editor_tools__tool sitemenu__borderright hide js-pcb-delete'>\n				<a class=\"delete js-delete\" title=\"Delete\">\n					<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-trash.svg\") %></div>\n				</a>\n			</div>\n			<div class='editor_tools__tool sitemenu__borderright js-pcb-copper-trace'>\n				<div class='editor_tools__tool' title=\"45 degrees, Left/right first, up/down second (tip: you can right-click while tracing to switch instantly)\">\n					<a class=\"js-pcb-change-corner sitemenu__svg_block_btn--active\" data-corner='0'>\n						<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-right-bevel.svg\") %></div>\n					</a>\n				</div>\n				<div class='editor_tools__tool' title=\"45 degrees, Up/down first, left/right second (tip: you can right-click while tracing to switch instantly)\">\n					<a class=\"js-pcb-change-corner\" data-corner='1'>\n						<div class=\"sitemenu__svg_block_btn\" ><%= embedded_svg(\"icon-cornertype-left-miter.svg\") %></div>\n					</a>\n				</div>\n				<div class='editor_tools__tool' title=\"Straight, Up/down first, left/right second (tip: you can right-click while tracing to switch instantly)\">\n					<a class=\"js-pcb-change-corner\" data-corner='2'>\n						<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-left-bevel.svg\") %></div>\n					</a>\n				</div>\n				<div class='editor_tools__tool' title=\"Straight, Left/right first, up/down second (tip: you can right-click while tracing to switch instantly)\">\n					<a class=\"js-pcb-change-corner\" data-corner='3'>\n						<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-right-miter.svg\") %></div>\n					</a>\n				</div>\n				<div class='editor_tools__tool'>\n					<select class='sitemenu__submenu__selectbox js-pcb-copper-trace-options' title='Trace Width'>\n						<option value='177'>0.18 mm (7 mil) &nbsp;&nbsp;Small</option>\n						<option value='305' selected>0.30 mm (12 mil) Signal</option>\n						<option value='508'>0.51 mm (20 mil) Power</option>\n						<option value='1016'>1.02 mm (40 mil) Large Current</option>\n						<option value='0'>------------------------------</option>\n						<option value='153'>0.15 mm (6 mil)</option>\n						<option value='177'>0.18 mm (7 mil)</option>\n						<option value='203'>0.20 mm (8 mil)</option>\n						<option value='229'>0.23 mm (9 mil)</option>\n						<option value='254'>0.25 mm (10 mil)</option>\n						<option value='305'>0.30 mm (12 mil)</option>\n						<option value='356'>0.36 mm (14 mil)</option>\n						<option value='406'>0.41 mm (16 mil)</option>\n						<option value='457'>0.46 mm (18 mil)</option>\n						<option value='508'>0.51 mm (20 mil)</option>\n						<option value='610'>0.61 mm (24 mil)</option>\n						<option value='711'>0.71 mm (28 mil)</option>\n						<option value='813'>0.81 mm (32 mil)</option>\n						<option value='914'>0.91 mm (36 mil)</option>\n						<option value='1016'>1.02 mm (40 mil)</option>\n						<option value='1270'>1.27 mm (50 mil)</option>\n						<option value='1524'>1.52 mm (60 mil)</option>\n						<option value='1778'>1.78 mm (70 mil)</option>\n						<option value='2032'>2.03 mm (80 mil)</option>\n					</select>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class=\"sitemenu__center sitemenu__left\">\n		<div class='sitemenu__info sitemenu__info--pcb pcb js-submenu-pcb js-pcb-menu-info'></div>\n	</div>\n\n	<div class=\"sitemenu__right editor_actions\">\n\n		<% if ( model.meta('coppa_allowed') ) { %>\n			<div class=\"editor_actions__action editor_actions__chat_icon js-chat__toggle\">\n				<a class=\"editor_tools__tool bordered_icon_btn\" title=\"Toggle chat window\"><%= embedded_svg(\"icon-chat.svg\") %></a>\n			</div>\n		<% } %>\n\n		<div class=\"editor_actions__action\">\n			<a class='btn btn--m btn--dark_level2_borders-on-black js-drawing_aids__toggle' title='Toggle view aids'>\n				<div class='btn__icon'><%= embedded_svg(\"icon-drawingaids.svg\") %></div>\n				<div class='btn__txt'>View</div>\n			</a>\n		</div>\n\n		<div class=\"editor_actions__action\">\n			<a class='btn btn--m btn--dark_level2_borders-on-black js-layers__toggle' title='Toggle layers window'>\n				<div class='btn__icon'><%= embedded_svg(\"icon-layers.svg\") %></div>\n				<div class='btn__txt'>Layers</div>\n			</a>\n		</div>\n\n	</div>\n</div>"},function(e,t){e.exports='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu schematic">\n	<div class="sitemenu__left">\n		<div class="editor_tools">\n			<div class=\'editor_tools__tool\'>\n				<a class="flipV js-flipV" title="Mirror Vertical">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-flip-vertical.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool\'>\n				<a class="flipH js-flipH" title="Mirror Horizontal">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-flip-horizontal.svg") %></div>\n				</a>\n			</div>\n			<div class=\'editor_tools__tool\'>\n				<a class="rotate js-rotate" title="Rotate">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\n				</a>\n			</div>\n			<% if ( model.meta(\'circuit_type\') != "breadboard" ) { %>\n				<div class=\'editor_tools__tool\'>\n					<a class="delete js-delete" title="Delete">\n						<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\n					</a>\n				</div>\n			<% } %>\n			<div class=\'editor_tools__tool sitemenu__borderleft sitemenu__borderright\'>\n				<a class="zoomToFit js-zoomToFit" title="Zoom To Fit">\n					<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\n				</a>\n			</div>\n			<% if ( model.meta( \'circuit_type\') != "breadboard" ) { %>\n				<div class=\'editor_tools__tool\'>\n					<a class="undo js-undo" title="Undo">\n						<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-previous.svg") %></div>\n					</a>\n				</div>\n				<div class=\'editor_tools__tool sitemenu__borderright\'>\n					<a class="redo js-redo" title="Redo">\n						<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-next.svg") %></div>\n					</a>\n				</div>\n			<% } %>\n		</div>\n\n	</div>\n\n	<% if ( model.meta(\'circuit_type\') == "breadboard" ) { %>\n		<div class="sitemenu__center sitemenu__left">\n			<div class=\'sitemenu__info\'>This is an Electronics Lab design, you can only edit and add components in the Lab View.</div>\n		</div>\n	<% } %>\n\n	<div class="sitemenu__right editor_actions">\n\n		<% if ( model.meta(\'coppa_allowed\') ) { %>\n			<div class="editor_actions__action editor_actions__chat_icon js-chat__toggle">\n				<a class="editor_tools__tool bordered_icon_btn" title="Toggle chat window"><%= embedded_svg("icon-chat.svg") %></a>\n			</div>\n		<% } %>\n\n		<% if (model.meta(\'circuit_type\') == "schematic" || model.meta(\'circuit_type\') == "mesh_pcb") { %>\n			<div class="editor_actions__action">\n				<a class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn\' title=\'Add Component\'>\n					<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\n					<div class=\'btn__txt\'>Components</div>\n				</a>\n			</div>\n		<% } %>\n		\n	</div>\n\n</div>'},function(e,t){e.exports="<div class=\"sitemenu sitemenu--editor sitemenu--editor--view js-sitemenu\">\n	<div class=\"sitemenu__left clearfix\">\n		<div class='sitemenu__item__viewactions'>\n			<div class='js-sitemenu__viewactions__image-overlay hide'>\n				<!-- ALL -->\n				<div class=\"sitemenu__item--action-btn\">\n					<a class='btn btn--m btn--none_base_borders js-activate-interactive-mode' title='Activate Interactive Mode'>\n						<div class='btn__icon'><%= embedded_svg(\"icon-play.svg\") %></div>\n						<div class='btn__txt'>Interactive Mode</div>\n					</a>\n				</div>\n			</div>\n\n			<!-- BREADBOARD -->\n			<div class='breadboard js-submenu-breadboard'>\n				<div class=\"editor_actions__action js-simulation\">\n					<a class='btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation' title='Start/Stop Simulation'>\n						<div class='btn__icon'>\n							<span class='js-simulation-play'><%= embedded_svg(\"icon-play.svg\") %></span>\n							<span class='js-simulation-stop hide'><%= embedded_svg(\"icon-stop.svg\") %></span>\n							<span class='js-simulation-spinner hide'></span>\n						</div>\n						<div class='btn__txt js-simulation-text'>Start Simulation</div>\n					</a>\n				</div>\n				<div class=\"editor_actions__action\">\n					<a class='btn btn--m btn--none_base_borders js-toggle_code_editor' title='Toggle code editor'>\n						<div class='btn__icon'><%= embedded_svg(\"icon-codeeditor.svg\") %></div>\n						<div class='btn__txt'>Code Editor</div>\n					</a>\n				</div>\n			</div>\n\n			<!-- CIRCUITSCRIBE -->\n			<div class='circuitscribe js-submenu-circuitscribe'>\n				<div class=\"editor_actions__action js-simulation\">\n					<a class='btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation' title='Start/Stop Simulation'>\n						<div class='btn__icon'>\n							<span class='js-simulation-play'><%= embedded_svg(\"icon-play.svg\") %></span>\n							<span class='js-simulation-stop hide'><%= embedded_svg(\"icon-stop.svg\") %></span>\n							<span class='js-simulation-spinner hide'></span>\n						</div>\n						<div class='btn__txt js-simulation-text'>Start Simulation</div>\n					</a>\n				</div>\n			</div>\n\n			<!-- PCB -->\n			<div class='pcb js-submenu-pcb'>\n                <div class=\"editor_actions__action\">\n                    <a class='btn btn--m btn--none_base_borders js-layers__toggle' title='Toggle layers window'>\n                        <div class='btn__icon'><%= embedded_svg(\"icon-layers.svg\") %></div>\n                        <div class='btn__txt'>Layers</div>\n                    </a>\n                </div>\n			</div>\n\n			<!-- BOM -->\n			<div class='bom js-submenu-bom'>\n				<div class=\"editor_actions__action js-submenu-bom\">\n					<a class='btn btn--m btn--none_base_borders js-bom-download-csv'>\n						<div class='btn__icon'><%= embedded_svg(\"icon-doc-svg.svg\") %></div>\n						<div class='btn__txt'>Downloading CSV</div>\n					</a>\n				</div>\n			</div>\n\n			<div class=\"sitemenu__right\">\n				<div class='sitemenu__right__item--editor sitemenu__borderleft'>\n\n					<% if ( model.meta('circuit_type') == \"circuitscribe\" ) { %>\n					<div class='sitemenu__right__item--editor'>\n						<a class=\"js-circuit_circuitscribe_button js-circuits_menu_hash_btn\" href=\"#circuitscribe\" title=\"Sketch View\">\n							<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-sketch.svg\") %></div>\n						</a>\n					</div>\n					<% } %>\n\n					<% if ( model.meta('circuit_type') == \"breadboard\" ) { %>\n					<div class='sitemenu__right__item--editor'>\n						<a class=\"js-circuit_breadboard_button js-circuits_menu_hash_btn\" href=\"#breadboard\" title=\"Lab View\">\n							<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-electronicslab.svg\") %></div>\n						</a>\n					</div>\n					<% } %>\n\n					<% if ( model.meta('circuit_type') == \"schematic\" || model.meta('circuit_type') == \"mesh_pcb\" || ( model.meta('circuit_type') == \"circuitscribe\" && model.meta('rails_env') == 'development' )) { %>\n					<div class='sitemenu__right__item--editor'>\n						<a class=\"js-circuit_schematic_button js-circuits_menu_hash_btn\" href=\"#schematic\" title=\"Schematics View\">\n							<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-schematic.svg\") %></div>\n						</a>\n					</div>\n					<% } %>\n\n					<% if ( model.meta('circuit_type') == \"schematic\" || model.meta('circuit_type') == \"mesh_pcb\" ) { %>\n					<div class='sitemenu__right__item--editor'>\n						<a class=\"js-circuit_pcb_button js-circuits_menu_hash_btn\" href=\"#pcb\" title=\"PCB View\">\n							<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-pcb.svg\") %></div>\n						</a>\n					</div>\n					<% } %>\n\n					<div class='sitemenu__right__item--editor'>\n						<a class=\"js-circuit_bom_button js-circuits_menu_hash_btn\" href=\"#bom\" title=\"Component List\">\n							<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-bom.svg\") %></div>\n						</a>\n					</div>\n\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n"},function(e,t){e.exports="<!-- MODAL DIALOG -->\n<div class='editor__modal__container'>\n    <div class='editor__modal__background'>\n    </div>\n    <div class='editor__modal'>\n    	<div class='editor__modal__top'>\n            <div class='editor__modal__top__title'>\n            </div>\n            <div class='editor__modal__top__close'>\n                <div class='editor__modal__top__close__x js-editor__modal__top__close__x'>\n                    <svg width='13' height='13' viewBox='0 0 13 13' xmlns='http://www.w3.org/2000/svg' role='img' title='icon cancel'>\n                        <title>icon-cancel</title>\n                        <path d=\"M12.55,12.36 L12.55,17.36 C12.55,18.03 12.00,18.58 11.33,18.58 L10.77,18.585 C10.09,18.58 9.55,18.03 9.55,17.36 L9.55,12.36 L4.55,12.36 C3.81,12.36 3.22,11.77 3.22,11.03 L3.22,10.69 C3.22,9.95 3.81,9.36 4.55,9.36 L9.55,9.36 L9.55,4.36 C9.55,3.69 10.09,3.14 10.77,3.14 L11.33,3.14 C12.00,3.14 12.55,3.69 12.55,4.36 L12.55,9.36 L17.55,9.36 C18.28,9.36 18.5,9.95 18.5,10.69 L18.5,11.03 C18.5,11.77 18.28,12.36 17.55,12.36 L12.55,12.36 Z\" transform=\"rotate(45 13.69 4.032)\" fill=\"#000\" fill-rule=\"evenodd\"></path>\n                    </svg>\n                </div>\n            </div>\n        </div>\n        <div class='editor__modal__body'>\n        </div>\n    </div>\n</div>\n"},function(e,t){e.exports='<div id=\'pcbTab\' class=\'guiTab non-selectable\'></div>\n\n<% if ( mode == 1 ) { %>\n  <div class=\'pcb_buttons js-pcb_buttons pcb\'>\n\n    <div class="pcb_button clearfix">\n      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-trace\' title="A conductive path on top of a PCB made of copper.">\n        <div class=\'btn__icon\'><%= embedded_svg("icon-trace.svg") %></div>\n        <div class=\'btn__txt\'>Copper Trace</div>\n      </a>\n    </div>\n\n    <div class="pcb_button clearfix">\n      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-fill\' title="An area on a printed circuit board filled with copper, commonly used to create a ground plane.">\n        <div class=\'btn__icon\'><%= embedded_svg("icon-copperpour.svg") %></div>\n        <div class=\'btn__txt\'>Copper Pour</div>\n      </a>\n    </div>\n\n    <div class="pcb_button clearfix">\n      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-via\' title="An electrical connection between layers that goes through the plane of one or more adjacent layers.">\n        <div class=\'btn__icon\'><%= embedded_svg("icon-via.svg") %></div>\n        <div class=\'btn__txt\'>Via</div>\n      </a>\n    </div>\n\n    <div class="pcb_button clearfix">\n      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-drillhole\' title="A hole in the PCB mostly used to mount a pcb somewhere with some screws.">\n        <div class=\'btn__icon\'><%= embedded_svg("icon-drill.svg") %></div>\n        <div class=\'btn__txt\'>Drillhole</div>\n      </a>\n    </div>\n\n    <div class=\'pcb_tools_collection\'>\n\n      <div class="pcb_button clearfix">\n        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-textTool\' title="Write something on your pcb using silkscreen text.">\n          <div class=\'btn__icon\'><%= embedded_svg("icon-text.svg") %></div>\n          <div class=\'btn__txt\'>Text</div>\n        </a>\n      </div>\n\n      <div class="pcb_button clearfix">\n        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-penTool\' title="Draw a vector in silkscreen.">\n          <div class=\'btn__icon\'><%= embedded_svg("icon-pen.svg") %></div>\n          <div class=\'btn__txt\'>Pen</div>\n        </a>\n      </div>\n\n      <div class="pcb_button clearfix">\n        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-circleTool\' title="Draw a circle in silkscreen.">\n          <div class=\'btn__icon\'><%= embedded_svg("icon-circle.svg") %></div>\n          <div class=\'btn__txt\'>Circle</div>\n        </a>\n      </div>\n\n      <div class="pcb_button clearfix">\n        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-rectTool\' title="Draw a rectangle in silkscreen.">\n          <div class=\'btn__icon\'><%= embedded_svg("icon-rectangle.svg") %></div>\n          <div class=\'btn__txt\'>Rectangle</div>\n        </a>\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class=\'hide\'>\n    <ul class="controls controlsRightTop pcb invisibleZ">\n      <a href="#" class="zoomToFit" title="Zoom To Fit">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="redo" title="Redo">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="undo" title="Undo">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="selectTool" title="Select Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="delete" title="Delete">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="rotate" title="Rotate Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      \n    </ul>\n\n    <ul class="controls controlsRightMiddle pcb invisibleZ">\n      <a href="#" class="drillhole" title="Drillhole Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="via" title="Via Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="fill" title="Fill Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a href="#" class="trace" title="Trace Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n\n      <a  class="circleTool" title="Circle silkscreen Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a  class="rectTool" title="Rectangle silkscreen Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a  class="penTool" title="Pen silkscreen Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n      <a  class="textTool" title="Text silkscreen Tool">\n        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon=""></span></li>\n      </a>\n\n    </ul>\n\n    <div class="controls controlsRightBottom pcb invisibleZ">\n      <select id=\'thickness\' class=\'pcbPicker\'></select>\n      <select id=\'layer\' class=\'pcbPicker\'></select>\n    </div>\n\n    <div class="footprintGuiContainer hide"></div>\n  </div>\n<% } %>\n'},function(e,t){e.exports="<div id='schematicTab' class='guiTab non-selectable'></div>"},function(e,t){e.exports='<div id="settingsTab" class="guiTab">\n	<div class=\'container container--center settings__container clearfix\'>\n		<form accept-charset="UTF-8" action="<%= model.meta(\'circuit_path\') %>" class="js-circuits-settings" data-remote="true" method="post">\n			<input name="utf8" type="hidden" value="✓">\n			<input name="_method" type="hidden" value="put">\n			<input name="authenticity_token" type="hidden" value="<%= model.meta(\'form_authenticity_token\') %>">\n\n			<div class=\'grid\'>\n				<div class=\'grid__item two-thirds\'>\n					<div class=\'settings__setting\' data-settings-group=\'name\'>\n						<div class=\'settings__setting__title js-settings-title\'>Name</div>\n						<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Name - Please provide a name</div>\n						<input class="text-input js-settings-circuit-name js-settings-autosave js-settings-please-fill" data-target="name" id="circuit_name" name="circuit[name]" placeholder="Fill in your name" size="30" type="text" value="<%= model.meta(\'name\') %>">\n					</div>\n					<% if ( model.meta(\'current_user\') && model.meta(\'coppa_allowed\') ) { %>\n						<div class=\'settings__setting\' data-settings-group=\'summary\'>\n							<div class=\'settings__setting__title js-settings-title\'>Summary</div>\n							<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Summary - Please tell us some more</div>\n							<div class=\'settings__setting__summary\'>A two sentence description of what your project is about. Short and sweet!</div>\n							<textarea class="text-input settings__setting__input--textarea js-settings-autosave js-settings-please-fill" cols="40" data-target="summary" id="circuit_summary" name="circuit[summary]" placeholder="Fill in your summary" rows="2"><%= model.meta(\'summary\') %></textarea>\n						</div>\n						<div class=\'settings__setting\' data-settings-group=\'description\'>\n							<div class=\'settings__setting__title js-settings-title\'>Description</div>\n							<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Description - Please tell us some more</div>\n							<div class=\'settings__setting__summary\'>Extended explanation of your project. Use it to explain the assembly of the PCB, provide detail about technical difficulties etc. The textfield supports <a href=\'http://daringfireball.net/projects/markdown/syntax\' target=\'_blank\'>Markdown Syntax</a>.</div>\n							<textarea class="text-input settings__setting__input--textarea js-settings-autosave js-settings-please-fill" cols="40" data-target="description" id="circuit_description" name="circuit[description]" placeholder="Fill in your description" rows="8"><%= model.meta(\'description\') %></textarea>\n						</div>\n						<div class=\'settings__setting\' data-settings-group=\'tags\'>\n							<div class=\'settings__setting__title js-settings-title\'>Tags</div>\n							<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Tags - Please add some tags</div>        \n							<div class=\'settings__setting__summary\'>Use a comma to separate tags and help others find your project easier.</div>\n							<input class="text-input tagsinput-primary js-settings-tags settings__setting__input js-settings-autosave js-settings-please-fill" data-autocomplete="/circuits/autocomplete_tag_name" data-delimiter=", " data-tags="" data-target="tags" id="circuit_tag_list" multiple="multiple" name="circuit[tag_list][]" size="30" type="text" value="<%= model.meta(\'tags\') %>">\n						</div>\n						<div class=\'settings__setting\'>\n							<div class=\'settings__setting__title\'>Access</div>\n							<div class=\'settings__setting__summary\'>Search a user and invite him/her to collaboratively edit this circuit</div>\n							<div class=\'js-invite-collaborator\' data-targeturl=\'<%= model.meta(\'share_circuit_path\') %>\'>\n								<input class="js-invite-collaborator__uid" id="share_uid" name="share_uid" type="hidden" value="0">\n								<input data-autocomplete="/circuits/autocomplete_user_name" data-id-element="#share_uid" id="user_name" name="user_name" type="text" value="" class=\'text-input\'>\n								<p>\n								<button class="btn btn--s btn--accent_white_accent js-invite-collaborator__button" name="button" type="submit"><div class=\'btn__txt\'>invite</div></button>\n								<div class=\'vertical-spacing settings-collab-message js-invite-collaborator__message\'></div>\n							</div>\n						</div>\n					<% } %>\n					<div class=\'settings__setting\'>\n						<div class=\'settings__setting__title\'>License</div>\n						<div class=\'settings__setting__summary\'>Choose a license that fits your needs, read more about open hardware licenses on <a href=\'http://en.wikipedia.org/wiki/Open_source_hardware\' target=\'_blank\'>Wikipedia</a></div>\n						<div class=\'hide js-settings-license\'><%= model.meta(\'license\') %></div>\n						<select class="js-settings-autosave js-settings-license-select" id="circuit_license" name="circuit[license]">\n							<option value="CC-BY-SA 3.0">CC-BY-SA 3.0</option>\n							<option value="CC-BY-NC-SA 3.0">CC-BY-NC-SA 3.0</option>\n							<option value="CC-BY 3.0">CC-BY 3.0</option>\n							<option value="CC-BY-NC 3.0">CC-BY-NC 3.0</option>\n							<option value="TAPR Open Hardware License">TAPR Open Hardware License</option>\n							<option value="CERN Open Hardware License">CERN Open Hardware License</option>\n							<option value="GPL 3.0">GPL 3.0</option>\n							<option value="LGPL">LGPL</option>\n							<option value="BSD">BSD</option>\n							<option value="MIT">MIT</option>\n							<option value="Public Domain">Public Domain</option>\n						</select>\n					</div>\n					<div class=\'settings__setting hide\'>\n						<div class=\'settings__setting__title\'>PCB Layers</div>\n						<div class=\'settings__setting__summary\'>Select the number of PCB layers</div>\n						<select class="js-number-of-layers">\n							<option value=\'2\'>2</option>\n							<option value=\'4\'>4</option>\n							<option value=\'6\'>6</option>\n						</select>\n					</div>\n					<% if ( model.meta(\'current_user\') && model.meta(\'current_user\').subscription == \'maker\' ) { %>\n                    <% if(model.meta(\'prive\')){ \n                        var checked = "checked";\n                    }else{\n                        var checked = "";\n                        } %>\n					<div class=\'settings__setting\'>\n						<div class=\'settings__setting__title\'>Private</div>\n						<div class=\'settings__setting__summary\'>\n							<input name="circuit[prive]" type="hidden" value="0">\n							<input class="js-settings-autosave" id="circuit_prive" name="circuit[prive]" type="checkbox" value="1" <%= checked %>>\n							Make this a private circuit\n						</div>\n					</div>\n					<% } %>\n				</div>\n\n			\n\n				<div class=\'grid__item one-third\'>\n					<div class=\'settings__overview\'>\n						<div class=\'settings__overview__item clearfix\' data-settings-target=\'name\'>\n							<div class=\'settings__overview__item__title float\'>Name</div>\n							<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\n						</div>\n						<% if ( model.meta(\'current_user\') && model.meta(\'coppa_allowed\') ) { %>\n							<div class=\'settings__overview__item clearfix\' data-settings-target=\'summary\'>\n								<div class=\'settings__overview__item__title float\'>Summary</div>\n								<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\n							</div>\n							<div class=\'settings__overview__item clearfix\' data-settings-target=\'description\'>\n								<div class=\'settings__overview__item__title float\'>Description</div>\n								<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\n							</div>\n							<div class=\'settings__overview__item clearfix\' data-settings-target=\'tags\'>\n								<div class=\'settings__overview__item__title float\'>Tags</div>\n								<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\n							</div>\n							<div class=\'settings__overview__item clearfix hide\'>\n								<div class=\'settings__overview__item__title float\'>Access</div>\n								<div class=\'settings__overview__item__arrow right\'></div>\n							</div>\n						<% } %>\n						<div class=\'settings__overview__item clearfix\'>\n							<div class=\'settings__overview__item__title float\'>License</div>\n							<div class=\'settings__overview__item__arrow right\'></div>\n						</div>\n						<div class=\'settings__overview__item clearfix hide\'>\n							<div class=\'settings__overview__item__title float\'>PCB Layers</div>\n							<div class=\'settings__overview__item__arrow right\'></div>\n						</div>\n					</div>\n				</div>\n\n			</div>\n		</form>\n	</div>\n</div>'},function(e,t){e.exports="<div class='chat js-chat hide'>\n    <div class='chat__top clearfix draggable js-chat-draggable'>\n        <div class='chat__top__title float'>Chat</div>\n        <div class='chat__top__settings right'><a href=\"#settings\"><%= embedded_svg(\"icon-settings.svg\") %></a></div>\n    </div>\n    <div class='chat__body'>\n        <div class='chat__content js-chat__content'></div>\n        <form class='chat__form js-chat__form'>\n            <input type='text' class='chat__input js-chat__input' placeholder='Send a message'>\n        </form>\n    </div>\n</div>"},function(e,t){e.exports="<!-- DIALOGUE -->\n<div class='circuits_dialogue js-circuits-dialogue hide'>\n	<div class='circuits_dialogue__top clearfix'>\n		<div class='left'><div class='circuits_dialogue__title js-circuits-dialogue__title'></div></div>\n		<div class='right'><a class='icon__close_error js-close-dialogue hide'><%= embedded_svg(\"icon-close.svg\") %></a></div>\n	</div>\n	<div class='circuits_dialogue__body js-circuits-dialogue__body'>\n		<div class='circuits_dialogue__content js-circuits-dialogue__content'></div>\n		<div class='circuits_dialogue__buttons js-circuits-dialogue__buttons'></div>\n	</div>\n	\n</div>";
},function(e,t){e.exports="<!-- ERROR -->\n<div class='circuits_error js-error-message hide'>\n	<div class='circuits_error__top clearfix'>\n		<div class='left'><div class='circuits_error__title js-error-message__title'>Sorry, something went wrong</div></div>\n		<div class='right'><a class='icon__close_error js-close-error'><%= embedded_svg(\"icon-close.svg\") %></a></div>\n	</div>\n	<div class='circuits_error__body js-error-message__body'>We have encountered a serious error, very sorry about that, our engineers have been notified, try to refresh the page to see if that solves the problem.</div>\n</div>"},function(e,t){e.exports="<div class='tutorial spwdgt'>\n	<div class='tutorial__loading js-tutorial--loading'></div>\n	<div id='js-tutorial-sidebar'>\n		<sxs-viewer <%= lesson_parameters_string %> on-lesson-ready=\"gotLesson\" on-step-change=\"stepChanged\"></sxs-viewer>\n	</div>\n</div>\n"},function(e,t){e.exports="<div class='tutorial spwdgt'>\n	<div class='tutorial__loading js-tutorial--loading'></div>\n	<div id='js-tutorial-sidebar'>\n		<sxs-viewer <%= lesson_parameters_string %> on-lesson-ready=\"gotLesson\" on-step-change=\"stepChanged\"></sxs-viewer>\n	</div>\n</div>\n"},function(e,t,i){i(170),i(171),i(172),i(174),i(175),i(176),i(178),i(179),i(187),i(188),i(189),i(177),i(195)},function(e,t){function i(e,t){function i(){}i.prototype=e.prototype,i.prototype.constructor=e;var n=new i;return n.constructor=e,e.apply(n,t),n}function n(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function o(e){if(null==e)return e;if(e.copy)return e.copy();if(e.clone)return e.clone();if("object"==typeof e){var t=new e.constructor;for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}return e}var r=!1,a="";if(window)if(window.base_url)a=window.base_url;else{var s=window.location;a=s.protocol+"//"+s.host+"/"+s.pathname.split("/")[1]}e.exports.base_url=a;var c={};window.Circuits=c,e.exports.Circuits=c;var l;e.exports.debug_opacity=l,l=r?.2:0;var d=function(e){function t(){}return t.prototype=e,new t};e.exports.inherit=d,e.exports.create=i,extend=function(e,t){if(!t)throw"try to mix in empty function";for(var i in t)e.prototype[i]=t[i],e.prototype[i].isExtendedFunction=!0},e.exports.extend=extend,e.exports.classof=n,e.exports.clone=o;var u=function(){var e={};if("undefined"!=typeof window)for(var t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=o[1];else if("string"==typeof e[o[0]]){var r=[e[o[0]],o[1]];e[o[0]]=r}else e[o[0]].push(o[1])}return e}();e.exports.QueryString=u},function(e,t,i){var n=i(170).Circuits;i(170).base_url;n.logError=function(e,t,i){var n=e,o=t;console.log("Error logged",e,t),"undefined"!=typeof window?(CircuitsRecorder&&CircuitsRecorder.storeException(n,o),"local.circuits.io"==window.location.hostname&&console.error(t.stack)):console.error(t.stack)},"undefined"!=typeof window&&(window.logError=n.logError)},function(e,t,i){function n(e,t){var i,o;if("Object"===r(e))if(void 0!==e.$class){var a=s.invClassMap_old.get(e.$class);i=a.fromJSON(e,t)}else if(void 0!==e.$idref)i=s.objMap_old.get(e.$idref);else{i={};for(o in e)i[o]=n(e[o],t)}else if("Array"===r(e))for(i=[],o=0;o<e.length;o++)i[o]=n(e[o],t);else i=e;return i}var o=i(173),r=i(170).classof,a=!1,s=function(e,t,i,r){var c=!1;i&&(a||(s.classMap_old=new o.HashMap,s.invClassMap_old=new o.HashMap,s.classMap=new o.HashMap,s.invClassMap=new o.HashMap,s.objMap_old=new o.HashMap,a=!0),c&&((s.classMap_old.contains(i)||s.classMap.contains(i))&&console.log("JSON class '"+i+"' already exists with id '"+e+","+t+"'."),s.invClassMap_old.contains(e)&&console.log("JSON class registry id "+e+" is already taken by class '"+s.invClassMap_old.get(e)+"'."),s.invClassMap.contains(t)&&console.log("JSON class registry id "+t+" is already taken by class '"+s.invClassMap.get(t)+"'.")),s.classMap_old.put(i,e),s.invClassMap_old.put(e,i),s.classMap.put(i,t),s.invClassMap.put(t,i),i.prototype.$class=t,r?i.fromJSON=r:i.fromJSON=function(e,t){var i=new this(t);s.objMap_old.put(e.$id,i);for(var o in e)e[o]=n(e[o],t);return i.setData(e),i})};window.jsonExtend=s,e.exports.jsonExtend=s,e.exports.fromJSON=n},function(e,t){var i={};i.nextId=0,i.getHash=function(e){return"object"!=typeof e&&"function"!=typeof e?e:e.hash?e.hash():e.collectionsHash?e.collectionsHash:(e.collectionsHash="_"+i.nextId++,e.collectionsHash)},i.arrayHash=function(e){for(var t="",n=0;n<e.length;n++)t+=i.getHash(e[n])+"_";return t},e.exports=i},function(e,t){var i={makeUndoable:function(e){var t=this;this.parent.onChange("undo",function(e,i,n){var o;if(n){for(o=0;o<t.members.length;o++)t.members[o].isShadow()?t.members[o].isShared()&&t.members[o].onChange("undo",function(e,i){t.logShadow(e,e)},100):t.members[o].onChange("undo",function(e,i,n){t.logChange(e,i,n)},100);for(o=0;o<t.shadows.length;o++)t.shadows[o].isShared()&&t.shadows[o].onChange("undo",function(e,i){t.logShadow(e,e)},100);for(o=0;o<t.sets.length;o++)t.sets[o].onAdd("undo",function(e,i){t.logSetAdd(e,i)},100),t.sets[o].onRemove("undo",function(e,i){t.logSetRemove(e,i)},100),t.sets[o].onSwap("undo",function(e,i,n){t.logSetSwap(e,i,n)},100);for(o=0;o<t.maps.length;o++)t.maps[o].onPut("undo",function(e,i,n,o){t.logMapPut(e,i,n,o)},100),t.maps[o].onRemove("undo",function(e,i,n){t.logMapRemove(e,i,n)},100);for(o=0;o<t.lists.length;o++)t.lists[o].onAdd("undo",function(e,i,n){t.logListAdd(e,i,n)},100),t.lists[o].onRemove("undo",function(e,i,n){t.logListRemove(e,i,n)},100)}})},logChange:function(e,t,i){var n=this;this.isLife()&&n.root.log(["change",n.getVersionsId(),e._name(),n.json_convert(e,t),n.json_convert(e,i),n.getPath(e)])},logShadow:function(e,t){var i=this;this.isLife()&&i.root.log(["shadow",i.getVersionsId(),e._name(),null,t,i.getPath(e)])},logSetAdd:function(e,t){var i=this;this.isLife()&&i.root.log(["add",i.getVersionsId(),e._name(),i.json_convert(e,t),i.getPath(e)])},logSetRemove:function(e,t){var i=this;this.isLife()&&i.root.log(["remove",i.getVersionsId(),e._name(),i.json_convert(e,t),i.getPath(e)])},logSetSwap:function(e,t,i){var n=this;this.isLife()&&n.root.log(["swap",n.getVersionsId(),e._name(),n.json_convert(e,t),i.getObj().getVersionsId(),i._name(),n.getPath(e),i.getObj().getPath(i)])},logMapPut:function(e,t,i,n){var o=this;this.isLife()&&o.root.log(["put",o.getVersionsId(),e._name(),t,o.json_convert(e,i),o.json_convert(e,n),o.getPath(e)])},logMapRemove:function(e,t,i){var n=this;this.isLife()&&n.root.log(["remove_map",n.getVersionsId(),e._name(),t,n.json_convert(e,i),n.getPath(e)])},logListAdd:function(e,t,i){var n=this;this.isLife()&&n.root.log(["add_list",n.getVersionsId(),e._name(),t,n.json_convert(e,i),n.getPath(e)])},logListRemove:function(e,t,i){var n=this;this.isLife()&&n.root.log(["remove_list",n.getVersionsId(),e._name(),t,n.json_convert(e,i),n.getPath(e)])}};e.exports=i},function(e,t,i){var n=i(170).Circuits,o=i(173),r=i(176).dejsonify_construct,a=i(176).dejsonify_helper,s=!1,c={uid:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)}),t=(new Date).getTime().toString(16),i=(c.uid_counter++).toString(16);return t+"-"+i+"-"+e},isUid:function(e){var t=e.match(/[a-fA-F0-9]{11}-[a-fA-F0-9]+-[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4[a-fA-F0-9]{3}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return!(!t||1!=t.length)},register_local_id:function(e){var t=e.split("_")[0],i=parseInt(e.split("_")[1]),n=this.get_next_local_id(t);i>=n&&this.nextLocalIdMap.put(t,i+1)},get_local_id:function(e){var t=jsonExtend.classMap.get(e.constructor),i=this.get_next_local_id(t),n=[t,i].join("_");return n},get_next_local_id:function(e){e||(e="Unknown");var t=this.nextLocalIdMap.get(e);return null==t&&(t=0,this.nextLocalIdMap.put(e,t)),t},rec:function(){s&&window.console.log(">>>>>>>>>>>>>>>>>>> rec "+this.recordDepth),this.recordDepth+=1,1==this.recordDepth?(this.redoStack=[],this.recording=[],this.changemap=new o.HashMap,this.logging=!0,s&&window.console.log("LOGGING START >>>>>>>>>>>>>>>>>>>>>>")):s&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing rec as not the most outer one")},stopRec:function(e){if(s&&window.console.log(">>>>>>>>>>>>>>>>>>> stopRec "+this.recordDepth),e&&window.console.log("CANCEL REC"),e&&this.recordDepth>1&&(this.recordDepth=1,n.logError("Cancel Rec",new Error("Canceling recording should never happen!"))),this.recordDepth>0)if(this.recordDepth-=1,0==this.recordDepth){for(this.runHeavies(this.heavy_order),this.logging=!1,this.undoStack.push(this.recording);this.undoStack.length>20;)this.undoStack.shift();s&&window.console.log("LOGGING STOP  <<<<<<<<<<<<<<<<<<<<<<"),this.makeShareable&&(this.shareClearRedo(),this.shareRecording(this.recording),this.shareAddUndo(this.recording,20),this.shareRunHeavies())}else s&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing stopRec as not the most outer one");else s&&window.console.log(">>>>>>>>>>>>>>>>>>> Double stopRec detected !!")},cancelRec:function(){this.runHeavies(this.heavy_order),this.rewind(this.recording),this.runHeavies(this.heavy_order),this.logging=!1,this.recordDepth=0},recShareOnly:function(){this.recordDepth+=1,1==this.recordDepth?(this.recording=[],this.changemap=new o.HashMap,this.logging=!0,s&&window.console.log("LOGGING START >>>>>>>>>>>>>>>>>>>>>>")):s&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing rec as not the most outer one")},stopRecShareOnly:function(){this.recordDepth>0?(this.recordDepth-=1,0==this.recordDepth?(this.logging=!1,s&&window.console.log("LOGGING STOP  <<<<<<<<<<<<<<<<<<<<<<"),this.makeShareable&&this.shareRecording(this.recording)):s&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing stopRec as not the most outer one")):s&&window.console.log(">>>>>>>>>>>>>>>>>>> Double stopRec detected !!")},initVersionRoot:function(){this.objectMap=new o.HashMap,this.localIdMap=new o.HashMap,this.nextLocalIdMap=new o.HashMap,this.logging=!1,this.undoSharing=!1,this.recordDepth=0,this.undoStack=[],this.redoStack=[],this.recording=[],this.heavys=new o.HashMap,this.versioned=!0,this.changemap=new o.HashMap,this.data=null},attachData:function(e){this.data=e,this.data.parent(this)},log:function(e){if(this.logging||this.undoSharing)if("change"===e[0]||"shadow"===e[0]){var t=this.changemap.get(e[0]+"_"+e[1]+"_"+e[2]),i=this.recording[t];i?i[4]=e[4]:(this.changemap.put(e[0]+"_"+e[1]+"_"+e[2],this.recording.length),this.recording.push(e),s&&window.console.log(e))}else this.recording.push(e),s&&window.console.log(e);else s&&window.console.log("LOG BUT LOGGING IS DISABLED!")},undo:function(){if(this.undoStack.length>0){var e=this.undoStack.pop();if(e){for(this.makeShareable&&(this.undoSharing=!0,this.recording=[],this.changemap=new o.HashMap),this.rewind(e),this.makeShareable&&(this.shareRecording(this.recording),this.undoSharing=!1),this.redoStack.push(e);this.redoStack.length>20;)this.redoStack.shift();this.runHeavies(this.heavy_order),this.makeShareable&&(this.sharePopUndo(),this.shareAddRedo(e,20),this.shareRunHeavies())}}},redo:function(){var e=this.redoStack.pop();if(e){for(this.makeShareable&&(this.undoSharing=!0,this.recording=[],this.changemap=new o.HashMap),this.play(e),this.makeShareable&&(this.shareRecording(this.recording),this.undoSharing=!1),this.undoStack.push(e);this.undoStack.length>20;)this.undoStack.shift();this.runHeavies(this.heavy_order),this.makeShareable&&(this.sharePopRedo(),this.shareAddUndo(e,20),this.shareRunHeavies())}},isRoot:function(){return!0},isLife:function(){return!0},isViable:function(){return!1},rewind:function(e){this.logging=!1;for(var t=e.length-1;t>=0;t--){var i=e[t];switch(i[0]){case"add_list":case"shadow":break;case"change":case"remove":case"add":case"swap":r(i[3],this);break;case"remove_list":case"remove_map":r(i[4],this);break;case"put":r(i[5],this)}}for(var n=new o.HashMap,t=e.length-1;t>=0;t--){var i=e[t];switch(i[0]){case"change":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]);c(a(i[3],this));break;case"shadow":break;case"add":var l,s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),d=i[3];d.$id?(l=this.objectMap.get(d.$id),l?n.put(d.$id,l):l=n.get(d.$id)):(l=this.objectMap.get(d.$idref),l?n.put(d.$idref,l):l=n.get(d.$idref)),l||console.error("Tried to remove unfound object during undo"),c.remove(l);break;case"remove":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),l=a(i[3],this);c.add(l);break;case"swap":var u=this.objectMap.get(i[1]),h=u.getMemberByName(i[2]),p=this.objectMap.get(i[4]),g=p.getMemberByName(i[5]),l=i[3];l=l.$id?this.objectMap.get(l.$id):this.objectMap.get(l.$idref),l||console.error("Tried to swap unfound object during undo"),g.swap(l,h);break;case"add_list":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),m=i[3];c.remove(m);break;case"remove_list":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),m=i[3];c.add(a(i[4],this),m);break;case"put":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),f=i[3],l=a(i[5],this);l?c.put(f,l):c.remove(f);break;case"remove_map":var s=this.objectMap.get(i[1]),c=s.getMemberByName(i[2]),f=i[3],l=a(i[4],this);c.put(f,l)}}this.logging=!0},play:function(e){this.logging=!1;for(var t=e.length-1;t>=0;t--){var i=e[t];switch(i[0]){case"shadow":case"remove_map":break;case"remove":case"add":case"swap":case"remove_list":r(i[3],this);case"change":case"add_list":case"put":r(i[4],this)}}for(var t=0;t<e.length;t++){var i=e[t];switch(i[0]){case"change":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),s=a(i[4],this);o(s);break;case"shadow":break;case"add":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),s=a(i[3],this);o.add(s);break;case"remove":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),s=i[3];s=s.$id?this.objectMap.get(s.$id):this.objectMap.get(s.$idref),s||console.error("Tried to remove unfound object during redo"),o.remove(s);break;case"swap":var c=this.objectMap.get(i[1]),l=c.getMemberByName(i[2]),d=this.objectMap.get(i[4]),u=d.getMemberByName(i[5]),s=i[3];s=s.$id?this.objectMap.get(s.$id):this.objectMap.get(s.$idref),s||console.error("Tried to swat unfound object during redo"),l.swap(s,u);break;case"add_list":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),h=i[3];if(i[4]&&o.isReference()){var p=a(i[4],this);o.add(p,h)}else o.add(i[4],h);break;case"remove_list":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),h=i[3];o.remove(h);break;case"put":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),g=i[3],s=a(i[4],this);o.put(g,s);break;case"remove_map":var n=this.objectMap.get(i[1]),o=n.getMemberByName(i[2]),g=i[3],s=o.get(g);o.remove(g)}}this.logging=!0},scheduleHeavy:function(e,t,i,n,r){if(this.heavys.contains(e))var a=this.heavys.get(e);else{var a=new o.HashMap;this.heavys.put(e,a)}a.put(r,[t,i,n])},runHeavies:function(e){for(var t=0;t<e.length;t++){var i=e[t];this.heavys.contains(i)&&(this.heavys.get(i).forEach(function(e,t){t[0].apply(t[1],t[2])}),this.heavys.remove(i))}},runAllHeavies:function(e){var t=this;this.heavys.forEach(function(e,i){t.runHeavies(e)}),this.heavys.empty()},getVersioned:function(e){return this.objectMap.get(e)},findByPath:function(e){return this.data?this.data.findByPath(e):void 0}};c.uid_counter=0,e.exports=c},function(e,t,i){var n=i(170).Circuits,o=i(170).classof,r=i(170).clone,a=i(173),s=i(177),c={json_convert:function(e,t){var i;return e.isReference()&&e.isOwner()&&null!==t&&void 0!==t&&t.versions_id?i=t.jsonify():e.isReference()&&!e.isOwner()&&null!==t&&void 0!==t&&t.versions_id?i={$idref:t.versions_id,$class:t.constructor.prototype.$class}:null!==t&&void 0!==t&&"object"==typeof t&&t.getData?(i=t.getData(),i.$class=t.constructor.prototype.$class):i=t,i},jsonify:function(){var e=this,t={};t.$id=this.versions_id,t.$local_id=this.local_id,t.$class=this.constructor.prototype.$class;for(var i=0;i<e.members.length;i++){var n=e.members[i];if("parent"!=n._name()&&(!n.isShadow()||n.isShared())){var o=n();null!==o&&void 0!==o&&(t[n._name()]=e.json_convert(n,o))}}for(var i=0;i<e.shadows.length;i++){var r=e.shadows[i];if("parent"!=r._name()&&r.isShared()){var o=r();null!==o&&void 0!==o&&(t[r._name()]=e.json_convert(n,o))}}for(var i=0;i<e.sets.length;i++){var a=e.sets[i],s={};a.forEach(function(t){s[t.versions_id]=e.json_convert(a,t)}),t[a._name()]=s}for(var i=0;i<e.maps.length;i++){var c=e.maps[i],l={};c.forEach(function(t,i){l[t]=e.json_convert(c,i)}),t[c._name()]=l}for(var i=0;i<e.lists.length;i++){var d=e.lists[i],u=[];d.forEach(function(t,i){u[t]=e.json_convert(d,i)}),t[d._name()]=u}return t},set:function(e,t,i){var n=this,o=new a.HashSet,e=e,r=t,c=i,d=new a.HashMap,u=new a.HashMap,h=new a.HashMap,p=new a.HashMap;return o.getBubbleHandlers=function(){return p},o.removeHandlersFor=function(e,t){d.remove(e),u.remove(e),h.remove(e),t&&o.isReference()&&o.isOwner()&&o.forEach(function(i){i.removeHandlersFor(e,t)})},o.removeAllHandlersExcept_rec=function(e){d.removeWhere(function(t,i){return!e.contains(t)}),u.removeWhere(function(t,i){return!e.contains(t)}),h.removeWhere(function(t,i){return!e.contains(t)}),o.isReference()&&o.isOwner()&&o.forEach(function(t){t.removeAllHandlersExcept_rec(e)})},o.old_get=o.get,o.get=function(){var e=o.old_get();return o.isOwner()||!e||e.parent()?e:(o.remove(e),null)},o.old_add=o.add,o.add=function(t){o.contains(t)||(o.old_add(t),o.isReference()&&o.isOwner()&&(t.parentMember=[e,t.versions_id],t.ownerMember=o,t.parent(n)),t.referrers&&t.addReferrer(o),l(o,d,[o,t]))},o.old_remove=o.remove,o.remove=function(e){o.contains(e)&&(o.old_remove(e),o.isReference()&&o.isOwner()&&(e.parentMember=e.getPath(),e.ownerMember=null,e.parent(null)),e.referrers&&e.removeReferrer(o),l(o,u,[o,e]),o.isReference()&&o.isOwner()&&e.kill_rec())},o.swap=function(e,t){o.contains(e)&&(o.old_remove(e),t.old_add(e),o.isReference()&&o.isOwner()&&(e.parentMember=[t._name(),e.versions_id],e.ownerMember=t,e.parent(t.getObj())),e.referrers&&(e.removeReferrer(o),e.addReferrer(t)),l(o,h,[o,e,t]))},o.deepCopy=function(e){var t=new s;return t.copyFromCollection(o,e),t},o.onAdd=function(e,t,i){d.put(e,[t,i])},o.onRemove=function(e,t,i){u.put(e,[t,i])},o.onSwap=function(e,t,i){h.put(e,[t,i])},o.onBubble=function(e,t,i){p.put(e,[t,i])},o._name=function(){return e},o.isReference=function(){return r},o.isOwner=function(){return c},o.isVal=function(){return!1},o.isSet=function(){return!0},o.isMap=function(){return!1},o.isList=function(){return!1},o.isShadow=function(){return!1},o.getObj=function(){return n},o.removeAllHandlers=function(){new a.HashMap,new a.HashMap,new a.HashMap},n.sets.push(o),n.memberMap.put(e,o),o},map:function(e,t,i){var n=this,o=new a.HashMap,e=e,r=t,s=i,c=new a.HashMap,d=new a.HashMap,u=new a.HashMap;o.getBubbleHandlers=function(){return u};return o.removeHandlersFor=function(e,t){c.remove(e),d.remove(e),t&&o.isReference()&&o.isOwner()&&o.forEach(function(i,n){n.removeHandlersFor(e,t)})},o.removeAllHandlersExcept_rec=function(e){c.removeWhere(function(t,i){return!e.contains(t)}),d.removeWhere(function(t,i){return!e.contains(t)}),o.isReference()&&o.isOwner()&&o.forEach(function(t,i){i.removeAllHandlersExcept_rec(e)})},o.old_put=o.put,o.put=function(t,i){var r=o.get(t);o.old_put(t,i),o.isReference()&&o.isOwner()&&(r&&(r.parentMember=r.getPath(),r.parent(null)),i.parentMember=[e,t],i.ownerMember=o,i.parent(n)),r&&r.referrers&&r.removeReferrer(o),i.referrers&&i.addReferrer(o),l(o,c,[o,t,i,r])},o.old_remove=o.remove,o.remove=function(e){if(o.contains(e)){var t=o.get(e);o.old_remove(e),o.isReference()&&o.isOwner()&&(t.parentMember=t.getPath(),t.ownerMember=null,t.parent(null)),t.referrers&&t.removeReferrer(o),l(o,d,[o,e,t]),o.isReference()&&o.isOwner()&&t.kill_rec()}},o.onPut=function(e,t,i){c.put(e,[t,i])},o.onRemove=function(e,t,i){d.put(e,[t,i])},o.onBubble=function(e,t,i){u.put(e,[t,i])},o._name=function(){return e},o.isReference=function(){return r},o.isOwner=function(){return s},o.isVal=function(){return!1},o.isSet=function(){return!1},o.isMap=function(){return!0},o.isList=function(){return!1},o.isShadow=function(){return!1},o.getObj=function(){return n},o.removeAllHandlers=function(){new a.HashMap,new a.HashMap},n.maps.push(o),n.memberMap.put(e,o),o},list:function(e,t,i){var n=this,o=new a.List,e=e,r=t,s=i,c=new a.HashMap,d=new a.HashMap,u=new a.HashMap;o.getBubbleHandlers=function(){return u};return o.removeHandlersFor=function(e,t){c.remove(e),d.remove(e),t&&o.isReference()&&o.isOwner()&&o.forEach(function(i,n){n.removeHandlersFor(e,t)})},o.removeAllHandlersExcept_rec=function(e){c.removeWhere(function(t,i){return!e.contains(t)}),d.removeWhere(function(t,i){return!e.contains(t)}),o.isReference()&&o.isOwner()&&o.forEach(function(t,i){i.removeAllHandlersExcept_rec(e)})},o.old_add=o.add,o.add=function(t,i){if(o.old_add(t,i),o.isReference()&&o.isOwner()&&(t.parentMember=[e,i],t.ownerMember=o,t.parent(n)),t.referrers&&t.addReferrer(o),o.isReference()&&o.isOwner())for(var r=i+1;r<o.size();r++){var a=o.get(r).parentMember;a[a.length-1]+=1}l(o,c,[o,i,t])},o.old_remove=o.remove,o.remove=function(e){if(o.hasIndex(e)){var t=o.get(e);if(o.old_remove(e),o.isReference()&&o.isOwner()&&(t.parentMember=t.getPath(),t.ownerMember=null,t.parent(null)),t.referrers&&t.removeReferrer(o),o.isReference()&&o.isOwner())for(var i=e;i<o.size();i++){var n=o.get(i).parentMember;n[n.length-1]-=1}l(o,d,[o,e,t]),o.isReference()&&o.isOwner()&&t.kill_rec()}},o.onAdd=function(e,t,i){c.put(e,[t,i])},o.onRemove=function(e,t,i){d.put(e,[t,i])},o.onBubble=function(e,t,i){u.put(e,[t,i])},o._name=function(){return e},o.isReference=function(){return r},o.isOwner=function(){return s},o.isVal=function(){return!1},o.isSet=function(){return!1},o.isMap=function(){return!1},o.isShadow=function(){return!1},o.isList=function(){return!0},o.getObj=function(){return n},o.removeAllHandlers=function(){new a.HashMap,new a.HashMap,new a.HashMap},n.lists.push(o),n.memberMap.put(e,o),o},value:function(e,t,i,n){var o=this,r=t,s=t,e=e,c=i,d=n,u=new a.HashMap,h=new a.HashMap,p=function(t){if(void 0!==t){var i=s;s=t,p.isReference()&&p.isOwner()&&(i&&(i.parentMember=i.getPath(),i.ownerMember=null,i.parent(null)),t&&(t.parentMember=[e],t.ownerMember=p,t.parent(o))),s&&s.referrers&&s.referrers.addReferrer&&s.addReferrer(p),i&&i.referrers&&i.referrers.removeReferrer&&i.removeReferrer(p),l(p,u,[p,i,s]),p.isReference()&&p.isOwner()&&i&&i.kill_rec()}return s};return p.getBubbleHandlers=function(){return h},p.onChange=function(e,t,i){u.put(e,[t,i])},p.onBubble=function(e,t,i){h.put(e,[t,i])},p._name=function(){return e},p.isReference=function(){return c},p.isOwner=function(){return d},p.isVal=function(){return!0},p.isSet=function(){return!1},p.isMap=function(){return!1},p.isList=function(){return!1},p.isShadow=function(){return!1},p.getObj=function(){return o},p.def=function(){return null!==r&&r.copy?r.copy():r},p.reset=function(){p(p.def())},p.removeHandlersFor=function(e,t){u.remove(e),t&&p()&&p.isReference()&&p.isOwner()&&p().removeHandlersFor(e,t)},p.removeAllHandlers=function(){u=new a.HashMap},p.removeAllHandlersExcept_rec=function(e){u.removeWhere(function(t,i){return!e.contains(t)}),p()&&p.isReference()&&p.isOwner()&&p().removeAllHandlersExcept_rec(e)},o.members.push(p),o.memberMap.put(e,p),p},shadow:function(e,t,i,n,o){var r=this,s=null,c=t,u=!1,h=!1,p=new a.HashMap,g=new a.HashMap,m=!0,f=null,_=function(){return s};i&&(_=i);var v=function(e){return e};n&&(v=n);var y=function(e){if(void 0===e)return m?(f=_(),m=!1,f):f;var t=s;v(e),f=_(),m=!1,l(y,p,[y,t,f])};y.getBubbleHandlers=function(){return g};var C=null;return o&&(C=o,C.forEach(function(t){t[1].call(t[0],"coupling_"+(t[0].versions_id||t[0]._name())+"_to_"+e+"_of_"+r.versions_id,function(){m=!0;var e=f,i=t[0].versioned?t[0]:t[0].getObj();y.getObj()==i?d(y,p,[y,e]):l(y,p,[y,e])},10)})),y.onChange=function(e,t,i){p.put(e,[t,i])},y.onBubble=function(e,t,i){g.put(e,[t,i])},y._name=function(){return e},y.isReference=function(){return u},y.isOwner=function(){return h},y.isVal=function(){return!1},y.isSet=function(){return!1},y.isMap=function(){return!1},y.isList=function(){return!1},y.isShadow=function(){return!0},y.isShared=function(){return c},y.getObj=function(){return r},y.def=function(){return null},y.removeHandlersFor=function(e){p.remove(e)},y.removeAllHandlers=function(){p=new a.HashMap},y.removeAllHandlersExcept_rec=function(e){p.removeWhere(function(t,i){return!e.contains(t)}),y()&&y.isReference()&&y.isOwner()&&y().removeAllHandlersExcept_rec(e)},r.shadows.push(y),r.memberMap.put(e,y),y},forEachMember:function(e,t){for(var i=0;i<this.members.length;i++){var n=this.members[i];e(n(),n.isReference(),n.isOwner(),n._name(),"member")}if(t)for(var i=0;i<this.shadows.length;i++){var n=this.shadows[i];e(n(),n.isReference(),n.isOwner(),n._name(),"shadow")}for(var i=0;i<this.sets.length;i++){var o=this.sets[i];o.forEach(function(t){e(t,o.isReference(),o.isOwner(),o._name(),"set")})}for(var i=0;i<this.maps.length;i++){var r=this.maps[i];r.forEach(function(t,i){e(i,r.isReference(),r.isOwner(),r._name(),"map",t)})}for(var i=0;i<this.lists.length;i++){var a=this.lists[i];a.forEach(function(t,i){e(i,a.isReference(),a.isOwner(),a._name(),"list",t)})}},makeVersioned:function(e,t){var i=this;if(e.constructor===Array){var n=e[1],o=e[2];e=e[0]}i.versioned=!0,i.root=e,i.viable=t||!1,i.members=[],i.shadows=[],i.sets=[],i.maps=[],i.lists=[],i.memberMap=new a.HashMap,i.before_die_handlers=new a.HashMap,i.die_handlers=new a.HashMap,i.bubble_handlers=new a.HashMap,n?(i.versions_id=n,i.local_id=o):(i.versions_id=i.root.uid(),i.local_id=i.root.get_local_id(i)),i.local_id&&i.root.register_local_id(i.local_id),i.referrers=new a.HashSet,i.root.objectMap.put(i.versions_id,i),i.local_id&&i.root.localIdMap.put(i.local_id,i),i.parent=i.value("parent",null,!0,!1),i.parent.onChange("initialize",function(e,t,i){var n=e.getObj();i&&i.isLife()&&n.init_rec()},0)},setMember:function(e,t){var i=this.getMemberByName(e);i&&i(t)},resetValues:function(){for(var e=this,t=0;t<e.members.length;t++)e.members[t].reset()},setInteractionModel:function(e){return this.interactionModel=new e(this.root,this),this.interactionModel},getParentMember:function(){return this.parent()&&this.parentMember?this.parent().getMemberByName(this.parentMember[0]):null},getPath:function(e){var t=[];return this.parent()&&this.parentMember?t=this.parent().getPath().concat(this.parentMember):this.parentMember&&(t=this.parentMember),e?t.concat(e._name()):t},findByPath:function(e){for(var t=this,i=0;i<e.length;i++){var n=e[i];t.versioned?"__interactionModel"==n?t=t.interactionModel:(t=t.getMemberByName(n),(t.isVal()||t.isShadow())&&(t=t())):t.isMap()||t.isList()?t=t.get(n):console.log("Error in verions:findByPath: enable to find item in list")}return t},setVersionedData:function(e){e.versions_id&&(this.root.objectMap.remove(this.versions_id),this.versions_id=e.versions_id,this.root.objectMap.put(this.versions_id,this))},onBeforeDie:function(e,t,i){this.before_die_handlers.put(e,[t,i])},onDie:function(e,t,i){this.die_handlers.put(e,[t,i])},onBubble:function(e,t,i){this.bubble_handlers.put(e,[t,i])},isLife:function(){if(this.isRoot())return this.life_root;var e=this.parent();return e?e.isLife():!1},isRoot:function(){return!1},isViable:function(){return this.viable},kill_rec:function(){var e=this;e.kill(e.root.logging),e.root.objectMap.remove(e.versions_id)},kill:function(e){var t=this;if(l(null,this.before_die_handlers,[t]),e){for(var i=0;i<t.members.length;i++){var n=t.members[i];n(n.def())}for(var i=0;i<t.sets.length;i++){var o=t.sets[i];o.forEach(function(e){o.remove(e)})}for(var i=0;i<t.maps.length;i++){var r=t.maps[i];r.forEach(function(e,t){r.remove(e)})}for(var i=0;i<t.lists.length;i++)for(var a=t.lists[i],s=a.size()-1;s>=0;s--)a.remove(s);t.referrers.forEach(function(e){e.isVal()&&e(null),e.isSet()&&e.remove(t),e.isMap()&&e.removeWhere(function(e,i){return i===t})})}l(null,this.die_handlers,[t])},addReferrer:function(e){var t=this;t.referrers.add(e)},removeReferrer:function(e){var t=this;t.referrers.remove(e)},isReferenced:function(){var e=this;return e.referrers.size()>0},isReferencedOnce:function(){var e=this;return 1===e.referrers.size()},getVersionsId:function(){return this.versions_id},getMemberByName:function(e){return this.memberMap.get(e)},removeHandlersFor:function(e,t){var i,n=this;for(i=0;i<n.members.length;i++)n.members[i].removeHandlersFor(e,t);for(i=0;i<n.shadows.length;i++)n.shadows[i].removeHandlersFor(e,t);for(i=0;i<n.sets.length;i++)n.sets[i].removeHandlersFor(e,t);for(i=0;i<n.maps.length;i++)n.maps[i].removeHandlersFor(e,t);for(i=0;i<n.lists.length;i++)n.lists[i].removeHandlersFor(e,t)},removeAllHandlersExcept_rec:function(e){var t,i=this;for(i.die_handlers.removeWhere(function(t,i){return!e.contains(t)}),t=0;t<i.members.length;t++)i.members[t].removeAllHandlersExcept_rec(e);for(t=0;t<i.shadows.length;t++)i.shadows[t].removeAllHandlersExcept_rec(e);for(t=0;t<i.sets.length;t++)i.sets[t].removeAllHandlersExcept_rec(e);for(t=0;t<i.maps.length;t++)i.maps[t].removeAllHandlersExcept_rec(e);for(t=0;t<i.lists.length;t++)i.lists[t].removeAllHandlersExcept_rec(e)},deepSet:function(e){var t,i=this;for(t=0;t<i.members.length;t++){var n=i.members[t],o=n._name(),r=e[o];if(void 0!==r)if(n.isReference())n().deepSet(r);else{var a=g(r,i.root,n);n(a)}}for(t=0;t<i.shadows.length;t++){var s=i.shadows[t],o=s._name(),r=e[o];if(void 0!==r){var a=g(r,i.root,s);s(a)}}},getViableElement:function(){if(this.isRoot())return null;if(this.isViable())return{element:this,path:[]};var e=this.parent();if(e){var t=e.getViableElement();return t?{element:t.element,path:t.path.concat(this.parentMember)}:null}return null},clone:function(){function e(e,t,i){var n;return void 0==e?n=null:t?i&&(n=e.clone()):n=r(e),n}var t=this.root,i=new this.constructor(t);return this.members.forEach(function(t){if("parent"!=t._name()){var n=e(t(),t.isReference(),t.isOwner());i.setMember(t._name(),n)}},this),this.sets.forEach(function(t){var n=i.getMemberByName(t._name());t.forEach(function(i){var o=e(i,t.isReference(),t.isOwner());o&&n.add(o)})},this),this.lists.forEach(function(t){var n=i.getMemberByName(t._name());t.forEach(function(i,o){var r=e(o,t.isReference(),t.isOwner());r&&n.push(r)})},this),this.maps.forEach(function(t){var n=i.getMemberByName(t._name());t.forEach(function(i,o){var r=e(o,t.isReference(),t.isOwner());r&&n.put(i,r)})},this),i},init_rec:function(){this.initialize&&this.initialize(),this.forEachMember(function(e,t,i){e&&t&&i&&e.init_rec()})},recursiveFix:function(){for(var e=this,t=0;t<e.members.length;t++){var i=e.members[t];if(i.isReference()&&"parent"!=i._name()){var n=i();null!=n&&(n.parent()?i.isOwner()&&n.recursiveFix():i(null))}}for(var t=0;t<e.sets.length;t++){var o=e.sets[t];o.isReference()&&o.forEach(function(e){e.parent()?o.isOwner()&&e.recursiveFix():o.remove(e)})}for(var t=0;t<e.maps.length;t++){var r=e.maps[t];r.isReference()&&r.forEach(function(e,t){t.parent()?r.isOwner()&&t.recursiveFix():r.remove(e)})}for(var t=0;t<e.lists.length;t++){var s=e.lists[t];if(s.isReference()){var c=new a.List;c.addAll(s),c.forEach(function(e,t){t.parent()?s.isOwner()&&t.recursiveFix():s.remove(e)})}}}};e.exports.Versioned=c;var l=function(e,t,i){d(e,t,i),u(e)},d=function(e,t,i){var n=t.values();n.sort(function(e,t){return e[1]-t[1]});for(var o=0;o<n.length;o++){var r=n[o],a=r[0];r[1];a.apply(null,i)}},u=function(e){if(e&&"parent"!==e._name()){d(e,e.getBubbleHandlers(),[]);var t=e.getObj();d(t,t.bubble_handlers,[]);var i=t.ownerMember;i&&u(i)}},h=function(e,t){return p(e,t),g(e,t)};e.exports.dejsonify_helper=h;var p=function(e,t){if("Object"===o(e)){if(void 0!==e.$class&&void 0!==e.$id&&null==t.objectMap.get(e.$id)){var i=t.objectMap.get(e.$id);if(!i){var n=jsonExtend.invClassMap.get(e.$class);i=new n([t,e.$id,e.$local_id])}}for(var r in e)p(e[r],t)}else if("Array"===o(e))for(var r=0;r<e.length;r++)p(e[r],t)};e.exports.dejsonify_construct=p;var g=function(e,t,i){if("Object"===o(e)){if(void 0!=e.$class&&void 0!=e.$id){if(i&&(!i.isReference()||!i.isOwner()))return n.logError("Dejsonify",{
type:"no_deobf",message:"Dejsonify case 1",stack:JSON.stringify(e)}),null;var r=t.objectMap.get(e.$id);if(!r){var a=jsonExtend.invClassMap.get(e.$class);r=new a([t,e.$id,e.$local_id])}for(var s=0;s<r.members.length;s++){var i=r.members[s];if(i.isVal()){var c=e[i._name()],l=g(c,t,i);null!==l&&i(l)}}for(var s=0;s<r.shadows.length;s++){var d=r.shadows[s];if(d.isShared()){var c=e[d._name()],l=g(c,t,d);null!==l&&d(l)}}for(var s=0;s<r.sets.length;s++){var u=r.sets[s];for(var h in e[u._name()]){var c=e[u._name()][h],l=g(c,t,u);null!==l&&u.add(l)}}for(var s=0;s<r.maps.length;s++){var p=r.maps[s];for(var h in e[p._name()]){var c=e[p._name()][h],l=g(c,t,p);null!==l&&p.put(h,l)}}for(var s=0;s<r.lists.length;s++){var m=r.lists[s];e[m._name()].forEach(function(e,i){var n=g(e,t,m);null!==n&&m.add(n,i)})}return r}if(void 0!=e.$idref){if(i&&(!i.isReference()||i.isOwner()))return n.logError("Dejsonify",{type:"no_deobf",message:"Dejsonify case 2",stack:JSON.stringify(e)}),null;var l=t.objectMap.get(e.$idref);if(!l)if(void 0!==e.$class){var a=jsonExtend.invClassMap.get(e.$class);l=new a([t,e.$idref])}else console.log("$idref'ed object not found");return l}if(i&&i.isReference())return n.logError("Dejsonify",{type:"no_deobf",message:"Dejsonify case 3",stack:JSON.stringify(e)}),null;if(void 0!=e.$class){var a=jsonExtend.invClassMap.get(e.$class);r=new a(t)}else r={};for(var s in e)r[s]=g(e[s],t);return r}if("Array"===o(e)){r=[];for(var s=0;s<e.length;s++)r[s]=g(e[s],t);return r}return e};e.exports.dejsonify=g},function(e,t,i){var n=i(173),o=function(){this.clipboard=new n.HashSet};o.copyPasteObject=function(e,t,i){this.object=e,this.collection=t,this.subElements=[i]},o.prototype.copyFromCollection=function(e,t){var i=new n.HashMap;e.forEach(function(e){var n=t?t(e):!0;if(n){var r=e.getViableElement();if(r){var a=i.get(r.element);if(a)a.subElements.push(r.path);else{var s=r.element.clone(),c=r.element.getPath();c.pop(),i.put(r.element,new o.copyPasteObject(s,c,r.path))}}else console.warn("following object in selection is not copyable beceause no viable parent is found:",e)}}),this.copyReferences(i),this.clipboard.addAll(i)},o.prototype.size=function(){return this.clipboard.size()},o.prototype.paste=function(e){var t=new n.HashMap;this.clipboard.forEach(function(e){var i=e.object.clone();t.put(e.object,new o.copyPasteObject(i))}),this.copyReferences(t);var i=new n.HashSet;return this.clipboard.forEach(function(n){var o=t.get(n.object).object,r=e.findByPath(n.collection);r.isSet()?r.add(o):r.isList()?r.push(o):console.warn("Cannot add copied item to a collection that is not a list or a set"),o.isLife()&&n.subElements.forEach(function(e){i.add(o.findByPath(e))})}),i},o.prototype.copyReferences=function(e){function t(i,n){function o(t){var i,n=t&&t.getViableElement();if(n){var o=e.get(n.element);o&&(i=o.object.findByPath(n.path))}return i}i&&n&&i.memberMap.forEach(function(e,i){if(i.isReference())if(i.isVal()&&"parent"!=i._name())if(i.isOwner())t(i(),n.getMemberByName(e)());else{var r=o(i());r&&n.setMember(e,r)}else if(i.isSet()){var a=n.getMemberByName(e),s=0;i.forEach(function(e){if(i.isOwner())t(e,a.getIndex(s));else{var n=o(e);n&&a.add(n)}s++})}else if(i.isList()){var c=n.getMemberByName(e);i.forEach(function(e,n){if(i.isOwner())t(n,c.get(e));else{var r=o(n);r&&c.push(r)}})}else if(i.isMap()){var l=n.getMemberByName(e);i.forEach(function(e,n){if(i.isOwner())t(n,l.get(e));else{var r=o(n);r&&l.put(e,r)}})}})}e.forEach(function(e,i){t(e,i.object)})},e.exports=o},function(e,t,i){var n=i(173),o={makeViewable:function(){this.views=new n.HashMap},getView:function(e){return this.views.get(e)},registerView:function(e,t){this.views.put(e,t)}};e.exports=o},function(e,t,i){e.exports=i(173),i(181),i(182),i(183),i(180),i(184),i(185),i(186)},function(e,t,i){var n=i(173);n.Fifo=function(e,t){if(this.content=[],this.length=0,void 0!==e?this.size=e:this.size=Number.POSITIVE_INFINITY,void 0!==t)for(var i=0;i<this.size;i++)this.enqueue(t)},n.Fifo.prototype.enqueue=function(e){if(this.content.unshift(e),this.content.length>this.size)var t=this.content.pop();else var t=null;return this.length=this.content.length,t},n.Fifo.prototype.dequeue=function(){if(0!==this.content.length)var e=this.content.pop();else var e=null;return this.length=this.content.length,e},n.Fifo.prototype.read=function(e){return this.content[e]},n.Fifo.prototype.write=function(e,t){this.content[e]=t}},function(e,t,i){var n=i(173);n.HashMap=function(e){this._content={},this._size=0,void 0!=e?this._hash=e:this._hash=n.getHash},n.HashMap.prototype.getData=function(){var e={};return e.content=this._content,e.size=this._size,e},n.HashMap.prototype.setData=function(e){this._content=e.content,this._size=e.size},n.HashMap.prototype.copy=function(){var e=new n.HashMap(this._hash);return this.forEach(function(t,i){e.put(t,i)}),e},n.HashMap.Pair=function(e,t){this.key=e,this.val=t},n.HashMap.prototype.put=function(e,t){var i=this._hash(e);void 0==this._content[i]?(this._content[i]=new n.HashMap.Pair(e,t),this._size++):this._content[i]=new n.HashMap.Pair(e,t)},n.HashMap.prototype.putAll=function(e){for(var t in e._content){var i=e._content[t];this.put(i.key,i.val)}},n.HashMap.prototype.get=function(e){if(void 0==e)return null;var t=this._hash(e);return void 0==this._content[t]?null:this._content[t].val},n.HashMap.prototype.getPair=function(e){if(void 0==e)return null;var t=this._hash(e);return void 0==this._content[t]?null:this._content[t]},n.HashMap.prototype.remove=function(e){if(void 0!=e){var t=this._hash(e);void 0!=this._content[t]&&(delete this._content[t],this._size--)}},n.HashMap.prototype.removeValue=function(e){var t=this;t.removeWhere(function(t,i){return i==e})},n.HashMap.prototype.removeWhere=function(e){var t=this;this.forEach(function(i,n){e(i,n)&&t.remove(i)})},n.HashMap.prototype.removeAll=function(e){this._content={},this._size=0},n.HashMap.prototype.size=function(){return this._size},n.HashMap.prototype.empty=function(){return 0===this._size},n.HashMap.prototype.contains=function(e){if(void 0==e)return!1;var t=this._hash(e);return void 0!==this._content[t]?!0:!1},n.HashMap.prototype.containsAll=function(e){var t=this,i=!0;return e.forEach(function(e){t.contains(e)||(i=!1)}),i},n.HashMap.prototype.forEach=function(e){for(var t in this._content){var i=this._content[t];e(i.key,i.val)}},n.HashMap.prototype.forEachPair=function(e){var t=this,i=new n.HashMap;n.HashMap.prototype.forEach.call(t,function(t,o){i.put(t,o),n.HashMap.prototype.forEach.call(i,function(i,n){e(t,o,i,n)})})},n.HashMap.prototype.getIndex=function(e){var t=0;for(var i in this._content){var n=this._content[i];if(t===e)return n.val;t++}return null},n.HashMap.prototype.getMax=function(e){var t;for(var i in this._content)t?e(this._content[i].val,t)&&(t=this._content[i].val):t=this._content[i].val;return t},n.HashMap.prototype.values=function(){var e=[];for(var t in this._content)e.push(this._content[t].val);return e},n.HashMap.prototype.keys=function(){var e=[];for(var t in this._content)e.push(t);return e},n.HashMap.prototype.toJSON=function(){var e={};for(var t in this._content)e[this._content[t].key]=this._content[t].val;return e},n.HashMap.prototype.addFromJSON=function(e){for(var t in e)this.put(t,e[t])},jsonExtend(100,"HashMap",n.HashMap,function(e,t){var i=new this;for(var n in e.content){var o=e.content[n];i.put(fromJSON(o.key,t),fromJSON(o.val,t))}return i})},function(e,t,i){var n=i(173),o=i(170).inherit;n.HashSet=function(e){n.HashMap.apply(this,arguments)},n.HashSet.prototype=o(n.HashMap.prototype),n.HashSet.prototype.constructor=n.HashSet,n.HashSet.prototype.copy=function(){var e=new n.HashSet(this._hash);return this.forEach(function(t){e.add(t)}),e},n.HashSet.prototype.add=function(e){this.contains(e)||n.HashMap.prototype.put.call(this,e,e)},n.HashSet.prototype.addAll=function(e){var t=this;if(e instanceof n.HashSet)e.forEach(function(e){t.add(e)});else if(e instanceof n.HashMap)e.forEach(function(e,i){t.add(i)});else if(e instanceof Array)for(var i=0;i<e.length;i++)this.add(e[i])},n.HashSet.prototype.removeAll=function(e){var t,i=this;return t=void 0===e?i.copy():e,t.forEach(function(e){i.remove(e)}),i},n.HashSet.prototype.removeWhere=function(e){var t=this;this.forEach(function(i){e(i)&&t.remove(i)})},n.HashSet.prototype.pop=function(){for(var e in this._content){var t=this._content[e].val;return this.remove(t),t}return null},n.HashSet.prototype.getIndex=function(e){return n.HashMap.prototype.getIndex.call(this,e)},n.HashSet.prototype.forEach=function(e){n.HashMap.prototype.forEach.call(this,function(t,i){e(i,i)})},n.HashSet.prototype.collect=function(e){var t=new n.HashSet;return this.forEach(function(i){t.add(e(i))}),t},n.HashSet.prototype.filter=function(e){var t=new n.HashSet;return this.forEach(function(i){e(i)&&t.add(i)}),t},n.HashSet.prototype.reduce=function(e){var t=null;return this.forEach(function(i){t=null===t?i:e(t,i)}),t},n.HashSet.prototype.forEachPair=function(e){n.HashMap.prototype.forEachPair.call(this,function(t,i,n,o){e(i,o)})},n.HashSet.prototype.getMin=function(e){var t=null,i=null;return this.forEach(function(n){(null===t||e(n)<t)&&(t=e(n),i=n)}),i},n.HashSet.prototype.getMax=function(e){return this.getMin(function(t){return-e(t)})},jsonExtend(101,"HashSet",n.HashSet,function(e,t){var i=new this;for(var n in e.content){var o=e.content[n];i.put(fromJSON(o.key,t),fromJSON(o.val,t))}return i})},function(e,t,i){var n=i(173);n.Bins=function(e){this._bins=new n.HashMap(e)},n.Bins.prototype.put=function(e,t){var i;this._bins.contains(e)?i=this._bins.get(e):(i=new n.HashSet,this._bins.put(e,i)),i.add(t)},n.Bins.prototype.get=function(e){var t=this._bins.get(e);return t},n.Bins.prototype.forEach=function(e){this._bins.forEach(e)}},function(e,t,i){var n=i(173);n.Graph=function(e,t){void 0!==t?this.ehash=function(e){return t(e.el0,e.el1)}:this.ehash=void 0,this._vertices=new n.HashMap(e),this._edges=new n.HashSet(this.ehash)},n.Graph.Vertex=function(e){this.element=e,this.edges=new n.HashSet,this.fanout_=new n.HashSet,this.fanin_=new n.HashSet},n.Graph.Vertex.prototype.connectedVertices=function(){var e=this,t=new n.HashSet;return e.edges.forEach(function(i){i.el0!==e?t.add(i.el0):i.el1!==e&&t.add(i.el1)}),t},n.Graph.Vertex.prototype.fanout=function(){return this.fanout_},n.Graph.Vertex.prototype.fanin=function(){var e=this,t=new n.HashSet;return e.edges.forEach(function(i){i.el1===e&&t.add(i.el0)}),t},n.Graph.Edge=function(e,t,i,n){this.el0=e,this.el1=t,this.cost=i,this.data=n},n.Graph.Edge.prototype.other=function(e){return this.el0===e?this.el1:this.el1===e?this.el0:null},n.Graph.prototype.connectedVertices=function(e){var t=this._vertices.get(e);return t.connectedVertices().collect(function(e){return e.element})},n.Graph.prototype.addVertex=function(e){var t=new n.Graph.Vertex(e);return this._vertices.contains(e)||this._vertices.put(e,t),t},n.Graph.prototype.removeVertex=function(e){var t=this,i=this._vertices.get(e);i&&(i.edges.forEach(function(e){t.removeEdge(e)}),this._vertices.remove(e))},n.Graph.prototype.copyVertices=function(e){var t=this;e.forEachVertex(function(e){t.addVertex(e.element)})},n.Graph.prototype.vertices=function(){var e=new n.HashSet;return this._vertices.forEach(function(t,i){e.add(i.element)}),e},n.Graph.prototype.forEachVertex=function(e){this._vertices.forEach(function(t,i){e(i)})},n.Graph.prototype.fanout=function(e){var t=this._vertices.get(e);return t.fanout()},n.Graph.prototype.forEachPair=function(e){var t=new n.HashSet;this._vertices.forEach(function(i,n){t.forEach(function(t){e(n,t)}),t.add(n)})},n.Graph.prototype.forEachEdge=function(e){this._edges.forEach(e)},n.Graph.prototype.addEdge=function(e,t,i,o){if(e===t)return null;var r=new n.Graph.Edge(this._vertices.get(e),this._vertices.get(t),i,o);return this._vertices.get(e).edges.add(r),this._vertices.get(e).fanout_.add(r),this._vertices.get(t).edges.add(r),this._vertices.get(t).fanin_.add(r),this._edges.add(r),r},n.Graph.prototype.removeEdge=function(e){this.edges=new n.HashSet,this.fanout_=new n.HashSet,this.fanin_=new n.HashSet,e.el0&&(e.el0.edges.remove(e),e.el0.fanout_.remove(e),e.el0.fanin_.remove(e)),e.el1&&(e.el1.edges.remove(e),e.el1.fanout_.remove(e),e.el1.fanin_.remove(e)),this._edges.remove(e)},n.Graph.prototype.connectedComponents=function(){var e=new n.HashSet,t=new n.HashSet,i=new n.HashSet;return this.forEachVertex(function(o){if(!e.contains(o)){var r=new n.Graph;i.add(r);var a=new n.HashSet;for(a.add(o),r.addVertex(o.element);!a.empty();){var s=a.pop();e.add(s),s.edges.forEach(function(i){t.contains(i)||(r.addVertex(i.el0.element),r.addVertex(i.el1.element),r.addEdge(i.el0.element,i.el1.element),e.contains(i.el0)||a.add(i.el0),e.contains(i.el1)||a.add(i.el1),t.add(i))})}}}),i},n.Graph.prototype.MinimumSpanningTree=function(e){var t=new n.HashSet,i=new n.HashSet,o=new n.HashSet,r=new n.Graph;r.copyVertices(this),i.addAll(this._vertices);var a=i.pop();for(t.add(a),o.addAll(a.edges);i.size()>0;){var s=o.getMin(function(e){return e.cost});r.addEdge(s.el0.element,s.el1.element,s.cost,s.data);var c=null,l=null;i.contains(s.el0)?(c=s.el0,l=s.el1):(c=s.el1,l=s.el0),i.remove(c),t.add(c),o.addAll(c.edges),o.removeWhere(function(e){return t.contains(e.el0)&&t.contains(e.el1)?!0:!1})}return r},n.Graph.prototype.cycles=function(e){var t=this.connectedComponents(),i=new n.HashSet;return t.forEach(function(e){i.addAll(e.cycles_simple())}),i},n.Graph.prototype.cycles_simple=function(){function e(t){t.edges.forEach(function(n){if(!i.contains(n)){i.add(n);var s=n.other(t);o.contains(s)?r.addEdge(t.element,s.element):(o.add(s),a.addEdge(t.element,s.element),e(s))}})}var t=this,i=new n.HashSet,o=new n.HashSet,r=new n.Graph,a=new n.Graph;a.copyVertices(this),r.copyVertices(this);var s=t._vertices.getIndex(0);o.add(s),e(s);var c=new n.HashSet;return r.forEachEdge(function(e){var t=[],i=a._vertices.get(e.el0.element),n=a._vertices.get(e.el1.element),o=i;for(t.push(o.element);o!==n;)o=o.fanin().getIndex(0),t.push(o.element);c.add(t)}),c},n.Graph.prototype.breathFirstPath=function(e,t){function i(e,t){if(e.add(t),t===r)return!0;var n=!1;return t.connectedVertices().forEach(function(t){if(!e.contains(t)){var o=i(e,t);o&&a.unshift(t),n|=o}}),n}var o=this._vertices.get(e),r=this._vertices.get(t),a=[];if(o==r)return a.push(o),a.push(r),a;var s=i(new n.HashSet,o);return s&&a.unshift(o),a},n.Graph.subGraph=function(e,t){this.color=t,this.graph=e,this.vertices=new n.HashMap,this.edges=new n.HashSet},n.Graph.prototype.getBiconnectedComponents=function(){function e(u){if(u.bccIndex=r.push(u),u.bccIndex>1&&a.push(u.bccIndex),u.connectedVertices().forEach(function(t){if(t!=u)if(0===t.bccIndex)a.push(u.bccIndex),t.prevVisited=u,e(t);else for(;u.bccIndex>1&&t.bccIndex<a[a.length-2];)a.pop(),a.pop()}),1===u.bccIndex)t=r.pop(),t.bccIndex=s,t.color.push(l),i.vertices.put(t.element,t);else if(u.bccIndex===a[a.length-1]){for(a.pop(),a.pop(),s++,l=s-c,i=new n.Graph.subGraph(o,l),d.push(i);u.bccIndex<=r.length;)t=r.pop(),t.bccIndex=s,t.color.push(l),i.vertices.put(t.element,t),null!==t.visitedBy&&(t.isArticulationPoint=!0,t.color.push(t.visitedBy),d[t.visitedBy].vertices.put(t.element,t));var h=t.prevVisited;null!==h.visitedBy&&(h.isArticulationPoint=!0,h.color.push(h.visitedBy),d[h.visitedBy].vertices.put(h.element,h)),h.visitedBy=l}}var t,i,o=this,r=[],a=[],s=o._vertices.size(),c=s+1,l=0,d=[];return o.forEachVertex(function(e){e.color=[],e.bccIndex=0,e.isArticulationPoint=!1,e.visitedBy=null}),o.forEachVertex(function(t){0===t.bccIndex&&(0==t.edges.size()?(s++,l=s-c,i=new n.Graph.subGraph(o,l),d.push(i),t.bccIndex=s,t.color.push(l),i.vertices.put(t.element,t)):e(t))}),o.forEachEdge(function(e){var t=Math.min(e.el0.bccIndex,e.el1.bccIndex)-c;e.color=t,d[t].edges.add(e)}),d}},function(e,t,i){var n=i(173);n.HeapItem=function(e,t){this.obj=e,this.cost=t},n.Heap=function(e){this._content=[],e?this._comp=this._less:this._comp=this._more},n.Heap.prototype.empty=function(){this._content=[]},n.Heap.prototype.isEmpty=function(){return 0===this._content.length},n.Heap.prototype.size=function(){return this._content.length},n.Heap.prototype.insert=function(e,t){this._content.push(new n.HeapItem(e,t)),this._swim(this._last())},n.Heap.prototype.push=function(e,t){this.insert(e,t)},n.Heap.prototype.top=function(){return this.isEmpty()?null:this._content[0].obj},n.Heap.prototype.pop=function(){var e=this._last(),t=this._content[0].obj;return this._exch(0,e),this._content.splice(e,1),this._sink(0),t},n.Heap.prototype._exch=function(e,t){var i=this._content[e];this._content[e]=this._content[t],this._content[t]=i},n.Heap.prototype._last=function(){return this._content.length-1},n.Heap.prototype._swim=function(e){for(var t=e;t>0&&this._comp(this._parent(t),t);)this._exch(this._parent(t),t),t=this._parent(t)},n.Heap.prototype._sink=function(e){for(var t=e;this._hasLeftChild(t);){var i=this._leftChild(t);if(this._hasRightChild(t)&&this._comp(i,this._rightChild(t))&&(i=this._rightChild(t)),!this._comp(t,i))break;this._exch(t,i),t=i}},n.Heap.prototype._parent=function(e){var t=(e+1>>1)-1;return t},n.Heap.prototype._hasLeftChild=function(e){return this._leftChild(e)<this.size()},n.Heap.prototype._leftChild=function(e){var t=2*(e+1)-1;return t},n.Heap.prototype._hasRightChild=function(e){return this._rightChild(e)<this.size()},n.Heap.prototype._rightChild=function(e){var t=2*(e+1);return t},n.Heap.prototype._less=function(e,t){return this._content[e].cost<this._content[t].cost},n.Heap.prototype._more=function(e,t){return this._content[e].cost>this._content[t].cost}},function(e,t,i){var n=i(173);n.List=function(){this._content=[]},n.List.prototype.getData=function(){var e={};return e.content=this._content,e},n.List.prototype.setData=function(e){this._content=e.content},n.List.prototype.add=function(e,t){this._content.splice(t,0,e)},n.List.prototype.addAll=function(e){var t=this;e.forEach(function(e,i){t.add(i,e)})},n.List.prototype.toArray=function(){return this._content},n.List.prototype.push=function(e){this.add(e,this.size())},n.List.prototype.pop=function(){this.size()>0&&this.remove(this.size()-1)},n.List.prototype.remove=function(e){this._content.splice(e,1)},n.List.prototype.removeValue=function(e){var t=this,i=t.indexOf(e);t.remove(i)},n.List.prototype.removeAll=function(){for(;this._content.length>0;)this.remove(0);return this},n.List.prototype.get=function(e){var t;return t=e>=0?e:this.size()+e,this._content[t]},n.List.prototype.last=function(){return this._content[this._content.length-1]},n.List.prototype.indexOf=function(e){return this._content.indexOf(e)},n.List.prototype.hasIndex=function(e){return e>=0&&e<this.size()},n.List.prototype.forEach=function(e){for(var t=0;t<this._content.length;t++)e(t,this._content[t])},n.List.prototype.size=function(){return this._content.length},jsonExtend(102,"List",n.List,function(e,t){for(var i=new this,n=0;n<e.content.length;n++){var o=e.content[n];i.add(fromJSON(o,t),n)}return i})},function(e,t,i){var n=i(170).Circuits,o=i(176).dejsonify,r=i(176).dejsonify_construct,a=!1,s=!1,c={makeShareable:function(){this.shareJsDoc=null,this.previous_diff_string=null},openShareJsDoc:function(e,t,i,n){window.adsk&&window.adsk.collaboration&&window.adsk.collaboration.SharedDoc?window.adsk.collaboration.SharedDoc.openAndSubscribe(t.collection,e,t,i,n):console.error("ADSK collaboration API not loaded.")},attachShareJsDoc:function(){this.shareJsDoc=window.adsk.collaboration.SharedDoc},createShareJsDoc:function(e){var t=e.jsonify();if(t.undo=[],t.redo=[],t.users={},this.shareJsDoc.init(t),!$.isEmptyObject(this.shareJsDoc.snapshot())){var i=this.shareJsDoc.get(["undo"]);i.length>20&&this.shareJsDoc.set(["undo"],i.slice(i.length-20)),this.undoStack=this.shareJsDoc.get(["undo"]).map(function(e){return JSON.parse(e)}),this.redoStack=this.shareJsDoc.get(["redo"]).map(function(e){return JSON.parse(e)})}},setupShareJsDoc:function(){var e=this;e.editorModel.connection?(this.shareJsDoc.afterUpdate=function(t,i){i&&e.stateUpdated(t)},this.shareJsDoc.onConnected=function(){e.editorModel.connection("ok")},this.shareJsDoc.onConnectionError=function(t){e.editorModel.connection("error")}):e.shareJsDoc.afterUpdate=function(t,i){i&&e.stateUpdated(t)};var t=function(){setTimeout(function(){e.validateShareJSCorrectness(),t()},1e4)};t()},initShareJsDoc:function(){this.createShareJsDoc(this.data),this.setupShareJsDoc()},validateShareJSCorrectness:function(){if(this.shareJsDoc&&this.shareJsDoc.snapshot()&&0==this.recordDepth){var e=JSON.parse(JSON.stringify(this.shareJsDoc.snapshot()));delete e.users,delete e.undo,delete e.redo,delete e.runHeavies;var t=this.data.jsonify(),i=function(e){if(void 0!==e&&null!==e&&(void 0!==e.$idref&&delete e.$class,delete e.$local_id,"object"==typeof e))for(var t in e)i(e[t])};i(t),i(e),jsondiffpatch.config.objectHash=function(e){return JSON.stringify(e)};var o=jsondiffpatch.diff(e,t);if(o){s&&(console.log(">>> SHAREJS DIVERGENCE !!!!!!!!!!!!"),console.log(JSON.stringify(o)));var r=JSON.stringify(o);r!==this.previous_diff_string&&n.logError("ShareJS",{type:"no_deobf",message:"divergence",stack:r}),this.previous_diff_string=r}else s&&console.log(">>> SHAREJS OK")}},shareRunHeavies:function(){this.shareJsDoc&&(this.shareJsDoc.set(["runHeavies"],"--"),s&&console.log("shareRunHeavies"))},shareAddUndo:function(e,t){if(this.shareJsDoc){for(s&&console.log(this.shareJsDoc.get(["undo"])),this.shareJsDoc.push(["undo"],JSON.stringify(e));this.shareJsDoc.get(["undo"]).length>t;)this.shareJsDoc.remove(["undo",0]);s&&console.log("shareAddUndo")}},sharePopUndo:function(){if(this.shareJsDoc){var e=this.shareJsDoc.get(["undo"]).length;this.shareJsDoc.remove(["undo",e-1]),s&&console.log("sharePopUndo")}},shareAddRedo:function(e,t){if(this.shareJsDoc){var i=this.shareJsDoc.get(["redo"]);for(this.shareJsDoc.push(["redo"],JSON.stringify(e));i.length>t;)this.shareJsDoc.remove(["redo",0]);s&&console.log("shareAddRedo")}},sharePopRedo:function(){if(this.shareJsDoc){var e=this.shareJsDoc.get(["redo"]).length;this.shareJsDoc.remove(["redo",e-1]),s&&console.log("sharePopRedo")}},shareClearRedo:function(){this.shareJsDoc&&(this.shareJsDoc.set(["redo"],[]),s&&console.log("shareClearRedo"))},createPath:function(e,t){for(var i=1;i<=e.length;i++)void 0===this.shareJsDoc.get(e.slice(0,i))&&(t?this.shareJsDoc.set(e.slice(0,i),[]):this.shareJsDoc.set(e.slice(0,i),{}))},shareRecording:function(e){var t,i,n,o,r,a;if(this.shareJsDoc){s&&console.log("shareRecording"),this.editorModel&&this.editorModel.connection("saving");for(var c=0;c<e.length;c++){s&&console.log("  shareAction "+JSON.stringify(e[c]));var l=e[c];switch(l[0]){case"change":var d=l[2];"parent"!==d&&(o=l[4],n=l[5],this.createPath(n),null===o?this.shareJsDoc.remove(n):this.shareJsDoc.set(n,o));break;case"shadow":t=this.objectMap.get(l[1]),i=l[4],n=l[5],this.createPath(n);var u=i();null!==u&&void 0!==u&&"object"==typeof u&&u.getData?(t=u.getData(),t.$id=u.versions_id,t.$class=u.constructor.prototype.$class,this.shareJsDoc.set(n,t)):this.shareJsDoc.set(n,u);break;case"add":o=l[3],n=l[4],this.createPath(n),r=o.$id?o.$id:o.$idref,n.push(r),this.shareJsDoc.set(n,o);break;case"remove":o=l[3],n=l[4],r=o.$id?o.$id:o.$idref,n.push(r),this.shareJsDoc.remove(n);break;case"swap":o=l[3],r=o.$id?o.$id:o.$idref;var h=l[6],p=l[7];h.push(r),p.push(r),this.shareJsDoc.set(p,o),this.shareJsDoc.remove(h);break;case"add_list":a=l[3],o=l[4],n=l[5],this.createPath(n,!0),n.push(a),this.shareJsDoc.insert(n,o);break;case"remove_list":a=l[3],n=l[5],n.push(a),this.shareJsDoc.remove(n);break;case"put":var g=l[3];o=l[4],n=l[6],this.createPath(n),n.push(g),null===o?this.shareJsDoc.remove(n):this.shareJsDoc.set(n,o);break;case"remove_map":g=l[3]instanceof Array?l[3]:[l[3]],n=l[5],n.push(g),this.shareJsDoc.remove(n)}}}},stateUpdated:function(e){var t=this,i=t.logging;t.logging=!1,a=!0,e&&e.forEach(function(e){if(s&&console.log(JSON.stringify(e)),"redo"===e.p[0])e.li?t.redoStack.splice(e.p[1],0,JSON.parse(e.li)):e.oi&&"object"!=typeof e.oi?t.redoStack.splice(e.p[1],0,JSON.parse(e.oi)):e.ld?t.redoStack.splice(e.p[1],1):e.od?t.redoStack=[]:s&&console.log("DONT KNOW WHAT TO DO");else if("undo"===e.p[0])e.li?t.undoStack.splice(e.p[1],0,JSON.parse(e.li)):e.oi&&"object"!=typeof e.oi?t.undoStack.splice(e.p[1],0,JSON.parse(e.oi)):e.ld?t.undoStack.splice(e.p[1],1):s&&console.log("DONT KNOW WHAT TO DO");else if("runHeavies"===e.p[0])t.runHeavies(t.heavy_order),s&&console.log("shareRunHeavies");else if("highlight"===e.p[0])e.oi&&t.collaborativeModel.highlightSelectedNodes(e.oi.selectedNodes);else{for(var i,n=t.data,a=0;a<e.p.length-1;a++)i=n,n="HashSet"===n.$class?t.objectMap.get(e.p[a]):"HashMap"===n.$class?n.get(e.p[a]):"List"===n.$class?n.get(e.p[a]):"function"==typeof n?n().getMemberByName?n().getMemberByName(e.p[a]):n()[e.p[a]]:n.getMemberByName?n.getMemberByName(e.p[a]):n[e.p[a]];if(!n||null!==e.oi&&(null==e.od||!("object"!=typeof e.od||Object.keys(e.od).length>0)||null!=e.oi&&("object"!=typeof e.oi||Object.keys(e.oi).length>0)))if(n&&null!=e.oi&&("object"!=typeof e.oi||Object.keys(e.oi).length>0))r(e.oi,t),c=o(e.oi,t),"HashSet"===n.$class?n.add(c):"List"===n.$class?n.add(c,e.p[a]):"HashMap"===n.$class?n.put(e.p[a],c):"function"==typeof n?n().getMemberByName?n().getMemberByName(e.p[a])(c):n()[e.p[a]](c):n.getMemberByName?(l=n.getMemberByName(e.p[a]),"function"==typeof l?l(c,!0):l=c):(l=n[e.p[a]],"function"==typeof l?l(c):l=c);else if(n&&null!=e.li&&("object"!=typeof e.li||Object.keys(e.li).length>0)){r(e.li,t);var c=o(e.li,t);n.add(c,e.p[a])}else n&&null!=e.ld&&("object"!=typeof e.ld||Object.keys(e.ld).length>0)?n.remove(e.p[a]):n&&null!=e.si&&null!=e.sd?i[e.p[a-1]]=n.slice(0,e.p[a])+e.si+n.slice(e.p[a]+e.sd.length):n&&null!=e.si?i[e.p[a-1]]=n.slice(0,e.p[a])+e.si+n.slice(e.p[a]):n&&null!=e.sd&&(i[e.p[a-1]]=n.slice(0,e.p[a])+n.slice(e.p[a]+e.sd.length));else if("HashSet"===n.$class)console.log("obj hashset "),n.isReference()&&n.isOwner()&&t.objectMap.get(e.p[a]).parent()!==i?(console.log("oldRemove objMap c[]: ",t.objectMap.get(e.p[a])),n.old_remove(t.objectMap.get(e.p[a]))):(console.log("obj remove objMap c[]: ",t.objectMap.get(e.p[a])),n.remove(t.objectMap.get(e.p[a])));else if("List"===n.$class)console.log("obj list "),n.remove(e.p[a]);else if("HashMap"===n.$class)console.log("obj hashmap "),n.remove(e.p[a]);else if("function"==typeof n)n().getMemberByName?(console.log("obj function "),n().getMemberByName(e.p[a])(null)):(console.log("else  func: "),n()[e.p[a]](null));else if(n.getMemberByName){console.log("obj memberbyname ");var l=n.getMemberByName(e.p[a]);"function"==typeof l?l(null):l=null}else console.log("obj else "),l=n[e.p[a]],"function"==typeof l?l(null):l=null}}),a=!1,t.logging=i},updateHighlightedNodes:function(e){this.shareJsDoc.set(["highlight"],{selectedNodes:e})},setCollaborativeModel:function(e){var t=this;t.collaborativeModel=e},setReadOnly:function(){this.shareJsDoc.set=function(){},this.shareJsDoc.push=function(){},this.shareJsDoc.remove=function(){},this.shareJsDoc.insert=function(){},this.validateShareJSCorrectness=function(){}},onOpAcknowledged:function(e){this.shareJsDoc.onOpAcknowledged=e}};c.shareJsIncoming=a,e.exports=c},function(e,t,i){var n=i(170).Circuits,o=i(173);n.StateMachine=function(e,t){this.recorder=null,t&&(this.recorder=t,this.recorder.setStatemachine(this)),this._state="idle",this.state=function(e){return void 0===e?this._state:void(this._state=e)},this.viewState=e,e&&e(this.state()),this.parent=null,this.appendedSM=new o.HashMap,this.stateCollection=new o.HashMap,this.transitionList=new o.HashMap,this.regExpTransitions=new o.HashSet,this.eventQueue=new o.Fifo,this.constructor.guiEvents&&n.GuiEvents.addEvents(this.constructor.guiEvents),this.DEBUG=!1},n.StateMachine.DEBUG=!1,n.StateMachine.CIRCULAR="_CircularTransition_",n.StateMachine.State=function(e,t){this.name=t,this.originalName=t,this.originalSM=e,this.outTransitions=new o.HashSet,this.inTransitions=new o.HashSet},n.StateMachine.prototype.getStateObj=function(e){if(e.constructor==n.StateMachine.State)return e;var t=this.stateCollection.get(e);return t||(t=new n.StateMachine.State(this,e),this.addStateObj(t)),t},n.StateMachine.prototype.addStateObj=function(e){this.stateCollection.put(e.name,e),this.regExpTransitions.forEach(function(t){t.checkState(e)})},n.StateMachine.prototype.setState=function(e){var t=e.constructor==n.StateMachine.State?e.name:e;this.state(t),this.viewState&&this.viewState(t)},n.StateMachine.prototype.state_eq=function(e){return e.constructor==n.StateMachine.State&&(ohter=e.name),this.state()==e},n.StateMachine.prototype.removeState=function(e){var t=null;e.constructor==n.StateMachine.State?t=e:this.stateCollection.contains(e)&&(t=this.getStateObj(e)),t&&(this.stateCollection.removeValue(t),t.outTransitions.forEach(function(e){e.remove()}),t.inTransitions.forEach(function(e){e.remove()}),this.parent&&this.parent.removeState(t))},n.StateMachine.Transition=function(e,t,i,o,r,a){var s=this;if(this.originalSM=e,this.from=e.getStateObj(t),this.from.outTransitions.add(this),this.to=i==n.StateMachine.CIRCULAR?this.from:e.getStateObj(i),this.to.inTransitions.add(this),this.condition=o,this.actions=r&&r.constructor==Array?r:[r],this.originalSM.viewState){var c=this.to.originalName;this.actions.push(function(){s.originalSM.viewState(c)})}this.id="",a&&(console.assert(!e.transitionList.contains(a),"'"+a+"' transition already exist in stateMachine"),this.id=a,e.transitionList.put(a,this))},n.StateMachine.Transition.prototype.addActionBefore=function(e){e&&this.actions.unshift(e)},n.StateMachine.Transition.prototype.addActionAfter=function(e){e&&this.actions.push(e)},n.StateMachine.Transition.prototype.execute=function(e){for(var t in this.actions){var i=this.actions[t];i&&i(e)}},n.StateMachine.Transition.prototype.remove=function(){this.to&&this.to.inTransitions.remove(this),this.to=null,this.from&&this.from.outTransitions.remove(this),this.from=null},n.StateMachine.Transition.prototype.reMap=function(e,t){e&&e!=this.from&&(this.from=e,e.outTransitions.add(this)),t&&t!=this.to&&(this.to=t,t.inTransitions.add(this))},n.StateMachine.prototype.getTransition=function(e){return this.transitionList.get(e)},n.StateMachine.RegExpTransition=function(e,t,i,n,r,a){var s=this;this.originalSM=e,this.regex=t,this.to=i,this.condition=n,this.action=r,this.id=a,this.nr=0,this.addedTransitions=new o.HashSet,this.originalSM.regExpTransitions.add(this),e.stateCollection.forEach(function(e,t){s.checkState(t)})},n.StateMachine.RegExpTransition.prototype.checkState=function(e){if(e.name.match(this.regex)){var t=new n.StateMachine.Transition(this.originalSM,e,this.to,this.condition,this.action,this.id?this.id+this.nr++:null);this.addedTransitions.add(t)}},n.StateMachine.RegExpTransition.prototype.remove=function(){this.addedTransitions.forEach(function(e){e.remove()}),this.addedTransitions.removeAll(),this.originalSM.regExpTransitions.remove(this)},n.StateMachine.RegExpTransition.prototype.addActionBefore=function(e){this.addedTransitions.forEach(function(t){t.addActionBefore(e)})},n.StateMachine.RegExpTransition.prototype.addActionAfter=function(e){this.addedTransitions.forEach(function(t){t.addActionAfter(e)})},n.StateMachine.prototype.addTransition=function(e,t,i,o,r){if(console.assert(!this.parent,"This statemachine is already merged: unable to add transition"),e.constructor==RegExp)var a=new n.StateMachine.RegExpTransition(this,e,t,i,o,r);else var a=new n.StateMachine.Transition(this,e,t,i,o,r);return a},n.StateMachine.prototype.removeTransition=function(e){if(e.constructor==n.StateMachine.Transition)transitionToRemove=e.remove();else{var t=this.transitionList.get(e);t&&t.remove()}e.id&&this.transitionList.remove(e.id)},n.StateMachine.prototype.append=function(e,t,i,n,o,r,a){var s=this;console.assert(!t.parent,"This statemachine is already merged: unable to merge again"),t.parent=this,a||(a="idle");var c=t.getStateObj(a),l=this.getStateObj(i),d=this.getStateObj(o);console.assert(!this.appendedSM.contains(e),"There is already a substatemachine appended with key '"+e+"'");
var u={key:e,enter_state:i,enter_func:n,exit_state:o,exit_func:r,merge_state:a,stateMachine:t};this.appendedSM.put(e,u),t.stateCollection.forEach(function(t,i){i!=c&&(i.name=e+" - "+i.name,s.addStateObj(i))}),c.outTransitions.forEach(function(e){e.addActionBefore(n),e.reMap(l,null)}),c.inTransitions.forEach(function(e){e.addActionAfter(r),e.reMap(null,d)})},n.StateMachine.prototype.removeSubSM=function(e){var t=this,i=this.appendedSM.get(e);if(i){var n=i.stateMachine,o=n.getStateObj(i.merge_state);n.stateCollection.forEach(function(e,i){i!=o&&t.removeState(i)}),o.outTransitions.forEach(function(e){e.remove()}),o.inTransitions.forEach(function(e){e.remove()}),this.appendedSM.remove(e),n.parent=null}},n.StateMachine.prototype.handle=function(e){var t=e.constructor==n.GuiEvent?e:new n.GuiEvent(e);if(this.recorder&&this.recorder.record(t,this.editor),!this.recorder||!this.recorder.playing){if(this.parent)this.parent.handle(t);else if(this.eventQueue.enqueue(t),!this.busy){for(this.busy=!0;this.eventQueue.length>0;)t=this.eventQueue.dequeue(),this.handleTransition(t);this.busy=!1}return!1}},n.StateMachine.prototype.handleTransition=function(e){var t=this.stateCollection.get(this.state()),i=[];if(t&&t.outTransitions.forEach(function(t){var n=t.condition(e);n&&i.push(t)}),console.assert(i.length<=1,"More than 1 active transition!!!!"),0!=i.length){if(1==i.length){var o=this.recorder&&this.recorder.playing;if(n.StateMachine.DEBUG||this.DEBUG||o)i[0].execute(e),this.setState(i[0].to),this.afterHandle(e);else try{i[0].execute(e),this.setState(i[0].to),this.afterHandle(e)}catch(r){n.logError("StateMachine",r);try{this.root.cancelRec()}catch(a){n.logError("StateMachine CancelRec",a)}}}if(i.length>1||n.StateMachine.DEBUG||i[0].originalSM.DEBUG){if(this.prevTransition&&i[0]==this.prevTransition[0]&&i[1]==this.prevTransition[1])console.log("same transition");else for(var s=0;s<i.length;s++)console.log(s,e.type().name||e.type(),"From: '"+i[s].from.name+"' To: '"+i[s].to.name+"'","in: "+i[s].id);this.prevTransition=i}}},n.StateMachine.prototype.afterHandle=function(e){},n.StateMachine.prototype.defineGuiEvents=function(e){for(var t in e)n.GuiEvents[t]=e[t]},n.StateMachine.prototype.createJSON=function(){var e={nodes:{},links:[]};return this.stateCollection.forEach(function(t,i){var n=t.split(" - "),o=n[n.length-1];e.nodes[t]={name:o,group:n.length},i.outTransitions.forEach(function(t){e.links.push({source:t.from.name,target:t.to.name,value:t.id})})}),JSON.stringify(e)}},function(e,t,i){var n=i(170).Circuits,o=i(173),r=i(170).QueryString,a=i(190);n.EventsCompressor=function(){this.enableCompress=!0,this.maxMouseMoves=50,this.queue=[]},n.EventsCompressor.prototype.compress=function(e,t){if(!this.enableCompress)return void t(e);if("GUI_MOUSE_MOVE"==e.type().name&&this.queue.length<this.maxMouseMoves-1)return void this.queue.push(e);if(0==this.queue.length)return void t(e);"GUI_MOUSE_MOVE"==e.type().name&&this.queue.length==this.maxMouseMoves-1&&this.queue.push(e);var i=[];this.queue.forEach(function(e){var t=e.data("mouseCoord");i.push([t.x,t.y,e.timestamp()])});var o=new n.GuiEvent(n.GuiEvents.GUI_MOUSE_MOVE);o._timestamp=this.queue[0]._timestamp,o._start_ts=this.queue[0]._start_ts,o._order=this.queue[0]._order,o.data("mouse_moves",i),this.queue=[],t(o),"GUI_MOUSE_MOVE"!=e.type().name&&t(e)},n.EventsCompressor.prototype.decompress=function(e){var t=[];return e.events.forEach(function(e){return"GUI_MOUSE_MOVE"!=e.name?void t.push(e):e.data.mouse_moves?void e.data.mouse_moves.forEach(function(e){t.push({name:"GUI_MOUSE_MOVE",type:"abs_2",data:{metaKey:!1,ctrlKey:!1,shiftKey:!1,which:0,pageX:0,pageY:0,mouseCoord:{x:e[0],y:e[1]}},element:{},timestamp:e[2]})}):void t.push(e)}),e.events=t,e},n.EventsCompressor.prototype.decompressEvent=function(e,t){return"GUI_MOUSE_MOVE"!=e.name?void t(e):e.data.mouse_moves?void e.data.mouse_moves.forEach(function(e){t({name:"GUI_MOUSE_MOVE",type:"abs_2",data:{metaKey:!1,ctrlKey:!1,shiftKey:!1,which:0,pageX:0,pageY:0,mouseCoord:{x:e[0],y:e[1]}},element:{},timestamp:e[2]})}):void t(e)},n.RecorderArrayStore=function(){this.guiEvents=[]},n.RecorderArrayStore.prototype.addEvent=function(e){this.guiEvents.push(e)},n.RecorderArrayStore.prototype.getRecording=function(e){var t=[];this.guiEvents.forEach(function(e){t.push(e.serialize())}),e(null,{version:"3",events:t})},n.RecorderSquidStore=function(e){this.endpoint=e.endpoint,this.afc=e.afc,this.version=1,this.compressor=new n.EventsCompressor},n.RecorderSquidStore.prototype._store=function(e,t,i,n,o){var r=new Date(i),a=function(e){var t=e.getFullYear(),i=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2),o=("0"+e.getHours()).slice(-2),r=("0"+e.getMinutes()).slice(-2),a=("0"+e.getSeconds()).slice(-2),s=e.getMilliseconds();return t+"-"+i+"-"+n+"T"+o+":"+r+":"+a+"."+s}(r),s=[{afc:this.afc,event_type:"app.command",timestamp:a,version:this.version,session_id:e,member_id:t,command:n,command_data:JSON.stringify(o)}],c=$.ajax({url:this.endpoint,type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(s)});return c},n.RecorderSquidStore.prototype.addEvent=function(e,t,i){var n=this;n.compressor.compress(i,function(i){n._store(e,t,i._timestamp,"evt",i.serialize())})},n.RecorderSquidStore.prototype.storeException=function(e,t,i,n){var o={message:i,error:{message:n.message,stack:n.stack,type:n.type}};this._store(e,t,Date.now(),"err",o)},n.RecorderStore=function(e){this.recordInMemory=e,this.arrayStore=new n.RecorderArrayStore,this.squidStore=null,this.start_ts=(new Date).getTime(),this.order=0},n.RecorderStore.prototype.persist=function(e){this.squidStore=new n.RecorderSquidStore(e),this.recording=!0},n.RecorderStore.prototype.addEvent=function(e,t,i){i._start_ts=this.start_ts,i._order=this.order,this.order+=1,this.recordInMemory&&this.arrayStore.addEvent(i),this.squidStore&&this.squidStore.addEvent(e,t,i)},n.RecorderStore.prototype.storeException=function(e,t,i,n){this.squidStore&&this.squidStore.storeException(e,t,i,n)},n.RecorderStore.prototype.getRecording=function(e,t){return this.arrayStore.getRecording(t)},n.GuiMouseButtons={LeftButton:1,MiddleButton:2,RightButton:3},n.GuiEventTypes=function(){this.id2Event=new o.HashMap},n.GuiEvents=new n.GuiEventTypes,n.GuiEventTypes.prototype.addEvents=function(e){for(var t in e){var i=e[t];n._addGuiEventHelpers(i),this.id2Event.contains(i.id)||this[t]?console.assert(this[t].id==i.id,"There is already an event defined with id: "+i.id+", unable to define new event with same id"):(this[t]=i,this.id2Event.put(i.id,i))}},n.GuiEventTypes.prototype.findEvent=function(e){return this.id2Event.get(e)},n._addGuiEventHelpers=function(e){e.makeFilter=function(t){var i=_.clone(e.composition);return chained=function(e){result=!0;for(var n in i){var o=i[n];result=result&&o(e)}return result&&e.dataMatches(t)},e.composition=[e.isTypeOf],chained},e.isTypeOf=function(t){return t.type()==e},e.right=function(){return e.composition.unshift(function(e){return e.data("which")==n.GuiMouseButtons.RightButton}),e},e.left=function(){return e.composition.unshift(function(e){return e.data("which")==n.GuiMouseButtons.LeftButton}),e},e.shift=function(){return e.composition.unshift(function(e){return e.data("shiftKey")}),e},e.noShift=function(){return e.composition.unshift(function(e){return!e.data("shiftKey")}),e},e.ctrl=function(){return e.composition.unshift(function(e){return e.data("ctrlKey")}),e},e.noCtrl=function(){return e.composition.unshift(function(e){return!e.data("ctrlKey")}),e},e.composition=[e.isTypeOf]},n.GuiEvent=function(e,t,i){this._data=new o.HashMap,this._element=new o.HashMap,this._type=e,t&&this._element.put("element",t),this.fromJSEvent(i),this._timestamp=(new Date).getTime(),this._order=0,this._start_ts=0},n.GuiEvent.prototype.timestamp=function(){return this._timestamp},n.GuiEvent.prototype._accessor=function(e,t,i){return 2==arguments.length&&_.isString(t)?e.get(t):2==arguments.length&&_.isObject(t)?(_.each(_.keys(t),function(i){e.put(i,t[i])},this),this):(e.put(t,i),this)},n.GuiEvent.prototype.element=function(e,t){if(0==arguments.length)return this._accessor(this._element,"element");if(1==arguments.length&&!_.isString(arguments[0]))return this._accessor(this._element,"element",arguments[0]);var i=Array.prototype.slice.call(arguments);return i.unshift(this._element),this._accessor.apply(this,i)},n.GuiEvent.prototype.data=function(e,t){var i=Array.prototype.slice.call(arguments);return i.unshift(this._data),this._accessor.apply(this,i)},n.GuiEvent.prototype.fromJSEvent=function(e){if(e){if(_.each({keyCode:e.keyCode,metaKey:e.metaKey,pageX:e.pageX,pageY:e.pageY,shiftKey:e.shiftKey,which:e.which,ctrlKey:e.ctrlKey},function(e,t){null!=e&&this._data.put(t,e)},this),e.gesture){var t={};t.pageX=e.gesture.center.pageX,t.pageY=e.gesture.center.pageY,t.deltaX=e.gesture.deltaX,t.deltaY=e.gesture.deltaY,t.scale=e.gesture.scale,this._data.put("gesture",t)}return this}},n.GuiEvent.prototype.type=function(e){return 0==arguments.length?this._type:(this._type=e,this)},n.GuiEvent.prototype.getKey=function(){return this._data.get("keyCode")},n.GuiEvent.prototype.isKeyPressed=function(e){if(this._type!=n.GuiEvents.GUI_KEY_PRESSED)return!1;for(var t=e.constructor==Array?e:arguments,i=this.getKey(),o=0;o<t.length;o++){var r=t[o];if(i==r)return!0}return!1},n.GuiEvent.prototype.dataMatches=function(e){if(!e)return!0;for(var t=_.keys(e),i=t.length,n=0;i>n;n++){var o=t[n];if(e[o]!==this.data(o)||!this._data.contains(o))return!1}return!0},n.GuiEvent.prototype._setIfNotNull=function(e,t,i){null!=i&&(e[t]=i)},n.GuiEvent.prototype.serialize=function(e){var t={};return t.name=this._type.name,t.type=this._type.id,this._setIfNotNull(t,"data",this._serializeData(this._data)),this._setIfNotNull(t,"element",this._serializeElements(this._element)),t.timestamp=this._timestamp,t.start_ts=this._start_ts,t.order=this._order,t},n.GuiEvent.prototype.deserialize=function(e,t){return this._type=n.GuiEvents.findEvent(t.type),this._data=this._deserializeData(t.data),this._element=this._deserializeElements(e,t.element),this._timestamp=t.timestamp,this._start_ts=t.start_ts,this._order=t.order,this},n.GuiEvent.prototype._serializeData=function(e){if(0==e.size())return null;var t=e.copy();if(t.get("mouseCoord")&&t.put("mouseCoord",{x:t.get("mouseCoord").x,y:t.get("mouseCoord").y}),t.get("gesture")){var i=t.get("gesture");t.put("gesture",{pageX:i.pageX,pageY:i.pageY,deltaX:i.deltaX,deltaY:i.deltaY,scale:i.scale})}return t.toJSON()},n.GuiEvent.prototype._deserializeData=function(e){var t=new o.HashMap;_.each(_.keys(e),function(i){t.put(i,e[i])});var i=t.get("mouseCoord");i&&t.put("mouseCoord",new a.Coord(i.x,i.y));var n=t.get("gesture");return n&&(n.pageX=n.pageX,n.pageY=n.pageY,n.deltaX=n.deltaX,n.deltaY=n.deltaY,n.scale=n.scale,t.put("gesture",n)),t},n.GuiEvent.prototype._serializeElements=function(e){var t={};return e.forEach(function(e,i){t[e]=i.local_id}),t},n.GuiEvent.prototype._deserializeElements=function(e,t){var i=new o.HashMap;return _.each(t,function(t,n){i.put(n,e.localIdMap.get(t))},this),i},n.Recorder=function(e){this.recording=e,this.verbose=!1,this.statemachine=null,this.playing=!1,this.store=new n.RecorderStore(e),this.shareId=null},n.Recorder.prototype.persist=function(e,t,i,n){this.store.persist({endpoint:e,afc:i}),this.recording=!0,this.shareId=t,this.userId=n,this.shareId=this.shareId},n.Recorder.prototype.setStatemachine=function(e){this.statemachine=e},n.Recorder.prototype.record=function(e){this.playing||this.recording&&this.store.addEvent(this.shareId,this.userId,e)},n.Recorder.prototype.storeException=function(e,t){this.recording&&this.store.storeException(this.shareId,this.userId,e,t)},n.Recorder.prototype.start=function(){this.recording=!0,this.store.recordInMemory=!0},n.Recorder.prototype.stop=function(){this.recording=!1,this.store.recordInMemory=!1},n.Recorder.prototype.save=function(e){this.store.getRecording(this.shareId,e)},n.Recorder.prototype._name=function(){return location.pathname.split("/")[2]},n.Recorder.prototype._download=function(e,t){var i=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.setAttribute("download",e);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(r)},n.Recorder.prototype.download=function(){if(!this.store.recordInMemory)return void console.error("Activate recording before downloading, append '?recording=true' to the URL.");var e=this;this.save(function(t,i){return t?void console.error("Could not retrieve recording.",t):void e._download(e._name()+".json",JSON.stringify(i))})},n.Recorder.prototype.play=function(e){var t=JSON.parse(e);this.playJSON(t)},n.Recorder.prototype.replay=function(){this.stop(),this.store.getRecording(this.shareId,function(e){this.playJSON(e)})},n.Recorder.prototype.resetCircuit=function(e){remove_editor_circuit(),init_editor_circuit(function(){e?e():console.log("Reset done")})},n.Recorder.prototype.playJSON=function(e){var t=new n.EventsCompressor,i=t.decompress(e);this.playEventsAsync(this,i.events,0)},n.Recorder.prototype.playEventsAsync=function(e,t,i,n){if(this.playing=!0,i>=t.length)return n&&n.call(e,t,i),void(this.playing=!1);var o=this.playEventAt(t,i);return o?void setTimeout(function(){e.playEventsAsync(e,t,i+1,n)},1):void console.log("Exception occured, we halt replay now")},n.Recorder.prototype.playEventAt=function(e,t){try{return this.playEvent(e[t]),!0}catch(i){return console.log("Error while replaying event #%d",t),console.log(i.stack),console.log(e[t]),!1}},n.Recorder.prototype.playEvent=function(e){var t=new n.GuiEvent;t.deserialize(this.statemachine.root,e),this.statemachine.handleTransition(t)},n.Recorder.prototype.downloadCircuitSnapshot=function(){this._download(this._name()+".snapshot.json",JSON.stringify(this.saveCircuitSnapshot()))},n.Recorder.prototype.saveCircuitSnapshot=function(){return this.statemachine.root.data.jsonify()},n.Recorder.prototype.downloadEditorModel=function(){this._download(this._name()+".editormodel,.json",JSON.stringify(this.saveEditorModel()))},n.Recorder.prototype.saveEditorModel=function(){return this.statemachine.root.editorModel.jsonify()},n.Recorder.prototype.uploadJSON=function(){var e=this,t=window.open("","recorder","menubar=no,location=no,resizable=no,scrollbars=no,status=no,height=256,width=320");t.document.body.innerHTML='<div><p>Choose a recording...</p><input type="file" id="input"></div>',t.document.getElementById("input").addEventListener("change",function(){var i=new FileReader;i.onload=function(){var t=i.result,n=JSON.parse(t);e.playJSON(n)},i.onerror=function(){console.error(i.error)},i.onloadend=function(){t.close()},i.readAsText(this.files[0])},!1)},n.Recorder.prototype.playEvent=n.Recorder.prototype.playEvent,n.Recorder.prototype.playEventAt=n.Recorder.prototype.playEventAt,n.Recorder.prototype.play=n.Recorder.prototype.play,n.Recorder.prototype.playJSON=n.Recorder.prototype.playJSON,n.Recorder.prototype.replay=n.Recorder.prototype.replay,n.Recorder.prototype.start=n.Recorder.prototype.start,n.Recorder.prototype.stop=n.Recorder.prototype.stop,n.Recorder.prototype.save=n.Recorder.prototype.save,n.Recorder.prototype.download=n.Recorder.prototype.download,n.Recorder.prototype.resetCircuit=n.Recorder.prototype.resetCircuit,n.Recorder.prototype.playEventsAsync=n.Recorder.prototype.playEventsAsync,n.Recorder.prototype.downloadCircuitSnapshot=n.Recorder.prototype.downloadCircuitSnapshot,n.Recorder.prototype.saveCircuitSnapshot=n.Recorder.prototype.saveCircuitSnapshot,n.Recorder.prototype.downloadEditorModel=n.Recorder.prototype.downloadEditorModel,n.Recorder.prototype.saveEditorModel=n.Recorder.prototype.saveEditorModel,n.Recorder.prototype.uploadJSON=n.Recorder.prototype.uploadJSON,window.CircuitsRecorder=new n.Recorder(r.recording)},function(e,t,i){e.exports=i(191),i(192),i(193),i(194)},function(e,t,n){var o=n(179),r={};r.Coord=function(e,t){this.x=e,this.y=t,this.lengthCache=null,this.normCache=null},jsonExtend(0,"Coordinate",r.Coord),r.Coord.prototype.getData=function(){var e={};return e.x=this.x,e.y=this.y,e},r.Coord.prototype.setData=function(e){this.x=e.x,this.y=e.y,this.lengthCache=null,this.normCache=null},r.Coord.prototype.getEnvelopeInternal=function(e){var t=new jsts.geom.Envelope;return t.initFromCoordinate(this),t.expandByDistance(e),t},r.Coord.prototype.toJsts=function(){var e=new jsts.geom.Coordinate(this.x,this.y);return e},r.Coord.prototype.eq=function(e){return this.x===e.x&&this.y===e.y},r.Coord.prototype.add=function(e){return new r.Coord(this.x+e.x,this.y+e.y)},r.Coord.prototype.round=function(){return new r.Coord(Math.round(this.x),Math.round(this.y))},r.Coord.prototype.move=function(e){this.x+=e.x,this.y+=e.y,this.lengthCache=null,this.normCache=null},r.Coord.prototype.sub=function(e){return new r.Coord(this.x-e.x,this.y-e.y)},r.Coord.prototype.eq=function(e){return this.x===e.x&&this.y===e.y},r.Coord.prototype.order=function(e){return this.x>e.x?1:this.x<e.x?-1:this.y>e.y?1:this.y<e.y?-1:0},r.Coord.prototype.mult=function(e,t){return void 0===t?new r.Coord(e*this.x,e*this.y):new r.Coord(e*this.x,t*this.y)},r.Coord.prototype.flip=function(e){return this.mult(e,1)},r.Coord.prototype.length=function(){return this.lengthCache||(this.lengthCache=Math.sqrt(this.x*this.x+this.y*this.y)),this.lengthCache},r.Coord.prototype.angle=function(){var e=Math.atan2(this.y,this.x);return e},r.Coord.prototype.angleDegrees=function(){return(180*this.angle()/Math.PI+360)%360},r.Coord.prototype.setPolar=function(e,t){this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this.lengthCache=null,this.normCache=null},r.Coord.prototype.distance=function(e){switch(e.constructor){case r.Coord:return e.sub(this).length();case r.Segment:return e.distance(this);case r.Line:return e.distance(this)}return null},r.Coord.prototype.distanceVec=function(e){switch(e.constructor){case r.Coord:return e.sub(this);case r.Segment:return e.distanceVec(this).mult(-1);case r.Line:return e.distanceVec(this).mult(-1)}return null},r.Coord.prototype.norm=function(){return this.normCache||(this.normCache=this.mult(1/this.length())),this.normCache},r.Coord.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.Coord.prototype.perp=function(){return new r.Coord(-this.y,this.x)},r.Coord.prototype.flipX=function(){return new r.Coord(-this.x,this.y)},r.Coord.prototype.flipY=function(){return new r.Coord(this.x,-this.y)},r.Coord.prototype.parallel=function(e){return 0===this.perp().dot(e)},r.Coord.prototype.rotate=function(e,t){if(t)return this.sub(t).rotate(e).add(t);var i=Math.cos(e*Math.PI/180)*this.x-Math.sin(e*Math.PI/180)*this.y,n=Math.sin(e*Math.PI/180)*this.x+Math.cos(e*Math.PI/180)*this.y;return new r.Coord(i,n)},r.Coord.prototype.svgTransform=function(e){for(var t,i=this.copy(),n=[],o=/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g;t=o.exec(e);)n.push(t);for(var a=n.length-1;a>=0;a--)switch(t=n[a],t[1]){case"translate":var s=parseFloat(t[2]),c=t[3]?parseFloat(t[3]):0;i.move(new r.Coord(s,c));break;case"rotate":var l=parseFloat(t[2]),d=t[3]&&t[4]?new r.Coord(parseFloat(t[3]),parseFloat(t[4])):null;i=i.rotate(l,d);break;case"scale":var u=parseFloat(t[2]),h=t[3]?parseFloat(t[3]):u;i=i.mult(u,h)}return i},r.Coord.prototype.transform=function(e,t){return t?e.transformVector(this):e.transformPoint(this)},r.Coord.prototype.copy=function(){return new r.Coord(this.x,this.y)},r.Coord.prototype.getX=function(){return this.x},r.Coord.prototype.getY=function(){return this.y},r.Coord.prototype.inBB=function(e){return this.x>=e.x&&this.x<=e.x+e.width&&this.y>=e.y&&this.y<=e.y+e.height},r.Coord.prototype.draw=function(e,t,i,n,o){e.rect(t,this.x-2.5,this.y-2.5,5,5,{stroke:i,strokeWidth:n,opacity:o})},r.Coord.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.Line=function(e,t){this.dir=e,this.point=t},jsonExtend(1,"Line",r.Line),r.Line.HOR=new r.Coord(1,0),r.Line.VER=new r.Coord(0,1),r.Line.prototype.copy=function(){return new r.Line(this.dir.copy(),this.point.copy())},r.Line.prototype.getEnvelopeInternal=function(e){var t=new jsts.geom.Envelope;return 0==this.dir.x?t.initFromValues(this.point.x,this.point.x,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):0==this.dir.y?t.initFromValues(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,this.point.y,this.point.y):t.initFromValues(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),t.expandByDistance(e),t},r.Line.prototype.getData=function(){var e={};return e.dir=this.dir,e.point=this.point,e},r.Line.prototype.order=function(e){return this.dir.order(e.dir)>0?1:this.dir.order(e.dir)<0?-1:this.point.order(e.point)>0?1:this.point.order(e.point)<0?-1:0},r.Line.prototype.setData=function(e){this.dir=e.dir,this.point=e.point},r.Line.prototype.intersects=function(e){switch(e.constructor){case r.Line:return 0!=this.dir.perp().dot(e.dir);case r.Segment:return e.intersects(this)}},r.Line.prototype.parameter=function(e){return e.sub(this.point).dot(this.dir)/this.dir.dot(this.dir)},r.Line.prototype.getPoint=function(e){return this.dir.mult(e).add(this.point)},r.Line.prototype.setPoint=function(e){this.point=e},r.Line.prototype.getDir=function(){return this.dir.norm()},r.Line.prototype.isVert=function(){return this.dir.parallel(r.Line.VER)},r.Line.prototype.getY=function(e,t){if(this.isVert())return t.x==e?t.y:(e<t.x,-1e9);var i=new r.Line(r.Line.VER,new r.Coord(e,0));return this.intersection(i).y},r.Line.prototype.intersection=function(e){switch(e.constructor){case r.Line:var t=this.dir,i=e.dir,n=this.point,o=e.point,a=-n.sub(o).dot(i.perp())/t.dot(i.perp());return n.add(t.mult(a));case r.Segment:return e.intersection(this)}},r.Line.prototype.closestPointTo=function(e){var t=new r.Line(this.dir.perp(),e);return this.intersection(t)},r.Line.prototype.parallel=function(e){var t=Math.abs(this.dir.perp().norm().dot(e.dir.norm()));return 1e-7>t},r.Line.prototype.distance=function(e){var t,i=this;switch(e.constructor){case r.Coord:return t=i.closestPointTo(e),e.sub(t).length();case r.Line:return i.parallel(e)?(t=i.closestPointTo(e.point),e.point.sub(t).length()):0}},r.Line.prototype.distanceVec=function(e){var t,i=this;switch(e.constructor){case r.Coord:return t=i.closestPointTo(e),e.sub(t);case r.Line:return i.parallel(e)?(t=i.closestPointTo(e.point),e.point.sub(t)):null;case r.Segment:var n=e.line();return i.parallel(n)?(t=i.closestPointTo(n.point),n.point.sub(t)):null}},r.Line.prototype.move=function(e){this.point=this.point.add(e)},r.Line.prototype.transform=function(e){return new r.Line(this.dir.transform(e,!0),this.point.transform(e))},r.Line.prototype.draw=function(e,t,i,n,o){var r=this.getPoint(-1e6),a=this.getPoint(1e6);e.line(t,r.x,r.y,a.x,a.y,{stroke:i,strokeWidth:n,opacity:o})},r.Line.prototype.toString=function(){return"{"+this.dir.toString()+","+this.point.toString()+"}"},r.Segment=function(e,t){this.a=e,this.b=t},r.Segment.prototype.toString=function(){return"{"+this.a.toString()+","+this.b.toString()+"}"},r.Segment.prototype.copy=function(){return new r.Segment(this.a.copy(),this.b.copy())},r.Segment.prototype.move=function(e){this.a=this.a.add(e),this.b=this.b.add(e)},r.Segment.prototype.transform=function(e){return new r.Segment(this.a.transform(e),this.b.transform(e))},r.Segment.prototype.getEnvelopeInternal=function(e){var t=new jsts.geom.Envelope;return t.initFromCoordinates(this.a,this.b),t.expandByDistance(e),t},r.Segment.prototype.line=function(){return new r.Line(this.b.sub(this.a),this.a)},r.Segment.prototype.draw=function(e,t,i,n,o){var r=this.a,a=this.b;e.line(t,r.x,r.y,a.x,a.y,{stroke:i,strokeWidth:n,opacity:o})},r.Segment.prototype.polyglon=function(e){var t,i=2*Math.sqrt(1-1/Math.sqrt(2));t=0===this.a.sub(this.b).length()?new r.Coord(1,0).mult(e*i):this.a.sub(this.b).norm().mult(e*i);var n=[];return n.push(this.a.add(t.rotate(22.5))),n.push(this.a.add(t.rotate(67.5))),n.push(this.b.add(t.rotate(112.5))),n.push(this.b.add(t.rotate(157.5))),n.push(this.b.add(t.rotate(202.5))),n.push(this.b.add(t.rotate(247.5))),n.push(this.a.add(t.rotate(292.5))),n.push(this.a.add(t.rotate(337.5))),new r.Polyglon(n)},r.Segment.prototype.intersects=function(e){switch(e.constructor){case r.Segment:var t=r.onLine(this.a,this.b,e.a)||r.onLine(this.a,this.b,e.b),i=r.counterClockwise(this.a,this.b,e.a)!==r.counterClockwise(this.a,this.b,e.b),n=r.counterClockwise(e.a,e.b,this.a)!==r.counterClockwise(e.a,e.b,this.b);return!t&&i&&n;case r.Line:var o=this.line(),a=e.intersection(o),s=o.parameter(a);return s>=0&&1>=s}},r.Segment.prototype.intersections=function(e){var t=[],i=this,n=i.a,o=i.b,r=e.a,a=e.b,s=i.line(),c=e.line();if(s.parallel(c))return i.contains(r)&&t.push(r),i.contains(a)&&t.push(a),e.contains(n)&&t.push(n),e.contains(o)&&t.push(o),t;if(s.order(c)<0)var l=s.intersection(c);else l=c.intersection(s);return i.inBBinter(l)&&e.inBBinter(l)?(t.push(l),t):t},r.Segment.prototype.inBBinter=function(e){var t,i=Math.min(this.a.x,this.b.x),n=Math.max(this.a.x,this.b.x),o=Math.min(this.a.y,this.b.y),r=Math.max(this.a.y,this.b.y);return t=o===r?e.x<=n&&e.x>=i:i===n?e.y<=r&&e.y>=o:e.x<=n&&e.x>=i&&e.y<=r&&e.y>=o},r.Segment.prototype.inBB=function(e){var t=Math.min(this.a.x,this.b.x),i=Math.max(this.a.x,this.b.x),n=Math.min(this.a.y,this.b.y),o=Math.max(this.a.y,this.b.y);return e.x<=i&&e.x>=t&&e.y<=o&&e.y>=n},r.Segment.prototype.contains=function(e){var t=this;if(r.onLine(this.a,this.b,e)){var i=t.parameter(e);if(1>=i&&i>=0)return!0;if(this.a.eq(e)||this.b.eq(e))return!0}return!1},r.Segment.prototype.parameter=function(e){var t=this;return t.line().parameter(e)},r.Segment.prototype.intersection=function(e){var t=this;switch(e.constructor){case r.Segment:return t.line().intersection(e.line());case r.Line:return t.line().intersection(e)}},r.Segment.prototype.distance=function(e){var t=this.distanceVec(e).length();return t},r.Segment.prototype.distanceVec=function(e){var t=new r.Line(this.b.sub(this.a),this.a);switch(e.constructor){case r.Coord:var i=t.closestPointTo(e),n=t.parameter(i);return 0>n?this.a.sub(e):n>1?this.b.sub(e):t.distanceVec(e);case r.Line:var a=e.distanceVec(this);return a?e.distanceVec(this).mult(-1):null;case r.Segment:var s=e.line();if(t.parallel(s)){var c=new o.HashSet;c.add(this.distanceVec(e.a)),c.add(this.distanceVec(e.b)),c.add(e.distanceVec(this.a).mult(-1)),c.add(e.distanceVec(this.b).mult(-1));var l=c.getMin(function(e){return e.length()});return l}return null}},r.Segment.prototype.scale=function(e,t){var i=new r.Segment(this.a.mult(e,t),this.b.mult(e,t));return i},r.Segment.prototype.flip=function(e){return this.scale(e,1)},r.Segment.prototype.translate=function(e){var t=new r.Segment(this.a.add(e),this.b.add(e));return t},r.Segment.prototype.rotate=function(e){var t=new r.Segment(this.a.rotate(e),this.b.rotate(e));return t},r.BoundingBox=function(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n},r.BoundingBox.prototype.intersects=function(e){var t,i=this.getPoly();return e.constructor===r.Polyglon?t=i.intersects(e):e.constructor===r.BoundingBox&&(t=i.intersects(e.getPoly())),t},r.BoundingBox.prototype.scale=function(e){return new r.BoundingBox(this.x-.5*(e-1)*this.width,this.y-.5*(e-1)*this.height,e*this.width,e*this.height)},r.BoundingBox.prototype.buffer=function(e){return new r.BoundingBox(this.x-e,this.y-e,this.width+2*e,this.height+2*e)},r.BoundingBox.prototype.overlaps=function(e){return 2*Math.abs(this.x+this.width/2-e.x-e.width/2)<this.width+e.width&&2*Math.abs(this.y+this.height/2-e.y-e.height/2)<this.height+e.height},r.BoundingBox.prototype.overlapArea=function(e){var t=Math.max(this.getXMin(),e.getXMin()),i=Math.min(this.getXMax(),e.getXMax()),n=Math.max(this.getYMin(),e.getYMin()),o=Math.min(this.getYMax(),e.getYMax());return Math.max(i-t,0)*Math.max(o-n,0)},r.BoundingBox.prototype.getXMin=function(){return this.x},r.BoundingBox.prototype.getXMax=function(){return this.x+this.width},r.BoundingBox.prototype.getYMin=function(){return this.y},r.BoundingBox.prototype.getYMax=function(){return this.y+this.height},r.BoundingBox.prototype.getMinMin=function(){return new r.Coord(this.x,this.y)},r.BoundingBox.prototype.getMinMax=function(){return new r.Coord(this.x,this.y+this.height)},r.BoundingBox.prototype.getMaxMin=function(){return new r.Coord(this.x+this.width,this.y)},r.BoundingBox.prototype.getMaxMax=function(){return new r.Coord(this.x+this.width,this.y+this.height)},r.BoundingBox.prototype.getCenter=function(){return new r.Coord(this.x+this.width/2,this.y+this.height/2)},r.BoundingBox.prototype.getArea=function(){return this.width*this.height},r.BoundingBox.prototype.getPoly=function(){var e=[];e.push(this.getMinMin()),e.push(this.getMinMax()),e.push(this.getMaxMax()),e.push(this.getMaxMin());var t=new r.Polyglon(e);return t},r.BoundingBox.prototype.merge=function(e){if(!e)return this;var t=Math.min(this.getXMin(),e.getXMin()),i=Math.min(this.getYMin(),e.getYMin()),n=Math.max(this.getXMax(),e.getXMax()),o=Math.max(this.getYMax(),e.getYMax());return new r.BoundingBox(t,i,n-t,o-i)},r.BoundingBox.prototype.flip=function(e){return this.getPoly().flip(e).getBB()},r.BoundingBox.prototype.translate=function(e){return this.getPoly().translate(e).getBB()},r.BoundingBox.prototype.rotate=function(e,t){return this.getPoly().rotate(e,t).getBB()},r.BoundingBox.prototype.centerAround=function(e){return new r.BoundingBox(e.x-this.width/2,e.y-this.height/2,this.width,this.height)},r.Trace=function(e){if(this.points=[],void 0!==e&&void 0!==e[0])if(e[0].constructor===r.Coord)this.points=e;else if(e[0].constructor===Array){this.points=[];for(var t=0;t<e.length;t++)this.points.push(new r.Coord(e[t][0],e[t][1]))}},r.Trace.prototype.scale=function(e,t){for(var i=new r.Trace,n=0;n<this.points.length;n++)i.points.push(this.points[n].mult(e,t));return i},r.Trace.prototype.flip=function(e){return this.scale(e,1)},r.Trace.prototype.translate=function(e){for(var t=new r.Trace,i=0;i<this.points.length;i++)t.points.push(this.points[i].add(e));return t},r.Trace.prototype.rotate=function(e){for(var t=new r.Trace,i=0;i<this.points.length;i++)t.points.push(this.points[i].rotate(e));return t},r.Trace.prototype.transform=function(e){for(var t=new r.Trace,i=0;i<this.points.length;i++)t.points.push(this.points[i].transform(e));return t},r.Trace.prototype.toJstsPolygon=function(e){for(var t=new jsts.geom.GeometryFactory,i=[],n=0;n<this.points.length;n++){var o=this.points[n];i.push(o.toJsts())}if(this.points.length>1)var r=t.createLineString(i);else r=i[0];var a=r.buffer(e/2);return a},r.Trace.prototype.toPolygon=function(e){return new r.Polyglon(this.toJstsPolygon(e))},r.PointSet=function(e){var t=this;if(void 0!==e)if(e.constructor===o.HashSet)t.points=[],e.forEach(function(e){t.points.push(e)});else if(e[0]){if(e[0].constructor===r.Coord)t.points=e;else if(e[0].constructor===Array){t.points=[];for(var i=0;i<e.length;i++)this.points.push(new r.Coord(e[i][0],e[i][1]))}}else t.points=[];else t.points=[]},r.PointSet.prototype.add=function(e){this.points.push(e)},r.PointSet.prototype.scale=function(e,t){for(var i=new r.PointSet,n=0;n<this.points.length;n++)i.points.push(this.points[n].mult(e,t));return i},r.PointSet.prototype.flip=function(e){return this.scale(e,1)},r.PointSet.prototype.translate=function(e){for(var t=new r.PointSet,i=0;i<this.points.length;i++)t.points.push(this.points[i].add(e));return t},r.PointSet.prototype.rotate=function(e,t){for(var i=new r.PointSet,n=0;n<this.points.length;n++)i.points.push(this.points[n].rotate(e,t));return i},r.PointSet.prototype.transform=function(e){for(var t=new r.PointSet,i=0;i<this.points.length;i++)t.points.push(this.points[i].transform(e));return t},r.PointSet.prototype.getBB=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=0;o<this.points.length;o++){var a=this.points[o];a.x<e&&(e=a.x),
a.x>t&&(t=a.x),a.y<i&&(i=a.y),a.y>n&&(n=a.y)}return new r.BoundingBox(e,i,t-e,n-i)},r.PointSet.prototype.centroid=function(){for(var e=new r.Coord(0,0),t=0;t<this.points.length;t++){var i=this.points[t];e=e.add(i)}return e.mult(1/this.points.length)},r.Path=function(e){this.path=e,this.style=this._parseStyle()},r.Path.prototype._parseStyle=function(){var e=new o.HashMap,t=this.path.getAttribute("style");if(t){";"==t[t.length-1]&&(t=t.substr(0,t.length-1)),t=t.split(";");for(var i=0;i<t.length;i++){var n=t[i].split(":");e.put(n[0],n[1])}}var r=this.path.getAttribute("stroke-width");return r&&e.put("stroke-width",r),e},r.Path.prototype.getStyle=function(e){var t=this.style.get(e);return t},r.Path.prototype.strokeWidth=function(){var e=this.getStyle("stroke-width");return e},r.Path.prototype.approximatePoints=function(e,t){var i,n=!1,o=this.path.getAttribute("d");o=o.replace(/\s*,\s*|s+/g," ");var a=Raphael.parsePathString(o);for(i=0;i<a.length;i++){var s=a[i];"A"===s[0]&&(s[1]=Math.abs(s[1]),s[2]=Math.abs(s[2])),"Z"===s[0]&&(n=!0)}var c=Raphael.getTotalLength(a);t&&(e=Math.max(e,c/(t*(a.length-1))));var l=Math.ceil(c/e),d=c/l,u=[];for(i=0;l>=i;i++){var h=Raphael.getPointAtLength(a,i*d);u.push(new r.Coord(h.x,h.y))}return u},r.Path.prototype.toPolygon=function(e,t){return new r.Polyglon(this.approximatePoints(e,t))},r.Path.prototype.toTrace=function(e){return new r.Trace(this.approximatePoints(e))},r.ComplexPoly=function(){this.outline=[],this.holes=[]},jsonExtend(18,"ComplexPolygon",r.ComplexPoly),r.ComplexPoly.prototype.getData=function(){var e={};return e.outline=this.outline,e.holes=this.holes,e},r.ComplexPoly.prototype.setData=function(e){this.outline=e.outline,this.holes=e.holes},r.ComplexPoly.prototype.toJsts=function(){var e,t,i=new jsts.geom.GeometryFactory,n=[];for(e=0;e<this.outline.length;e++)t=this.outline[e],n.push(new jsts.geom.Coordinate(t.x,t.y));n.push(n[0]);for(var o=i.createLinearRing(n),r=[],a=0;a<this.holes.length;a++){var s=this.holes[a];for(n=[],e=0;e<s.length;e++)t=s[e],n.push(new jsts.geom.Coordinate(t.x,t.y));n.push(n[0]),r.push(i.createLinearRing(n))}var c=i.createPolygon(o,r);return c},r.ComplexPoly.prototype.fromJsts=function(e){var t,i;this.outline=[];var n=e.getExteriorRing().getCoordinates();for(t=0;t<n.length-1;t++)i=n[t],this.outline.push(new r.Coord(i.x,i.y));for(var o=0;o<e.getNumInteriorRing();o++){n=e.getInteriorRingN(o).getCoordinates();var a=[];for(t=0;t<n.length-1;t++)i=n[t],a.push(new r.Coord(i.x,i.y));this.holes.push(a)}},r.Polyglon=function(e,t){var i,n,o;if(e&&e.constructor==String)if("<"!==e.substr(0,1)){var a=$.parseJSON(e);for(this.points=[],i=0;i<a.length;i++)n=a[i],this.points.push(new r.Coord(n[0],n[1]))}else{var s;if("undefined"!=typeof window){var c=$.parseXML(e);s=c.childNodes[0]}else s=$(e)[0];var l;switch(s.tagName.toLowerCase()){case"rect":var d=parseFloat(s.getAttribute("x")),u=parseFloat(s.getAttribute("y")),h=parseFloat(s.getAttribute("width")),p=parseFloat(s.getAttribute("height")),g=parseFloat(s.getAttribute("rx"));isNaN(d)&&(d=0),isNaN(u)&&(u=0),isNaN(g)&&(g=0),l=Raphael._rectPath(d,u,h,p,g);break;case"path":l=Raphael.parsePathString(s.getAttribute("d"));break;case"circle":l=Raphael._ellipsePath(0|s.getAttribute("cx"),0|s.getAttribute("cy"),0|s.getAttribute("r"),0|s.getAttribute("r"));break;case"polygon":var m=s.getAttribute("points");m=m.trim(),m=m.replace(/\s*,\s*|s+/g," ");var f=m.split(" ").reverse();for(l=[],l.push(["M",f.pop(),f.pop()]);0!==f.length;)l.push(["L",f.pop(),f.pop()]);l.push(["Z"])}this.fromPath(l,t)}else if(e&&void 0!==e[0]){if(e[0].constructor===r.Coord)this.points=e;else if(void 0!==e[0].x&&void 0!==e[0].y)for(this.points=[],i=0;i<e.length;i++)n=e[i],this.points.push(new r.Coord(n.x,n.y));else if(e[0].constructor===Array)for(this.points=[],i=0;i<e.length;i++)n=e[i],this.points.push(new r.Coord(n[0],n[1]))}else if(e&&e instanceof jsts.geom.Polygon)for(this.points=[],o=e.getExteriorRing().getCoordinates(),i=0;i<o.length-1;i++)n=o[i],this.points.push(new r.Coord(n.x,n.y));else if(e&&e instanceof jsts.geom.LinearRing)for(this.points=[],o=e.getCoordinates(),i=0;i<o.length-1;i++)n=o[i],this.points.push(new r.Coord(n.x,n.y));else if(e&&e instanceof jsts.geom.MultiPolygon)for(this.points=[],o=e.getGeometryN(0).getCoordinates(),i=0;i<o.length-1;i++)n=o[i],this.points.push(new r.Coord(n.x,n.y));else this.points=[]},r.Polyglon.prototype.fromCircle=function(e,t,i){this.points=[],t=t||new r.Coord(0,0);var n=2*e*Math.PI,o=i?i:100,a=Math.ceil(n/o);if(a){a=a>64?64:a;for(var s=2*Math.PI/a,c=0,l=0;a>l;++l)this.points.push(new r.Coord(t.x+e*Math.cos(c),t.y+e*Math.sin(c))),c+=s}return this},r.Polyglon.prototype.fromPath=function(e,t){this.points=[];var n=Raphael._pathToAbsolute(e),o=null;for(i=0;i<n.length;i++){var a=n[i];switch(a[0]){case"M":o=new r.Coord(a[1],a[2]),n.length>i+1&&"M"!==n[i+1][0]&&this.points.push(o);break;case"L":o=new r.Coord(a[1],a[2]),this.points.push(o);break;case"Z":break;default:for(var s=[["M",o.x,o.y],a],c=Raphael.getTotalLength(s),l=t?t:100,d=Math.ceil(c/l),u=c/d,h=1;d>=h;h++)point=Raphael.getPointAtLength(s,h*u),this.points.push(new r.Coord(point.x,point.y));o=this.points[this.points.length-1]}}},r.Polyglon.prototype.fromPathData=function(e,t){var i=Raphael.parsePathString(e);this.fromPath(i,t)},jsonExtend(2,"Polygon",r.Polyglon),r.Polyglon.prototype.eq=function(e){if(this.points.length!==e.points.length)return!1;var t=this.points.slice();t=t.concat(t);for(var i=0;i<this.points.length&&!t[i].eq(e.points[0]);)i++;if(i>=this.points.length)return!1;for(var n=0;n<e.points.length;n++){if(!t[i].eq(e.points[n]))return!1;i++}return!0},r.Polyglon.prototype.toJsts=function(){for(var e=new jsts.geom.GeometryFactory,t=[],i=0;i<this.points.length;i++){var n=this.points[i];t.push(new jsts.geom.Coordinate(n.x,n.y))}t.push(t[0]);var o=e.createPolygon(e.createLinearRing(t));return o},r.Polyglon.prototype.toJstsRing=function(){for(var e=new jsts.geom.GeometryFactory,t=[],i=0;i<this.points.length;i++){var n=this.points[i];t.push(new jsts.geom.Coordinate(n.x,n.y))}return t.push(t[0]),e.createLinearRing(t)},r.Polyglon.prototype.getData=function(){var e={};return e.points=this.points,e},r.Polyglon.prototype.setData=function(e){this.points=e.points},r.Polyglon.prototype.getBB=function(){var e=new r.PointSet(this.points);return e.getBB()},r.Polyglon.prototype.toTrace=function(){var e=new r.Trace(this.points);return e.points.push(e.points[0]),e},r.Polyglon.prototype.segments=function(){for(var e=new o.HashSet,t=1;t<this.points.length;t++)e.add(new r.Segment(this.points[t-1],this.points[t]));return e.add(new r.Segment(this.points[this.points.length-1],this.points[0])),e},r.Polyglon.prototype.intersects=function(e){var t=!1,i=this.segments(),n=e.segments();return i.forEach(function(e){n.forEach(function(i){t=t||e.intersects(i)})}),t},r.Polyglon.prototype.rotate=function(e,t){for(var i=new r.Polyglon,n=0;n<this.points.length;n++){var o=this.points[n];i.points[n]=o.rotate(e,t)}return i},r.Polyglon.prototype.flip=function(e){return this.scale(e,1)},r.Polyglon.prototype.scale=function(e,t){for(var i=new r.Polyglon,n=0;n<this.points.length;n++){var o=this.points[n];i.points.push(o.mult(e,t))}return i},r.Polyglon.prototype.translate=function(e){for(var t=new r.Polyglon,i=0;i<this.points.length;i++){var n=this.points[i];t.points.push(n.add(e))}return t},r.Polyglon.prototype.transform=function(e){for(var t=new r.Polyglon,i=0;i<this.points.length;i++){var n=this.points[i];t.points.push(n.transform(e))}return t},r.Polyglon.prototype.addToSVG=function(e,t){var i=e.createPath();i.move(this.points[0].x,this.points[0].y);for(var n=1;n<this.points.length;n++)i.line(this.points[n].x,this.points[n].y);var o=e.path(t,i);return o},r.Polyglon.prototype.toSVG=function(e,t,i,n,o){for(var r='<polygon points="',a=0;a<this.points.length;a++){var s=this.points[a];r+=s.x+","+s.y+" "}r+='" ';var c=[];return e||c.push("fill:none"),t&&c.push("stroke-width:"+i),o&&c.push("stroke:"+o),n&&c.push("stroke-dasharray:"+n),c.length>0&&(r+='style="'+c.join(";")+'"'),r+=" />"},r.counterClockwise=function(e,t,i){return(t.y-e.y)*(i.x-e.x)<(i.y-e.y)*(t.x-e.x)},r.clockwise=function(e,t,i){return(t.y-e.y)*(i.x-e.x)>(i.y-e.y)*(t.x-e.x)},r.onLine=function(e,t,i){return(t.y-e.y)*(i.x-e.x)==(i.y-e.y)*(t.x-e.x)},r.side=function(e,t,i){var n=(t.y-e.y)*(i.x-e.x)-(i.y-e.y)*(t.x-e.x);return 0>n?-1:n>0?1:0},r.fitBBinBB=function(e,t){var i;i=t.width/e.width>t.height/e.height?t.height/e.height:t.width/e.width;var n=e.x+e.width/2,o=e.y+e.height/2,r=t.x+t.width/2,a=t.y+t.height/2,s=r-i*n,c=a-i*o;return{transX:s,transY:c,scale:i}},r.Matrix=function(e){this.matrix=e||[1,0,0,1,0,0]},r.Matrix.prototype.mult=function(e){return new r.Matrix([e[0]*this.matrix[0]+e[2]*this.matrix[1],e[1]*this.matrix[0]+e[3]*this.matrix[1],e[0]*this.matrix[2]+e[2]*this.matrix[3],e[1]*this.matrix[2]+e[3]*this.matrix[3],e[0]*this.matrix[4]+e[2]*this.matrix[5]+e[4],e[1]*this.matrix[4]+e[3]*this.matrix[5]+e[5]])},r.Matrix.prototype.svgTransform=function(e){for(var t,i=new r.Matrix(this.matrix),n=[],o=/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g;t=o.exec(e);)n.push(t);for(var a=n.length-1;a>=0;a--)switch(t=n[a],t[1]){case"translate":var s=parseFloat(t[2]),c=t[3]?parseFloat(t[3]):0;i.translate(new r.Coord(s,c));break;case"rotate":var l=parseFloat(t[2]),d=t[3]&&t[4]?new r.Coord(parseFloat(t[3]),parseFloat(t[4])):null;i=i.rotate(l,d);break;case"scale":var u=parseFloat(t[2]),h=t[3]?parseFloat(t[3]):u;i=i.scale(u,h)}return i},r.Matrix.prototype.flip=function(e){return this.mult([e,0,0,1,0,0])},r.Matrix.prototype.rotate=function(e,t){var i=Math.cos(e*Math.PI/180),n=Math.sin(e*Math.PI/180);if(t){var o,r;return"undefined"==typeof t.x?(o=t[0],r=t[1]):(o=t.x,r=t.y),this.translate([-o,-r]).mult([i,n,-n,i,o,r])}return this.mult([i,n,-n,i,0,0])},r.Matrix.prototype.translate=function(e){return"undefined"==typeof e.x?this.mult([1,0,0,1,e[0],e[1]]):this.mult([1,0,0,1,e.x,e.y])},r.Matrix.prototype.scale=function(e,t){return"undefined"==typeof t&&(t=e),this.mult([e,0,0,t,0,0])},r.Matrix.prototype.skewX=function(e){return this.mult([1,0,Math.tan(e*Math.PI/180),1,0,0])},r.Matrix.prototype.skewY=function(e){return this.mult([1,Math.tan(e*Math.PI/180),0,1,0,0])},r.Matrix.prototype.transformPoint=function(e){return new r.Coord(this.matrix[0]*e.x+this.matrix[2]*e.y+this.matrix[4],this.matrix[1]*e.x+this.matrix[3]*e.y+this.matrix[5])},r.Matrix.prototype.transformVector=function(e){return new r.Coord(this.matrix[0]*e.x+this.matrix[2]*e.y,this.matrix[1]*e.x+this.matrix[3]*e.y)},e.exports=r},function(e,t,i){var n=i(179),o=i(191);o.buffer=function(e,t){for(var i=new jsts.geom.GeometryFactory,r=new n.HashSet,a=0;a<e.length;a++){for(var s=e[a],c=o.bufferSingle(new o.Polyglon(s.getExteriorRing()).points,t),l=new o.Polyglon(c).toJstsRing(),d=[],u=0;u<s.getNumInteriorRing();u++){var h=o.bufferSingle(new o.Polyglon(s.getInteriorRingN(u)).points,t),p=new o.Polyglon(h).toJstsRing();d.push(p)}var g=i.createPolygon(l,d);r.add(g)}return r},o.bufferSingle=function(e,t){function i(e,i){var n=t/10;if(0==e.length)return void e.push(i);var o=e[e.length-1];o.sub(i).length()>n&&e.push(i)}for(var n=[],r=0;r<e.length;r++)n.push(e[r]);var a=-t,s=[];n.push(n[0]),n.push(n[1]);for(var r=0;r<n.length-2;r++){for(var c=n[r],l=n[r+1],d=n[r+2],u=l.sub(c).norm(),h=d.sub(l).norm(),p=Math.atan2(u.y,u.x)-Math.atan2(h.y,h.x);0>=p;)p+=2*Math.PI;if(p>Math.PI)i(s,l.add(u.perp().mult(a))),i(s,l.add(h.perp().mult(a)));else if(p<Math.PI){var g=new o.Line(u,l.add(u.perp().mult(a))),m=new o.Line(h,l.add(h.perp().mult(a)));i(s,g.intersection(m))}}return s}},function(e,t,i){var n=i(179),o=i(191);o.SegmentWrapper=function(e,t,i){this.seg=new o.Segment(e,t),this.inters=[],this.geom=null,this.name=i},o.Edge=function(e,t){this.a=e,this.b=t},o.Edge.prototype.toString=function(){return this.a.toString()+this.b.toString()},o.union=function(e,t,i,r){function a(e){for(var t=new jsts.geom.GeometryFactory,i=new jsts.index.strtree.STRtree,n=0;n<e.length;n++){var o=e[n].seg,r=new jsts.geom.Coordinate(o.a.x,o.a.y),a=new jsts.geom.Coordinate(o.b.x,o.b.y),s=t.createLineString([r,a]);e[n].geom=s;var c=s.getEnvelopeInternal();i.insert(c,e[n])}return i}function s(e){for(var t=0;t<e.length;t++){for(var i=e[t],n=e[t].geom.getEnvelopeInternal(),o={},r=x.query(n),a=0;a<r.length;a++){var s=r[a];if(i!==s)for(var c=i.seg.intersections(s.seg),l=0;l<c.length;l++)void 0===o[c[l].toString()]&&(o[c[l].toString()]=!0,i.inters.push(c[l]))}void 0===o[i.seg.a.toString()]&&(o[i.seg.a.toString()]=!0,i.inters.push(i.seg.a)),void 0===o[i.seg.b.toString()]&&(o[i.seg.b.toString()]=!0,i.inters.push(i.seg.b))}}function c(){for(var e=[],t=[],i={},n=0;n<C.length;n++){var r=C[n],a=r.inters,s=r.seg.line();a.sort(function(e,t){return s.parameter(e)-s.parameter(t)});for(var c=0;c<a.length-1;c++){var l=new o.Edge(a[c],a[c+1]);void 0===i[a[c].toString()]&&(e.push(a[c]),i[a[c].toString()]=[]),i[a[c].toString()].push(l),t.push(l)}}return[e,t,i]}function l(e){for(var t=(e[0],e[1]),i=e[2],o={},r=0,a=[];r!==t.length;){for(var s=[],c=new n.HashMap(function(e){return e.toString()}),l=null,d=t[r];void 0===o[d.toString()];){o[d.toString()]=!0,s.push(d),c.put(d,s.length-1);for(var u,h=i[d.b.toString()],p=null,g=0;g<h.length;g++){var m=h[g];if(m.toString()!==d.toString()){var f=d.a.sub(d.b),_=m.b.sub(m.a),v=Math.atan2(_.y,_.x)-Math.atan2(f.y,f.x);0>v&&(v+=2*Math.PI),(null===p||v>u)&&(p=m,u=v)}}l=d,d=p}for(c.contains(d)&&a.push(s.slice(c.get(d)));r!==t.length&&void 0!==o[t[r].toString()];)r++}for(var y=[],g=0;g<a.length;g++){for(var C=[],s=a[g],b=0;b<s.length;b++){var w=s[b];C.push(w.a)}y.push(C)}return y}function d(e){for(var t=new jsts.geom.GeometryFactory,i=new jsts.index.strtree.STRtree,r=new jsts.index.strtree.STRtree,a=[],s=[],c=0;c<e.length;c++){var l=new o.Polyglon(e[c]),d=l.toJsts();jsts.algorithm.CGAlgorithms.isCCW(d.getExteriorRing().getCoordinates())?(a.push(d),i.insert(d.getEnvelopeInternal(),d)):(s.push(d),r.insert(d.getEnvelopeInternal(),d))}for(var u=new n.HashMap,c=0;c<a.length;c++){var h=new jsts.algorithm.MCPointInRing(a[c].getExteriorRing());u.put(a[c],h)}a.sort(function(e,t){return u.get(e).isInside(t.getCoordinate())?1:u.get(t).isInside(e.getCoordinate())?-1:0});for(var p=new n.HashMap,c=0;c<a.length;c++)p.put(a[c],c);for(var g=new n.HashMap,c=0;c<s.length;c++){for(var m=s[c],f=i.query(m.getEnvelopeInternal()),_=Number.POSITIVE_INFINITY,v=null,y=0;y<f.length;y++){var C=f[y];if(u.get(C).isInside(m.getCoordinate())){var b=p.get(C);_>b&&(_=b,v=C)}}v&&g.put(m,v)}for(var w=new n.HashMap,c=0;c<a.length;c++)w.put(a[c],[]);g.forEach(function(e,t){w.get(t).push(e.getExteriorRing())});for(var M=new n.HashSet,c=0;c<a.length;c++){var C=a[c],S=t.createPolygon(a[c].getExteriorRing(),w.get(C));M.add(S)}return M}function u(e,t){for(var i=[],r=new jsts.index.strtree.STRtree,a=0;a<t.length;a++){var s=new o.Polyglon(t[a]),c=s.toJsts(),l=c.getEnvelopeInternal();r.insert(l,c)}new n.HashSet;return e.forEach(function(e){for(var t=r.query(e.getEnvelopeInternal()),n=e.getExteriorRing(),o=!1,a=0;a<t.length;a++){var s=t[a];if(n.coveredBy(s)){o=!0;break}}o||i.push(e)}),i}for(var h=[new o.Polyglon(e).points.reverse()],p=0;p<t.length;p++){var g=new o.Polyglon(t[p]);h.push(g.points)}for(var m=[],p=0;p<h.length;p++){var e=h[p];e.push(e[0]);var f=[];m.push(f);for(var _,v=0;v<e.length;v++){var y=e[v];if(y.x=Math.floor(y.x),y.y=Math.floor(y.y),0===v)f.push(y),_=y;else if(y.x!=_.x||y.y!=_.y)f.push(y),_=y;else;}}for(var C=[],b=0,p=0;p<m.length;p++)for(var e=m[p],v=0;v<e.length-1;v++){var w=e[v],M=e[v+1],S=new o.SegmentWrapper(w,M,b);C.push(S),b++}var x=a(C);s(C);var T=c(),E=T[0],A=(T[1],T[2]);if(r){var D=i.defs("myDefs"),L=i.marker(D,"myMarker",0,0,20,20);i.add(L,"<path d='M0,0 V4 L2,2 Z' fill='yellow' />");for(var p=0;p<E.length;p++){var B=E[p];i.rect(r,B.x-.2,B.y-.2,.4,.4,{stroke:"yellow",opacity:.8}),i.text(r,B.x+.4,B.y-.4,B.toString(),{stroke:"yellow",fill:"yellow","font-size":"10px"});for(var k=A[B.toString()],v=0;v<k.length;v++){var R=k[v],I=i.createPath();I=I.move(R.a.x,R.a.y),I=I.line(R.b.x,R.b.y),i.path(r,I,{markerEnd:"url(#myMarker)",stroke:"yellow",opacity:.8})}}}var P=l(T),h=d(P),N=u(h,t);return N}},function(e,t,i){var n=i(191);n.jstsPolyToSVG=function(e){var t="",i=[];i.push(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)i.push(e.getInteriorRingN(n));for(var o=0;o<i.length;o++){var r=i[o],a=r.getCoordinates();for(n=0;n<a.length-1;n++){var s=a[n];t+=0===n?"M "+s.x+" "+s.y+" ":"L "+s.x+" "+s.y+" "}t+="Z"}var c=$("<path/>");return c.attr("d",t),c},n.drawJstsPolygon=function(e,t,i,n){var o=t.createPath(),r=[];r.push(e.getExteriorRing());for(var a=0;a<e.getNumInteriorRing();a++)r.push(e.getInteriorRingN(a));for(var s=0;s<r.length;s++){var c=r[s],l=c.getCoordinates();for(a=0;a<l.length-1;a++){var d=l[a];o=0===a?o.move(d.x,d.y):o.line(d.x,d.y)}o=o.close()}return t.path(i,o,n)}},function(e,t,i){var n=i(170).Circuits,o=i(176).Versioned,r=i(178);extendInteractionModel=function(e,t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){"function"!=typeof t.prototype[i]||t.prototype[i].isExtendedFunction||"constructor"==i||"initialize"==i||(e.prototype[i]=function(){return this.data[i].apply(this.data,arguments)},e.prototype[i].isExtendedFunction=!0)})},n.AbstractInteractionModel=function(e,t){this.root=e,this.data=t,this.makeViewable(),this.makeVersioned(e)},extend(n.AbstractInteractionModel,r),extend(n.AbstractInteractionModel,o),n.AbstractInteractionModel.prototype.getViableElement=function(){if(this.data){var e=this.data.getViableElement();return e?{element:e.element,path:e.path.concat(["__interactionModel"])}:null}return null},n.AbstractInteractionModel.prototype.initialize=function(){}},function(e,t,i){i(169),i(190),i(197),i(203),i(206),i(398),i(786),i(410),i(795)},function(e,t,i){i(198),i(199),i(200),i(202)},function(e,t,i){var n=i(191);Circuits.logoData=[[[19.29,51.45],[19.29,15.3],[11.56,21.55],[8.76,16.86],[20.14,8.09],[26.12,8.09],[26.12,51.45],[19.29,51.45]],[[39.19,51.45],[39.19,46.12],[53.7,31.31],[55.58,29.18],[57.26,26.94],[57.99,25.8],[58.62,24.64],[59.14,23.47],[59.53,22.29],[59.78,21.1],[59.87,19.92],[59.82,19.09],[59.69,18.31],[59.48,17.58],[59.19,16.89],[58.83,16.26],[58.41,15.68],[57.92,15.15],[57.38,14.67],[56.79,14.25],[56.15,13.88],[55.48,13.56],[54.77,13.3],[54.02,13.1],[53.26,12.95],[52.47,12.86],[51.67,12.83],[50.23,12.89],[48.83,13.06],[46.79,13.5],[45.47,13.89],[42.89,14.89],[41.01,15.76],[40.69,10.17],[43.51,9.08],[46.43,8.22],[47.93,7.89],[49.44,7.64],[50.97,7.49],[52.52,7.44],[53.94,7.48],[55.32,7.6],[56.67,7.81],[57.97,8.11],[59.22,8.49],[60.41,8.97],[61.52,9.55],[62.56,10.22],[63.5,10.99],[64.35,11.86],[65.09,12.83],[65.71,13.91],[66.22,15.1],[66.58,16.4],[66.81,17.81],[66.89,19.33],[66.8,20.79],[66.53,22.21],[66.1,23.62],[65.53,25],[64.84,26.35],[64.04,27.68],[62.18,30.25],[47.51,46.19],[67.6,46.19],[67.6,51.45],[39.19,51.45],[39.19,51.45]],[[78.07,44.89],[79.35,45.36],[80.66,45.77],[83.37,46.37],[86.08,46.73],[88.67,46.84],[89.74,46.81],[90.78,46.72],[91.79,46.57],[92.76,46.36],[93.7,46.08],[94.58,45.74],[95.41,45.33],[96.18,44.85],[96.88,44.31],[97.51,43.69],[98.06,43],[98.53,42.23],[98.9,41.39],[99.17,40.47],[99.34,39.47],[99.4,38.39],[99.34,37.4],[99.17,36.49],[98.89,35.68],[98.52,34.95],[98.05,34.29],[97.5,33.71],[96.87,33.21],[96.18,32.77],[95.43,32.4],[94.62,32.08],[93.76,31.83],[92.87,31.63],[91.95,31.48],[90.03,31.32],[83.34,31.3],[83.34,26.42],[89.33,26.4],[91.43,26.22],[92.41,26.06],[93.34,25.84],[94.21,25.57],[95.01,25.23],[95.75,24.84],[96.42,24.37],[97.01,23.84],[97.52,23.24],[97.95,22.55],[98.3,21.8],[98.54,20.95],[98.7,20.03],[98.75,19.01],[98.69,18.12],[98.53,17.32],[98.27,16.58],[97.91,15.92],[97.48,15.33],[96.96,14.8],[96.37,14.34],[95.73,13.94],[95.02,13.6],[94.27,13.31],[93.48,13.07],[92.66,12.88],[91.81,12.74],[90.07,12.59],[88,12.61],[85.5,12.89],[82.94,13.42],[80.44,14.19],[79.24,14.65],[78.85,9.32],[81.61,8.51],[84.41,7.92],[87.27,7.56],[90.17,7.44],[93.02,7.57],[94.43,7.74],[95.8,7.98],[97.14,8.31],[98.43,8.72],[99.65,9.22],[100.79,9.81],[101.84,10.5],[102.8,11.29],[103.63,12.19],[104.35,13.2],[104.92,14.32],[105.35,15.56],[105.62,16.93],[105.71,18.42],[105.66,19.44],[105.54,20.4],[105.34,21.31],[105.06,22.18],[104.7,22.99],[104.28,23.76],[103.79,24.48],[103.24,25.15],[102.62,25.76],[101.95,26.33],[101.22,26.85],[100.44,27.32],[99.61,27.74],[98.74,28.11],[97.82,28.43],[96.86,28.7],[97.85,28.86],[98.81,29.1],[99.74,29.39],[100.63,29.75],[101.47,30.16],[102.27,30.64],[103.02,31.18],[103.71,31.77],[104.33,32.42],[104.89,33.12],[105.38,33.88],[105.79,34.7],[106.11,35.56],[106.35,36.47],[106.5,37.44],[106.55,38.45],[106.45,40.2],[106.16,41.82],[105.68,43.31],[105.04,44.68],[104.24,45.93],[103.3,47.05],[102.22,48.05],[101.03,48.94],[99.74,49.72],[98.35,50.38],[96.87,50.94],[95.33,51.39],[93.74,51.73],[92.1,51.98],[90.43,52.12],[86.56,52.12],[83.77,51.88],[81.06,51.42],[79.72,51.09],[77.68,50.48],[78.07,44.89],[78.07,44.89],[78.07,44.89]],[[153.85,26.57],[153.57,24.16],[153.1,21.92],[152.45,19.85],[151.62,17.96],[150.62,16.23],[149.45,14.67],[148.11,13.28],[146.6,12.06],[144.94,11],[143.12,10.1],[141.14,9.38],[139.02,8.81],[136.75,8.41],[134.33,8.17],[118.45,8.09],[118.45,29],[125.54,29],[125.54,13.35],[132.92,13.42],[134.66,13.62],[136.28,13.96],[137.79,14.42],[139.18,15.01],[140.45,15.73],[141.6,16.57],[142.63,17.52],[143.54,18.6],[144.33,19.78],[145.01,21.08],[145.56,22.49],[145.98,24],[146.29,25.62],[146.48,27.34],[146.54,29.15],[146.47,31.24],[146.25,33.19],[145.89,35],[145.39,36.67],[144.75,38.2],[143.97,39.6],[143.06,40.86],[142.02,41.99],[140.84,42.98],[139.54,43.83],[138.11,44.55],[136.55,45.14],[134.87,45.6],[133.07,45.93],[131.15,46.12],[125.54,46.19],[125.54,29],[118.45,29],[118.45,51.45],[132.46,51.37],[134.97,51.11],[137.37,50.69],[139.63,50.09],[141.76,49.32],[143.75,48.38],[145.58,47.26],[147.25,45.96],[148.76,44.49],[150.09,42.84],[151.24,41.01],[152.19,39],[152.95,36.81],[153.5,34.44],[153.84,31.89],[153.95,29.15],[153.85,26.57]],[[170.23,12.26],[170.15,11.74],[170.02,11.25],[169.85,10.77],[169.63,10.32],[169.37,9.89],[169.07,9.49],[168.73,9.12],[168.36,8.78],[167.96,8.48],[167.53,8.22],[167.07,8.01],[166.6,7.83],[166.1,7.7],[165.58,7.62],[165.05,7.6],[164.52,7.62],[164,7.7],[163.5,7.83],[163.02,8.01],[162.57,8.22],[162.14,8.48],[161.74,8.78],[161.37,9.12],[161.03,9.49],[160.73,9.89],[160.47,10.32],[160.25,10.77],[160.07,11.25],[159.95,11.74],[159.87,12.26],[159.84,12.79],[160.69,12.79],[160.71,12.34],[160.78,11.9],[160.88,11.48],[161.03,11.07],[161.21,10.69],[161.43,10.32],[161.68,9.98],[161.96,9.66],[162.27,9.37],[162.6,9.12],[162.96,8.89],[163.34,8.71],[163.75,8.55],[164.17,8.44],[164.6,8.38],[165.05,8.35],[165.5,8.38],[165.93,8.44],[166.35,8.56],[166.75,8.71],[167.13,8.9],[167.49,9.12],[167.83,9.38],[168.14,9.67],[168.42,9.98],[168.67,10.33],[168.88,10.69],[169.07,11.08],[169.21,11.49],[169.32,11.91],[169.38,12.34],[169.41,12.79],[169.38,13.24],[169.32,13.68],[169.21,14.1],[169.07,14.51],[168.88,14.9],[168.67,15.27],[168.42,15.61],[168.14,15.93],[167.83,16.22],[167.49,16.48],[167.13,16.71],[166.75,16.9],[166.35,17.05],[165.93,17.16],[165.5,17.23],[165.05,17.25],[164.82,17.25],[164.6,17.23],[164.17,17.16],[163.75,17.05],[163.34,16.9],[162.96,16.71],[162.6,16.48],[162.27,16.22],[161.96,15.94],[161.68,15.61],[161.43,15.26],[161.21,14.89],[161.03,14.5],[160.88,14.1],[160.78,13.67],[160.71,13.24],[160.69,12.79],[159.84,12.79],[159.86,13.19],[159.9,13.58],[159.97,13.97],[160.07,14.34],[160.2,14.7],[160.35,15.05],[160.53,15.39],[160.73,15.71],[160.95,16.01],[161.19,16.3],[161.45,16.57],[161.73,16.82],[162.03,17.05],[162.34,17.25],[162.67,17.44],[163.02,17.6],[163.5,17.78],[164.01,17.91],[164.52,17.99],[165.05,18.01],[165.58,17.98],[166.1,17.9],[166.6,17.78],[167.07,17.6],[167.53,17.38],[167.96,17.12],[168.36,16.82],[168.73,16.48],[169.07,16.11],[169.37,15.7],[169.63,15.27],[169.85,14.82],[170.02,14.34],[170.15,13.84],[170.23,13.32],[170.25,12.79],[170.23,12.26]],[[166.54,13.6],[166.46,13.45],[166.38,13.32],[166.29,13.2],[166.19,13.1],[166.07,13.01],[165.94,12.93],[165.78,12.87],[165.61,12.83],[165.9,12.76],[166.18,12.66],[166.44,12.52],[166.66,12.34],[166.85,12.14],[167,11.9],[167.09,11.64],[167.13,11.36],[167.08,10.96],[166.96,10.63],[166.77,10.36],[166.51,10.14],[166.21,9.97],[165.86,9.86],[165.48,9.79],[165.08,9.77],[163.24,9.77],[163.24,11.45],[164.02,11.45],[164.02,10.46],[164.99,10.47],[165.28,10.5],[165.55,10.54],[165.79,10.62],[166,10.74],[166.16,10.9],[166.26,11.11],[166.29,11.37],[166.26,11.65],[166.16,11.88],[166,12.06],[165.8,12.19],[165.56,12.29],[165.29,12.36],[165.01,12.39],[164.02,12.4],[164.02,11.45],[163.24,11.45],[163.24,15.84],[164.02,15.84],[164.02,13.1],[164.83,13.11],[165.05,13.14],[165.23,13.19],[165.39,13.27],[165.51,13.38],[165.63,13.52],[165.73,13.69],[166.72,15.84],[167.56,15.84],[166.54,13.6],[166.54,13.6]],[[226.73,50.28],[225.53,50.76],[224.26,51.15],[222.92,51.48],[220.16,51.93],[217.43,52.14],[216.13,52.17],[213.6,52.07],[211.19,51.78],[208.89,51.3],[206.73,50.63],[204.7,49.78],[202.81,48.76],[201.07,47.57],[199.49,46.2],[198.06,44.68],[196.81,42.99],[195.73,41.16],[194.83,39.17],[194.12,37.03],[193.6,34.76],[193.29,32.35],[193.18,29.8],[193.29,27.37],[193.62,25.03],[194.16,22.81],[194.9,20.71],[195.83,18.74],[196.94,16.9],[198.23,15.2],[199.68,13.65],[201.29,12.25],[203.04,11.02],[204.93,9.95],[206.95,9.07],[209.09,8.36],[211.34,7.85],[213.69,7.54],[216.13,7.44],[218.73,7.54],[221.46,7.84],[224.14,8.34],[225.41,8.68],[226.6,9.06],[226.21,14.78],[225.17,14.35],[224.06,13.98],[222.9,13.67],[220.49,13.21],[218.08,12.99],[216.91,12.96],[215.06,13.05],[213.3,13.29],[211.64,13.69],[210.08,14.23],[208.63,14.92],[207.29,15.74],[206.06,16.68],[204.95,17.75],[203.95,18.93],[203.08,20.22],[202.33,21.6],[201.71,23.08],[201.23,24.65],[200.88,26.3],[200.66,28.02],[200.59,29.8],[200.66,31.64],[200.86,33.4],[201.2,35.08],[201.67,36.66],[202.26,38.15],[202.99,39.53],[203.84,40.81],[204.81,41.98],[205.9,43.03],[207.11,43.95],[208.44,44.75],[209.89,45.42],[211.45,45.95],[213.12,46.33],[214.89,46.56],[216.78,46.64],[219.26,46.54],[221.7,46.21],[222.9,45.95],[224.08,45.63],[225.78,45],[226.34,44.76],[226.73,50.28],[226.73,50.28]],[[236.16,51.45],[236.16,8.09],[243.24,8.09],[243.24,51.45],[236.16,51.45],[236.16,51.45]],[[279.59,35.66],[279.07,34.5],[278.47,33.45],[278.15,32.96],[277.81,32.5],[277.44,32.07],[277.06,31.67],[276.66,31.3],[276.23,30.97],[275.79,30.67],[275.32,30.41],[274.83,30.18],[274.31,29.99],[273.78,29.84],[273.22,29.74],[274.23,29.54],[275.21,29.28],[276.16,28.95],[277.08,28.55],[277.94,28.09],[278.76,27.56],[279.53,26.98],[280.24,26.33],[280.88,25.63],[281.46,24.87],[281.96,24.06],[282.38,23.2],[282.71,22.29],[282.96,21.33],[283.11,20.32],[283.16,19.27],[283.07,17.63],[282.81,16.16],[282.38,14.83],[281.8,13.66],[281.08,12.61],[280.23,11.7],[279.27,10.91],[278.21,10.24],[277.07,9.67],[275.84,9.21],[274.55,8.83],[273.21,8.55],[270.41,8.19],[254.69,8.09],[254.69,20.02],[261.64,20.02],[261.64,13.22],[268.23,13.28],[270.02,13.46],[270.86,13.62],[271.66,13.83],[272.4,14.09],[273.09,14.41],[273.71,14.8],[274.27,15.26],[274.76,15.79],[275.18,16.41],[275.51,17.11],[275.75,17.9],[275.9,18.79],[275.95,19.79],[275.89,20.78],[275.72,21.69],[275.44,22.52],[275.07,23.27],[274.61,23.94],[274.07,24.54],[273.46,25.07],[272.79,25.54],[272.06,25.93],[271.28,26.27],[270.46,26.55],[269.61,26.77],[268.74,26.93],[267.85,27.05],[261.64,27.14],[261.64,20.02],[254.69,20.02],[254.69,51.45],[261.64,51.45],[261.64,32.34],[266.71,32.4],[267.39,32.48],[268.02,32.6],[268.6,32.76],[269.13,32.96],[269.62,33.21],[270.08,33.51],[270.5,33.86],[270.9,34.26],[271.27,34.72],[271.63,35.25],[271.97,35.83],[272.63,37.2],[278.29,51.45],[286.03,51.45],[279.59,35.66],[279.59,35.66]],[[324.39,50.28],[323.19,50.76],[321.92,51.15],[320.58,51.48],[317.82,51.93],[315.09,52.14],[313.79,52.17],[311.26,52.07],[308.85,51.78],[306.55,51.3],[304.39,50.63],[302.36,49.78],[300.47,48.76],[298.73,47.57],[297.14,46.2],[295.72,44.68],[294.47,42.99],[293.38,41.16],[292.49,39.17],[291.77,37.03],[291.26,34.76],[290.94,32.35],[290.84,29.8],[290.95,27.37],[291.28,25.03],[291.82,22.81],[292.56,20.71],[293.49,18.74],[294.6,16.9],[295.89,15.2],[297.34,13.65],[298.95,12.25],[300.7,11.02],[302.59,9.95],[304.61,9.07],[306.75,8.36],[308.99,7.85],[311.35,7.54],[313.79,7.44],[316.39,7.54],[319.12,7.84],[321.8,8.34],[323.07,8.68],[324.26,9.06],[323.87,14.78],[322.83,14.35],[321.72,13.98],[320.56,13.67],[318.15,13.21],[315.74,12.99],[314.57,12.96],[312.71,13.05],[310.96,13.29],[309.3,13.69],[307.74,14.23],[306.29,14.92],[304.95,15.74],[303.72,16.68],[302.61,17.75],[301.61,18.93],[300.74,20.22],[299.99,21.6],[299.37,23.08],[298.89,24.65],[298.54,26.3],[298.32,28.02],[298.25,29.8],[298.32,31.64],[298.52,33.4],[298.86,35.08],[299.33,36.66],[299.92,38.15],[300.65,39.53],[301.5,40.81],[302.47,41.98],[303.56,43.03],[304.77,43.95],[306.1,44.75],[307.55,45.42],[309.11,45.95],[310.78,46.33],[312.55,46.56],[315.06,46.64],[317.54,46.48],[319.96,46.09],[321.15,45.8],[322.31,45.44],[324,44.76],[324.39,50.28],[324.39,50.28]],[[340.38,35.72],[340.42,36.88],[340.53,38],[340.73,39.07],[341,40.09],[341.34,41.05],[341.77,41.95],[342.27,42.78],[342.85,43.55],[343.51,44.24],[344.25,44.85],[345.08,45.38],[345.98,45.82],[346.96,46.17],[348.02,46.43],[349.17,46.59],[350.39,46.64],[351.62,46.59],[352.77,46.43],[353.84,46.18],[354.82,45.83],[355.73,45.39],[356.55,44.87],[357.3,44.26],[357.97,43.57],[358.56,42.81],[359.07,41.98],[359.5,41.08],[359.85,40.11],[360.12,39.09],[360.32,38.02],[360.43,36.89],[360.47,8.09],[367.56,8.09],[367.48,37.57],[367.23,39.37],[366.84,41.07],[366.29,42.65],[365.61,44.12],[364.78,45.48],[363.83,46.72],[362.75,47.84],[361.55,48.83],[360.24,49.7],[358.82,50.45],[357.3,51.06],[355.69,51.54],[353.98,51.89],[352.19,52.1],[350.33,52.17],[348.47,52.1],[346.69,51.9],[344.99,51.57],[343.39,51.1],[341.88,50.51],[340.48,49.78],[339.19,48.93],[338.01,47.96],[336.95,46.86],[336.01,45.64],[335.2,44.3],[334.53,42.84],[334,41.27],[333.61,39.57],[333.37,37.77],[333.29,8.09],[340.38,8.09],[340.38,35.72],[340.38,35.72]],[[379.46,51.45],[379.46,8.09],[386.55,8.09],[386.55,51.45],[379.46,51.45],[379.46,51.45]],[[407.61,51.45],[407.61,13.94],[394.41,13.94],[394.41,8.09],[427.96,8.09],[427.96,13.94],[414.7,13.94],[414.7,51.45],[407.61,51.45]],[[434.72,44.37],[435.99,44.98],[437.24,45.49],[438.49,45.92],[439.76,46.26],[441.06,46.52],[442.39,46.7],[445.19,46.84],[445.97,46.81],[446.75,46.74],[447.51,46.62],[448.25,46.45],[448.97,46.23],[449.65,45.95],[450.31,45.61],[450.91,45.21],[451.47,44.76],[451.98,44.23],[452.42,43.65],[452.8,43],[453.1,42.28],[453.33,41.49],[453.47,40.62],[453.52,39.69],[453.48,38.94],[453.36,38.25],[453.17,37.61],[452.91,37],[452.59,36.44],[452.21,35.91],[451.78,35.42],[451.29,34.96],[450.75,34.52],[449.56,33.7],[441.87,29.86],[440.37,29],[438.99,28.03],[438.35,27.49],[437.75,26.92],[437.2,26.31],[436.7,25.65],[436.25,24.95],[435.86,24.19],[435.53,23.38],[435.27,22.51],[435.08,21.59],[434.96,20.59],[434.92,19.53],[435.01,17.98],[435.25,16.55],[435.65,15.23],[436.19,14.02],[436.86,12.92],[437.64,11.93],[438.53,11.05],[439.5,10.27],[440.56,9.58],[441.68,9],[442.86,8.51],[444.08,8.12],[445.33,7.82],[446.61,7.61],[447.88,7.48],[451.14,7.49],[453.67,7.7],[456.09,8.08],[458.98,8.8],[458.59,14.52],[457.52,14.09],[456.41,13.73],[455.27,13.43],[452.96,13],[450.66,12.79],[448.86,12.79],[448.17,12.85],[447.48,12.94],[446.79,13.09],[446.13,13.28],[445.48,13.52],[444.86,13.81],[444.28,14.15],[443.74,14.55],[443.26,15.01],[442.82,15.53],[442.45,16.12],[442.16,16.77],[441.93,17.49],[441.79,18.28],[441.75,19.14],[441.78,19.79],[441.88,20.39],[442.03,20.95],[442.24,21.48],[442.51,21.96],[442.82,22.42],[443.18,22.84],[443.58,23.24],[444.01,23.62],[444.48,23.98],[445.5,24.63],[453.24,28.38],[454.97,29.38],[455.77,29.91],[456.53,30.48],[457.23,31.09],[457.88,31.75],[458.47,32.45],[458.99,33.21],[459.45,34.04],[459.83,34.93],[460.13,35.9],[460.35,36.94],[460.49,38.08],[460.54,39.3],[460.46,40.9],[460.23,42.39],[459.86,43.77],[459.36,45.04],[458.73,46.2],[457.98,47.25],[457.12,48.2],[456.15,49.05],[455.08,49.79],[453.93,50.43],[452.69,50.96],[451.38,51.4],[449.99,51.74],[448.55,51.98],[447.06,52.12],[444.88,52.16],[442.19,52.01],[439.37,51.64],[436.51,51.03],[434.4,50.41],[434.72,44.37],[434.72,44.37]]],
Circuits.LogoGenerator=function(e){this.polies=[];for(var t=0;t<e.length;t++){var i=e[t];i=new n.Polyglon(i),this.polies.push(i)}},Circuits.LogoGenerator.prototype.getPolies=function(e){for(var t=[],i=0;i<this.polies.length;i++)e.width>=e.height?t.push(this.polies[i].scale(-1,1)):t.push(this.polies[i].scale(-1,1).rotate(270));for(var o=[],i=0;i<t.length;i++)o=o.concat(t[i].points);for(var r=new n.PointSet(o).getBB(),a={x:e.x+.1*e.width,y:e.y+.1*e.height,width:.8*e.width,height:.8*e.height},s=n.fitBBinBB(r,a),i=0;i<t.length;i++)t[i]=t[i].scale(s.scale).translate(new n.Coord(s.transX,s.transY));return t},Circuits.LogoGenerator.prototype.getSVG=function(e){for(var t="",i=this.getPolies(e),n=0;n<i.length;n++)t+=i[n].toSVG(!0,!1);return t},Circuits.LogoGenerator.prototype.getPolies_width=function(e,t,i,o){for(var r=[],a=0;a<this.polies.length;a++)r.push(this.polies[a]);for(var s=[],a=0;a<r.length;a++)s=s.concat(r[a].points);for(var c=new n.PointSet(s).getBB(),l=t/c.width,a=0;a<r.length;a++)r[a]=r[a].translate(new n.Coord(-c.x-c.width/2,-c.y-c.height/2)).scale(o*l,l).rotate(i).translate(e);return r},Circuits.LogoGenerator.prototype.getSVG_width=function(e,t,i,n){for(var o="",r=this.getPolies_width(e,t,i,n),a=0;a<r.length;a++)o+=r[a].toSVG(!0,!1);return o},Circuits.logoGen=new Circuits.LogoGenerator(Circuits.logoData)},function(e,t,i){var n=i(173),o=i(191);Circuits.pcbFontPoints={a:[[[1.5,9],[6,9],[8.5,7],[8.5,0],[2,0],[0,2.5],[2,5],[8.5,5]]],b:[[[0,12],[0,0],[6.5,0],[9,2],[9,6.5],[6.5,9],[3,9],[0,6]]],c:[[[9,6.5],[9,7],[6.5,9],[2.5,9],[0,6.5],[0,2.5],[2.5,0],[6.5,0],[9,2],[9,2.5]]],d:[[[9,12],[9,0],[2.5,0],[0,2.5],[0,6.5],[2.5,9],[6,9],[9,6]]],e:[[[8,0],[2.5,0],[0,2.5],[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,4.5],[0,4.5]]],f:[[[2,0],[2,10],[4,12],[6,12],[8,10],[8,9.5]],[[0,5],[4,5]]],g:[[[9,9],[9,-1.5],[7.5,-3],[2.5,-3]],[[9,1],[2,1],[0,3],[0,6.5],[2.5,9],[6,9],[9,6]]],h:[[[0,0],[0,12]],[[8,0],[8,6.5],[5.5,9],[3,9],[0,6.5]]],i:[[[1,12],[1,12]],[[0,9],[1,9],[1,0]],[[0,0],[2,0]]],j:[[[5,12],[5,12]],[[4,9],[5,9],[5,-1.5],[3.5,-3],[1.5,-3],[0,-1.5],[0,0]]],k:[[[0,0],[0,12]],[[0,1.5],[8,8.5],[8,9]],[[4,5],[8,.5],[8,0]]],l:[[[0,12],[2,12],[2,0]],[[0,0],[4,0]]],m:[[[0,9],[0,0]],[[0,6.5],[2.5,9],[4.5,9],[6,7.5],[6,0]],[[6,7.5],[7,9],[9.5,9],[12,6.5],[12,0]]],n:[[[0,0],[0,9]],[[0,6],[3,9],[6.5,9],[9,6.5],[9,0]]],o:[[[0,2.5],[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,2.5],[6.5,0],[2.5,0],[0,2.5]]],p:[[[0,-3],[0,9]],[[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,4],[6.5,1.5],[2.5,1.5],[0,4]]],q:[[[9,-3],[9,9]],[[9,4],[6.5,1.5],[2.5,1.5],[0,4],[0,6.5],[2.5,9],[6.5,9],[9,6.5]]],r:[[[0,0],[0,9]],[[0,5],[3.5,9],[7.5,9],[9,7.5],[9,7]]],s:[[[0,2],[0,1.5],[1.5,0],[7.5,0],[9,1.5],[9,3],[7.5,4.5],[1.5,4.5],[0,6],[0,7.5],[1.5,9],[7.5,9],[9,7.5],[9,7]]],t:[[[1.5,12],[1.5,2],[3.5,0],[6.5,0],[8,1.5],[8,2]],[[0,9],[4,9]]],u:[[[9,9],[9,0]],[[0,9],[0,2.5],[2.5,0],[6.5,0],[9,2.5]]],v:[[[0,9],[0,4],[4,0],[5,0],[9,4],[9,9]]],w:[[[0,9],[0,4],[2.5,0],[3.5,0],[6,3],[8.5,0],[9.5,0],[12,4],[12,9]],[[6,4],[6,3]]],x:[[[0,0],[0,.5],[9,8.5],[9,9]],[[0,9],[0,8.5],[9,.5],[9,0]]],y:[[[9,9],[9,-1.5],[7.5,-3],[2,-3]],[[0,9],[0,3.5],[2,1.5],[9,1.5]]],z:[[[0,9],[9,9],[9,8.5],[0,.5],[0,0],[9,0]]],A:[[[0,0],[0,6],[4,12],[5,12],[9,6],[9,0]],[[0,3],[9,3]]],B:[[[0,0],[0,12],[7,12],[9,10],[9,8],[7,6],[0,6]],[[7,6],[9,4],[9,2],[7,0],[0,0]]],C:[[[9,3],[9,2],[7,0],[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,9]]],D:[[[0,0],[0,12],[7,12],[9,10],[9,2],[7,0],[0,0]]],E:[[[7,0],[0,0],[0,12],[7,12]],[[6,6],[0,6]]],F:[[[0,0],[0,12],[7,12]],[[6,6],[0,6]]],G:[[[5.5,5],[9,5],[9,2],[7,0],[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,9]]],H:[[[0,0],[0,12]],[[0,6],[8,6]],[[8,0],[8,12]]],I:[[[1.5,0],[1.5,12]],[[0,0],[3,0]],[[0,12],[3,12]]],J:[[[0,3],[0,2],[2,0],[5,0],[7,2],[7,12]],[[5,12],[8,12]]],K:[[[0,0],[0,12]],[[0,4],[8,11.5],[8,12]],[[8,0],[8,.5],[3,6.5]]],L:[[[7,0],[0,0],[0,12]]],M:[[[0,0],[0,12]],[[0,11.5],[5.5,7.5],[11,11.5]],[[11,12],[11,0]]],N:[[[0,0],[0,12]],[[0,11],[8,3.5]],[[8,0],[8,12]]],O:[[[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,2],[7,0],[2,0]]],P:[[[0,0],[0,12],[6,12],[8,10],[8,8],[6,6],[0,6]]],Q:[[[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,3.5],[5,0],[2,0]],[[5.5,3.5],[9,0]]],R:[[[0,0],[0,12],[6,12],[8,10],[8,8],[6,6],[0,6]],[[6,6],[8,4],[8,0]]],S:[[[0,2],[2,0],[7,0],[9,2],[9,4],[7,6],[2,6],[0,8],[0,10],[2,12],[7,12],[9,10]]],T:[[[4,0],[4,12]],[[0,12],[8,12]]],U:[[[0,12],[0,1.5],[1.5,0],[6.5,0],[8,1.5],[8,12]]],V:[[[0,12],[0,5],[4,0],[8,5],[8,12]]],W:[[[0,12],[0,4],[3,0],[5.5,3],[8,0],[11,4],[11,12]],[[5.5,3],[5.5,6]]],X:[[[0,0],[0,.5],[9,11.5],[9,12]],[[0,12],[0,11.5],[9,.5],[9,0]]],Y:[[[0,12],[0,11],[4.5,5]],[[4.5,0],[4.5,5],[9,11],[9,12]]],Z:[[[9,0],[0,0],[0,1],[9,11],[9,12],[0,12]]],0:[[[1.5,0],[0,1.5],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,1.5],[5.5,0],[1.5,0]],[[0,3],[7,9]]],1:[[[2.5,0],[2.5,12],[1.5,12],[0,10]],[[0,0],[4.5,0]]],2:[[[0,10],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,7],[0,0],[7,0]]],3:[[[0,10],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,8.5],[4.5,6],[7,3.5],[7,1.5],[5.5,0],[1.5,0],[0,1.5],[0,2]],[[3,6],[4.5,6]]],4:[[[6,0],[6,12],[5,12],[0,4.5],[0,2.5],[7,2.5]]],5:[[[0,2],[0,1.5],[1.5,0],[5.5,0],[7,1.5],[7,5],[5.5,6.5],[0,6.5],[0,12],[6,12]]],6:[[[7,10],[7,10.5],[5.5,12],[1.5,12],[0,10.5],[0,1.5],[1.5,0],[5.5,0],[7,1.5],[7,4.5],[5.5,6],[0,6]]],7:[[[3,0],[3,4],[7,10],[7,12],[0,12]]],8:[[[5.5,6],[7,4.5],[7,1.5],[5.5,0],[1.5,0],[0,1.5],[0,4.5],[1.5,6],[5.5,6],[7,7.5],[7,10.5],[5.5,12],[1.5,12],[0,10.5],[0,7.5],[1.5,6]]],9:[[[7,6],[1.5,6],[0,7.5],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,1.5],[5.5,0],[1.5,0]]]," ":[[[0,0],[9,0]]],"+":[[[0,5.2],[7,5.2]],[[3.5,1.65],[3.5,8.75]]],".":[[[0,0],[.35,0],[.35,.35],[0,0]]],"-":[[[0,5.2],[7,5.2]]]},Circuits.TextTracer=function(e){this.charTraces={};for(var t in e){for(var i=new n.HashSet,r=0;r<e[t].length;r++)i.add(new o.Trace(e[t][r]));for(var a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,r=0;r<e[t].length;r++)for(var d=e[t][r],u=0;u<d.length;u++){var h=d[u];h[0]<a&&(a=h[0]),h[0]>s&&(s=h[0]),h[1]<c&&(c=h[1]),h[1]>l&&(l=h[1])}i.width=s-a,this.charTraces[t]=i}this.charTraces[" "].removeAll()},Circuits.TextTracer.prototype.getCharTraces=function(e){var t=this;return t.charTraces[e]?t.charTraces[e]:t.charTraces.C},Circuits.TextTracer.prototype.text2traces=function(e,t,i){for(var r=this,a=new n.HashSet,s=0,c=0;c<e.length;c++){var l=e.charAt(c),d=r.getCharTraces(l);s+=t*d.width/9,c!==e.length-1&&(s+=4*t/9)}for(var u=12*t/9,h=i.add(new o.Coord(-s/2,u/2)),c=0;c<e.length;c++){var l=e.charAt(c),d=r.getCharTraces(l);a.addAll(r.char2traces(l,h,t,2*t/9)),h=h.add(new o.Coord(t*(d.width+4)/9,0))}return a},Circuits.TextTracer.prototype.getBBox=function(e,t){for(var i=this,n=0,r=0;r<e.length;r++){var a=e.charAt(r),s=i.getCharTraces(a);n+=t*s.width/9,r!==e.length-1&&(n+=4*t/9)}var c=12*t/9;return new o.BoundingBox(-n/2,-c/2,n,c)},Circuits.TextTracer.prototype.char2traces=function(e,t,i,o){var r=this,a=new n.HashSet,s=r.getCharTraces(e);return void 0!==s&&s.forEach(function(e){var n=e.scale(i/9,-i/9).translate(t);n.width=o,a.add(n)}),a},Circuits.TextTracer.prototype.traces2svg=function(e){var t="";return e.forEach(function(e){for(var i="M",n=0;n<e.points.length;n++){var o=e.points[n];i+=" "+o.x+","+o.y}t+='<path d="'+i+'" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:'+e.width+'" />\n'}),t},Circuits.tracer=new Circuits.TextTracer(Circuits.pcbFontPoints)},function(e,t,i){i(201)},function(e,t){Circuits.OshPark=function(){this.OTW=153,this.OTT=153,this.OTP=200,this.OPP=200,this.OAR=178,this.min_copper_to_boarder=382},Circuits.OshPark.prototype.toolsize=function(e,t){var i=50*Math.round(e/50);return t?450>=i?i+100:i+150:i+50},Circuits.OshPark.prototype.viaPadDiameter=function(e){var t=this.toolsize(e,!0);return t+2*this.OAR},Circuits.OshPark.prototype.pthMinEndsize=function(){return 250},Circuits.OshPark.prototype.npthMinEndsize=function(){return 330.2},Circuits.OshPark.prototype.minMilSize=function(){return 889},Circuits.OshPark.prototype.viaMinEndsize=function(){return this.pthMinEndsize()},Circuits.OshPark.prototype.silkscreenMinWidth=function(){return 170},Circuits.OshPark.prototype.calculateBoardPrice=function(e,t,i,n){var o=1/.75,r=1/.064516,a=1.15,s=5*o,c=5;if(2!=i&&4!=i)return-1;var l=r*(e*t)/1e10,d=s+Math.ceil(n/3)*(i/2*c)*l*a;return d=Math.round(100*d)/100}},function(e,t){Circuits.fab=new Circuits.OshPark},function(e,t,i){i(204),i(205)},function(e,t){Circuits.KeyCode=function(){function e(){function e(e){switch(e){case 8:return"backspace";case 9:return"tab";case 27:return"escape";case 32:return"space";case 46:return"delete";case 187:return"plus";case 189:return"minus";case 37:return"left";case 38:return"up";case 39:return"right";case 40:return"down";default:return String.fromCharCode(e).toLowerCase()}}for(var t=[],i=0;i<arguments.length;i++)t.push(e(arguments[i]));var n=t.join("+");return n}return{toString:e}}()},function(e,t){SvgHelpers={},SvgHelpers.getParentTransformation=function(e){var t=e.parentNode;if(!t)return"";var i=$(t).attr("transform");return i||(i=""),"svg"==t.tagName?i:SvgHelpers.getParentTransformation(t)+i},SvgHelpers.cloneWithTransformations=function(e,t,i){for(var n=$(),o=[],r=0;r<i.length;r++){var a=i[r],s=a.parentNode,c=null;for(var l in o)if(s==o[l].parent){c=o[l].group;break}if(!c){var d=SvgHelpers.getParentTransformation(a);c=e.group(t),""!=d&&$(c).attr("transform",d),o.push({parent:s,group:c})}n=n.add(e.clone(c,a))}return n},SvgHelpers.getSvgTransform=function(e){var t={translate:{x:0,y:0},rotate:{angle:0,x:0,y:0},scale:{x:1,y:1}};if(!e)return t;var i=e.match(/translate\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/);i&&(i[1]&&(t.translate.x=parseFloat(i[1])),i[2]&&(t.translate.y=parseFloat(i[2])));var n=e.match(/rotate\(([-+]?[0-9]*\.?[0-9]+)(?:(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+)))?\)/);n&&(n[1]&&(t.rotate.angle=parseFloat(n[1])),n[2]&&(t.rotate.x=parseFloat(n[2])),n[3]&&(t.rotate.y=parseFloat(n[3])));var o=e.match(/scale\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/);return o&&(o[1]&&(t.scale.x=parseFloat(o[1])),o[2]&&(t.scale.x=parseFloat(o[2]))),t},SvgHelpers.getSvgStyleProperties=function(e,t){t.attr("stroke")?e.color&&e.color(t.attr("stroke")):e.color&&e.color(t.css("stroke")),"none"===t.attr("fill")||"none"===t.css("fill")?(e.fill&&e.fill(!1),e.fillcolor&&(e.fillcolor=e.color)):t.attr("fill")?(e.fill&&e.fill(!0),e.fillcolor&&(e.fillcolor=t.attr("fill"))):(e.fill&&e.fill(!0),e.fillcolor&&(e.fillcolor=t.css("fill")),""==e.fillcolor&&(e.fill&&e.fill(!1),e.fillcolor&&(e.fillcolor=e.color))),t.attr("stroke-width")?e.strokeWidth&&e.strokeWidth(parseInt(t.attr("stroke-width"))):t.css("stroke-width")&&e.strokeWidth&&e.strokeWidth(parseInt(t.css("stroke-width"))),t.css("fill",""),t.css("stroke-width",""),t.css("stroke",""),t.attr("style")&&e.style&&(e.style=t.attr("style"))}},function(e,t,i){i(207),i(242),i(359)},function(e,t,i){i(208),i(211),i(222)},function(e,t,i){i(209),i(210)},function(e,t,i){var n=i(179),o=i(191),r=i(176).Versioned,a=1e6;Circuits.AbstractEditorModel=function(e){var t=this;this.makeVersioned(e),this.state=this.value("state","idle",!1,!0),this.viewX=this.value("viewX",null,!1,!0),this.viewY=this.value("viewY",null,!1,!0),this.viewS=this.value("viewS",null,!1,!0),this.viewX(0),this.viewY(0),this.viewS(1),this.holderDimensions=this.value("holderDimensions",void 0,!1,!0),this.origin=this.value("origin",null,!0,!1),this.defaultWorkPlane=this.value("defaultWorkPlane",new o.BoundingBox(0,0,400,400),!1,!0),this.tool=this.value("tool",null,!1,!0),this.tool("select"),this.selection=this.set("selection",!0,!1),this.selectionHandles=this.set("selectionHandles",!0,!1),this.selection_box_start=this.value("selection_box_start",null,!1,!0),this.selection_box_end=this.value("selection_box_end",null,!1,!0),this.elementsInFocus=this.set("elementsInFocus",!0,!1),this.snap_info=this.value("snap_info",void 0,!1,!1),this.focus=this.value("focus",!0,!1,!0),this.searchFocusTrigger=this.value("searchFocusTrigger",null,!1,!0),this.interactionModels=this.map("interactionModels",!0,!0),this.viewSmin=.2,this.viewSmax=10,this.rotateAngle=90,this.selection_box_end.onChange("model",function(){null!==t.selection_box_end()&&t.selectElementsInBox()},10)},extend(Circuits.AbstractEditorModel,r),Circuits.AbstractEditorModel.prototype.connectInteractionModel=function(e,t,i){function n(t){if(t.constructor==e){var n=t.setInteractionModel(i);o.interactionModels.put(t.versions_id,n),t.onDie("interactionModel",function(){o.interactionModels.remove(t.versions_id)},100)}}var o=this,r=t.constructor==Array?t:[t];for(var a in r)r[a].isSet()?(r[a].forEach(n),r[a].onAdd({},function(e,t){n(t)},1)):r[a].isList()?(r[a].forEach(function(e,t){n(t)}),r[a].onAdd({},function(e,t,i){n(i)},1)):r[a].isMap()&&(r[a].forEach(function(e,t){n(t)}),r[a].onAdd({},function(e,t,i){n(i)},1))},Circuits.AbstractEditorModel.prototype.zoom=function(e,t,i){var n=.9,o=0,r=0,a=1;0>e?(o=(1/n-1)*t/this.viewS(),r=(1/n-1)*i/this.viewS(),a=n):(o=(n-1)*t/this.viewS(),r=(n-1)*i/this.viewS(),a=1/n),this.viewS()*a<this.viewSmin?(this.viewX(this.viewX()+(this.viewS()/this.viewSmin-1)*t/this.viewS()),this.viewY(this.viewY()+(this.viewS()/this.viewSmin-1)*i/this.viewS()),this.viewS(this.viewSmin)):this.viewS()*a>this.viewSmax?(this.viewX(this.viewX()+(this.viewS()/this.viewSmax-1)*t/this.viewS()),this.viewY(this.viewY()+(this.viewS()/this.viewSmax-1)*i/this.viewS()),this.viewS(this.viewSmax)):(this.viewX(this.viewX()+o),this.viewY(this.viewY()+r),this.viewS(this.viewS()*a))},Circuits.AbstractEditorModel.prototype.zoomCenter=function(e){var t=this.holderDimensions().height,i=this.holderDimensions().width,n=i/2,o=t/2;this.zoom(e,n,o)},Circuits.AbstractEditorModel.prototype.zoomSelection=function(){var e=this,t=null;e.selection.forEach(function(e){var i=e&&e.getBoundingBox&&e.getBoundingBox();i&&(t=i.merge(t))}),t&&e.zoomBox(t.scale(1.2))},Circuits.AbstractEditorModel.prototype.zoomToFit=function(){var e=this.getBoundingBox&&this.getBoundingBox();e=e?e.scale(1.2):this.defaultWorkPlane().scale(1.05),this.zoomBox(e)},Circuits.AbstractEditorModel.prototype.zoomBox=function(e){var t=this.holderDimensions();0!=e.getArea()&&0!=t.getArea()&&(t.width/e.width>t.height/e.height?this.viewS(t.height/e.height):this.viewS(t.width/e.width),this.viewS()<this.viewSmin?this.viewS(this.viewSmin):this.viewS()>this.viewSmax&&this.viewS(this.viewSmax),this.viewX(-e.x+.5*(t.width-e.width*this.viewS())/this.viewS()),this.viewY(-e.y+.5*(t.height-e.height*this.viewS())/this.viewS()))},Circuits.AbstractEditorModel.prototype.getWorkplane=function(){var e=this.origin().position(),t=this.defaultWorkPlane().centerAround(e),i=this.getBoundingBox&&this.getBoundingBox();if(i){var n=i.getCenter().sub(t.getCenter()),r=new o.Coord((n.x<0?-1:1)*Math.min(Math.abs(n.x),t.width/2),(n.y<0?-1:1)*Math.min(Math.abs(n.y),t.height/2));return t.translate(r).scale(1.15).merge(i.scale(1.15))}return t},Circuits.AbstractEditorModel.prototype.setView=function(e,t,i){this.viewX(e),this.viewY(t),this.viewS(i)},Circuits.AbstractEditorModel.prototype.changeView=function(e,t,i){this.viewX(this.viewX()+e),this.viewY(this.viewY()+t),this.viewS(this.viewS()*i)},Circuits.AbstractEditorModel.prototype.prepareSnap=function(){var e=this;if(!e.snapTo){var t=e.getInitialSnapSet();e.snapTo=t.snapTo,e.snapFrom=t.snapFrom}},Circuits.AbstractEditorModel.prototype.snapPoint=function(e){var t=this;t.snapFrom=new Circuits.SnapSet,t.snapFrom.add(e,1);var i=t.snapFrom.trySnapTo(t.snapTo,4/t.viewS());return i?(t.snap_info(i),t.snap_vec=i.vec):(t.snap_info(null),t.snap_vec=new o.Coord(0,0)),e.add(t.snap_vec)},Circuits.AbstractEditorModel.prototype.snapPointAlign=function(e,t){var i=this.snapTo,n=new Circuits.SnapSet;t.forEach(function(e){n.add(new o.Line(o.Line.HOR,e),1),n.add(new o.Line(o.Line.VER,e),1)}),this.snapTo=n;var r=this.snapPoint(e);return this.snapTo=i,r},Circuits.AbstractEditorModel.prototype.emptySelection=function(){this.selection.removeAll(),this.selectionHandles.removeAll()},Circuits.AbstractEditorModel.prototype.invertSelection=function(){var e=this,t=e.getSelectables();e.selection.forEach(function(e){t.remove(e)}),t=t.filter(function(t){return e._getDid(t)!==a}),this.emptySelection(),this.selection.addAll(t)},Circuits.AbstractEditorModel.prototype.rotateSelection=function(e){"undefined"==typeof e&&(e=1);var t=e>0?this.rotateAngle:-this.rotateAngle,i=new n.HashSet,r=new o.PointSet;this.selectionTrimParents().forEach(function(e){e&&e.rotate&&e.getPos&&(i.add(e),r.add(e.getPos()))});var a=r.centroid();i.forEach(function(e){e.rotate(t,a)})},Circuits.AbstractEditorModel.prototype.removeSelection=function(){var e=this.selection.copy();this.emptySelection(),e.forEach(function(e){void 0!==e.remove&&e.remove()})},Circuits.AbstractEditorModel.prototype._getDid=function(e){return e.parent&&e.parent()&&e.parent().did&&e.parent().did()},Circuits.AbstractEditorModel.prototype.getInitialSnapSet=function(){function e(e,t){var i=new Circuits.SnapSet;if(e)if(e.forEach)e.forEach(function(e){try{i.addAll(e.getSnapSet(t))}catch(n){Circuits.logError("selectable.getSnapSet",n)}});else try{i.addAll(e.getSnapSet(t))}catch(n){Circuits.logError("selectables.getSnapSet",n)}return i}function t(e,t,i){var n=new Circuits.SnapSet;if(e)if(e.forEach)e.forEach(function(e){if(e.getSelfSnapSet)try{n.addAll(e.getSelfSnapSet(t,i))}catch(o){Circuits.logError("selectable.getSelfSnapSet",o)}});else if(e.getSelfSnapSet)try{n.addAll(e.getSelfSnapSet(t,i))}catch(o){Circuits.logError("selectable.getSelfSnapSet",o)}return n}var i=this,n=i.getSnapElements().removeAll(i.selection),o=e(n,Circuits.SnapLineType.TO),r=e(i.selectionHandles,Circuits.SnapLineType.FROM);return o.addAll(t(i.selectionHandles,i.selection,Circuits.SnapLineType.FROM)),{snapTo:o,snapFrom:r}},Circuits.AbstractEditorModel.prototype.getSnapElements=function(){var e;return e=new n.HashSet},Circuits.AbstractEditorModel.prototype.moveSelection=function(e){var t=this,i=new o.Coord(0,0);i=i.sub(t.snap_vec),i=i.add(e),t.snapFrom.move(e);var n=t.snapFrom.trySnapTo(t.snapTo,4/t.viewS());return n?(t.snap_info(n),t.snap_vec=n.vec):(t.snap_info(null),t.snap_vec=new o.Coord(0,0)),i=i.add(t.snap_vec),t.selectionTrimParents().forEach(function(e){e.moveNoSnap&&e.moveNoSnap(i)}),i},Circuits.AbstractEditorModel.prototype.selectionTrimParents=function(){var e=this.selection.values();return this.selection.forEach(function(t){var i=t.parent();if(i){var n=e.indexOf(i);n>=0&&e.splice(n,1)}var o=t.data;if(o){var n=e.indexOf(o);n>=0&&e.splice(n,1)}}),e},Circuits.AbstractEditorModel.prototype.moveNoSnapSelection=function(e){return this.selection.forEach(function(t){t.moveNoSnap&&t.moveNoSnap(e)}),this.snap_info(null),this.snap_vec=new o.Coord(0,0),e},Circuits.AbstractEditorModel.prototype.selectElementsInBox=function(){if(this.emptySelection(),null!==this.selection_box_end()){var e=new o.PointSet([this.selection_box_start(),this.selection_box_end()]).getBB(),t=this.getSelectablesInBox(e);this.selection.addAll(t)}},Circuits.AbstractEditorModel.prototype.getSelectablesInBox=function(){},Circuits.AbstractEditorModel.prototype.getSelectables=function(){},Circuits.AbstractEditorModel.prototype.onElementClicked=function(){},Circuits.AbstractEditorModel.prototype.onElementMovingStart=function(){},Circuits.AbstractEditorModel.prototype.onElementMovingStop=function(){},Circuits.AbstractEditorModel.prototype.afterMove=function(e,t){},Circuits.AbstractEditorModel.prototype.toRealCoord=function(e){return new o.Coord(e.x/this.viewS()-this.viewX(),e.y/this.viewS()-this.viewY())},Circuits.AbstractEditorModel.prototype.toViewCoord=function(e){return new o.Coord(this.viewS()*(e.x+this.viewX()),this.viewS()*(e.y+this.viewY()))},Circuits.AbstractEditorModel.prototype.onPanStart=function(){},Circuits.AbstractEditorModel.prototype.onPanStop=function(){},Circuits.AbstractEditorModel.prototype.onPanClick=function(){},Circuits.AbstractEditorModel.prototype.selectionRemovable=function(){return!0},Circuits.AbstractEditorModel.prototype.flipHorSelection=function(){},Circuits.AbstractEditorModel.prototype.flipVerSelection=function(){},Circuits.AbstractEditorModel.prototype.afterPaste=function(e,t){}},function(e,t,i){var n=i(173),o=i(191),r=i(174),a=i(176).Versioned,s=i(178);Circuits.OriginModel=function(e,t,i,n){this.makeViewable(),this.makeVersioned(e),this.editorModel=t,this.position=this.value("position",new o.Coord(0,0),!1,!0),this.units=["um","mm","mil"],this.grid_value=this.value("grid_value",100,!1,!0),this.grid_unit=this.value("grid_unit","mil",!1,!0),this.grid_show=this.value("grid_show",!0,!1,!0),this.grid_thickness=this.value("grid_thickness",1,!1,!0),this.makeUndoable(!0),arguments.length<=1||(i&&this.position(i),n&&(this.units=n))},extend(Circuits.OriginModel,s),extend(Circuits.OriginModel,a),extend(Circuits.OriginModel,r),jsonExtend(71,"OriginModel",Circuits.OriginModel),Circuits.OriginModel.prototype.moveNoSnap=function(e){this.position(this.position().add(e))},Circuits.OriginModel.prototype.getGridFactor=function(){var e=1;switch(this.grid_unit()){case"px":break;case"vm":break;case"um":break;case"mil":e=25.4;break;case"mm":e=1e3}return e},Circuits.OriginModel.prototype.getGridSpacing=function(){return this.grid_value()*this.getGridFactor()},Circuits.OriginModel.prototype.getDisplacement=function(e){var t=this.getGridSpacing();return new o.Coord(e*t,e*t)},Circuits.OriginModel.prototype.getLines=function(){var e,t,i,o,r=new n.HashSet,a=new n.HashSet,s=this.position(),c=this.getGridSpacing(),l=this.editorModel.getWorkplane(),d=l.getMinMin(),u=l.getMaxMax(),h=this.editorModel.viewS()*c,p=h>2?1:h>1?2:h>.4?5:10*Math.pow(2,Math.ceil(Math.log(.2/h)*Math.LOG2E)),g=function(e){return e%p==0};if(0!==c){for(e=s.x,i=0;e<=u.x;)e>=d.x&&g(i)&&(o={x1:e,y1:d.y,x2:e,y2:u.y,index:i},a.add(o)),e+=c,i++;for(e=s.x-c,i=-1;e>=d.x;)e<=u.x&&g(i)&&(o={x1:e,y1:d.y,x2:e,y2:u.y,index:i},a.add(o)),e-=c,i--;for(t=s.y,i=0;t<=u.y;)t>=d.y&&g(i)&&(o={x1:d.x,y1:t,x2:u.x,y2:t,index:i},r.add(o)),t+=c,i++;for(t=s.y-c,i=-1;t>=d.y;)t<=u.y&&g(i)&&(o={x1:d.x,y1:t,x2:u.x,y2:t,index:i},r.add(o)),t-=c,i--}return{hor:r,ver:a}},Circuits.OriginModel.prototype.getSnapSet=function(e){var t=this,i=new Circuits.SnapSet;if(e===Circuits.SnapLineType.FROM&&i.add(this.position().copy(),1),(e===Circuits.SnapLineType.TO||e===Circuits.SnapLineType.ROUTETO)&&t.grid_show()){var n=t.getLines();n.ver.forEach(function(e){i.addVer(new o.Coord(e.x1,0),1)}),n.hor.forEach(function(e){i.addHor(new o.Coord(0,e.y1),1)})}return i}},function(e,t,i){i(213),i(214),i(215),i(216),i(217),i(212),i(218),i(219),i(220),i(221)},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.MovingStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,Circuits.StateMachine.call(i),this.zoomingStateMachine=new Circuits.ZoomingStateMachine(e,t),this.append("zooming",this.zoomingStateMachine,"moving",null,"moving",null),this.elementMouseDownTransition=i.addTransition("idle","mouse_down",function(e){return e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&!e.data("shiftKey")},function(e){var t=e.timestamp();if(e.element().parentGroup&&!e.element().parentGroup.isInFocus())var n=e.element().parentGroup;else n=e.element();n.setSelectedDouble&&n==i.previousSelected&&t-i.previousSelectedTimestamp<1e3?n.setSelectedDouble():i.editorModel.selection.contains(n)||(i.editorModel.emptySelection(),i.editorModel.selection.add(n),i.previousSelected=n,i.previousSelectedTimestamp=t),i.editorModel.selectionHandles.add(e.element()),i.elementClicked=e.element(),e.element("subelement")?(i.subelementClicked=e.element("subelement"),e.element().subElementClicked=i.subelementClicked):(i.subelementClicked=null,e.element().subElementClicked=null),e.data("notFocusable")||i.editorModel.elementsInFocus.add(n),i.startCoord=i.editorModel.toRealCoord(e.data("mouseCoord"))}),this.movingStartTransition=i.addTransition("mouse_down","moving",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){i.root.rec(),i.editorModel.onElementMovingStart(),i.editorModel.snap_vec=new n.Coord(0,0);var t=i.editorModel.getInitialSnapSet(i.elementClicked,i.subelementClicked);i.editorModel.snapTo=t.snapTo,i.editorModel.snapFrom=t.snapFrom,i.editorModel.moveSelection(new n.Coord(0,0));var o=i.editorModel.toRealCoord(e.data("mouseCoord")),r=o.sub(i.startCoord),a=i.editorModel.moveSelection(r);i.editorModel.afterMove(a,r),i.startCoord=o}),i.addTransition("mouse_down","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){var t=e.timestamp(),n=i.editorModel.toRealCoord(e.data("mouseCoord"));i.elementClicked&&(i.elementClicked==i.previousElementClicked&&t-i.previousClickedTimestamp<500?(i.previousElementClicked=null,i.previousClickedTimestamp=0,i.elementClicked.doubleClickAction&&i.elementClicked.doubleClickAction(n,i.subelementClicked)):(i.elementClicked.subElementClicked=null,i.previousElementClicked=i.elementClicked,i.previousClickedTimestamp=t,i.elementClicked.clickAction&&i.elementClicked.clickAction(n,i.subelementClicked),i.editorModel.onElementClicked()))}),i.addTransition("moving","moving",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=i.editorModel.toRealCoord(e.data("mouseCoord")),n=t.sub(i.startCoord),o=i.editorModel.moveSelection(n);i.editorModel.afterMove(o,n),i.startCoord=t}),i.addTransition("moving","mouseup",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(){}),i.addTransition("moving","idle",function(e){return e.isKeyPressed("escape")},function(){i.cancelMoving(!0)}),i.addTransition("mouseup","idle",function(e){return!0},function(){i.cancelMoving(!1)}),i.addTransition("moving","moving",function(e){return e.isKeyPressed("r","S_r")},function(e){i.editorModel.moveNoSnapSelection(i.editorModel.snap_vec.mult(-1));var t=e.event&&e.event.shiftKey?-1:1;i.editorModel.rotateSelection(t);var n=i.editorModel.getInitialSnapSet(i.elementClicked,i.subelementClicked);i.editorModel.snapTo=n.snapTo,i.editorModel.snapFrom=n.snapFrom}),i.addTransition("moving","moving",function(e){return e.isKeyPressed("f","S_f")},function(e){i.editorModel.moveNoSnapSelection(i.editorModel.snap_vec.mult(-1)),e.event&&e.event.shiftKey?i.editorModel.flipHorSelection():i.editorModel.flipVerSelection();var t=i.editorModel.getInitialSnapSet(i.elementClicked,i.subelementClicked);i.editorModel.snapTo=t.snapTo,i.editorModel.snapFrom=t.snapFrom})},Circuits.MovingStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.MovingStateMachine.prototype.constructor=Circuits.MovingStateMachine,Circuits.MovingStateMachine.prototype.cancelMoving=function(e){this.editorModel.snap_info(null),this.editorModel.onElementMovingStop(),e?(this.editorModel.emptySelection(),this.root.cancelRec()):(this.editorModel.moveNoSnapSelection(new n.Coord(0,0)),this.root.stopRec())}},function(e,t,i){var n=i(170).inherit;Circuits.AbstractEditorStateMachine=function(e,t,i,n,o){var r=this;this.mode=e,this.root=t,this.editorModel=i,Circuits.StateMachine.call(this,n,o),Circuits.GuiEvents.addEvents({GUI_MOUSE_WHEEL:{id:"abs_0",name:"GUI_MOUSE_WHEEL",isViewAction:!0},GUI_MOUSE_PAN:{id:"abs_1",name:"GUI_MOUSE_PAN"},GUI_MOUSE_MOVE:{id:"abs_2",name:"GUI_MOUSE_MOVE",isHoverAction:!0},GUI_MOUSE_UP:{id:"abs_3",name:"GUI_MOUSE_UP"},GUI_TRANSFORM_START:{id:"abs_4",name:"GUI_TRANSFORM_START"},GUI_TRANSFORM:{id:"abs_5",name:"GUI_TRANSFORM"},GUI_TRANSFORM_END:{id:"abs_6",name:"GUI_TRANSFORM_END"},GUI_TOUCH_PAN_START:{id:"abs_7",name:"GUI_TOUCH_PAN_START"},GUI_TOUCH_PAN:{id:"abs_8",name:"GUI_TOUCH_PAN"},GUI_TOUCH_PAN_END:{id:"abs_9",name:"GUI_TOUCH_PAN_END"},GUI_TIMER:{id:"abs_10",name:"GUI_TIMER"},GUI_KEY_PRESSED:{id:"abs_11",name:"GUI_KEY_PRESSED"},ELEMENT_MOUSE_DOWN:{id:"abs_12",name:"ELEMENT_MOUSE_DOWN"},ELEMENT_MOUSE_DOWN_VIEWMODUS:{id:"abs_13",name:"ELEMENT_MOUSE_DOWN_VIEWMODUS"},TERMINAL_MOUSE_DOWN:{id:"abs_14",name:"TERMINAL_MOUSE_DOWN"},NODE_MOUSE_DOWN:{id:"abs_15",name:"NODE_MOUSE_DOWN"},TERMINAL_MOUSE_OVER:{id:"abs_16",name:"TERMINAL_MOUSE_OVER",isHoverAction:!0},TERMINAL_MOUSE_OUT:{id:"abs_17",name:"TERMINAL_MOUSE_OUT",isHoverAction:!0},INSPECTOR_FOCUS:{id:"abs_18",name:"INSPECTOR_FOCUS"},CHANGE_PROPERTY:{id:"abs_19",name:"CHANGE_PROPERTY"},ZOOM_TO_FIT_BUTTON:{id:"abs_20",name:"ZOOM_TO_FIT_BUTTON",isViewAction:!0},REMOVE_BUTTON:{id:"abs_21",name:"REMOVE_BUTTON",isGuiButton:!0},FLIP_HOR_BUTTON:{id:"abs_22",name:"FLIP_HOR_BUTTON",isGuiButton:!0},FLIP_VER_BUTTON:{id:"abs_23",name:"FLIP_VER_BUTTON",isGuiButton:!0},ROTATE_BUTTON:{id:"abs_24",name:"ROTATE_BUTTON",isGuiButton:!0},UNDO_BUTTON:{id:"abs_25",name:"UNDO_BUTTON",isGuiButton:!0},REDO_BUTTON:{id:"abs_26",name:"REDO_BUTTON",isGuiButton:!0},SET_TOOL:{id:"abs_27",name:"SET_TOOL",isGuiButton:!0},RECORDER_VIEW_BUTTON:{id:"abs_28",name:"RECORDER_VIEW_BUTTON",isGuiButton:!0},HOLDER_RESIZE:{id:"abs_29",name:"HOLDER_RESIZE"},ZOOM_TO_FIT_EDITOR:{id:"abs_30",name:"ZOOM_TO_FIT_EDITOR"}}),this.zoomingStateMachine=new Circuits.ZoomingStateMachine(t,this.editorModel),this.append("zooming",this.zoomingStateMachine,"select",null,"select",null),this.movingStateMachine=new Circuits.MovingStateMachine(t,this.editorModel),this.append("moving",this.movingStateMachine,"select",null,"select",null),this.panningStateMachine=new Circuits.PanningStateMachine(t,this.editorModel),this.append("panning",this.panningStateMachine,"select",null,"select",null),this.mode===Circuits.GuiMode.EDIT&&(this.selectingStateMachine=new Circuits.SelectingStateMachine(t,this.editorModel),this.append("selecting",this.selectingStateMachine,"select",null,"select",null)),this.changingPropertyStateMachine=new Circuits.ChangingPropertyStateMachine(t,this.editorModel),this.append("changing_property",this.changingPropertyStateMachine,"select",null,"select",null),this.moveSelectionStateMachine=new Circuits.MoveSelectionStateMachine(t,this.editorModel),this.append("key_moving",this.moveSelectionStateMachine,"select",null,"select",null);var a=new Circuits.CopyPasteStateMachine(t,this.editorModel);this.append("copying",a,"select",null,"select",null),r.addTransition("select","select",function(e){return(e.type()==Circuits.GuiEvents.REMOVE_BUTTON||e.isKeyPressed("delete","backspace"))&&r.editorModel.selection.size()>0},function(e){r.root.rec(),r.editorModel.removeSelection(),r.root.stopRec()},"Delete selection"),r.addTransition("select","select",function(e){return(e.type()==Circuits.GuiEvents.ROTATE_BUTTON||e.isKeyPressed("r","S_r"))&&r.editorModel.selection.size()>0},function(e){r.root.rec(),r.editorModel.onElementMovingStart();var t=e.data("shiftKey")?-1:1;r.editorModel.rotateSelection(t),r.editorModel.onElementMovingStop(),r.root.stopRec()},"Rotate selection"),r.addTransition("select","select",function(e){return e.isKeyPressed("C_i")},function(e){r.editorModel.invertSelection()},"Invert selection"),this.emptySelection=function(){r.editorModel.emptySelection(),r.editorModel.elementsInFocus.removeAll()},r.addTransition("select","select",function(e){return e.isKeyPressed("C_d")},this.emptySelection,"Empty selection"),this.escapeTransition=r.addTransition("select","select",function(e){return e.isKeyPressed("escape")},this.emptySelection,"Escape pressed"),this.panningStateMachine.panStartTransition.addActionBefore(this.emptySelection),r.addTransition("select","select",function(e){return e.isKeyPressed("C_f")},function(e){r.editorModel.searchFocusTrigger(!r.editorModel.searchFocusTrigger())},"Search Box focus")},Circuits.AbstractEditorStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.AbstractEditorStateMachine.prototype.constructor=Circuits.AbstractEditorStateMachine},function(e,t,i){var n=i(173),o=i(191);Circuits.SnapSet=function(){var e=this;e._content=new n.HashSet,e.index=null},Circuits.SnapSet.prototype.add=function(e,t,i,n,o,r,a){var s=this,c={};c.obj=e,c.priority=t,c.range=i||0,c.polarity=r||0,c.key=a,n?c.orig=n:c.orig=[e],c.parent=o,s._content.add(c)},Circuits.SnapSet.prototype.addHor=function(e,t){
var i=this;i.add(new o.Line(o.Line.HOR,e),t)},Circuits.SnapSet.prototype.addVer=function(e,t){var i=this;i.add(new o.Line(o.Line.VER,e),t)},Circuits.SnapSet.prototype.addAll=function(e){var t=this;t._content.addAll(e._content)},Circuits.SnapSet.prototype.move=function(e){var t=this;t._content.forEach(function(t){t.obj.move(e)})},Circuits.SnapSet.prototype.buildIndex=function(){var e=this;null===e.index&&(e.index=new jsts.index.strtree.STRtree,e._content.forEach(function(t){e.index.insert(t.obj.getEnvelopeInternal(t.range),t)}))},Circuits.SnapSet.prototype.query=function(e,t){var i;return i=this.index.query(e.getEnvelopeInternal(t))},Circuits.SnapSet.prototype.trySnapTo=function(e,t){var i=this,n=[];if(e.buildIndex(),i._content.forEach(function(i){for(var o=e.query(i.obj,t),r=0;r<o.length;r++){var a=o[r];if(!i.key||i.key==a.key){var s=i.obj.distanceVec(a.obj);if(null!==s){var c=s.length()-i.range/2-a.range/2;if(t>c){var l={};l.to=a,l.from=i,l.dist=c,l.priority=a.priority+i.priority,l.pullSnap=a.polarity*i.polarity<=0,l.vec=l.pullSnap?s:s.mult(1-(i.range/2+a.range/2+t)/s.length()),l.pullSnap&&null!=i.key&&null!=a.key&&i.key!=a.key||n.push(l)}}}}}),n.sort(function(e,t){return t.priority-e.priority===0?t.pullSnap==e.pullSnap?e.dist-t.dist:t.pullSnap?-1:1:t.priority-e.priority}),n.length>1&&n[0].to.obj.constructor===o.Line){var r;for(r=1;r<n.length;r++){if(r>30)return n[0];if(n[r].to.obj.constructor===o.Line&&!n[0].to.obj.parallel(n[r].to.obj))break}if(r==n.length)return n[0];var a=n[0].to.obj.intersection(n[r].to.obj),s={};return s.to={},s.to.obj=a,s.to.orig=[n[0].to.obj,n[r].to.obj],n[0].from.obj.constructor==o.Line&&n[r].from.obj.constructor==o.Coord?(s.from={},s.from.obj=n[0].from.obj.closestPointTo(n[r].from.obj),s.from.orig=[n[0].to.obj,n[r].to.obj]):n[r].from.obj.constructor==o.Line&&n[0].from.obj.constructor==o.Coord?(s.from={},s.from.obj=n[r].from.obj.closestPointTo(n[0].from.obj),s.from.orig=[n[0].to.obj,n[r].to.obj]):n[r].from.obj.constructor==o.Line&&n[0].from.obj.constructor==o.Line?(s.from={},s.from.obj=n[r].from.obj.intersection(n[0].from.obj),s.from.orig=[n[0].to.obj,n[r].to.obj]):s.from=n[0].from,s.vec=s.from.obj.distanceVec(a),s.dist=s.vec.length(),s.dist>t?n[0]:s}return n[0]}},function(e,t,i){var n=i(170).inherit;Circuits.PanningStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,Circuits.StateMachine.call(i),this.panStartTransition=i.addTransition("idle","mouse_down",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&!e.data("shiftKey")},function(e){i.startX=e.data("mouseCoord").getX(),i.startY=e.data("mouseCoord").getY(),i.editorModel.onPanStart()},"Start panning"),i.addTransition("idle","mouse_down",function(e){return e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN_VIEWMODUS},function(e){e.data("notFocusable")||i.editorModel.elementsInFocus.add(e.element()),i.startX=e.data("mouseCoord").getX(),i.startY=e.data("mouseCoord").getY(),i.editorModel.onPanStart()}),i.addTransition("mouse_down","panning",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){i.editorModel.changeView((e.data("mouseCoord").getX()-i.startX)/i.editorModel.viewS(),(e.data("mouseCoord").getY()-i.startY)/i.editorModel.viewS(),1),i.startX=e.data("mouseCoord").getX(),i.startY=e.data("mouseCoord").getY()}),this.panClickTransition=i.addTransition("mouse_down","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){i.editorModel.onPanClick()}),i.addTransition("panning","panning",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){i.editorModel.changeView((e.data("mouseCoord").getX()-i.startX)/i.editorModel.viewS(),(e.data("mouseCoord").getY()-i.startY)/i.editorModel.viewS(),1),i.startX=e.data("mouseCoord").getX(),i.startY=e.data("mouseCoord").getY()}),i.addTransition("panning","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){i.editorModel.onPanStop()}),i.addTransition("idle","touching_canvas",function(e){return e.type()==Circuits.GuiEvents.GUI_TOUCH_PAN_START},function(e){i.viewX_start=i.editorModel.viewX(),i.viewY_start=i.editorModel.viewY()}),i.addTransition("touching_canvas","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_TOUCH_PAN_END},function(e){i.editorModel.onPanClick()}),i.addTransition("touching_canvas","touch_panning",function(e){return e.type()==Circuits.GuiEvents.GUI_TOUCH_PAN},function(e){var t=i.viewX_start+e.data("gesture").deltaX/i.editorModel.viewS(),n=i.viewY_start+e.data("gesture").deltaY/i.editorModel.viewS(),o=i.editorModel.viewS();i.editorModel.setView(t,n,o),i.editorModel.onPanStart()}),i.addTransition("touch_panning","touch_panning",function(e){return e.type()==Circuits.GuiEvents.GUI_TOUCH_PAN},function(e){var t=i.viewX_start+e.data("gesture").deltaX/i.editorModel.viewS(),n=i.viewY_start+e.data("gesture").deltaY/i.editorModel.viewS(),o=i.editorModel.viewS();i.editorModel.setView(t,n,o)}),i.addTransition("touching_panning","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_TOUCH_PAN_END},function(e){i.editorModel.onPanStop()})},Circuits.PanningStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.PanningStateMachine.prototype.constructor=Circuits.PanningStateMachine},function(e,t,i){var n=i(170).inherit;Circuits.ZoomingStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,i.zoomCallback=null,Circuits.StateMachine.call(i),i.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_WHEEL},function(e){var t=e.data("intDelta"),n=e.data("mouseCoord").getX(),o=e.data("mouseCoord").getY();i.editorModel.zoom(t,n,o)}),i.addTransition("idle","idle",function(e){return e.isKeyPressed("C_plus")},function(e){i.editorModel.zoomCenter(1),i.zoomCallback&&i.zoomCallback(e)}),i.addTransition("idle","idle",function(e){return e.isKeyPressed("C_minus")},function(e){i.editorModel.zoomCenter(-1),i.zoomCallback&&i.zoomCallback(e)}),i.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON||e.isKeyPressed("z","C_0")},function(e){i.editorModel.zoomToFit()}),i.addTransition("idle","idle",function(e){return e.isKeyPressed("C_9")},function(e){i.editorModel.zoomSelection()},"Zoom selection"),i.addTransition("idle","zooming",function(e){return e.type()==Circuits.GuiEvents.GUI_TRANSFORM_START},function(e){i.viewS_start=i.editorModel.viewS(),i.viewX_start=i.editorModel.viewX(),i.viewY_start=i.editorModel.viewY(),i.centerX=e.data("gesture").pageX,i.centerY=e.data("gesture").pageY}),i.addTransition("zooming","zooming",function(e){return e.type()==Circuits.GuiEvents.GUI_TRANSFORM},function(e){var t=e.data("gesture").scale,n=i.centerX,o=i.centerY,r=(1/t-1)*n/i.viewS_start,a=(1/t-1)*o/i.viewS_start;i.editorModel.viewS(t*i.viewS_start),i.editorModel.viewX(i.viewX_start+r+e.data("gesture").deltaX/i.editorModel.viewS()),i.editorModel.viewY(i.viewY_start+a+e.data("gesture").deltaY/i.editorModel.viewS())}),i.addTransition("zooming","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_TRANSFORM_END},function(e){i.viewS_start=i.editorModel.viewS(),i.viewX_start=i.editorModel.viewX(),i.viewY_start=i.editorModel.viewY(),i.centerX=e.data("gesture").pageX,i.centerY=e.data("gesture").pageY})},Circuits.ZoomingStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.ZoomingStateMachine.prototype.constructor=Circuits.ZoomingStateMachine},function(e,t,i){var n=i(170).inherit;Circuits.SelectingStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,Circuits.StateMachine.call(i),this.zoomingStateMachine=new Circuits.ZoomingStateMachine(e,t),this.append("zooming",this.zoomingStateMachine,"selecting",null,"selecting",null),i.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.data("shiftKey")},function(e){var t=e.timestamp();e.element().parentGroup&&!e.element().parentGroup.isInFocus()?currentSelectable=e.element().parentGroup:currentSelectable=e.element(),currentSelectable.setSelectedDouble&&currentSelectable==i.previousSelected&&t-i.previousSelectedTimestamp<1e3?currentSelectable.setSelectedDouble():i.editorModel.selection.contains(currentSelectable)?(i.editorModel.selection.remove(currentSelectable),i.previousSelected=null,i.previousSelectedTimestamp=0):(i.editorModel.selection.add(currentSelectable),i.previousSelected=currentSelectable,i.previousSelectedTimestamp=t,i.editorModel.onElementSelected()),e.data("notFocusable")||i.editorModel.elementsInFocus.add(currentSelectable)}),i.addTransition("idle","selecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&e.data("shiftKey")},function(e){i.editorModel.selection_box_start(i.editorModel.toRealCoord(e.data("mouseCoord"))),i.editorModel.selection_box_end(i.editorModel.toRealCoord(e.data("mouseCoord")))}),i.addTransition("selecting","selecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){i.editorModel.selection_box_end(i.editorModel.toRealCoord(e.data("mouseCoord")))}),i.addTransition("selecting","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){i.editorModel.selection_box_end(null),i.editorModel.selection_box_start(null)})},Circuits.SelectingStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.SelectingStateMachine.prototype.constructor=Circuits.SelectingStateMachine},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.MoveSelectionStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,i.movingKeyCodes=[],["up","down","left","right"].forEach(function(e){i.movingKeyCodes.push(e),i.movingKeyCodes.push("S_"+e)},i),i.timer=null,Circuits.StateMachine.call(i),i.addTransition("idle","moving",function(e){return e.isKeyPressed(i.movingKeyCodes)&&i.editorModel.selection.size()>0},function(e){i.root.rec(),i.editorModel.onElementMovingStart(),i.editorModel.snap_vec=new n.Coord(0,0);var t=i.editorModel.toRealCoord(e.data("mouseCoord"));i.startCoord=t;var o=t.sub(i.startCoord),r=i.editorModel.getInitialSnapSet(i.elementClicked,i.subelementClicked);i.editorModel.snapTo=r.snapTo,i.editorModel.snapFrom=r.snapFrom;var a=i.editorModel.moveSelection(o);i.editorModel.afterMove(a,o),i.move(e.data("keyCode")),i.resetTimer()}),i.addTransition("moving","moving",function(e){return e.isKeyPressed(i.movingKeyCodes)&&i.editorModel.selection.size()>0},function(e){i.move(e.data("keyCode")),i.resetTimer()}),i.addTransition("moving","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_TIMER||!(e.isKeyPressed(i.movingKeyCodes)||e.type().isHoverAction)},function(e){i.editorModel.onElementMovingStop(),i.editorModel.snap_info(null),i.root.stopRec(),i.handle(e)})},Circuits.MoveSelectionStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.MoveSelectionStateMachine.prototype.constructor=Circuits.MoveSelectionStateMachine,Circuits.MoveSelectionStateMachine.prototype.move=function(e){var t=e.split("_"),i="",o=t[0];2==t.length&&(i=t[0],o=t[1]);var r=this.getStepSize();"S"==i&&(r/=10);var a;switch(o){case"up":a=new n.Coord(0,-1*r);break;case"down":a=new n.Coord(0,1*r);break;case"left":a=new n.Coord(-1*r,0);break;case"right":a=new n.Coord(1*r,0);break;default:return}var s=this.editorModel.moveSelection(a);this.editorModel.afterMove(s,a)},Circuits.MoveSelectionStateMachine.prototype.getStepSize=function(){return this.editorModel.origin().getGridSpacing()},Circuits.MoveSelectionStateMachine.prototype.resetTimer=function(){this.timer&&window.clearTimeout(this.timer);var e=this;this.timer=window.setTimeout(function(){e.handle(Circuits.GuiEvents.GUI_TIMER)},500)}},function(e,t,i){var n=i(177),o=i(191),r=i(170).inherit;Circuits.CopyPasteStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,i.clipboard=new n,i.nrCopies=0,Circuits.MovingStateMachine.call(this,e,t),i.removeState("mouse_down"),i.addTransition("idle","idle",function(e){return e.isKeyPressed("C_c")},function(e){i.copySelection()}),i.addTransition("idle","idle",function(e){return e.isKeyPressed("C_x")},function(e){i.copySelection(),i.root.rec(),i.editorModel.removeSelection(),i.root.stopRec()}),i.addTransition("idle","moving",function(e){return e.isKeyPressed("C_v")&&i.clipboard.size()>0},function(e){i.startCoord=i.editorModel.toRealCoord(e.data("mouseCoord")),i.pasteSelection()}),i.addTransition("moving","idle",function(e){return e.type.isGuiButton||e.isKeyPressed("C_z","C_y")},function(e){i.cancelMoving(!0),i.handle(e)})},Circuits.CopyPasteStateMachine.prototype=r(Circuits.MovingStateMachine.prototype),Circuits.CopyPasteStateMachine.prototype.constructor=Circuits.CopyPasteStateMachine,Circuits.CopyPasteStateMachine.prototype.copySelection=function(){this.nrCopies=0,this.clipboard=this.editorModel.selection.deepCopy(this.editorModel.isCopyableElement)},Circuits.CopyPasteStateMachine.prototype.pasteSelection=function(){var e=this;e.root.rec();var t=e.clipboard.paste(this.root);if(t.size()>0){e.nrCopies++,e.editorModel.afterPaste(t,e.nrCopies),e.editorModel.emptySelection(),e.editorModel.selection.addAll(t),e.editorModel.selectionHandles.addAll(t),e.editorModel.onElementMovingStart(),e.editorModel.snap_vec=new o.Coord(0,0);var i=e.editorModel.getInitialSnapSet();e.editorModel.snapTo=i.snapTo,e.editorModel.snapFrom=i.snapFrom;var n=new o.PointSet;t.forEach(function(e){e&&e.getPos&&n.add(e.getPos())});var r=n.centroid(),a=e.startCoord.sub(r);e.editorModel.moveSelection(a)}else{var s=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_KEY_PRESSED,{code:"27",keyCode:"escape"});e.handle(s)}}},function(e,t,i){var n=i(170).inherit;Circuits.ChangingPropertyStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,Circuits.StateMachine.call(i);var n=new Circuits.ZoomingStateMachine(e,t);this.append("zooming",n,"changing_property",null,"changing_property",null),i.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.CHANGE_PROPERTY},function(e){i.root.rec(),i.changeProperty(e),i.root.stopRec()}),i.addTransition("idle","changing_property",function(e){return e.type()==Circuits.GuiEvents.INSPECTOR_FOCUS},function(e){i.editorModel.focus(!1),i.root.rec()}),i.addTransition("changing_property","changing_property",function(e){return e.type()==Circuits.GuiEvents.CHANGE_PROPERTY},function(e){i.changeProperty(e)}),i.addTransition("changing_property","changing_property",function(e){return e.type()==Circuits.GuiEvents.INSPECTOR_FOCUS},function(e){i.root.stopRec(),i.root.rec()}),i.addTransition("changing_property","idle",function(e){return!(e.type().isHoverAction||e.type().isViewAction||e.type()==Circuits.GuiEvents.CHANGE_PROPERTY||e.type()==Circuits.GuiEvents.INSPECTOR_FOCUS)},function(e){i.root.stopRec(),i.editorModel.focus(!0),i.handle(e)})},Circuits.ChangingPropertyStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.ChangingPropertyStateMachine.prototype.constructor=Circuits.ChangingPropertyStateMachine,Circuits.ChangingPropertyStateMachine.prototype.changeProperty=function(e){e.element().setMember(e.data("id"),e.data("value"))}},function(e,t,i){var n=i(170).inherit;Circuits.SearchOverlayStateMachine=function(e,t){var i=this;i.root=e,i.editorModel=t,Circuits.StateMachine.call(i),Circuits.GuiEvents.addEvents({SEARCH_OVERLAY_TAB:{id:"seo_0",name:"SEARCH_OVERLAY_TAB"}}),i.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.SEARCH_OVERLAY_TAB},function(e){i.editorModel.searchOverlayTab(e.data("tab"))})},Circuits.SearchOverlayStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.SearchOverlayStateMachine.prototype.constructor=Circuits.SearchOverlayStateMachine},function(e,t,i){i(223),i(224),i(225),i(226),i(227),i(228),i(229),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241)},function(e,t,i){var n=i(173),o=i(191);Circuits.LayerInfo=function(e,t,i,n){this.index=e,this.visible=t,this.name=n,this.svgGroup=i},Circuits.AbstractEditor=function(e,t,i,r,a){function s(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),i=e.indexOf("Trident/");return t>-1||i>-1?!0:!1}function c(){var e=l.svgHolder,t=e.width(),i=e.height(),n=(new Circuits.GuiEvent).type(Circuits.GuiEvents.HOLDER_RESIZE).data({editor_type:l.type,width:t,height:i});l.stateMachine.handle(n)}var l=this;this.parent=e,this.guiholder=t,this.mode=i,this.layers=r,this.stateMachine=a,this.zoom_stuff={},this.zoom_stuff.viewX=this.editorModel.viewX(),this.zoom_stuff.viewY=this.editorModel.viewY(),this.zoom_stuff.viewS=this.editorModel.viewS(),this.heavys=new n.HashMap,this.holder=$('<div tabindex="100"></div>'),this.svgHolder=$("<div></div>"),this.holder.append(this.svgHolder),this.inspector=new Circuits.Inspector(this,this.type,this.holder,"circuitscribe"==a.type),this.svgHolder.svg(),this.svg=this.svgHolder.svg("get"),this.svg.configure({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),this.resize(),this.zoomGroup=this.svg.group(),this.svg.change(this.zoomGroup,{transform:"scale(1,1) translate(0,0)"}),l.layers.forEach(function(e,t){t.svgGroup=l.svg.group(l.zoomGroup,t.name)}),this.selectControl=this.svg.group(this.zoomGroup),this.mousedown_flag=!1,this.svgHolder.mousedown(function(e){return l.onMousePan(e)}),this.svgHolder.mousemove(function(e){return l.onMouseMove(e)}),this.svgHolder.mousewheel(function(e,t,i,n){return l.onMouseWheel(e,t,i,n)}),this.svgHolder.mouseup(function(e){return l.onMouseUp(e)}),"undefined"!=typeof Hammer&&(window.navigator.msPointerEnabled&&s()?(Hammer(this.svgHolder.get(0)).on("transformstart",function(e){var t=(new Circuits.GuiEvent).type(Circuits.GuiEvents.GUI_TRANSFORM_START).fromJSEvent(e);l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0)).on("transform",function(e){var t=(new Circuits.GuiEvent).type(Circuits.GuiEvents.GUI_TRANSFORM).fromJSEvent(e);l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0)).on("transformend",function(e){var t=(new Circuits.GuiEvent).type(Circuits.GuiEvents.GUI_TRANSFORM_END).fromJSEvent(e);l.stateMachine.handle(t)})):"ontouchstart"in document.documentElement&&(Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("transformstart",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TRANSFORM_START).fromJSEvent(e);return l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("transform",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TRANSFORM).fromJSEvent(e);return l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("transformend",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TRANSFORM_END).fromJSEvent(e);return l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("dragstart",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TOUCH_PAN_START).fromJSEvent(e);return l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("drag",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TOUCH_PAN).fromJSEvent(e);return l.stateMachine.handle(t)}),Hammer(this.svgHolder.get(0),{prevent_default:!0}).on("dragend",function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_TOUCH_PAN_END).fromJSEvent(e);return l.stateMachine.handle(t)}))),$(this.guiholder).append(this.holder),$(window).resize(function(e){c()}),c(),this.mode==Circuits.GuiMode.EDIT&&this.holder.bind("contextmenu",function(){return!1}),l.editorModel.viewX.onChange("view",function(){l.setView()},10),l.editorModel.viewY.onChange("view",function(){l.setView()},10),l.editorModel.viewS.onChange("view",function(){l.setView()},10),l.editorModel.selection.onAdd("selection",function(e,t){var i=t.getView(l);i.setSelected(!0),i.showInspector&&i.showInspector()},10),l.editorModel.selection.onRemove("selection",function(e,t){if(t.isLife()){var i=t.getView(l);i.setSelected(!1),i.hideInspector&&i.hideInspector()}},10);var d;l.editorModel.elementsInFocus.onAdd("elementsInFocus",function(e,t){var i=t.getView(l);i.setFocus&&i.setFocus(!0),i.constructor!=d&&(l.editorModel.elementsInFocus.removeWhere(function(e){return e!=t}),d=i.constructor)},10),l.editorModel.elementsInFocus.onRemove("elementsInFocus",function(e,t){if(t.isLife()){var i=t.getView(l);i.setFocus&&i.setFocus(!1)}},10),l.editorModel.focus.onChange("focus",function(){l.editorModel.focus()&&$(l.holder).focus()},10),l.editorModel.snap_info.onChange("measure",function(){l.drawSnap(l.editorModel.snap_info())},10),l.editorModel.selection_box_end.onChange("view",function(){if(null!=l.editorModel.selection_box_end()){var e=new o.PointSet([l.editorModel.selection_box_start(),l.editorModel.selection_box_end()]).getBB();l.drawSelectBox(e)}else l.removeSelectBox()},10)},Circuits.AbstractEditor.prototype.getSVG=function(e,t){var i=this,r=new n.HashSet;if(t){var a=t.svgGroup.getBBox();r.add(new o.Coord(a.x,a.y)),r.add(new o.Coord(a.x+a.width,a.y)),r.add(new o.Coord(a.x,a.y+a.height)),r.add(new o.Coord(a.x+a.width,a.y+a.height))}else i.layers.forEach(function(e,t){if(t.visible){var i=t.svgGroup.getBBox();0!==i.width&&0!==i.height&&(r.add(new o.Coord(i.x,i.y)),r.add(new o.Coord(i.x+i.width,i.y)),r.add(new o.Coord(i.x,i.y+i.height)),r.add(new o.Coord(i.x+i.width,i.y+i.height)))}});var a=new o.PointSet(r).getBB(),s='<svg width="100%" height="100%" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="'+(a.x-.05*a.width)+" "+(a.y-.05*a.height)+" "+1.1*a.width+" "+1.1*a.height+'">';return e.forEach(function(e,t){t.visible&&(s+=i.svg.toSVG(t.svgGroup))}),s+="</svg>"},Circuits.AbstractEditor.prototype.resize=function(){this.svg.configure({height:"100%",width:"100%"},!1)},Circuits.AbstractEditor.prototype.emptyLayers=function(){var e=this;e.layers.forEach(function(e,t){$(t.svgGroup).empty()})},Circuits.AbstractEditor.prototype.relativeMouseCoord=function(e){return new o.Coord(e.pageX-this.holder.offset().left,e.pageY-this.holder.offset().top)},Circuits.AbstractEditor.prototype.onMouseMove=function(e){var t=this.relativeMouseCoord(e);this.parent.mouseCoord=t,this.trackCursor(t);var i=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_MOUSE_MOVE).fromJSEvent(e).data("mouseCoord",t);this.stateMachine.handle(i)},Circuits.AbstractEditor.prototype.trackCursor=function(e){var t=this.root.shareJsDoc;if(t&&t.connection&&t.connection.id&&users>0){var i=t.at(["users",t.connection.id]).get(),n=new Date;n.setMinutes(n.getMinutes()-5),(!i||i.last_active<n)&&t.at(["users",t.connection.id]).set({name:$(".username_holder").text(),last_active:Date.now()}),t.shout(JSON.stringify([t.connection.id,"mousePos",this.editorModel.toRealCoord(e),this.type]))}},Circuits.AbstractEditor.prototype.onMouseUp=function(e){this.mousedown_flag=!1;var t=this.relativeMouseCoord(e);this.parent.mouseCoord=t;var i=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_MOUSE_UP).fromJSEvent(e).data("mouseCoord",t);return this.stateMachine.handle(i)},Circuits.AbstractEditor.prototype.onMouseWheel=function(e,t,i,n){var o=this.relativeMouseCoord(e.originalEvent);this.parent.mouseCoord=o;var r=e.shiftKey?-i:n;Math.abs(r)>=40&&(r/=40);var a=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_MOUSE_WHEEL);return a.data("intDelta",r).data("mouseCoord",o),this.stateMachine.handle(a)},Circuits.AbstractEditor.prototype.onMousePan=function(e){this.mousedown_flag=!0;var t=this.relativeMouseCoord(e);this.parent.mouseCoord=t;var i=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_MOUSE_PAN).fromJSEvent(e).data("mouseCoord",t);return this.stateMachine.handle(i)},Circuits.AbstractEditor.prototype.touchPan=function(e){return 1==e.originalEvent.touches.length?(e.preventDefault(),e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY,this.onMousePan(e),!1):!0},Circuits.AbstractEditor.prototype.drawSnap=function(e){var t=this;if(t.clearSnap(),e){var i=e.from.obj,n=e.to.obj,r="#0696D7";if(i.constructor!==o.Line&&i.constructor!==o.Segment||n.constructor!==o.Line&&n.constructor!==o.Segment)if(i.constructor!==o.Coord||n.constructor!==o.Line&&n.constructor!==o.Segment)if(i.constructor!==o.Line&&i.constructor!==o.Segment||n.constructor!==o.Coord){if(i.constructor===o.Coord&&n.constructor===o.Coord)for(var a=e.to.orig,s=0;s<a.length;s++){var c=a[s].copy();c.draw(t.svg,t.snapGroup,r,2/t.editorModel.viewS(),.5)}}else{var c=i.copy();c.move(e.vec),c.draw(t.svg,t.snapGroup,r,2/t.editorModel.viewS(),.5)}else{var c=n.copy();c.draw(t.svg,t.snapGroup,r,2/t.editorModel.viewS(),.5)}else{var c=n.copy();c.draw(t.svg,t.snapGroup,r,2/t.editorModel.viewS(),.5)}}},Circuits.AbstractEditor.prototype.clearSnap=function(){$(this.snapGroup).empty()},Circuits.SnapLineType={TO:0,FROM:1,ROUTETO:2},Circuits.AbstractEditor.prototype.drawSelectBox=function(e){this.removeSelectBox(),this.selectBox=this.svg.rect(this.selectControl,e.x,e.y,e.width,e.height,{fill:"#3b8ed7","fill-opacity":.15,stroke:"#3b8ed7",strokeWidth:.5/this.editorModel.viewS()})},Circuits.AbstractEditor.prototype.removeSelectBox=function(){$(this.selectBox).remove()},Circuits.AbstractEditor.prototype.setView=function(){var e=this.editorModel.viewX(),t=this.editorModel.viewY(),i=this.editorModel.viewS();this.svg.change(this.zoomGroup,{transform:" scale("+i+","+i+") translate("+e+","+t+")"}),this.zoom_stuff.viewX=e,this.zoom_stuff.viewY=t,this.zoom_stuff.viewS=i},Circuits.AbstractEditor.prototype.loadData=function(){},Circuits.AbstractEditor.prototype.setGroupInFocus=function(e){this.groupInFocus=e},Circuits.AbstractEditor.prototype.getGroupInFocus=function(){return this.groupInFocus},Circuits.AbstractEditor.prototype.getGroupInfo=function(e){var t=this,i=t.layers.get(e);return i}},function(e,t,i){var n=i(170).base_url;Circuits.AbstractView={addKeyBindings:function(){var e=this;$(document).unbind("keydown").bind("keydown",function(t){if(1!=t.metaKey||"r"!=Circuits.KeyCode.toString(t.keyCode)){if(1==t.altKey&&1==t.metaKey){var i=Circuits.KeyCode.toString(t.keyCode);if(-1!=["i","u","j"].indexOf(i))return}var n=t.srcElement||t.target;if(("INPUT"!==n.tagName.toUpperCase()||"TEXT"!==n.type.toUpperCase())&&"TEXTAREA"!==n.tagName.toUpperCase()){t.preventDefault(),t.stopPropagation();var o=new Circuits.GuiEvent(Circuits.GuiEvents.GUI_KEY_PRESSED).fromJSEvent(t),r="";(o.data("metaKey")||o.data("ctrlKey"))&&(r+="C_"),o.data("shiftKey")&&(r+="S_");var i=r+Circuits.KeyCode.toString(o.data("which")),a=r+o.data("which");o.data("code",a).data("keyCode",i).data("mouseCoord",e.mouseCoord),e.stateMachine.handle(o)}}})},createSearchOverlay:function(e,t,i,o,r,a){a=a||{};var s=a.circuits_path||"/circuits",c=a.base_url||n,l=this;$(circuitsGui.template(t,{circuit_type:i,circuits_path:s})).appendTo($(".js-tpl-target__overlay"));var d=new circuitsGui.overlay(l,".js-"+e+"_search_container",".js-"+e+"_search_inner","n",328,".js-"+e+"_search_toggle_btn",60,".js-root_container",o),u=[];r.forEach(function(e){Object.keys(e).indexOf("filter")<0&&(e.filter={}),e.filter.q="__Q__";var t=c+"/components/collections/"+e.filter.collection;e.filter.page&&(t+="_"+e.filter.page),t+=".json",e.endpoint&&(t=e.endpoint),u.push({tab_ref:e.ref,search_target_url:t,template:e.template,instant_search:e.instant_search})});var h=new circuitsGui.search_overlay(u,l,d,".js-"+e+"_search");return h}}},function(e,t){Circuits.Origin=function(e,t,i,n){var o=this;this.gui=e,this.originModel=t,this.originModel.registerView(e,this),this.svgGroup=this.gui.svg.group(i),this.gridGroup=this.gui.svg.group(i),this.controlGroup=this.gui.svg.group(n),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlGroup).mousedown(function(e){return o.onMouseDown(e)}),o.originModel.grid_show.onChange("measure",function(){o.drawGrid()},10),o.originModel.grid_unit.onChange("measure",function(){o.drawGrid()},10),o.originModel.grid_value.onChange("measure",function(){o.drawGrid()},10),o.originModel.position.onChange("measure",function(){o.draw()},10)},Circuits.Origin.prototype.draw=function(){var e=this;$(this.svgGroup).empty(),$(this.controlGroup).empty();var t=2/this.gui.editorModel.viewS(),i=10/this.gui.editorModel.viewS();e.drawGrid();var n=e.originModel.position();e.rect=e.gui.svg.rect(e.controlGroup,n.getX()-i/4,n.getY()-i/4,i/2,i/2,{"stroke-linecap":"round",strokeWidth:t}),e.svgLineH=e.gui.svg.line(e.controlGroup,n.getX()-i,n.getY(),n.getX()+i,n.getY(),{"stroke-linecap":"round",strokeWidth:t}),e.svgLineV=e.gui.svg.line(e.controlGroup,n.getX(),n.getY()-i,n.getX(),n.getY()+i,{"stroke-linecap":"round",strokeWidth:t})},Circuits.Origin.prototype.drawGrid=function(){var e=this;if($(e.gridGroup).empty(),e.originModel.grid_show()){var t=e.originModel.getLines(),i=e.originModel.grid_thickness()/e.gui.editorModel.viewS();t.ver.forEach(function(t){e.gui.svg.line(e.gridGroup,t.x1,t.y1,t.x2,t.y2,{"stroke-linecap":"round",strokeWidth:i,opacity:t.index%10===0?1:.3})}),t.hor.forEach(function(t){e.gui.svg.line(e.gridGroup,t.x1,t.y1,t.x2,t.y2,{"stroke-linecap":"round",strokeWidth:i,opacity:t.index%10===0?1:.3})})}},Circuits.Origin.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.originModel,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.Origin.prototype.setSelected=function(){},Circuits.Origin.prototype.showInspector=function(){var e=[{label:"Pitch",type:Circuits.inspectorInputType.VALUE_AND_UNIT,datamember:this.originModel.grid_value,unitmember:this.originModel.grid_unit,list:this.originModel.units}],t={name:"Grid",usage:"Show or hide the grid by clicking the grid button in the toolbar.<br><br>Snapping is enabled when the grid is visible and disabled when hidden.<br><br>Changing the unit in the dropdown will recalculate the number. The default unit can be changed in the circuit settings."};this.gui.inspector.buildAndShow(e,t)},Circuits.Origin.prototype.hideInspector=function(){this.gui.inspector.hide()}},function(e,t){!function(e,t,i){e.chat=function(i,n,o,r){var a=this;a.gui=i,a.chatContainer=t(e.template(n)).appendTo(o),a.chatToggle=t(r),a.chatContent=t(".js-chat__content",a.chatContainer),a.chatImput=t(".js-chat__input",a.chatContainer),a.chatContainer.draggable({handle:".js-chat-draggable",containment:".js-editor__content"}),t("form",a.chatContainer).submit(function(e){e.preventDefault();var t=a.chatInput.val();return a.chatInput.val(""),a.sendMessage(t),!1}),a.chatToggle.click(function(){a.toggleChat()})},e.chat.prototype.toggleChat=function(e){!t(this.chatContainer).is(":visible")||e?(t(this.chatToggle).addClass("active"),t(this.chatContainer).show()):(t(this.chatToggle).removeClass("active"),t(this.chatContainer).hide())},e.chat.prototype.showMessage=function(e){this.toggleChat(!0);var i=t(this.chatContent).html();t(this.chatContent).html(i+e),t(this.chatContent).scrollTop(t(this.chatContent)[0].scrollHeight)},e.chat.prototype.sendMessage=function(e){self.gui.chat(e)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){var n;e.addCurtains=function(){var e=document.getElementsByClassName("loading_text_status")[0];e.innerHTML="Loading",n=window.setTimeout(function(){document.getElementsByClassName("loading_error_container")[0].style.display="block",document.getElementsByClassName("loading_text_status")[0].innerHTML="Error loading"},15e3)},e.openCurtains=function(){n&&window.clearTimeout(n),t(".loading_text_status").html("Finishing"),t(".loading").velocity({opacity:0},300,function(){t(".loading").hide()})},e.closeCurtains=function(){t(".loading").show(),t(".loading").css("opacity",1)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.dialogue_btn=function(e,t,i){this.btn_name=e,this.btn_action=t,this.btn_css_class=i},e.dialogue_active=!1,e.dialogue=function(i,n,o,r){var a=this;a.check_if_dialog_active(),this.dialogueContainer=t(".js-circuits-dialogue").clone(),t("body").append(this.dialogueContainer),i&&i.length&&t(".js-circuits-dialogue__title",this.dialogueContainer).html(i),n&&n.length&&t(".js-circuits-dialogue__content",this.dialogueContainer).html(n),r&&(t(".js-close-dialogue",this.dialogueContainer).show(),t(".js-close-dialogue",this.dialogueContainer).click(function(){
r()})),o&&o.length&&t.each(o,function(e,i){var n=t('<a class="btn btn--small">'+i.btn_name+"</a>");t(".js-circuits-dialogue__buttons",a.dialogueContainer).append(n),i.btn_css_class&&n.addClass(i.btn_css_class),n.click(function(){i.btn_action()})}),a.show(),e.dialogue_active=this},e.dialogue.prototype.check_if_dialog_active=function(){e.dialogue_active&&(e.dialogue_active.dialogueContainer.remove(),e.dialogue_active=!1)},e.dialogue.prototype.show=function(){this.dialogueContainer.show()},e.dialogue.prototype.hide=function(){this.dialogueContainer.hide()},e.dialogue.prototype.closeDialogue=function(){t("body").find(this.dialogueContainer).remove(),this.dialogueContainer.remove()}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.download_vector=function(i,n,o,r,a,s){var c=this;c.target_editor=i,c.target_tab=n,c.target_color=s;var l=3508,d=2480,u=c.target_editor.svg;t(n).css("width",l),t(n).css("height",d),c.target_editor.circuitEditor.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON),u.configure({viewBox:"0 0 "+l+" "+d},!0);var h=u.toSVG().replace(/[\u0250-\ue007]/g,"");t(n+" svg").first().removeAttr("viewBox"),t(n+" svg").first().attr("width","100%"),t(n+" svg").first().attr("height","100%"),t(n).css("width",""),t(n).css("height",""),c.target_editor.circuitEditor.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON),e.download_image_form_sender(h,r,o,a)},e.download_image=function(i,n,o,r,a,s){var c=this;c.target_editor=i,c.target_tab=n,c.target_color=s;var l=3508,d=2480,u=c.target_editor.svg,h=document.createElement("canvas");h.width=l,h.height=d,document.getElementsByTagName("body")[0].appendChild(h);var p=h.getContext("2d");t(n).css("width",l),t(n).css("height",d),c.target_editor.circuitEditor.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON),u.configure({viewBox:"0 0 "+l+" "+d},!0),t(n+" svg:first").attr("width",l),t(n+" svg:first").attr("height",d);var g=u.toSVG().replace(/[\u0250-\ue007]/g,""),m="data:image/svg+xml;base64,"+window.btoa(g),f=new Image;f.onload=function(){p.fillStyle=c.target_color,p.fillRect(0,0,l,d),p.drawImage(f,0,0);var i=h.toDataURL("image/jpeg");console.log(i),t(n+" svg:first").removeAttr("viewBox"),t(n+" svg:first").attr("width","100%"),t(n+" svg:first").attr("height","100%"),t(n).css("width",""),t(n).css("height",""),c.target_editor.circuitEditor.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON),e.download_image_form_sender(i,r,o,a),h.remove()},f.src=m},e.download_image_form_sender=function(e,i,n,o){o=t(".js-absolute-url").text()+o;var r=document.createElement("input");r.setAttribute("name","data"),r.setAttribute("value",e),r.setAttribute("type","hidden");var a=document.createElement("input");a.setAttribute("name","kind"),a.setAttribute("value",i),a.setAttribute("type","hidden");var s=document.createElement("input");s.setAttribute("name","prefix"),s.setAttribute("value",n),s.setAttribute("type","hidden");var c=document.createElement("input");c.setAttribute("name","authenticity_token"),c.setAttribute("value",t('meta[name="csrf-token"]').attr("content")),c.setAttribute("type","hidden");var l=document.createElement("form");l.method="post",l.action=o,l.appendChild(r),l.appendChild(s),l.appendChild(a),l.appendChild(c),document.body.appendChild(l),l.submit(),document.body.removeChild(l)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.draggable_containers=function(){var e=this;e.containers=[]},e.draggable_containers.prototype.add_container=function(e,t,i,n,o,r,a,s){var c=this;c.containers.push({tab:e,identifier:t,x:i,y:n,w:o,h:r,padding:a,direction:s})},e.draggable_containers.prototype.search_identifier=function(e){for(var t=this,i=t.containers.length-1;i>=0;i--)if(t.containers[i].identifier==e)return t.containers[i];return!1},e.draggable_containers.prototype.check_availability=function(e){var t=this,i=t.search_identifier(e);if(!i)return!1;for(var n=[],o=t.containers.length-1;o>=0;o--)t.containers[o].tab==i.tab&&n.push(t.containers[o]);for(var r={w_s:-i.padding+i.x,w_e:-i.padding+i.x+i.w+i.padding,h_s:-i.padding+i.y,h_e:-i.padding+i.y+i.h+i.padding},a=!1,s=n.length-1;s>=0;s--)if(i!=n[s]){var c={w_s:-n[s].padding+n[s].x,w_e:-n[s].padding+n[s].x+n[s].w+n[s].padding,h_s:-n[s].padding+n[s].y,h_e:-n[s].padding+n[s].y+n[s].h+n[s].padding};(c.w_s>=r.w_s&&c.w_s<=r.w_e||c.w_e>=r.w_s&&c.w_e<=r.w_e)&&(a=!0)}return!a},e.draggable_containers.prototype.calculate_position=function(e){}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(173),o=i(191),r=i(170).create;Circuits.GroupInfo=function(e,t,i,n,o,r){this.index=e,this.isHandle=t,this.layer=i,this.svgGroup=n,this.transform=o,this.rotate=r},Circuits.DrawingElement={initGroups:function(e,t){var i=this;this.parentGroup=e,this.groupInfos=this.createGroupInfos(t),this.groupInfos.forEach(function(t,n){var o=e.getGroupInfo(n.layer);n.svgGroup=i.gui.svg.group(o.svgGroup,"id_"+i.data.versions_id+"_"+n.layer)}),this.selected=!1,this.translation=new o.Coord(0,0)},createGroupInfos:function(e){var t=new n.HashMap;return this.parentGroup.groupInfos.forEach(function(i){(void 0==e||e.indexOf(i)>-1)&&t.put(i,new Circuits.GroupInfo(i,!0,i,null,!0,!0))}),t},getGroupInfo:function(e){var t;return t=this.groupInfos.get(e)},removeSvg:function(){this.groupInfos.forEach(function(e,t){$(t.svgGroup).remove()})},emptySvgGroups:function(){this.groupInfos.forEach(function(e,t){$(t.svgGroup).empty()})},setTransform:function(){var e=this;this.groupInfos.forEach(function(t,i){if(i.transform){var n="translate("+(e.data.pos().x+e.translation.x)+","+(e.data.pos().y+e.translation.y)+")";i.rotate&&(n+=" rotate("+e.data.angle()+") scale("+e.data.flip()+",1)"),e.gui.svg.change(i.svgGroup,{transform:n})}})},setTranslation:function(e){this.translation=e,this.setTransform()},getTranslation:function(){return this.translation},setAngle:function(e){this.angle=e,this.setTransform()},rotate:function(e,t){t?(this.angle+=e,this.pos=this.pos.rotate(e,t)):this.angle+=e,this.setTransform()},flipVer:function(){this.angle%180==0?this.flip=-1*this.flip:(this.angle=(this.angle+180)%360,this.flip=-1*this.flip),this.setTransform()},flipHor:function(){this.angle%180==0?(this.angle=(this.angle+180)%360,this.flip=-1*this.flip):this.flip=-1*this.flip,this.setTransform()},move:function(e){this.pos=this.pos.add(e),this.setTransform()},setSelected:function(e){var t=this;this.selected=e,this.groupInfos.forEach(function(e,i){t.selected===!0?t.gui.svg.change(i.svgGroup,{opacity:.5}):t.gui.svg.change(i.svgGroup,{opacity:1})})},internalbbox:function(e){var t;try{t=this.groupInfos.get(e).svgGroup.getBBox()}catch(i){t={x:0,y:0,width:0,height:0}}var n=t.x,o=t.x+t.width,r=t.y,a=t.y+t.height;return{x1:n,x2:o,y1:r,y2:a}},showInspector:function(){},hideInspector:function(){this.gui.inspector&&this.gui.inspector.hide()},connectView:function(e,t,i,n){function o(t){var o;if(t.constructor==e?o=t:t.interactionModel&&t.interactionModel.constructor==e&&(o=t.interactionModel),o){if(n)var s=r(i,[a.gui,o,a].concat(n));else var s=new i(a.gui,o,a);a.elements&&a.elements.add(s),o.onDie("view",function(){s.removeSvg(),a.elements&&a.elements.remove(s)},101)}}var a=this;t.isSet()?(t.forEach(o),t.onAdd({},function(e,t){o(t)},100)):t.isList()?(t.forEach(function(e,t){o(t)}),t.onAdd({},function(e,t,i){o(i)},100)):t.isMap()&&(t.forEach(function(e,t){o(t)}),t.onAdd({},function(e,t,i){o(i)},100))}}},function(e,t){!function(e,t,i){e.error=function(e,i,n,o,r){if(t(".js-error-message").length){var a=t(".js-error-message").clone();return a.appendTo(".js-editor"),e&&t(".js-error-message__title",a).html(e),i&&t(".js-error-message__body",a).html(i),t(".js-close-error",a).on("click",function(){a.remove(),r&&r()}),n&&Circuits.logError(e,n),o||a.show(),a}},e.warning=function(t,i,n){var o=e.error(t,i,n);o.addClass("circuits_error--warning")},e.blocking_error=function(i,n,o){var r=e.error(i,n,o);t("body").append('<div class="circuits_error__back"></div>'),t(".js-close-error",r).remove()}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){Circuits.Inspector=function(e,t,i,n){this.editor=e;var o=n?"circuitscribe":"",r=$('<div class="inspector noOpacity inspector--'+t+" "+t+" "+o+'"></div>');i.append(r),this.inspectorName="inspector_"+t,this.inspectorSelector=".inspector."+t,this.inspectorContent=null,this.datamembers=[],$(this.inspectorSelector).css("opacity",0)},Circuits.Inspector.prototype.buildAndShow=function(e,t){this.build(e,t),this.show()},Circuits.Inspector.prototype.show=function(e){this.inspectorContent&&($(this.inspectorSelector).css("pointer-events","auto"),$(this.inspectorSelector).empty().append(this.inspectorContent),$(this.inspectorSelector).velocity("stop"),$(this.inspectorSelector).velocity({opacity:1},220,function(){"function"==typeof e&&e()}),this.fixOcclusionOfDevicesByInspector())},Circuits.Inspector.prototype.hide=function(){var e=this;$(e.inspectorSelector).velocity("stop"),$(e.inspectorSelector).velocity({opacity:0},220,function(){$(e.inspectorSelector).css("pointer-events","none")});for(var t=0;t<this.datamembers.length;t++)this.datamembers[t].removeHandlersFor(e.inspectorName);this.inspectorContent=null,this.datamembers=[]},Circuits.Inspector.prototype.build=function(e,t){var i=this,n=$('<div class="js-inspector-container"></div>'),o=$('<form class="inspector__form" autocomplete="off"></form>'),r='<div class="inspector__group"></div>',a='<a class="js-inspector-more-info">?</a>',s='<div class="inspector__title clearfix"><div class="float">__2__</div><div class="right">'+a+'</div></div><div class="inspector__summary hide">__3__</div><div class="inspector__usage hide">__4__</div>',c='<a href="__2__" target="_blank">__1__</a>',l='<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" type="text"></div></div>',d='<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--readonly">__1__</div><div class="dual_inspector__input dual_inspector__input--readonly"><input class="dual_inspector__input__text js-valueInput" type="text" disabled></div><div class="dual_inspector__label dual_inspector__label--background">__2__</div></div>',u='<div class="triple_inspector"><div class="dual_inspector dual_inspector--triple clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" id="__1__" type="text"></div></div><div class="triple_inspector__select"><select class="inspector__select js-unit_select">__2__</select></div></div>',h='<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" type="text"></div><div class="dual_inspector__label dual_inspector__label--background">__2__</div></div>',p='<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="inspector__checkbox js-inspector__checkbox" type="checkbox"></div></div>',g='<div class="dual_inspector dual_inspector--triple clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><select class="inspector__select inspector__select--dual js-unit_select">__2__</select><div class="inspector__select__downarrow"></div></div></div>',m='<div class="inspector__btn"><a class="btn btn--m btn--justify btn--dark_level2_borders-on-black js-inspector_btn_click">__1__</a></div>',f='<input type="checkbox" class="inspector__checkbox js-show_check" value="showCheck">';if(o.submit(function(){return!1}),e.forEach(function(e){function t(e,t,n,o,r){$(e).on(o,t,function(){var e=$(this).prop(n);"number"==typeof r()&&(e=parseFloat(e));var t=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_PROPERTY,r.getObj()).data("id",r._name()).data("value",e);return i.editor.stateMachine.handle(t)}),r.onChange(i.inspectorName,function(){if(!$(t,e).is(":focus")){var i=r();"number"==typeof i&&Math.floor(i)!=i&&(i=i.toFixed(2)),$(t,e).prop(n,i)}},10),"keyup"==o&&$(e).on("focus",t,function(){return i.editor.stateMachine.handle(Circuits.GuiEvents.INSPECTOR_FOCUS)})}var n=e.label,a=e.type,s=e.datamember;if(s){i.datamembers.push(s);var c=s();"number"==typeof c&&Math.floor(c)!=c&&(c=c.toFixed(2))}var _=e.unitmember,v=e.unit;_&&(i.datamembers.push(_),v=_());var y=e.checkmember;y&&i.datamembers.push(y);var C=e.list,b="";C&&C.forEach(function(e){var t=e.constructor==Array?e[0]:e,i=e.constructor==Array?e[1]:t;b+='<option value="'+i+'">'+t+"</option>"});var w,M;switch(a){case Circuits.inspectorInputType.TEXT:w=$(l.replace(/__1__/g,n)),M=$(".js-valueInput",w),M.val(c),t(w,".js-valueInput","value","keyup",s);break;case Circuits.inspectorInputType.READ_ONLY:w=$(d.replace(/__1__/g,n).replace(/__2__/g,v)),M=$(".js-valueInput",w),M.val(c),s.onChange(i.inspectorName,function(){M.val(s())});break;case Circuits.inspectorInputType.VALUE_AND_UNIT:case Circuits.inspectorInputType.VALUE_UNIT_CHECK:w=$(u.replace(/__1__/g,n).replace(/__2__/g,b)),M=$(".js-valueInput",w),M.val(c);var S=$(".js-unit_select",w);if(S.val(v),t(w,".js-valueInput","value","keyup",s),t(w,".js-unit_select","value","change",_),a==Circuits.inspectorInputType.VALUE_UNIT_CHECK){w.append(f);var x=$(".js-show_check",w);x.prop("checked",y()),t(w,".js-show_check","checked","change",y)}break;case Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT:w=$(h.replace(/__1__/g,n).replace(/__2__/g,v)),M=$(".js-valueInput",w),M.val(c),t(w,".js-valueInput","value","keyup",s);break;case Circuits.inspectorInputType.CHECKBOX:w=$(p.replace(/__1__/g,n)),M=$("input",w),M.prop("checked",c),t(w,".js-inspector__checkbox","checked","change",s);break;case Circuits.inspectorInputType.SELECTBOX:w=$(g.replace(/__1__/g,n).replace(/__2__/g,b));var T=$(".js-unit_select",w);T.val(c),t(w,".js-unit_select","value","change",s);break;case Circuits.inspectorInputType.BUTTON:w=$(m.replace(/__1__/g,n)),M=$("a",w),$(w).on("click","a",function(){return i.editor.stateMachine.handle(e.cEvent)})}o.append($(r).append($(w)))}),t){t.summary||t.usage||(s=s.replace(a,"")),c="undefined"!=typeof t.version_root_id?c.replace(/__2__/g,"/components/"+t.version_root_id).replace(/__1__/g,t.name):t.name;var _=$(s.replace(/__2__/g,c).replace(/__3__/g,t.summary).replace(/__4__/g,t.usage));n=n.append(_).append(o),$(n).on("click",".js-inspector-more-info",function(){t.summary&&$(".inspector__summary").toggle(),t.usage&&$(".inspector__usage").toggle()})}else n=o;this.inspectorContent=n},Circuits.Inspector.prototype.fixOcclusionOfDevicesByInspector=function(){var e=this,t=!1;$(this.inspectorSelector).mouseup(function(i){return t?!0:(t=!0,e.editor.onMouseUp(i))}),$(this.inspectorSelector).mousedown(function(){return t=!0})}},function(e,t){!function(e,t,i){e.overlay_array=[],e.active_overlay=null,e.overlay=function(i,n,o,r,a,s,c,l,d){var u=this;return this.gui=i,this.overlay_div=t(n),this.overlay_div__inner=t(o),this.resize_direction=r,this.default_height=a,this.toggle_button=t(s),this.toggle_threshold=c,this.inner_header_height=50,this.parentHeightHolder=t(l),this.open=!1,this.toggle_button.click(function(e){return e.preventDefault(),u.toggle_button.hasClass("js-analytics")&&cSite&&cSite.analytics&&cSite.analytics.clickTouch(u.toggle_button),i.stateMachine.handle(d)}),t(window).resize(function(){u.match_heights(),u.resize_handler()}),this.custom_resize_event=function(){},this.custom_toggle_event=function(){},this.custom_open_event=function(){},this.custom_close_event=function(){},this.close_overlay(!0),this.overlay_div.css("opacity",0),u.match_heights(),this.resize_handler(),e.overlay_array.push(u),u},e.overlay.prototype.resize_handler=function(){var e=this;this.overlay_div.css("height","auto"),this.overlay_div.resizable({handles:e.resize_direction,maxHeight:t(e.parentHeightHolder).height()-49,stop:function(i,n){("n"==e.resize_direction||"s"==e.resize_direction)&&(t(i.target).data("container_position_y",t(i.target).position().top),t(e.parentHeightHolder).height()-t(i.target).position().top<e.toggle_threshold&&(e.toggle_overlay(),t(i.target).data("container_position_y",0))),("e"==e.resize_direction||"w"==e.resize_direction)&&(t(i.target).data("container_position_x",t(i.target).position().left),t(e.parentHeightHolder).width()-t(i.target).position().left<e.toggle_threshold&&(e.toggle_overlay(),t(i.target).data("container_position_y",0)))},resize:function(t,i){e.match_heights(),e.custom_resize_event&&e.custom_resize_event()}})},e.overlay.prototype.toggle_overlay=function(){var t=this;t.open?t.close_overlay(!1):(e.close_all_overlays(),t.open_overlay()),t.match_heights(),t.custom_toggle_event&&t.custom_toggle_event()},e.overlay.prototype.close_overlay=function(e){var i=this;i.open=!1,t(i.toggle_button).removeClass("active"),e?t(i.overlay_div).css({opacity:0,translateY:"50px","pointer-events":"none"}):(t(i.overlay_div).velocity("stop"),t(i.overlay_div).velocity({opacity:0,translateY:[50,5]},220,function(){t(i.overlay_div).css("pointer-events","none")})),i.custom_close_event&&i.custom_close_event()},e.overlay.prototype.open_overlay=function(){var i=this;i.open=!0,t(i.toggle_button).addClass("active"),(!t(i.overlay_div).data("container_position_y")>0||t(i.parentHeightHolder).height()-t(i.overlay_div).position().top<0)&&(t(i.overlay_div).data("container_position_y",t(i.parentHeightHolder).height()-i.default_height),t(i.overlay_div__inner).css("height",i.default_height-i.inner_header_height)),t(i.overlay_div).velocity("stop").css({top:t(i.overlay_div).data("container_position_y"),"pointer-events":"auto"}).velocity({opacity:1,translateY:[0,50]},220),i.custom_open_event&&i.custom_open_event(),e.active_overlay=this},e.overlay.prototype.match_heights=function(){t(this.overlay_div__inner).css("height",t(this.overlay_div).height()-this.inner_header_height)},e.close_all_overlays=function(){t.each(e.overlay_array,function(e,t){t.close_overlay(!0)})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.overlay_box=function(e,i,n,o){var r=this;r.gui=e,r.overlayboxContainer=i,r.overlayboxToggle=n,t(i).draggable({handle:".js-overlaybox-draggable",containment:".js-editor__content"}),t(n).click(function(t){e.stateMachine.handle(o)})},e.overlay_box.prototype.toggleBox=function(e){t(this.overlayboxContainer).is(":visible")&&"show"!=e||"hide"==e?(t(this.overlayboxToggle).removeClass("active"),t(this.overlayboxContainer).hide()):(t(this.overlayboxToggle).addClass("active"),t(this.overlayboxContainer).show())}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.pagination=function(e,i,n,o,r,a,s){var c=this;c.container=e,c.scroll_container=i,c.url=n,c.load_more_anchor=o,c.startPage=1,c.currentPage=c.startPage+1,c.busy=!1,c.no_more_results=!1,c.callBackFunc=r,c.loadingImage="https://s3-us-west-1.amazonaws.com/123d-circuits-assets/spinner_standard_white.gif",c.loadingContainer="<div class='loadingContainer js-loadingcontainer'><img src='"+c.loadingImage+"'></div>",c.alterUrl=a,c.defaultContent=s,t(c.scroll_container).bind("scroll",function(){c.calculateScroll()})},e.pagination.prototype.showLoadingAnimation=function(){this.container.append(this.loadingContainer)},e.pagination.prototype.hideLoadingAnimation=function(){t(".js-loadingcontainer",this.container).remove()},e.pagination.prototype.calculateScroll=function(){var e=this;!e.busy&&e.distanceToBottom(e.scroll_container)<450&&(e.busy=!0,e.doSearch())},e.pagination.prototype.distanceToBottom=function(e){if(e===window)var i=t(document).height()-t(e).scrollTop()-t(e).height();else var i=t(e)[0].scrollHeight-t(e).scrollTop()-t(e).height();return i},e.pagination.prototype.doSearch=function(){var e=this;if(!e.no_more_results&&e.url){if(e.showLoadingAnimation(),"string"==typeof e.url)var i=e.url;else{var i=e.url.base;e.alterUrl&&(i+="-"+e.currentPage),e.url.suffix&&(i+="."==e.url.suffix[0]?e.url.suffix:"."+e.url.suffix)}var n={};e.alterUrl||(n.page=e.currentPage),t.get(i,n,function(t){e.hideLoadingAnimation(),t.length<1?e.no_more_results=!0:(e.busy=!1,e.currentPage+=1,e.callBackFunc(t))}).fail(function(){e.hideLoadingAnimation(),e.busy=!1,e.no_more_results=!0,e.defaultContent&&e.callBackFunc(e.defaultContent)})}},e.pagination.prototype.clearScrollListener=function(){t(this.scroll_container).unbind("scroll")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.search_overlay=function(i,n,o,r){var a=this;this.tabsModel=i,this.search_form=t(r),this.search_field=this.search_form.find("input[type=text]"),this.gui=n,this.tabs=[],this.current_tab,this.first_time=!0,this.query="",this.extra_data={},this.overlay=o;for(var s in a.tabsModel)if(a.tabsModel.hasOwnProperty(s)){var c=a.tabsModel[s],l=new e.search_overlay_tab(a,c.tab_ref,c.search_target_url,c.template,c.instant_search);a.tabs.push(l)}t(r).on("submit keyup",function(e,i){return e.preventDefault(),i&&i.preventClear?!1:27==e.keyCode?(t(a.search_field).trigger("blur"),!1):(0==t(a.search_field).val().length?a.clear_search():t(a.search_field).val().length>2&&(a.current_tab.do_search(t(a.search_field).val(),a.current_tab.instantSearch),t(r).find(".js-search-btn").length&&t(r).find(".js-search-clear__btn").length&&(t(r).find(".js-search-btn").hide(),t(r).find(".js-search-clear__btn").show())),!1)}),this.overlay.custom_open_event=function(){a.first_time&&a.tabs.length>0&&(a.open_tab(a.tabs[0].tab_name),a.first_time=!1)},this.show_list=function(e){var i=t(".js-search_overlay__tabs>.overlay_container__tab.active"),n=i.attr("data-ref");n&&(n=n.split("-list")[0],i.removeClass("active"),i=t(".js-search_overlay__tabs>.overlay_container__tab[data-ref="+n+(e?"-list]":"]")),i.addClass("active"));var o=t(".js-search_overlay__tabs>.overlay_container__tab").filter(function(){return dataRef=t(this).attr("data-ref")||"","-list"!=dataRef.substr(dataRef.length-5,5)}),r=t(".js-search_overlay__tabs>.overlay_container__tab").filter(function(){return dataRef=t(this).attr("data-ref")||"","-list"==dataRef.substr(dataRef.length-5,5)});e?(o.addClass("hide"),r.removeClass("hide"),t(".js-component-list").addClass("hide"),t(".js-component-grid").removeClass("hide")):(o.removeClass("hide"),r.addClass("hide"),t(".js-component-grid").addClass("hide"),t(".js-component-list").removeClass("hide")),i.click()},t(".js-search-clear__btn",r).click(function(){a.clear_search()}),t(".js-component-grid").click(function(){a.show_list(!1)}),t(".js-component-list").click(function(){a.show_list(!0)}),this.show_list(!1)},e.search_overlay_tab=function(e,i,n,o,r){var a=this;this.search_overlay=e,this.tab_name=i,this.tab_ref=t('[data-ref="'+i+'"]'),this.tab_target=t('[data-rel="'+i+'"]'),this.search_target_url=n,this.template=o,this.instantSearch=r,this.scrollSearchPagination=null,this.tab_ref.click(function(){var e=new Circuits.GuiEvent(Circuits.GuiEvents.SEARCH_OVERLAY_TAB).data("tab",a.tab_name);a.search_overlay.gui.stateMachine.handle(e)})},e.search_overlay.prototype.initSearch=function(){var e=this;this.search_overlay=search_overlay,this.tab_name=tab_ref,this.tab_ref=t('[data-ref="'+tab_ref+'"]'),this.tab_target=t('[data-rel="'+tab_ref+'"]'),this.search_target_url=search_target_url,this.template=template,this.tab_ref.click(function(){e.search_overlay.open_tab(e.tab_name)})},e.search_overlay_tab.prototype.hide_tab=function(){t(this.tab_target).hide(),t(this.tab_ref).removeClass("active")},e.search_overlay_tab.prototype.show_tab=function(){t(this.tab_target).show(),t(this.tab_ref).addClass("active"),this.do_search()},e.search_overlay.prototype.clear_search=function(){this.current_tab&&this.current_tab.do_search("",!1),t(this.search_field).val(""),t(this.search_form).find(".js-search-btn").length&&t(this.search_form).find(".js-search-clear__btn").length&&(t(this.search_form).find(".js-search-btn").show(),t(this.search_form).find(".js-search-clear__btn").hide())},e.search_overlay_tab.prototype.do_local_search=function(e){var i=this,n=new RegExp(e,"i");t(i.tab_target).find(".search_overlay__result__column__item,.search_results__row").each(function(i,o){var r=t(o),a=r.find(".search_overlay__result__column__item__name,.search_results__name,.search_overlay__result__column__item__tags,.search_results__tags");!e||a.text().match(n)?r.removeClass("hidden"):r.addClass("hidden")}),e?t(i.tab_target).find(".search_overlay__category").addClass("hidden"):t(i.tab_target).find(".search_overlay__category").removeClass("hidden")},e.search_overlay_tab.prototype.do_search=function(i,n){var o=this;if(i)return this.do_local_search(i);if(n)t(o.tab_target).find(".js-instant_search_item").each(function(){t(this).text().search(new RegExp(i,"i"))<0?t(this).hide():t(this).show()});else{(!i||""==i||o.search_overlay.query.length>0)&&(i=o.search_overlay.query),o.scrollSearchPagination&&o.scrollSearchPagination.clearScrollListener(),new e.spinner(o.tab_target);var r=o.search_target_url.replace(/__Q__/g,i);o.successCallbackFunction=function(i){t(o.tab_target).append(e.template(o.template,{results:i})),o.search_overlay.overlay.match_heights(),o.search_overlay.setSearchModalClickBinders(),0==i.length&&t(o.tab_target).html('<div class="search_overlay__results__noresults">Sorry, no results found</div>')};var a=r.lastIndexOf("."),s={base:r.substr(0,a),suffix:r.substr(a)};t.ajax({url:r,type:"GET",dataType:"json",success:function(i){t(o.tab_target).empty(),o.successCallbackFunction(i),o.scrollSearchPagination=new e.pagination(o.tab_target,t(".js-component_search_inner"),s,t(".load_more",this.tab_ref),o.successCallbackFunction,!0,"")}})}},e.search_overlay.prototype.open_tab=function(e){var t=this;this.hide_all_tabs();for(var i in t.tabs)t.tabs.hasOwnProperty(i)&&t.tabs[i].tab_name==e&&(t.tabs[i].show_tab(),t.current_tab=t.tabs[i])},e.search_overlay.prototype.hide_all_tabs=function(e,t,i){var n=this;for(var o in n.tabs)n.tabs.hasOwnProperty(o)&&n.tabs[o].hide_tab()},e.search_overlay.prototype.setSearchModalClickBinders=function(){var e=this;t(".js-add-component").on("mousedown",function(i){i.preventDefault(),e.blurSearch();var n=(new Circuits.GuiEvent).type(Circuits.GuiEvents.NODE_MOUSE_DOWN).fromJSEvent(i).data("did",t(this).data("did")).data("type",t(this).data("type")).data("mouseCoord",e.gui.schematicEditor.relativeMouseCoord(i));e.gui.stateMachine.handle(n)}),t(".js-change-footprint-action").on("mousedown",function(i){i.preventDefault();var n=this,o=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_FOOTPRINT_ELEMENT).data("footprint_id",t(n).data("pdid"));e.gui.stateMachine.handle(o)})},e.search_overlay.prototype.focusSearch=function(){t(this.search_field).trigger("focus",[{preventClear:!0}])},e.search_overlay.prototype.blurSearch=function(){t(this.search_field).trigger("blur")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.spinner=function(e,i,n){var o='<div class="circuits_spinner"><div class="circuits_spinner__bounce1"></div><div class="circuits_spinner__bounce2"></div><div class="circuits_spinner__bounce3"></div></div>';jQuery?(e=t(e),e.html(o),i&&t(".circuits_spinner > div",e).css("background-color",i),n&&(t(".circuits_spinner > div",e).css("width",n),t(".circuits_spinner > div",e).css("height",n))):e.innerHTML=o}}(window.circuitsGui=window.circuitsGui||{},jQuery),function(e,t,i){e.spinner_options={options:{lines:7,length:0,width:5,radius:7,corners:1,rotate:0,direction:1,color:"#3b8ed7",speed:1.2,trail:100,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}}}(window.circuitsGui=window.circuitsGui||{},jQuery);(function(){"use strict";function e(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function t(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,n){var o=["opacity",t,~~(100*e),i,n].join("-"),r=.01+i/n*100,a=Math.max(1-(1-e)/t*(100-r),e),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return u[o]||(h.insertRule("@"+c+"keyframes "+o+"{0%{opacity:"+a+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",h.cssRules.length),u[o]=1),o}function n(e,t){var i,n,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<d.length;n++)if(i=d[n]+t,void 0!==o[i])return i;return void 0!==o[t]?t:void 0}function o(e,t){for(var i in t)e.style[n(e,i)||i]=t[i];return e}function r(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function a(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=r(e||{},s.defaults,p)}function c(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}h.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,n){function r(){return o(i("group",{coordsize:d+" "+d,coordorigin:-l+" "+-l}),{width:d,height:d})}function s(e,s,c){t(h,t(o(r(),{rotation:360/n.lines*e+"deg",left:~~s}),t(o(i("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:c}),i("fill",{color:a(n.color,e),opacity:n.opacity}),i("stroke",{opacity:0}))))}var c,l=n.length+n.width,d=2*l,u=2*-(n.width+n.length)+"px",h=o(r(),{position:"absolute",top:u,left:u});if(n.shadow)for(c=1;c<=n.lines;c++)s(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=n.lines;c++)s(c);return t(e,h)},s.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=o.childNodes[t+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}var l,d=["webkit","Moz","ms","O"],u={},h=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},r(s.prototype,{spin:function(t){this.stop();var i=this,n=i.opts,r=i.el=o(e(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex});n.radius+n.length+n.width;if(o(r,{left:n.left,top:n.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!l){var a,s=0,c=(n.lines-1)*(1-n.direction)/2,d=n.fps,u=d/n.speed,h=(1-n.opacity)/(u*n.trail/100),p=u/n.lines;!function g(){s++;for(var e=0;e<n.lines;e++)a=Math.max(1-(s+(n.lines-e)*p)%u*h,n.opacity),i.opacity(r,e*n.direction+c,a,n);i.timeout=i.el&&setTimeout(g,~~(1e3/d))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,r){function s(t,i){return o(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var c,d=0,u=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)c=o(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&i(r.opacity,r.trail,u+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(c,o(s("#000","0 0 4px #000"),{top:"2px"})),t(n,t(c,s(a(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var g=o(e("group"),{behavior:"url(#default#VML)"});return!n(g,"transform")&&g.adj?c():l=n(g,"animation"),s})()},function(e,t){!function(e,t,i){e.switcher={},e.switcher.holderArray=["#pcbTab","#schematicTab","#settingsTab","#breadboardTab","#bomTab","#circuitscribeTab"],e.switcher.menuArray=[".js-circuit_schematic_button",".js-circuit_pcb_button",".js-circuit_settings_button",".js-circuit_breadboard_button",".js-circuit_bom_button",".js-circuit_simulation_button",".js-circuit_circuitscribe_button"],
e.switcher.guiElementsArray=[".schematic",".pcb",".settings",".breadboard",".bom",".circuitscribe"],e.switcher.submenuElementsArray=[".js-submenu-schematic",".js-submenu-pcb",".js-submenu-breadboard",".js-submenu-settings",".js-submenu-bom",".js-submenu-circuitscribe"],e.switchTo=function(i){switch(e.resetAllSwitches(),i){case"pcb":t("#pcbTab").css("z-index","1"),t(".js-circuit_pcb_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-pcb").show(),t(".pcb").each(function(){t(this).visible()});break;case"schematic":t("#schematicTab").css("z-index","1"),t(".js-circuit_schematic_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-schematic").show(),t(".schematic").each(function(){t(this).visible()});break;case"settings":t("#settingsTab").css("z-index","1"),t(".js-circuit_settings_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-settings").show(),t(".settings").each(function(){t(this).visible()});break;case"breadboard":t("#breadboardTab").css("z-index","1"),t(".js-circuit_breadboard_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-breadboard").show(),t(".breadboard").each(function(){t(this).visible()});break;case"circuitscribe":t("#circuitscribeTab").css("z-index","1"),t(".js-circuit_circuitscribe_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-circuitscribe").show(),t(".circuitscribe").each(function(){t(this).visible()});break;case"bom":t("#bomTab").css("z-index","1"),t(".js-circuit_bom_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),t(".js-submenu-bom").show(),t(".bom").each(function(){t(this).visible()})}},e.viewSwitchMenuInfo=function(e){t(".js-viewer__switcher").length&&t(".js-viewer__switcher").html(e)},e.resetAllSwitches=function(){t.each(e.switcher.holderArray,function(e,i){t(i).css("z-index","0")}),t.each(e.switcher.menuArray,function(e,i){t(i+" .sitemenu__view_switch").removeClass("sitemenu__view_switch--active")}),t.each(e.switcher.guiElementsArray,function(e,i){t(i).each(function(){t(this).invisible()})}),t.each(e.switcher.submenuElementsArray,function(e,i){t(i).each(function(){t(this).length&&t(this).hide()})})}}(window.circuitsGui=window.circuitsGui||{},jQuery),jQuery.fn.visible=function(){return this.css("z-index","1")},jQuery.fn.invisible=function(){return this.css("z-index","-1")}},function(e,t,i){var n=i(1).config;!function(e,t,i){e.ignite_lesson=function(i,o,r){var a=this;a.loaded_files=0,a.asset_urls=n.igniteUrls;var s=JSON.parse(i),c="";t.each(s,function(e,t){c+=t[0]+'="'+t[1]+'" '}),a.tutorialsContainer=t(e.template(o,{lesson_parameters_string:c})).appendTo(r),a.tutorialLoadingContainer=t(".js-tutorial--loading",a.tutorialsContainer),a.spinner=new e.spinner(a.tutorialLoadingContainer),t(".js-root_container").addClass("editor--tutorial"),a.showLoading(),a.setupScriptObject(),a.getFile(a.asset_urls[0])},e.ignite_lesson.prototype.getFile=function(e){var i=this,n=e.substr(e.lastIndexOf(".")+1);"js"==n?t.ajax({dataType:"script",cache:!0,url:e}).done(function(){i.nextFile()}):"css"==n&&(t('<link rel="stylesheet" type="text/css" href="'+e+'" >').appendTo("head"),i.nextFile())},e.ignite_lesson.prototype.nextFile=function(){this.loaded_files+=1,this.loaded_files==this.asset_urls.length?this.hideLoading():this.getFile(this.asset_urls[this.loaded_files])},e.ignite_lesson.prototype.setupScriptObject=function(){var e=document.createElement("script");e.id="spkwgtBootsrap";var t=document.createAttribute("data-app");t.value="igniteWidgets",e.setAttributeNode(t),t=document.createAttribute("data-vendors"),t.value="none",e.setAttributeNode(t),t=document.createAttribute("data-elm-id"),t.value="js-tutorial-sidebar",e.setAttributeNode(t),e.async=!0;var i=document.getElementsByTagName("head")[0];i.appendChild(e)},e.ignite_lesson.prototype.showLoading=function(){this.tutorialLoadingContainer.show()},e.ignite_lesson.prototype.hideLoading=function(){this.tutorialLoadingContainer.delay(1500).fadeOut(1500,function(){t(this).remove()})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=(i(170).base_url,i(2).instructablesAPI),o=i(2).contentAPI.url;!function(e,t,i){e.instructables_lesson=function(i,n,o){var r=this;r.loaded_files=0,r.stepCount=0,r.step=0,r.content=null,r.lessonId=i.id,"undefined"!=typeof i.step&&(r.step=parseInt(i.step)),r.project=i.project,r.collection=i.collection,t(".js-root_container").addClass("editor--tutorial"),r.tutorialContainer=t('<div class="editor tutorial__container"/>').appendTo(t(".js-editor--circuit")),r.tutorialContent=t('<div class="tutorial__content" position="absolute" top="64px"/>').appendTo(r.tutorialContainer),r.tutorialNavigation=t('<div class="sitemenu--editor sitemenu--editor_submenu editor_tools" style="position:absolute;bottom:0px;right:0px;left:0px;background-color:#ffffff"/>').appendTo(r.tutorialContainer),r.tutorialLoadingContainer=t('<div style="position:absolute;top:0px;bottom:0px;left:0px;right:0px;"/>').appendTo(r.tutorialContent),r.spinner=new e.spinner(r.tutorialLoadingContainer),this.prevSvg='<svg width="30px" height="30px" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill-rule="evenodd" fill="#000000" transform="translate(-0.253906, 0.000000)"><path d="M9.99996033,21.0298624 L9.99996033,8.96986238 C9.99996033,8.16286238 10.9059603,7.68786238 11.5689603,8.14786238 L20.5689603,13.7808624 C21.1259603,14.1668624 21.1469603,14.9828624 20.6099603,15.3958624 L11.6099603,21.8228624 C10.9519603,22.3288624 9.99996033,21.8598624 9.99996033,21.0298624" transform="translate(15.500000, 15.000000) scale(-1, 1) translate(-15.500000, -15.000000) "></path></g></svg>',this.nextSvg='<svg width="30px" height="30px" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill-rule="evenodd" fill="#000000"> <path d="M10,21.0619852 L10,9.00198521 C10,8.19498521 10.906,7.71998521 11.569,8.17998521 L20.569,13.8129852 C21.126,14.1989852 21.147,15.0149852 20.61,15.4279852 L11.61,21.8549852 C10.952,22.3609852 10,21.8919852 10,21.0619852"></path></g></svg>',r.navigationButtonStyleVisible="float:right;margin:10px;",r.navigationButtonStyleInvisible=r.navigationButtonStyleVisible+"display:none;",r.prevButtonStyleVisible="float:right;",r.prevButtonStyleInvisible=r.prevButtonStyleVisible+"display:none",r.stepTextStyleVisible="float:left;margin-left:10px;vertical-align:middle;",r.stepTextStyleInvisible=r.stepTextStyleVisible+"display:none;",r.stepText=t('<div style="'+r.stepTextStyleVisible+'"></div>').appendTo(this.tutorialNavigation),r.doneButton=t('<a class="btn btn--m btn--none_base_borders" title="Next Step" style="'+r.navigationButtonStyleInvisible+'"><div class="btn__text">Done</div></a>').appendTo(this.tutorialNavigation),r.nextButton=t('<a class="btn btn--m btn--none_base_borders" title="Next Step" style="'+r.navigationButtonStyleVisible+'"><div class="btn__icon" style="float:right">'+this.nextSvg+'</div><div class="btn__text" style="float:right;">Next</div></a>').appendTo(this.tutorialNavigation),r.prevButton=t('<div class="editor__tools_tool sitemenu__svg_block_btn" style="'+r.prevButtonStyleVisible+'">'+this.prevSvg+"</div>").appendTo(this.tutorialNavigation),r.prevButton.click(function(){r.showStep(r.step-1)}),r.nextButton.click(function(){r.showStep(r.step+1)}),r.doneButton.click(function(){r.showDone()}),r.showLoading(),r.getLesson(r.lessonId,this.step),r.project&&r.getNextLessonInfo(r.lessonId,r.project)},e.instructables_lesson.prototype.getLesson=function(e,i){var o=this;t.ajax({type:"GET",dataType:"json",cache:!0,url:n+"/showInstructable?id="+e,success:function(e){o.content=e,o.step=1,e.error?(o.content=e.error,o.stepCount=0,o.hideLoading(),o.showError(e.error)):(o.stepCount=e.steps.length,o.hideLoading(),o.showStep(i))},error:function(e,t,i){o.content=t,o.stepCount=0,o.hideLoading(),o.showError(t)}})},e.instructables_lesson.prototype.getNextLessonInfo=function(e,i){var o=this;t.ajax({type:"GET",dataType:"json",cache:!0,url:n+"/showInstructable?id="+i}).done(function(t){if(!t.error){var i=!1;t.instructables.forEach(function(t){i&&(o.nextLesson=t.id,o.nextLessonName=t.title,o.nextBaseCircuit=o.getParamFromKeywords("base circuit",t.keywords),o.nextCircuitType=o.getParamFromKeywords("circuit type",t.keywords),i=!1),t.id==e&&(i=!0)})}})},e.instructables_lesson.prototype.getParamFromKeywords=function(e,t){var i=null;return t.forEach(function(t){var n=t.split(e+" ")[1];"undefined"!=typeof n&&(i=n)}),null},e.instructables_lesson.prototype.showStep=function(e){var i=this;this.step=0>e?0:e>=this.stepCount?this.stepCount-1:e,this.tutorialContent.empty();var n=this.content.steps[this.step];t("<h3>"+this.content.title+"</h3><hr/>").appendTo(this.tutorialContent),t("<h4>"+n.title+"</h4>").appendTo(this.tutorialContent);var o=0==this.step?!0:!1;n.files.forEach(function(e){if(1==e.image){if(!o){var n=e.mediumAnimationUrl?e.mediumAnimationUrl:e.mediumUrl;t('<img src="'+n+'"/>').appendTo(i.tutorialContent)}o=!1}}),t(n.body).appendTo(this.tutorialContent),t("p").remove(".instructables-only"),this.stepText.text(""+(this.step+1)+"/"+this.stepCount),this.stepText.attr("style",i.stepTextStyleVisible),this.doneButton.attr("style",this.stepCount-1==this.step?this.navigationButtonStyleVisible:this.navigationButtonStyleInvisible),this.nextButton.attr("style",this.stepCount-1==this.step?this.navigationButtonStyleInvisible:this.navigationButtonStyleVisible),this.prevButton.attr("style",this.prevButtonStyleVisible)},e.instructables_lesson.prototype.showDone=function(){var e=this;if(this.tutorialContent.empty(),t('<h3 style="font-weight:bold">Lesson completed!</h3>').appendTo(this.tutorialContent),t('<p font-weight="bold">You\'ve completed the lesson.</p>').appendTo(this.tutorialContent),this.nextLesson){t("<p>You can continue to take the next lesson:</p>").appendTo(this.tutorialContent);var i="/things/newv2?tenant=circuits&lessonid="+this.nextLesson;this.project&&(i+="&projectid="+this.project),this.collection&&(i+="&collectionid"+this.collection),this.nextLessonName&&(i+="&title="+encodeURI(this.nextLessonName));var n=t('<div style="margin:auto"><a class="btn btn--m btn--none_base_borders" title="Next Lesson" href="'+i+'"><div class="btn__icon" style="float:right">'+this.nextSvg+'</div><div class="btn__text" style="float:right;">Continue</div></a></div>').appendTo(this.tutorialContent),o=window.circuit_editor;o&&n.click(function(t){e._generatingThumb||(e._generatingThumb=!0,t.preventDefault(),o.uploadThumbnails(function(){e._generatingThumb=!1,window.document.location=i}))})}this.stepText.attr("style",e.stepTextStyleInvisible),this.doneButton.attr("style",this.navigationButtonStyleInvisible),this.nextButton.attr("style",this.navigationButtonStyleInvisible),this.prevButton.attr("style",this.navigationButtonStyleInvisible)},e.instructables_lesson.prototype.showError=function(e){t('<div style="text-align:center;vertical-align:middle;width:100%;height:100%"><p style="vertical-align:middle;">'+e+"</p></div>").appendTo(this.tutorialContent)},e.instructables_lesson.prototype.showLoading=function(){this.tutorialLoadingContainer.show()},e.instructables_lesson.prototype.hideLoading=function(){this.tutorialLoadingContainer.delay(1500).fadeOut(1500,function(){t(this).remove()})},e.instructables_lesson.prototype.getProgress=function(){var e=this;t.ajax({type:"GET",url:o+"/lessons/project/projectid/"+e.lessonId,dataType:"json",context:e,success:function(t){var i=t.taken_steps;if(i){var n,o=i.split(","),r=0;for(var a in o)n=parseInt(o[a]),n>r&&(r=n);e.showStep(n)}},error:function(e,t,i){console.log(t)}})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(243),i(244),i(303)},function(e,t,i){var n=i(3);!function(e,t,i){e.BlockCodeEditor=function(n,o,r){var a=this;this.gui=n,this.codeEditor=r,this.readOnly=!(a.gui.mode==Circuits.GuiMode.EDIT),window&&window.goog.Timer&&(window.goog.Timer.defaultTimerObject=window),this.$blocklyArea=t(o),this.$blockEditorArea=this.$blocklyArea.parent(),this.$scratchDiv=t('<div id="scratchDiv" style="height:100%"></div>'),t(o).parent().append(this.$scratchDiv),e.BlockCodeEditor.initialized||(this.modifyScratchMethods(),e.BlockCodeEditor.initialized=!0),this.creatingBlockEditor=!0,this.workspace=Blockly.inject("scratchDiv",{comments:!1,disable:!1,collapse:!1,media:"/dist/js/media/",readOnly:this.readOnly,rtl:!1,scrollbars:!0,toolbox:this.toolbox(),toolboxPosition:"start",horizontalLayout:!1,trashcan:!0,sounds:!0,zoom:{controls:!0,wheel:!0,startScale:.75,maxScale:4,minScale:.25,scaleSpeed:1.1},colours:{fieldShadow:"rgba(255,255,255,0.3)",dragShadowOpacity:.6}}),this.creatingBlockEditor=i,this.fixupBuiltInControls(),t(".js-code_editor__inner").css("overflow","hidden"),window.addEventListener("resize",function(){a.onresize()},!1),this.onresize(),this.codeEditor&&this.workspace.addChangeListener(function(e){if(!a.creatingBlockEditor&&a.codeEditor.isBlockEditorActive()&&(console.log(e.type),"create"!=e.type&&"ui"!=e.type)){var t=Blockly.Arduino.workspaceToCode(a.workspace),i=(new XMLSerializer).serializeToString(Blockly.Xml.workspaceToDom(a.workspace)),n=a.codeEditor.codeMirror.getDoc();n.getValue()!=t&&(a.codeEditor.stopSimulation(),a.codeEditor.setCode(t,i))}}),this.codeEditor.overlay.custom_close_event=function(){Blockly.hideChaff()}},e.BlockCodeEditor.prototype.setTargetDevice=function(e){this.workspace&&(this.workspace.targetDevice=e,this.readOnly||this.workspace.updateToolbox(this.toolbox()))},e.BlockCodeEditor.prototype.setReadOnly=function(e){this.workspace&&(this.workspace.options.readOnly=e)},e.BlockCodeEditor.prototype.setCode=function(e){if(this.workspace){var t=Blockly.Xml.textToDom(e);this.workspace.clear(),Blockly.Xml.domToWorkspace(t,this.workspace),this.resetZoom()}},e.BlockCodeEditor.prototype.render=function(e){if(this.workspace)if(e){var t=Blockly.Xml.workspaceToDom(this.workspace);this.workspace.clear(),Blockly.Xml.domToWorkspace(t,this.workspace)}else this.workspace.render()},e.BlockCodeEditor.prototype.resetZoom=function(){this.workspace.markFocused(),this.workspace.setScale(this.workspace.options.zoomOptions.startScale),this.workspace.scrollCenter()},e.BlockCodeEditor.prototype.onresize=function(e,i){var n=this.codeEditor.overlay_container_inner.height(),o=this.codeEditor.overlay_container.width();o>992?(o*=.65,t(".js-code-editor__button__text",this.overlay_container).removeClass("hidden"),t(".js-code-editor__button__anchor",this.overlay_container).addClass("btn--m").removeClass("btn--m_icon"),this.codeEditor.enableDebugging()):(t(".js-code-editor__button__text",this.overlay_container).addClass("hidden"),t(".js-code-editor__button__anchor",this.overlay_container).addClass("btn--m_icon").removeClass("btn--m"),i||this.codeEditor.isBlockEditorActive()?this.codeEditor.disableDebugging():this.codeEditor.enableDebugging()),this.$scratchDiv.attr("style","height:"+n+"px;width:"+o+"px;"),Blockly.svgResize(this.workspace),e&&this.redrawToolbox()},e.BlockCodeEditor.prototype.toolbox=function(){return'<xml><category name="Output" colour="#4C97FF" secondaryColour="#3373CC">'+Blockly.Blocks.output_set_built_in_led.toolbox(this.workspace)+Blockly.Blocks.output_set_digital_pin.toolbox(this.workspace)+Blockly.Blocks.output_set_analog_pin.toolbox(this.workspace)+Blockly.Blocks.output_rotate_servo.toolbox(this.workspace)+Blockly.Blocks.output_play_tone.toolbox(this.workspace)+Blockly.Blocks.output_stop_tone.toolbox(this.workspace)+Blockly.Blocks.output_print_serial.toolbox(this.workspace)+Blockly.Blocks.output_set_rgb.toolbox(this.workspace)+'</category><category name="Input" colour="#9966FF" secondaryColour="#774DCB">'+Blockly.Blocks.input_read_digital.toolbox(this.workspace)+Blockly.Blocks.input_read_analog.toolbox(this.workspace)+Blockly.Blocks.input_read_servo.toolbox(this.workspace)+Blockly.Blocks.input_serial_available.toolbox(this.workspace)+Blockly.Blocks.input_serial_read.toolbox(this.workspace)+Blockly.Blocks.input_read_ultrasonic_distance.toolbox(this.workspace)+Blockly.Blocks.input_read_temperature.toolbox(this.workspace)+'</category><category name="Notation" colour="'+Blockly.Colours.notation.primary+'" secondaryColour="'+Blockly.Colours.notation.secondary+'">'+Blockly.Blocks.common_title_block_comment.toolbox(this.workspace)+Blockly.Blocks.common_comment.toolbox(this.workspace)+'</category><category name="Control" colour="#FFAB19" secondaryColour="#CF8B17">'+Blockly.Blocks.control_wait_seconds.toolbox(this.workspace)+Blockly.Blocks.control_repeat.toolbox(this.workspace)+Blockly.Blocks.control_while.toolbox(this.workspace)+Blockly.Blocks.control_if.toolbox(this.workspace)+Blockly.Blocks.control_if_else.toolbox(this.workspace)+Blockly.Blocks.control_count_by.toolbox(this.workspace)+'</category><category name="Math" colour="#40BF4A" secondaryColour="#389438">'+Blockly.Blocks.math_arithmetic.toolbox(this.workspace)+Blockly.Blocks.math_compare.toolbox(this.workspace)+Blockly.Blocks.math_random.toolbox(this.workspace)+Blockly.Blocks.math_conjunction.toolbox(this.workspace)+Blockly.Blocks.math_not.toolbox(this.workspace)+Blockly.Blocks.math_function.toolbox(this.workspace)+Blockly.Blocks.math_map.toolbox(this.workspace)+Blockly.Blocks.math_constrain_range.toolbox(this.workspace)+Blockly.Blocks.math_high_low.toolbox(this.workspace)+'</category><category name="Variables" colour="#D65CD6" secondaryColour="#BD42BD" custom="VARIABLE"></category></xml>'},e.BlockCodeEditor.prototype.fixupBuiltInControls=function(){t(this.workspace.zoomControls_.svgGroup_.children).each(function(e,i){var o=t(i),r=o.attr("xlink:href");if(r){var a=r.split("/").pop().split(".")[0];t(i).attr("xlink:href",n.inlineEncodeSVG("icon_scratch_"+a))}t(i).attr("xlink:href")}),this.workspace.trashcan&&t("image",this.workspace.trashcan.svgGroup_).attr("xlink:href",n.inlineEncodePNG("icon_scratch_sprites"));var e=this.workspace.getFlyout();e&&t(e.svgGroup_).css("border-right","1px solid #DFDFDF");var i=this.workspace.toolbox_;i&&i.categoryMenu_&&t(i.categoryMenu_.parentHtml_).css("border-right","1px solid #DFDFDF")},e.BlockCodeEditor.prototype.modifyScratchMethods=function(){Blockly.BlockSvg.MAX_DISPLAY_LENGTH=48,Blockly.Toolbox.prototype.width=300,Blockly.VerticalFlyout.prototype.DEFAULT_WIDTH=300,Blockly.Toolbox.CategoryMenu.prototype.originalPopulate||(Blockly.Toolbox.CategoryMenu.prototype.originalPopulate=Blockly.Toolbox.CategoryMenu.prototype.populate,Blockly.Toolbox.CategoryMenu.prototype.populate=function(e){this.originalPopulate(e),this.height_=80}),Blockly.FieldDropdown.prototype.originalInit||(Blockly.FieldDropdown.prototype.originalInit=Blockly.FieldDropdown.prototype.init,Blockly.FieldDropdown.prototype.init=function(){this.originalInit(),t(this.arrow_).attr("xlink:href",n.inlineEncodeSVG("icon_scratch_dropdown-arrow"))}),Blockly.originalOnKeyDown_||(Blockly.originalOnKeyDown_=Blockly.onKeyDown_,Blockly.onKeyDown_=function(e){(e.altKey||e.ctrlKey||e.metaKey)&&(67==e.keyCode||88==e.keyCode||86==e.keyCode||90==e.keyCode||Blockly.originalOnKeyDown_(e))})},e.BlockCodeEditor.prototype.redrawToolbox=function(){if(this.workspace.toolbox_){var e=this.workspace.toolbox_.getSelectedItem();this.workspace.toolbox_.setSelectedItem(null),this.workspace.toolbox_.setSelectedItem(e)}}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(245),i(246),i(247),i(253),i(261),i(263),i(264),i(272),i(273),i(274),i(275),i(287),i(288),i(298),i(299)},function(e,t){Blockly.Colours={motion:{primary:"#4C97FF",secondary:"#4280D7",tertiary:"#3373CC"},looks:{primary:"#9966FF",secondary:"#855CD6",tertiary:"#774DCB"},sounds:{primary:"#CF63CF",secondary:"#C94FC9",tertiary:"#BD42BD"},control:{primary:"#FFAB19",secondary:"#EC9C13",tertiary:"#CF8B17"},event:{primary:"#FFBF00",secondary:"#E6AC00",tertiary:"#CC9900"},sensing:{primary:"#5CB1D6",secondary:"#47A8D1",tertiary:"#2E8EB8"},pen:{primary:"#0fBD8C",secondary:"#0DA57A",tertiary:"#0B8E69"},operators:{primary:"#59C059",secondary:"#46B946",tertiary:"#389438"},data:{primary:"#FF8C1A",secondary:"#FF8000",tertiary:"#DB6E00"},more:{primary:"#FF6680",secondary:"#FF4D6A",tertiary:"#FF3355"},output:{primary:"#4C97FF",secondary:"#4280D7",tertiary:"#3373CC"},input:{primary:"#9966FF",secondary:"#855CD6",tertiary:"#774DCB"},variables:{primary:"#D65CD6",secondary:"#BD42BD",tertiary:"#BD42BD"},notation:{primary:"#959595",secondary:"#818181",tertiary:"#5F5E5E"},text:"#575E75",workspace:"#F9F9F9",toolboxHover:"#4C97FF",toolboxSelected:"#e9eef2",toolboxText:"#575E75",toolbox:"#FFFFFF",flyout:"#F9F9F9",scrollbar:"#CECDCE",scrollbarHover:"#CECDCE",textField:"#FFFFFF",insertionMarker:"#000000",insertionMarkerOpacity:.2,dragShadowOpacity:.3,stackGlow:"#FFF200",stackGlowOpacity:1,replacementGlow:"#FFFFFF",replacementGlowOpacity:1,colourPickerStroke:"#FFFFFF",fieldShadow:"rgba(0,0,0,0.1)",dropDownShadow:"rgba(0, 0, 0, .3)",numPadBackground:"#547AB2",numPadBorder:"#435F91",numPadActiveBackground:"#435F91",numPadText:"#FFFFFF",valueReportBackground:"#FFFFFF",valueReportBorder:"#AAAAAA"},Blockly.ScratchBlocks={},Blockly.ScratchBlocks.VerticalExtensions={},Blockly.ScratchBlocks.VerticalExtensions.colourHelper=function(e){var t=Blockly.Colours[e];if(!(t&&t.primary&&t.secondary&&t.tertiary))throw Error('Could not find colours for category "'+e+'"');return function(){this.setColourFromRawValues_(t.primary,t.secondary,t.tertiary)}},Blockly.ScratchBlocks.VerticalExtensions.COLOUR_TEXTFIELD=function(){this.setColourFromRawValues_(Blockly.Colours.textField,Blockly.Colours.textField,Blockly.Colours.textField)},Blockly.ScratchBlocks.VerticalExtensions.SHAPE_STATEMENT=function(){this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)},Blockly.ScratchBlocks.VerticalExtensions.SHAPE_HAT=function(){this.setInputsInline(!0),this.setNextStatement(!0,null)},Blockly.ScratchBlocks.VerticalExtensions.SHAPE_END=function(){this.setInputsInline(!0),this.setPreviousStatement(!0,null)},Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_NUMBER=function(){this.setInputsInline(!0),this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND),this.setOutput(!0,"Number")},Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_STRING=function(){this.setInputsInline(!0),this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND),this.setOutput(!0,"String")},Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_BOOLEAN=function(){this.setInputsInline(!0),this.setOutputShape(Blockly.OUTPUT_SHAPE_HEXAGONAL),this.setOutput(!0,"Boolean")},Blockly.ScratchBlocks.VerticalExtensions.registerAll=function(){for(var e="input output control data sounds motion looks event sensing pen operators more variables notation".split(" "),t=0;t<e.length;t++)name=e[t],Blockly.Extensions.register("colours_"+name,Blockly.ScratchBlocks.VerticalExtensions.colourHelper(name));Blockly.Extensions.register("colours_textfield",Blockly.ScratchBlocks.VerticalExtensions.COLOUR_TEXTFIELD),Blockly.Extensions.register("shape_statement",Blockly.ScratchBlocks.VerticalExtensions.SHAPE_STATEMENT),Blockly.Extensions.register("shape_hat",Blockly.ScratchBlocks.VerticalExtensions.SHAPE_HAT),Blockly.Extensions.register("shape_end",Blockly.ScratchBlocks.VerticalExtensions.SHAPE_END),Blockly.Extensions.register("output_number",Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_NUMBER),Blockly.Extensions.register("output_string",Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_STRING),Blockly.Extensions.register("output_boolean",Blockly.ScratchBlocks.VerticalExtensions.OUTPUT_BOOLEAN)},Blockly.ScratchBlocks.VerticalExtensions.registerAll(),Blockly.Blocks.control={},Blockly.Blocks.data={},Blockly.Blocks.sounds={},Blockly.Blocks.motion={},Blockly.Blocks.looks={},Blockly.Blocks.event={},Blockly.Blocks.sensing={},Blockly.Blocks.pen={},Blockly.Blocks.operators={},Blockly.Blocks.more={},Blockly.Blocks.input={},Blockly.Blocks.base_delay={helpUrl:"http://arduino.cc/en/Reference/delay",init:function(){this.setColour(120),this.appendValueInput("DELAY_TIME","Number").appendField("Wait").setCheck("Number"),this.appendDummyInput().appendField("second(s)"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Delay specific time in milliseconds")}},Blockly.Blocks.base_map={helpUrl:"http://arduino.cc/en/Reference/map",init:function(){this.setColour(230),this.appendValueInput("NUM","Number").appendField("Map ").setCheck("Number"),this.appendValueInput("DMAX","Number").appendField("value to [0-").setCheck("Number"),this.appendDummyInput().appendField("]"),this.setInputsInline(!0),this.setOutput(!0),this.setTooltip("Re-maps a number from [0-1023] to another.")}},Blockly.Blocks.inout_buildin_led={helpUrl:"http://arduino.cc/en/Reference/DigitalWrite",init:function(){this.setColour(190),this.appendDummyInput().appendField("Build-in LED").appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("light or off the build-in LED")}},Blockly.Blocks.inout_digital_write={helpUrl:"http://arduino.cc/en/Reference/DigitalWrite",init:function(){this.setColour(230),this.appendDummyInput().appendField("Write digital pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN").appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Write digital value to a specific pin")}},Blockly.Blocks.inout_digital_read={helpUrl:"http://arduino.cc/en/Reference/DigitalRead",init:function(){this.setColour(230),this.appendDummyInput().appendField("Read digital pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setOutput(!0,"Boolean"),this.setTooltip("")}},Blockly.Blocks.inout_analog_write={helpUrl:"http://arduino.cc/en/Reference/AnalogWrite",init:function(){this.setColour(230),this.appendDummyInput().appendField("Write analog pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendValueInput("NUM","Number").appendField("value").setCheck("Number"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Write analog value between 0 and 255 to a specific Port")}},Blockly.Blocks.inout_analog_read={helpUrl:"http://arduino.cc/en/Reference/AnalogRead",init:function(){this.setColour(230),this.appendDummyInput().appendField("Read analog pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].analog),"PIN"),this.setOutput(!0,"Number"),this.setTooltip("Return value between 0 and 1023")}},Blockly.Blocks.inout_tone={helpUrl:"http://www.arduino.cc/en/Reference/Tone",init:function(){this.setColour(230),this.appendDummyInput().appendField("Play tone on pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendValueInput("NUM","Number").appendField("frequency").setCheck("Number"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Generate audio tones on a pin")}},Blockly.Blocks.inout_notone={helpUrl:"http://www.arduino.cc/en/Reference/NoTone",init:function(){this.setColour(230),this.appendDummyInput().appendField("Stop tone on pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Stop generating a tone on a pin")}},Blockly.Blocks.inout_highlow={helpUrl:"http://arduino.cc/en/Reference/Constants",init:function(){this.setColour(230),this.appendDummyInput().appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"BOOL"),this.setOutput(!0,"Boolean"),this.setTooltip("")}},Blockly.Blocks.servo_move={helpUrl:"http://www.arduino.cc/playground/ComponentLib/servo",init:function(){this.setColour(190),this.appendDummyInput().appendField("Servo").appendField("Pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendValueInput("DEGREE","Number").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("Angle (0-180)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("move between 0~180 degree")}},Blockly.Blocks.servo_read_degrees={helpUrl:"http://www.arduino.cc/playground/ComponentLib/servo",init:function(){this.setColour(190),this.appendDummyInput().appendField("Servo").appendField("Pin").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField("Read Degrees"),this.setOutput(!0,"Number"),this.setTooltip("return that degree with the last servo move.")}},Blockly.Blocks.serial_print={helpUrl:"http://www.arduino.cc/en/Serial/Print",init:function(){this.setColour(230),this.appendValueInput("CONTENT","String").appendField("Serial Print"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Prints data to the console/serial port as human-readable ASCII text.")}}},function(e,t){Blockly.Blocks.color={HUE:20},Blockly.Blocks.color_picker={init:function(){this.setHelpUrl(Blockly.Msg.color_PICKER_HELPURL),this.setcolor(Blockly.Blocks.color.HUE),this.appendDummyInput().appendField(new Blockly.Fieldcolor("#ff0000"),"color"),this.setOutput(!0,"color"),this.setTooltip(Blockly.Msg.color_PICKER_TOOLTIP)}},Blockly.Blocks.color_random={init:function(){this.setHelpUrl(Blockly.Msg.color_RANDOM_HELPURL),this.setcolor(Blockly.Blocks.color.HUE),this.appendDummyInput().appendField(Blockly.Msg.color_RANDOM_TITLE),this.setOutput(!0,"color"),this.setTooltip(Blockly.Msg.color_RANDOM_TOOLTIP)}},Blockly.Blocks.color_rgb={init:function(){this.setHelpUrl(Blockly.Msg.color_RGB_HELPURL),this.setcolor(Blockly.Blocks.color.HUE),this.appendValueInput("RED").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_RGB_TITLE).appendField(Blockly.Msg.color_RGB_RED),this.appendValueInput("GREEN").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_RGB_GREEN),this.appendValueInput("BLUE").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_RGB_BLUE),this.setOutput(!0,"color"),this.setTooltip(Blockly.Msg.color_RGB_TOOLTIP)}},Blockly.Blocks.color_blend={init:function(){this.setHelpUrl(Blockly.Msg.color_BLEND_HELPURL),this.setcolor(Blockly.Blocks.color.HUE),this.appendValueInput("color1").setCheck("color").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_BLEND_TITLE).appendField(Blockly.Msg.color_BLEND_color1),this.appendValueInput("color2").setCheck("color").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_BLEND_color2),this.appendValueInput("RATIO").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.color_BLEND_RATIO),this.setOutput(!0,"color"),this.setTooltip(Blockly.Msg.color_BLEND_TOOLTIP)}}},function(e,t,i){i(248),i(249),i(250),i(251),i(252)},function(e,t){Blockly.Blocks.colour_picker.init=function(){this.jsonInit({message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#FF0000"}],outputShape:Blockly.OUTPUT_SHAPE_ROUND,output:"Colour"})}},function(e,t){Blockly.Blocks.common_comment={init:function(){this.jsonInit({message0:"comment %1",args0:[{type:"input_value",name:"COMMENT"}],category:Blockly.Categories.output,extensions:["colours_notation","shape_statement"]})},toolbox:function(){return'<block type="common_comment"><value name="COMMENT">Comment<shadow type="common_text"><field name="TEXT">helpful single-line comment here</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.common_rgb={init:function(){this.jsonInit({message0:"red %1",message1:"green %1",message2:"blue %1",args0:[{type:"field_number",name:"RED",min:0,max:255,precision:0}],args1:[{type:"field_number",name:"GREEN",min:0,max:255,precision:0
}],args2:[{type:"field_number",name:"BLUE",min:0,max:255,precision:0}],output:"String",outputShape:Blockly.OUTPUT_SHAPE_ROUND,extensions:["colours_operators"]})},toolbox:function(){return'<block type="common_rgb"><value name="RED"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="GREEN"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="BLUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.common_text={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_input",name:"TEXT"}],output:"String",outputShape:Blockly.OUTPUT_SHAPE_ROUND,colour:Blockly.Colours.textField,colourSecondary:Blockly.Colours.textField,colourTertiary:Blockly.Colours.textField})}}},function(e,t){Blockly.Blocks.common_title_block_comment={init:function(){this.jsonInit({message0:"title block comment %1",args0:[{type:"input_value",name:"COMMENT"}],category:Blockly.Categories.output,extensions:["colours_notation"]})},toolbox:function(){return'<block type="common_title_block_comment"><value name="COMMENT">Comment<shadow type="common_text"><field name="TEXT">describe your code here</field></shadow></value></block>'}}},function(e,t,i){i(254),i(255),i(256),i(257),i(258),i(259),i(260)},function(e,t){},function(e,t,i){var n=i(3);Blockly.Blocks.control_count_by={init:function(){this.jsonInit({message0:"count %1 by %2 for %3 from %4 to %5 do",message1:"%1",message2:"%1",lastDummyAlign2:"RIGHT",args0:[{type:"field_dropdown",name:"DIRECTION",options:[["up","UP"],["down","DOWN"]]},{type:"input_value",name:"STEPSIZE",text:"1",check:"Number"},{type:"field_variable",name:"VAR",text:"x"},{type:"input_value",name:"FROM",text:"1",check:"Number",precision:1},{type:"input_value",name:"TO",text:"10",check:"Number",precision:1}],args1:[{type:"input_statement",name:"DO"}],args2:[{type:"field_image",src:n.inlineEncodeSVG("icon_scratch_repeat"),width:24,height:24,alt:"*",flip_rtl:!0}],previousStatement:null,nextStatement:null,extensions:["colours_control","shape_statement"],tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL})},toolbox:function(){return'<block type="control_count_by"><value name="STEPSIZE"><shadow type="math_whole_number"><field name="NUM">1</field></shadow></value><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.control_if={init:function(){this.jsonInit({message0:"if %1 then",message1:"%1",args0:[{type:"input_value",name:"CONDITION",check:"Boolean"}],args1:[{type:"input_statement",name:"DO"}],category:Blockly.Categories.operators,extensions:["colours_control","shape_statement"]})},toolbox:function(){return'<block type="control_if"></block>'}}},function(e,t){Blockly.Blocks.control_if_else={init:function(){this.jsonInit({message0:"if %1 then",message1:"%1",message2:"else",message3:"%1",args0:[{type:"input_value",name:"CONDITION",check:"Boolean"}],args1:[{type:"input_statement",name:"DO"}],args3:[{type:"input_statement",name:"ELSE"}],category:Blockly.Categories.operators,extensions:["colours_control","shape_statement"]})},toolbox:function(){return'<block type="control_if_else"></block>'}}},function(e,t,i){var n=i(3);Blockly.Blocks.control_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,message1:"%1",message2:"%1",lastDummyAlign2:"RIGHT",args0:[{type:"input_value",name:"TIMES",text:"10"}],args1:[{type:"input_statement",name:"DO"}],args2:[{type:"field_image",src:n.inlineEncodeSVG("icon_scratch_repeat"),width:24,height:24,alt:"*",flip_rtl:!0}],previousStatement:null,nextStatement:null,extensions:["colours_control","shape_statement"],tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL})},toolbox:function(){return'<block type="control_repeat"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">10</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.control_wait_seconds={init:function(){this.jsonInit({id:"control_wait_seconds",message0:"wait %1 %2",args0:[{type:"input_value",name:"DURATION"},{type:"field_dropdown",name:"UNITS",options:[["secs","S"],["milliseconds","MS"]]}],category:Blockly.Categories.output,extensions:["colours_control","shape_statement"]})},toolbox:function(){return'<block type="control_wait_seconds" id="control_wait_seconds"><value name="DURATION"><shadow type="math_positive_number"><field name="NUM">1</field></shadow></value></block>'}}},function(e,t,i){var n=i(3);Blockly.Blocks.control_while={init:function(){this.jsonInit({message0:"repeat %1 %2",message1:"%1",message2:"%1",lastDummyAlign2:"RIGHT",args0:[{type:"field_dropdown",name:"OP",options:[["while","WHILE"],["until","UNTIL"]]},{type:"input_value",name:"CONDITION",check:"Boolean"}],args1:[{type:"input_statement",name:"DO"}],args2:[{type:"field_image",src:n.inlineEncodeSVG("icon_scratch_repeat"),width:24,height:24,alt:"*",flip_rtl:!0}],previousStatement:null,nextStatement:null,extensions:["colours_control","shape_statement"],tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL})},toolbox:function(){return'<block type="control_while"></block>'}}},function(e,t,i){i(262)},function(e,t){Blockly.Blocks.procedures_defnoreturn={init:function(){this.appendDummyInput().appendField(new Blockly.FieldLabel,"procCode"),this.appendDummyInput().appendField(new Blockly.FieldLabel,"argumentNames"),this.appendDummyInput().appendField(new Blockly.FieldLabel,"argumentDefaults"),this.appendDummyInput().appendField(new Blockly.FieldLabel,"warp"),this.setCategory(Blockly.Categories.more),this.setColour(Blockly.Colours.more.primary,Blockly.Colours.more.secondary,Blockly.Colours.more.tertiary),this.setNextStatement(!0),this._procCode="",this._argumentNames=[],this._argumentDefaults=[],this._warp=!1},mutationToDom:function(){var e=document.createElement("mutation"),t=document.createElement("proccode");t.setAttribute("value",this._procCode),e.appendChild(t);var i=document.createElement("argumentnames");i.setAttribute("value",JSON.stringify(this._argumentNames)),e.appendChild(i);var n=document.createElement("argumentdefaults");n.setAttribute("value",JSON.stringify(this._argumentDefaults)),e.appendChild(n);var o=document.createElement("warp");return o.setAttribute("value",this._warp),e.appendChild(o),e},domToMutation:function(e){this._procCode=e.getAttribute("proccode"),this._argumentNames=JSON.parse(e.getAttribute("argumentnames")),this._argumentValues=JSON.parse(e.getAttribute("argumentvalues")),this._warp=e.getAttribute("warp"),this._updateDisplay()},_updateDisplay:function(){this.setFieldValue(this._procCode,"procCode"),this.setFieldValue(this._argumentNames,"argumentNames"),this.setFieldValue(this._argumentDefaults,"argumentDefaults"),this.setFieldValue(this._warp,"warp")}},Blockly.Blocks.procedures_callnoreturn={init:function(){this.setPreviousStatement(!0),this.setNextStatement(!0),this.setCategory(Blockly.Categories.more),this.setColour(Blockly.Colours.more.primary,Blockly.Colours.more.secondary,Blockly.Colours.more.tertiary),this._procCode=""},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("proccode",this._procCode),e},domToMutation:function(e){this._procCode=e.getAttribute("proccode"),this._updateDisplay()},_updateDisplay:function(){var e=this._procCode.split(/(?=[^\\]\%[nbs])/);e=e.map(function(e){return e.trim()});for(var t,i="input",n=0,o=0;t=e[o];o++){var r;if("%"==t.substring(0,1)){var a=t.substring(1,2);r=t.substring(2).trim();var s=i+n++;switch(a){case"n":var c=this.appendValueInput(s),l=this.workspace.newBlock("math_number");l.setShadow(!0),l.outputConnection.connect(c.connection);break;case"b":var c=this.appendValueInput(s);c.setCheck("Boolean");break;case"s":var c=this.appendValueInput(s),d=this.workspace.newBlock("text");d.setShadow(!0),d.outputConnection.connect(c.connection)}}else r=t.trim();this.appendDummyInput().appendField(r.replace(/\\%/,"%"))}}},Blockly.Blocks.procedures_param={init:function(){this.appendDummyInput().appendField(new Blockly.FieldLabel,"paramName"),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0),this.setCategory(Blockly.Categories.more),this.setColour(Blockly.Colours.more.primary,Blockly.Colours.more.secondary,Blockly.Colours.more.tertiary),this._paramName="undefined",this._shape="r"},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("paramname",this._paramName),e.setAttribute("shape",this._shape),e},domToMutation:function(e){this._paramName=e.getAttribute("paramname"),this._shape=e.getAttribute("shape"),this._updateDisplay()},_updateDisplay:function(){switch(this.setFieldValue(this._paramName,"paramName"),this._shape){case"b":this.setOutputShape(Blockly.OUTPUT_SHAPE_HEXAGONAL),this.setOutput(!0,"Boolean");break;case"s":default:this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND),this.setOutput(!0,"String")}}}},function(e,t){Blockly.Blocks.grove_led={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#LED",init:function(){this.setColour(190),this.appendDummyInput().appendField("LED").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/groveblue%20white.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN").appendField("stat").appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("green LED")}},Blockly.Blocks.grove_button={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#Button",init:function(){this.setColour(190),this.appendDummyInput().appendField("Button").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/bgpushb1.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setOutput(!0,"Boolean"),this.setTooltip("Basic digital input")}},Blockly.Blocks.grove_rotary_angle={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#Potentiometer",init:function(){this.setColour(10),this.appendDummyInput().appendField("Rotary Angle").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/GroveRotaryP.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].analog),"PIN"),this.setOutput(!0,"Number"),this.setTooltip("Analog output between 0 and Vcc")}},Blockly.Blocks.grove_tilt_switch={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#Tilt_switch",init:function(){this.setColour(190),this.appendDummyInput().appendField("Tilt Switch").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/gbtlt.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setOutput(!0,"Boolean"),this.setTooltip("When the switch is level it is open, and when tilted, the switch closes.")}},Blockly.Blocks.grove_piezo_buzzer={helpUrl:"http://www.seeedstudio.com/wiki/GROVE_-_Starter_Kit_V1.1b#Grove_.E2.80.93_Buzzer",init:function(){this.setColour(190),this.appendDummyInput().appendField("Piezo Buzzer").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/107020000%201.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN").appendField("stat").appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Emit a tone when the output is high")}},Blockly.Blocks.grove_relay={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Relay",init:function(){this.setColour(190),this.appendDummyInput().appendField("Relay").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/1030200051.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN").appendField("stat").appendField(new Blockly.FieldDropdown([["HIGH","HIGH"],["LOW","LOW"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("capable of switching a much higher voltages and currents. The maximum voltage and current that can be controlled by this module upto 250V at 10 amps.")}},Blockly.Blocks.grove_temporature_sensor={helpUrl:"http://www.seeedstudio.com/wiki/Project_Seven_-_Temperature",init:function(){this.setColour(10),this.appendDummyInput().appendField("Temporature Sensor").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/101020015%201.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].analog),"PIN"),this.setOutput(!0,"Number"),this.setTooltip("return number of ambient temperature in ℃")}},Blockly.Blocks.grove_serial_lcd_print={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#Serial_LCD",init:function(){this.setColour(190),this.appendDummyInput().appendField("Serial LCD").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/Serial%20LCD.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendValueInput("TEXT","String").setCheck("String").setAlign(Blockly.ALIGN_RIGHT).appendField("print line1"),this.appendValueInput("TEXT2","String").setCheck("String").setAlign(Blockly.ALIGN_RIGHT).appendField("print line2"),this.appendValueInput("DELAY_TIME","Number").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("Delay"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("print text on an 16 character by 2 line LCD.")}},Blockly.Blocks.grove_serial_lcd_power={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#LED",init:function(){this.setColour(190),this.appendDummyInput().appendField("Serial LCD").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/Serial%20LCD.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField("Power").appendField(new Blockly.FieldDropdown([["ON","ON"],["OFF","OFF"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Turn LCD power on/off")}},Blockly.Blocks.grove_serial_lcd_effect={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=GROVE_-_Starter_Bundle_V1.0b#LED",init:function(){this.setColour(190),this.appendDummyInput().appendField("Serial LCD").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/Serial%20LCD.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField("Effect").appendField(new Blockly.FieldDropdown([["Scroll Left","LEFT"],["Scroll Right","RIGHT"],["Scroll Auto","AUTO"]]),"STAT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Turn LCD power on/off")}},Blockly.Blocks.grove_sound_sensor={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Sound_Sensor",init:function(){this.setColour(10),this.appendDummyInput().appendField("Sound Sensor").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/seeed/img/2017-02/fhpNt4QmMYZRtWvB40LIiMrw.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].analog),"PIN"),this.setOutput(!0,"Number"),this.setTooltip("Detect the sound strength of the environment")}},Blockly.Blocks.grove_pir_motion_sensor={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_PIR_Motion_Sensor",init:function(){this.setColour(190),this.appendDummyInput().appendField("PIR Motion Sensor").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/Grove%20-%20PIR%20Motion%20Sensor.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setOutput(!0,"Number"),this.setTooltip("When anyone moves in it's detecting range, the sensor outputs HIGH.")}},Blockly.Blocks.grove_line_finder={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Line_Finder",init:function(){this.setColour(190),this.appendDummyInput().appendField("Line Finder").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/seeed/img/2016-09/WcjECS8Y4O8dSFI1TxymsAtg.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.setOutput(!0,"Boolean"),this.setTooltip("Output digital signal so the robot can reliably follow a black line on a white background")}},Blockly.Blocks.grove_ultrasonic_ranger={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Ultrasonic_Ranger",init:function(){this.setColour(190),this.appendDummyInput().appendField("Ultrasonic Ranger").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/seeed/img/2016-09/kIyY21sbC6ct7JYzCWf1mAPs.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN").appendField("unit").appendField(new Blockly.FieldDropdown([["cm","cm"],["inch","inch"]]),"UNIT"),this.setOutput(!0,"Number"),this.setTooltip("Non-contact distance measurement module")}},Blockly.Blocks.grove_motor_shield={helpUrl:"http://www.seeedstudio.com/wiki/Motor_Shield",init:function(){this.setColour(190),this.appendDummyInput().appendField("Motor").appendField(new Blockly.FieldImage("http://wiki.seeedstudio.com/images/4/4d/Smotoshield2.jpg",64,64)).appendField(new Blockly.FieldDropdown([["Stop","stop"],["Forward","forward"],["Right","right"],["Left","left"],["Backward","backward"]]),"DIRECTION"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Drive two brushed DC motors")}},Blockly.Blocks.grove_thumb_joystick={helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Thumb_Joystick",init:function(){this.setColour(10),this.appendDummyInput().appendField("Thumb Joystick").appendField(new Blockly.FieldImage("https://statics3.seeedstudio.com/images/product/bgjoy1.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].analog),"PIN").appendField("axis").appendField(new Blockly.FieldDropdown([["x","x"],["y","y"]]),"AXIS"),this.setOutput(!0,"Number"),this.setTooltip("output two analog values(200~800) representing two directions")}},Blockly.Blocks.grove_rgb_led={helpUrl:"http://www.seeedstudio.com/wiki/index.php?title=Twig_-_Chainable_RGB_LED",init:function(){this.setColour(190),this.appendDummyInput().appendField("Chainable RGB LED").appendField(new Blockly.FieldImage("http://www.seeedstudio.com/depot/images/product/chanbalelednb1.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendDummyInput("COLOR0").setAlign(Blockly.ALIGN_RIGHT).appendField("Color 1").appendField(new Blockly.FieldColour("#00ff00"),"RGB0"),this.setMutator(new Blockly.Mutator(["grove_rgb_led_item"])),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("256 color LED, currently Chainable feature is not support"),this.itemCount_=1},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("items",this.itemCount_);for(var t=0;t<this.itemCount_;t++){var i=this.getFieldValue("RGB0");e.setAttribute("RGB"+t,i)}return e},domToMutation:function(e){for(var t=0;t<this.itemCount_;t++)this.removeInput("COLOR"+t);this.itemCount_=window.parseInt(e.getAttribute("items"),10);for(var t=0;t<this.itemCount_;t++){var i=window.parseInt(e.getAttribute("RGB"+t),"#00ff00"),n=this.appendDummyInput("COLOR"+t);n.setAlign(Blockly.ALIGN_RIGHT).appendField("Color "+(t+1)).appendField(new Blockly.FieldColour(i),"RGB"+t)}0==this.itemCount_&&this.appendDummyInput("COLOR0").setAlign(Blockly.ALIGN_RIGHT).appendField("Color 1").appendField(new Blockly.FieldColour("#00ff00"),"RGB0")},decompose:function(e){var t=Blockly.Block.obtain(e,"grove_rgb_led_container");t.initSvg();for(var i=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var o=Blockly.Block.obtain(e,"grove_rgb_led_item");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return t},compose:function(e){if(0==this.itemCount_)this.removeInput("COLOR0");else for(var t=this.itemCount_-1;t>=0;t--)this.removeInput("COLOR"+t);this.itemCount_=0;for(var i=e.getInputTargetBlock("STACK");i;){var n=this.getFieldValue("RGB"+this.itemCount_);null==n&&(n="00ff00");var o=this.appendDummyInput("COLOR"+this.itemCount_);o.setAlign(Blockly.ALIGN_RIGHT).appendField("Color "+(this.itemCount_+1)).appendField(new Blockly.FieldColour(n),"RGB"+this.itemCount_),i.valueConnection_&&o.connection.connect(i.valueConnection_),this.itemCount_++,i=i.nextConnection&&i.nextConnection.targetBlock()}0==this.itemCount_&&this.appendDummyInput("COLOR0").setAlign(Blockly.ALIGN_RIGHT).appendField("Color 1").appendField(new Blockly.FieldColour("#00ff00"),"RGB0")}},Blockly.Blocks.grove_rgb_led_container={init:function(){this.setColour(190),this.appendDummyInput().appendField("Container"),this.appendStatementInput("STACK"),this.setTooltip("Add, remove items to reconfigure this chain"),this.contextMenu=!1}},Blockly.Blocks.grove_rgb_led_item={init:function(){this.setColour(190),this.appendDummyInput().appendField("Item"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Add an item to the chain"),this.contextMenu=!1}},Blockly.Blocks.grove_bluetooth_slave={category:"Network",helpUrl:"http://www.seeedstudio.com/wiki/Grove_-_Serial_Bluetooth",init:function(){this.setColour(190),this.appendDummyInput().appendField("Bluetooth Slave").appendField(new Blockly.FieldImage("http://www.seeedstudio.com/wiki/File:Twigbt00.jpg",64,64)).appendField("PIN#").appendField(new Blockly.FieldDropdown(Blockly.Arduino.profile["default"].digital),"PIN"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField("Name").appendField(new Blockly.FieldTextInput("blocklyduino"),"NAME"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField("Pincode").appendField(new Blockly.FieldTextInput("0000"),"PINCODE"),this.appendStatementInput("RCV").setAlign(Blockly.ALIGN_RIGHT).appendField("Receive"),this.appendStatementInput("SNT").setAlign(Blockly.ALIGN_RIGHT).appendField("Send"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("Bluetooth V2.0+EDR slave. Support single slave per board")}}},function(e,t,i){Blockly.Categories.input="input",i(265),i(266),i(267),i(268),i(269),i(270),i(271)},function(e,t){Blockly.Blocks.input_read_analog={helpUrl:"http://arduino.cc/en/Reference/AnalogRead",init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({id:"input_read_analog",message0:"read analog pin %1",args0:[{type:"field_dropdown",name:"PIN",options:e.analogRead}],category:Blockly.Categories.input,extensions:["colours_input","output_number"]})},toolbox:function(){return'<block type="input_read_analog"></block>'}}},function(e,t){Blockly.Blocks.input_read_digital={helpUrl:"http://arduino.cc/en/Reference/DigitalRead",init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({id:"input_read_digital",message0:"read digital pin %1",args0:[{type:"field_dropdown",name:"PIN",options:e.digital}],category:Blockly.Categories.input,extensions:["colours_input","output_number"]})},toolbox:function(){return'<block type="input_read_digital"></block>'}}},function(e,t){Blockly.Blocks.input_read_servo={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({id:"input_read_servo",message0:"read degrees of servo on pin %1",args0:[{type:"field_dropdown",name:"PIN",options:e.digital}],category:Blockly.Categories.input,extensions:["colours_input","output_number"]})},toolbox:function(){return'<block type="input_read_servo"></block>'}}},function(e,t){Blockly.Blocks.input_read_temperature={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"read temperature sensor on pin %1 in units %2",args0:[{type:"field_dropdown",name:"PIN",options:e.analogRead},{type:"field_dropdown",name:"UNITS",options:[["°C","C"],["°F","F"]]}],category:Blockly.Categories.input,extensions:["colours_input","output_number"]})},toolbox:function(){return'<block type="input_read_temperature"></block>'}}},function(e,t){Blockly.Blocks.input_read_ultrasonic_distance={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"read ultrasonic distance sensor on pin %1 in units %2",args0:[{type:"field_dropdown",name:"PIN",options:e.digital},{type:"field_dropdown",name:"UNITS",options:[["cm","CM"],["in","IN"]]}],category:Blockly.Categories.input,extensions:["colours_input","output_number"]})},toolbox:function(){return'<block type="input_read_ultrasonic_distance"></block>'}}},function(e,t){Blockly.Blocks.input_serial_available={init:function(){this.jsonInit({message0:"number of serial characters available",category:Blockly.Categories.input,extensions:["colours_input","output_string"]})},toolbox:function(e){var t=Blockly.Arduino.getProfile(e);return t.serial?'<block type="input_serial_available"></block>':""}}},function(e,t){Blockly.Blocks.input_serial_read={init:function(){this.jsonInit({message0:"read from serial",category:Blockly.Categories.input,extensions:["colours_input","output_string"]})},toolbox:function(e){var t=Blockly.Arduino.getProfile(e);return t.serial?'<block type="input_serial_read"></block>':""}}},function(e,t){Blockly.Blocks.lists={HUE:260},Blockly.Blocks.lists_create_empty={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.setOutput(!0,"Array"),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE),this.setTooltip(Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP)}},Blockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new Blockly.Mutator(["lists_create_with_item"])),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=Blockly.Block.obtain(e,"lists_create_with_container");t.initSvg();for(var i=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var o=Blockly.Block.obtain(e,"lists_create_with_item");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return t},compose:function(e){for(var t=e.getInputTargetBlock("STACK"),i=[],n=0;t;)i[n]=t.valueConnection_,t=t.nextConnection&&t.nextConnection.targetBlock(),n++;this.itemCount_=n,this.updateShape_();for(var n=0;n<this.itemCount_;n++)i[n]&&this.getInput("ADD"+n).connection.connect(i[n])},saveConnections:function(e){for(var t=e.getInputTargetBlock("STACK"),i=0;t;){var n=this.getInput("ADD"+i);t.valueConnection_=n&&n.connection.targetConnection,i++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){if(this.getInput("EMPTY"))this.removeInput("EMPTY");else for(var e=0;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++;if(0==this.itemCount_)this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);else for(var e=0;e<this.itemCount_;e++){var t=this.appendValueInput("ADD"+e);0==e&&t.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}}},Blockly.Blocks.lists_create_with_container={init:function(){this.setColour(Blockly.Blocks.lists.HUE),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_create_with_item={init:function(){this.setColour(Blockly.Blocks.lists.HUE),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_REPEAT_TITLE,args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_REPEAT_HELPURL})}},Blockly.Blocks.lists_length={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.LISTS_LENGTH_HELPURL})}},Blockly.Blocks.lists_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_ISEMPTY_HELPURL})}},Blockly.Blocks.lists_indexOf={init:function(){var e=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(e),"END"),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.LISTS_INDEX_OF_TOOLTIP)}},Blockly.Blocks.lists_getIndex={init:function(){var e=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL),this.setColour(Blockly.Blocks.lists.HUE);var t=new Blockly.FieldDropdown(e,function(e){var t="REMOVE"==e;this.sourceBlock_.updateStatement_(t)});this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var i=this;this.setTooltip(function(){var e=i.getFieldValue("MODE")+"_"+i.getFieldValue("WHERE");return Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation"),t=!this.outputConnection;e.setAttribute("statement",t);var i=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",i),e},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t);var i="false"!=e.getAttribute("at");this.updateAt_(i)},updateStatement_:function(e){var t=!this.outputConnection;e!=t&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),
e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=e){var n=this.sourceBlock_;return n.updateAt_(i),n.setFieldValue(t,"WHERE"),null}return void 0});this.getInput("AT").appendField(t,"WHERE"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_setIndex={init:function(){var e=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE")+"_"+t.getFieldValue("WHERE");return Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="false"!=e.getAttribute("at");this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=e){var n=this.sourceBlock_;return n.updateAt_(i),n.setFieldValue(t,"WHERE"),null}return void 0});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")}},Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;e.setAttribute("at1",t);var i=this.getInput("AT2").type==Blockly.INPUT_VALUE;return e.setAttribute("at2",i),e},domToMutation:function(e){var t="true"==e.getAttribute("at1"),i="true"==e.getAttribute("at2");this.updateAt_(1,t),this.updateAt_(2,i)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var i=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+e],function(i){var n="FROM_START"==i||"FROM_END"==i;if(n!=t){var o=this.sourceBlock_;return o.updateAt_(e,n),o.setFieldValue(i,"WHERE"+e),null}return void 0});this.getInput("AT"+e).appendField(i,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_split={init:function(){var e=this,t=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(t){"SPLIT"==t?(e.outputConnection.setCheck("Array"),e.getInput("INPUT").setCheck("String")):(e.outputConnection.setCheck("String"),e.getInput("INPUT").setCheck("Array"))});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL),this.setColour(Blockly.Blocks.lists.HUE),this.appendValueInput("INPUT").setCheck("String").appendField(t,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var t=e.getFieldValue("MODE");if("SPLIT"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw"Unknown mode: "+t})}}},function(e,t){Blockly.Blocks.logic={HUE:210},Blockly.Blocks.controls_if={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_IF_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.appendValueInput("IF0").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setMutator(new Blockly.Mutator(["controls_if_elseif","controls_if_else"]));var e=this;this.setTooltip(function(){return e.elseifCount_||e.elseCount_?!e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_2:e.elseifCount_&&!e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_3:e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_4:"":Blockly.Msg.CONTROLS_IF_TOOLTIP_1}),this.elseifCount_=0,this.elseCount_=0},mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=document.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0;for(var t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)},decompose:function(e){var t=Blockly.Block.obtain(e,"controls_if_if");t.initSvg();for(var i=t.getInput("STACK").connection,n=1;n<=this.elseifCount_;n++){var o=Blockly.Block.obtain(e,"controls_if_elseif");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}if(this.elseCount_){var r=Blockly.Block.obtain(e,"controls_if_else");r.initSvg(),i.connect(r.previousConnection)}return t},compose:function(e){this.elseCount_&&this.removeInput("ELSE"),this.elseCount_=0;for(var t=this.elseifCount_;t>0;t--)this.removeInput("IF"+t),this.removeInput("DO"+t);this.elseifCount_=0;for(var i=e.getInputTargetBlock("STACK");i;){switch(i.type){case"controls_if_elseif":this.elseifCount_++;var n=this.appendValueInput("IF"+this.elseifCount_).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),o=this.appendStatementInput("DO"+this.elseifCount_);o.appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),i.valueConnection_&&n.connection.connect(i.valueConnection_),i.statementConnection_&&o.connection.connect(i.statementConnection_);break;case"controls_if_else":this.elseCount_++;var r=this.appendStatementInput("ELSE");r.appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE),i.statementConnection_&&r.connection.connect(i.statementConnection_);break;default:throw"Unknown block type."}i=i.nextConnection&&i.nextConnection.targetBlock()}},saveConnections:function(e){for(var t=e.getInputTargetBlock("STACK"),i=1;t;){switch(t.type){case"controls_if_elseif":var n=this.getInput("IF"+i),o=this.getInput("DO"+i);t.valueConnection_=n&&n.connection.targetConnection,t.statementConnection_=o&&o.connection.targetConnection,i++;break;case"controls_if_else":var o=this.getInput("ELSE");t.statementConnection_=o&&o.connection.targetConnection;break;default:throw"Unknown block type."}t=t.nextConnection&&t.nextConnection.targetBlock()}}},Blockly.Blocks.controls_if_if={init:function(){this.setColour(Blockly.Blocks.logic.HUE),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_IF_TITLE_IF),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.CONTROLS_IF_IF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_elseif={init:function(){this.setColour(Blockly.Blocks.logic.HUE),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_else={init:function(){this.setColour(Blockly.Blocks.logic.HUE),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE),this.setPreviousStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.logic_compare={init:function(){var e=this.RTL?[["=","EQ"],["≠","NEQ"],[">","LT"],["≥","LTE"],["<","GT"],["≤","GTE"]]:[["=","EQ"],["≠","NEQ"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]];this.setHelpUrl(Blockly.Msg.LOGIC_COMPARE_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.setOutput(!0,"Boolean"),this.appendValueInput("A"),this.appendValueInput("B").appendField(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),i={EQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,LT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,GT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE};return i[e]}),this.prevBlocks_=[null,null]},onchange:function(){var e=this.getInputTargetBlock("A"),t=this.getInputTargetBlock("B");if(e&&t&&!e.outputConnection.checkType_(t.outputConnection))for(var i=0;i<this.prevBlocks_.length;i++){var n=this.prevBlocks_[i];(n===e||n===t)&&(n.setParent(null),n.bumpNeighbours_())}this.prevBlocks_[0]=e,this.prevBlocks_[1]=t}},Blockly.Blocks.logic_operation={init:function(){var e=[[Blockly.Msg.LOGIC_OPERATION_AND,"AND"],[Blockly.Msg.LOGIC_OPERATION_OR,"OR"]];this.setHelpUrl(Blockly.Msg.LOGIC_OPERATION_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.setOutput(!0,"Boolean"),this.appendValueInput("A").setCheck("Boolean"),this.appendValueInput("B").setCheck("Boolean").appendField(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),i={AND:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND,OR:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR};return i[e]})}},Blockly.Blocks.logic_negate={init:function(){this.jsonInit({message0:Blockly.Msg.LOGIC_NEGATE_TITLE,args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",colour:Blockly.Blocks.logic.HUE,tooltip:Blockly.Msg.LOGIC_NEGATE_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_NEGATE_HELPURL})}},Blockly.Blocks.logic_boolean={init:function(){var e=[[Blockly.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[Blockly.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]];this.setHelpUrl(Blockly.Msg.LOGIC_BOOLEAN_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.setOutput(!0,"Boolean"),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"BOOL"),this.setTooltip(Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP)}},Blockly.Blocks.logic_null={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_NULL_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.setOutput(!0),this.appendDummyInput().appendField(Blockly.Msg.LOGIC_NULL),this.setTooltip(Blockly.Msg.LOGIC_NULL_TOOLTIP)}},Blockly.Blocks.logic_ternary={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_TERNARY_HELPURL),this.setColour(Blockly.Blocks.logic.HUE),this.appendValueInput("IF").setCheck("Boolean").appendField(Blockly.Msg.LOGIC_TERNARY_CONDITION),this.appendValueInput("THEN").appendField(Blockly.Msg.LOGIC_TERNARY_IF_TRUE),this.appendValueInput("ELSE").appendField(Blockly.Msg.LOGIC_TERNARY_IF_FALSE),this.setOutput(!0),this.setTooltip(Blockly.Msg.LOGIC_TERNARY_TOOLTIP),this.prevParentConnection_=null},onchange:function(){var e=this.getInputTargetBlock("THEN"),t=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((e||t)&&i)for(var n=0;2>n;n++){var o=1==n?e:t;o&&!o.outputConnection.checkType_(i)&&(i===this.prevParentConnection_?(this.setParent(null),i.sourceBlock_.bumpNeighbours_()):(o.setParent(null),o.bumpNeighbours_()))}this.prevParentConnection_=i}}},function(e,t){Blockly.Blocks.loops={HUE:120},Blockly.Blocks.controls_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"field_input",name:"TIMES",text:"10"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.getField("TIMES").setChangeHandler(Blockly.FieldTextInput.nonnegativeIntegerValidator)}},Blockly.Blocks.controls_repeat_ext={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"input_value",name:"TIMES",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO)}},Blockly.Blocks.controls_whileUntil={init:function(){var e=[[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE,"WHILE"],[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL,"UNTIL"]];this.setHelpUrl(Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL),this.setColour(Blockly.Blocks.loops.HUE),this.appendValueInput("BOOL").setCheck("Boolean").appendField(new Blockly.FieldDropdown(e),"MODE"),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE"),i={WHILE:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,UNTIL:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL};return i[e]})}},Blockly.Blocks.controls_for={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOR_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,helpUrl:Blockly.Msg.CONTROLS_FOR_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOR_INPUT_DO);var e=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")},customContextMenu:function(e){if(!this.isCollapsed()){var t={enabled:!0},i=this.getFieldValue("VAR");t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i);var n=goog.dom.createDom("field",null,i);n.setAttribute("name","VAR");var o=goog.dom.createDom("block",null,n);o.setAttribute("type","variables_get"),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}}},Blockly.Blocks.controls_forEach={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOREACH_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.loops.HUE,helpUrl:Blockly.Msg.CONTROLS_FOREACH_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOREACH_INPUT_DO);var e=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOREACH_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")},customContextMenu:Blockly.Blocks.controls_for.customContextMenu},Blockly.Blocks.controls_flow_statements={init:function(){var e=[[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK,"BREAK"],[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE,"CONTINUE"]];this.setHelpUrl(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL),this.setColour(Blockly.Blocks.loops.HUE),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"FLOW"),this.setPreviousStatement(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("FLOW"),i={BREAK:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK,CONTINUE:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE};return i[e]})},onchange:function(){var e=!1,t=this;do{if("controls_repeat"==t.type||"controls_repeat_ext"==t.type||"controls_forEach"==t.type||"controls_for"==t.type||"controls_whileUntil"==t.type){e=!0;break}t=t.getSurroundParent()}while(t);e?this.setWarningText(null):this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING)}}},function(e,t,i){i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286)},function(e,t){Blockly.Blocks.math_arithmetic={init:function(){var e=this;this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ADDITION_SYMBOL,"ADD"],[Blockly.Msg.MATH_SUBTRACTION_SYMBOL,"SUBTRACT"],[Blockly.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"],["/","DIVIDE"],["%","MODULO"],[Blockly.Msg.MATH_POWER_SYMBOL,"POWER"]]},{type:"input_value",name:"B"}],category:Blockly.Categories.operators,extensions:["colours_operators","output_number"]}),this.setTooltip(function(){var t=e.getFieldValue("OP"),i={ADD:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD,SUBTRACT:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,DIVIDE:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE,MODULO:"Return the modulo of the two numbers.",POWER:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER};return i[t]})},toolbox:function(){return'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_compare={init:function(){var e=this;this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["<","LT"],["≤","LTE"],["=","EQ"],["≠","NEQ"],[">","GT"],["≥","GTE"]]},{type:"input_value",name:"B"}],category:Blockly.Categories.operators,extensions:["colours_operators","output_boolean"]}),this.setTooltip(function(){var t=e.getFieldValue("OP"),i={LT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,EQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,GT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE};return i[t]})},toolbox:function(){return'<block type="math_compare"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_constrain_range={init:function(){this.jsonInit({message0:"constrain %1 to range %2 to %3",args0:[{type:"input_value",name:"IN"},{type:"input_value",name:"LOW"},{type:"input_value",name:"HIGH"}],category:Blockly.Categories.operators,inputsInline:!0,output:"Number",tooltip:Blockly.Msg.MATH_CONSTRAIN_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTRAIN_HELPURL,extensions:["colours_operators","output_number"]})},toolbox:function(){return'<block type="math_constrain_range"><value name="IN"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="LOW"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">255</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_conjunction={init:function(){var e=this;this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["and","AND"],["or","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],category:Blockly.Categories.math,extensions:["colours_operators","output_boolean"]}),this.setTooltip(function(){var t=e.getFieldValue("OP"),i={AND:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND,OR:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR};return i[t]})},toolbox:function(){return'<block type="math_conjunction"></block>'}}},function(e,t){Blockly.Blocks.math_function={init:function(){this.jsonInit({message0:"%1 of %2",args0:[{type:"field_dropdown",name:"OPERATOR",options:[["abs","abs"],["sqrt","sqrt"],["sin","sin"],["cos","cos"],["tan","tan"]]},{type:"input_value",name:"NUM"}],category:Blockly.Categories.operators,extensions:["colours_operators","output_number"]})},toolbox:function(){return'<block type="math_function"><value name="NUM"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_high_low={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"STATE",options:Blockly.Arduino.digitalPinStates}],category:Blockly.Categories.operators,extensions:["colours_operators","output_number"]})},toolbox:function(){return'<block type="math_high_low"></block>'}}},function(e,t){Blockly.Blocks.math_map={init:function(){this.jsonInit({message0:"map %1 to range %2 to %3",args0:[{type:"input_value",name:"IN"},{type:"input_value",name:"OUT_MIN"},{type:"input_value",name:"OUT_MAX"}],category:Blockly.Categories.operators,extensions:["colours_operators","output_number"]})},toolbox:function(){return'<block type="math_map"><value name="IN"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="OUT_MIN"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="OUT_MAX"><shadow type="math_number"><field name="NUM">180</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_not={init:function(){this.jsonInit({message0:"not %1",args0:[{type:"input_value",name:"OPERAND",check:"Boolean"}],category:Blockly.Categories.operators,extensions:["colours_operators","output_boolean"]})},toolbox:function(){return'<block type="math_not"></block>'}}},function(e,t){Blockly.Blocks.math_positive_number={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_number",name:"NUM",min:0}],output:"Number",outputShape:Blockly.OUTPUT_SHAPE_ROUND,colour:Blockly.Colours.textField,colourSecondary:Blockly.Colours.textField,colourTertiary:Blockly.Colours.textField})}}},function(e,t){Blockly.Blocks.math_random={init:function(){this.jsonInit({message0:"pick random %1 to %2",args0:[{type:"input_value",name:"LOW"},{type:"input_value",name:"HIGH"}],category:Blockly.Categories.operators,inputsInline:!0,output:"Number",tooltip:Blockly.Msg.MATH_RANDOM_INT_TOOLTIP,extensions:["colours_operators","output_number"]})},toolbox:function(){return'<block type="math_random"><value name="LOW"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.math_whole_number={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_number",name:"NUM",min:0,precision:0}],output:"Number",outputShape:Blockly.OUTPUT_SHAPE_ROUND,colour:Blockly.Colours.textField,colourSecondary:Blockly.Colours.textField,colourTertiary:Blockly.Colours.textField})}}},function(e,t){Blockly.Blocks.math={HUE:230},Blockly.Blocks.math_single={init:function(){var e=[[Blockly.Msg.MATH_SINGLE_OP_ROOT,"ROOT"],[Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE,"ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]];this.setHelpUrl(Blockly.Msg.MATH_SINGLE_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number"),this.appendValueInput("NUM").setCheck("Number").appendField(new Blockly.FieldDropdown(e),"OP");var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),i={ROOT:Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT,ABS:Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS,NEG:Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG,LN:Blockly.Msg.MATH_SINGLE_TOOLTIP_LN,LOG10:Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10,EXP:Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP,POW10:Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10};return i[e]})}},Blockly.Blocks.math_trig={init:function(){var e=[[Blockly.Msg.MATH_TRIG_SIN,"SIN"],[Blockly.Msg.MATH_TRIG_COS,"COS"],[Blockly.Msg.MATH_TRIG_TAN,"TAN"],[Blockly.Msg.MATH_TRIG_ASIN,"ASIN"],[Blockly.Msg.MATH_TRIG_ACOS,"ACOS"],[Blockly.Msg.MATH_TRIG_ATAN,"ATAN"]];this.setHelpUrl(Blockly.Msg.MATH_TRIG_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number"),this.appendValueInput("NUM").setCheck("Number").appendField(new Blockly.FieldDropdown(e),"OP");var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),i={SIN:Blockly.Msg.MATH_TRIG_TOOLTIP_SIN,COS:Blockly.Msg.MATH_TRIG_TOOLTIP_COS,TAN:Blockly.Msg.MATH_TRIG_TOOLTIP_TAN,ASIN:Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN,ACOS:Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS,ATAN:Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN};return i[e]})}},Blockly.Blocks.math_constant={init:function(){var e=[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]];this.setHelpUrl(Blockly.Msg.MATH_CONSTANT_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number"),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"CONSTANT"),this.setTooltip(Blockly.Msg.MATH_CONSTANT_TOOLTIP)}},Blockly.Blocks.math_number_property={init:function(){var e=[[Blockly.Msg.MATH_IS_EVEN,"EVEN"],[Blockly.Msg.MATH_IS_ODD,"ODD"],[Blockly.Msg.MATH_IS_PRIME,"PRIME"],[Blockly.Msg.MATH_IS_WHOLE,"WHOLE"],[Blockly.Msg.MATH_IS_POSITIVE,"POSITIVE"],[Blockly.Msg.MATH_IS_NEGATIVE,"NEGATIVE"],[Blockly.Msg.MATH_IS_DIVISIBLE_BY,"DIVISIBLE_BY"]];this.setColour(Blockly.Blocks.math.HUE),this.appendValueInput("NUMBER_TO_CHECK").setCheck("Number");var t=new Blockly.FieldDropdown(e,function(e){var t="DIVISIBLE_BY"==e;this.sourceBlock_.updateShape_(t)});this.appendDummyInput().appendField(t,"PROPERTY"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.MATH_IS_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",t),e},domToMutation:function(e){var t="true"==e.getAttribute("divisor_input");this.updateShape_(t)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},Blockly.Blocks.math_change={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CHANGE_TITLE,args0:[{type:"field_variable",name:"VAR",variable:Blockly.Msg.MATH_CHANGE_TITLE_ITEM},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.math.HUE,helpUrl:Blockly.Msg.MATH_CHANGE_HELPURL});var e=this;this.setTooltip(function(){return Blockly.Msg.MATH_CHANGE_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")}},Blockly.Blocks.math_round={init:function(){var e=[[Blockly.Msg.MATH_ROUND_OPERATOR_ROUND,"ROUND"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP,"ROUNDUP"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN,"ROUNDDOWN"]];this.setHelpUrl(Blockly.Msg.MATH_ROUND_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number"),this.appendValueInput("NUM").setCheck("Number").appendField(new Blockly.FieldDropdown(e),"OP"),this.setTooltip(Blockly.Msg.MATH_ROUND_TOOLTIP)}},Blockly.Blocks.math_on_list={init:function(){var e=[[Blockly.Msg.MATH_ONLIST_OPERATOR_SUM,"SUM"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MIN,"MIN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MAX,"MAX"],[Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE,"AVERAGE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN,"MEDIAN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MODE,"MODE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV,"STD_DEV"],[Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM,"RANDOM"]],t=this;this.setHelpUrl(Blockly.Msg.MATH_ONLIST_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number");var i=new Blockly.FieldDropdown(e,function(e){"MODE"==e?t.outputConnection.setCheck("Array"):t.outputConnection.setCheck("Number")});this.appendValueInput("LIST").setCheck("Array").appendField(i,"OP"),this.setTooltip(function(){var e=t.getFieldValue("OP"),i={SUM:Blockly.Msg.MATH_ONLIST_TOOLTIP_SUM,MIN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MIN,MAX:Blockly.Msg.MATH_ONLIST_TOOLTIP_MAX,AVERAGE:Blockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE,MEDIAN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN,MODE:Blockly.Msg.MATH_ONLIST_TOOLTIP_MODE,STD_DEV:Blockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV,RANDOM:Blockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM};return i[e]})}},Blockly.Blocks.math_modulo={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_MODULO_TITLE,args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_MODULO_TOOLTIP,helpUrl:Blockly.Msg.MATH_MODULO_HELPURL})}},Blockly.Blocks.math_constrain={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CONSTRAIN_TITLE,args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_CONSTRAIN_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTRAIN_HELPURL})}},Blockly.Blocks.math_random_int={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_RANDOM_INT_TITLE,args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.Blocks.math.HUE,tooltip:Blockly.Msg.MATH_RANDOM_INT_TOOLTIP,helpUrl:Blockly.Msg.MATH_RANDOM_INT_HELPURL})}},Blockly.Blocks.math_random_float={init:function(){this.setHelpUrl(Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL),this.setColour(Blockly.Blocks.math.HUE),this.setOutput(!0,"Number"),this.appendDummyInput().appendField(Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM),this.setTooltip(Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP)}}},function(e,t,i){i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297)},function(e,t){Blockly.Blocks.output_rotate_servo={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"rotate servo on pin %1 to %2 degrees",args0:[{type:"field_dropdown",name:"PIN",options:e.digital},{type:"input_value",name:"ANGLE",min:0,max:180,precision:0}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_rotate_servo"><value name="ANGLE"><shadow type="math_positive_number"><field name="NUM">0</field></shadow></value></block>'}}},function(e,t){},function(e,t){Blockly.Blocks.output_play_tone={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"play speaker on pin %1 with tone %2 for %3 sec",args0:[{type:"field_dropdown",name:"PIN",options:e.digital},{type:"input_value",name:"NOTE",min:0,max:127,precision:0
},{type:"input_value",name:"DURATION"}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_play_tone"><value name="NOTE"><shadow type="math_positive_number"><field name="NUM">60</field></shadow></value><value name="DURATION"><shadow type="math_positive_number"><field name="NUM">1</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.output_print_serial={init:function(){this.jsonInit({message0:"print to serial monitor %1 %2 newline",args0:[{type:"input_value",name:"STRING"},{type:"field_dropdown",name:"NEWLINE",options:[["with","YES"],["without","NO"]]}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(e){var t=Blockly.Arduino.getProfile(e);return t.serial?'<block type="output_print_serial"><value name="STRING"><shadow type="common_text"><field name="TEXT">hello world</field></shadow></value></block>':""}}},function(e,t){Blockly.Blocks.output_set_analog_pin={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"set pin %1 to %2",args0:[{type:"field_dropdown",name:"PIN",options:e.analogWrite},{type:"input_value",name:"VALUE",min:0,max:255,precision:0}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_set_analog_pin"><value name="VALUE"><shadow type="math_whole_number"><field name="NUM">0</field></shadow></value></block>'}}},function(e,t){Blockly.Blocks.output_set_built_in_led={init:function(){this.jsonInit({message0:"set built-in LED to %1",args0:[{type:"field_dropdown",name:"VALUE",options:Blockly.Arduino.digitalPinStates}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(e){var t=Blockly.Arduino.getProfile(e);return t.builtinLED?'<block type="output_set_built_in_led"></block>':""}}},function(e,t){Blockly.Blocks.output_set_digital_pin={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"set pin %1 to %2",args0:[{type:"field_dropdown",name:"PIN",options:e.digital},{type:"field_dropdown",name:"VALUE",options:Blockly.Arduino.digitalPinStates}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_set_digital_pin"></block>'}}},function(e,t){Blockly.Blocks.output_set_rgb={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"set RGB LED in pins %1 %2 %3 to color %4",args0:[{type:"field_dropdown",name:"PIN_RED",options:e.analogWrite},{type:"field_dropdown",name:"PIN_GREEN",options:e.analogWrite},{type:"field_dropdown",name:"PIN_BLUE",options:e.analogWrite},{type:"input_value",name:"COLOR",check:"Colour"}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_set_rgb"><value name="COLOR"><shadow type="colour_picker"></shadow></value></block>'}}},function(e,t){Blockly.Blocks.output_stop_tone={init:function(){var e=Blockly.Arduino.getProfile(this.workspace);this.jsonInit({message0:"turn off speaker on pin %1",args0:[{type:"field_dropdown",name:"PIN",options:e.digital}],category:Blockly.Categories.output,extensions:["colours_output","shape_statement"]})},toolbox:function(){return'<block type="output_stop_tone"></block>'}}},function(e,t){Blockly.Blocks.texts={HUE:160},Blockly.Blocks.text={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_TEXT_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.appendDummyInput().appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_TEXT_TOOLTIP)},newQuote_:function(e){if(e==this.RTL)var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==";else var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC";return new Blockly.FieldImage(t,12,12,'"')}},Blockly.Blocks.text_join={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_JOIN_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.itemCount_=2,this.updateShape_(),this.setOutput(!0,"String"),this.setMutator(new Blockly.Mutator(["text_create_join_item"])),this.setTooltip(Blockly.Msg.TEXT_JOIN_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=Blockly.Block.obtain(e,"text_create_join_container");t.initSvg();for(var i=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var o=Blockly.Block.obtain(e,"text_create_join_item");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return t},compose:function(e){for(var t=e.getInputTargetBlock("STACK"),i=[],n=0;t;)i[n]=t.valueConnection_,t=t.nextConnection&&t.nextConnection.targetBlock(),n++;this.itemCount_=n,this.updateShape_();for(var n=0;n<this.itemCount_;n++)i[n]&&this.getInput("ADD"+n).connection.connect(i[n])},saveConnections:function(e){for(var t=e.getInputTargetBlock("STACK"),i=0;t;){var n=this.getInput("ADD"+i);t.valueConnection_=n&&n.connection.targetConnection,i++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){if(this.getInput("EMPTY"))this.removeInput("EMPTY");else for(var e=0;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++;if(0==this.itemCount_)this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));else for(var e=0;e<this.itemCount_;e++){var t=this.appendValueInput("ADD"+e);0==e&&t.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}},newQuote_:Blockly.Blocks.text.newQuote_},Blockly.Blocks.text_create_join_container={init:function(){this.setColour(Blockly.Blocks.texts.HUE),this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_create_join_item={init:function(){this.setColour(Blockly.Blocks.texts.HUE),this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_append={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_APPEND_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.appendValueInput("TEXT").appendField(Blockly.Msg.TEXT_APPEND_TO).appendField(new Blockly.FieldVariable(Blockly.Msg.TEXT_APPEND_VARIABLE),"VAR").appendField(Blockly.Msg.TEXT_APPEND_APPENDTEXT),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.TEXT_APPEND_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")}},Blockly.Blocks.text_length={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.TEXT_LENGTH_HELPURL})}},Blockly.Blocks.text_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.TEXT_ISEMPTY_HELPURL})}},Blockly.Blocks.text_indexOf={init:function(){var e=[[Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST,"FIRST"],[Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_INDEXOF_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_INDEXOF_INPUT_INTEXT),this.appendValueInput("FIND").setCheck("String").appendField(new Blockly.FieldDropdown(e),"END"),Blockly.Msg.TEXT_INDEXOF_TAIL&&this.appendDummyInput().appendField(Blockly.Msg.TEXT_INDEXOF_TAIL),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.TEXT_INDEXOF_TOOLTIP)}},Blockly.Blocks.text_charAt={init:function(){this.WHERE_OPTIONS=[[Blockly.Msg.TEXT_CHARAT_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_CHARAT_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_CHARAT_FIRST,"FIRST"],[Blockly.Msg.TEXT_CHARAT_LAST,"LAST"],[Blockly.Msg.TEXT_CHARAT_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.TEXT_CHARAT_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.setOutput(!0,"String"),this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_CHARAT_INPUT_INTEXT),this.appendDummyInput("AT"),this.setInputsInline(!0),this.updateAt_(!0),this.setTooltip(Blockly.Msg.TEXT_CHARAT_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="false"!=e.getAttribute("at");this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),Blockly.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=e){var n=this.sourceBlock_;return n.updateAt_(i),n.setFieldValue(t,"WHERE"),null}return void 0});this.getInput("AT").appendField(t,"WHERE")}},Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;e.setAttribute("at1",t);var i=this.getInput("AT2").type==Blockly.INPUT_VALUE;return e.setAttribute("at2",i),e},domToMutation:function(e){var t="true"==e.getAttribute("at1"),i="true"==e.getAttribute("at2");this.updateAt_(1,t),this.updateAt_(2,i)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var i=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+e],function(i){var n="FROM_START"==i||"FROM_END"==i;if(n!=t){var o=this.sourceBlock_;return o.updateAt_(e,n),o.setFieldValue(i,"WHERE"+e),null}return void 0});this.getInput("AT"+e).appendField(i,"WHERE"+e),1==e&&this.moveInputBefore("AT1","AT2")}},Blockly.Blocks.text_changeCase={init:function(){var e=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}},Blockly.Blocks.text_trim={init:function(){var e=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL),this.setColour(Blockly.Blocks.texts.HUE),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}},Blockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:Blockly.Blocks.texts.HUE,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}},Blockly.Blocks.text_prompt={init:function(){var e=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],t=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.Blocks.texts.HUE);var i=new Blockly.FieldDropdown(e,function(e){"NUMBER"==e?t.changeOutput("Number"):t.changeOutput("String")});this.appendDummyInput().appendField(i,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String");var t=this;this.setTooltip(function(){return"TEXT"==t.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},newQuote_:Blockly.Blocks.text.newQuote_},Blockly.Blocks.text_prompt_ext={init:function(){var e=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],t=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.Blocks.texts.HUE);var i=new Blockly.FieldDropdown(e,function(e){"NUMBER"==e?t.changeOutput("Number"):t.changeOutput("String")});this.appendValueInput("TEXT").appendField(i,"TYPE"),this.setOutput(!0,"String");var t=this;this.setTooltip(function(){return"TEXT"==t.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})}}},function(e,t,i){i(300),i(301),i(302)},function(e,t){Blockly.Blocks.data_changevariableby={init:function(){this.jsonInit({message0:"change %1 by %2",args0:[{type:"field_variable",name:"VARIABLE"},{type:"input_value",name:"VALUE"}],category:Blockly.Categories.variables,extensions:["colours_variables","shape_statement"]})}}},function(e,t){Blockly.Blocks.data_variable={init:function(){this.jsonInit({message0:"%1",lastDummyAlign0:"CENTRE",args0:[{type:"field_variable_getter",text:"",name:"VARIABLE"}],category:Blockly.Categories.data,extensions:["contextMenu_getVariableBlock","colours_variables","output_string"]})}},Blockly.Constants=Blockly.Constants||{Data:{}},Blockly.Constants.Data.CUSTOM_CONTEXT_MENU_GET_VARIABLE_MIXIN={customContextMenu:function(e){if(!this.isCollapsed())if(this.isInFlyout){var t={text:Blockly.Msg.RENAME_VARIABLE,enabled:!0,callback:Blockly.Constants.Data.RENAME_OPTION_CALLBACK_FACTORY(this)},i=this.getField("VARIABLE").text_,n={text:Blockly.Msg.DELETE_VARIABLE.replace("%1",i),enabled:!0,callback:Blockly.Constants.Data.DELETE_OPTION_CALLBACK_FACTORY(this)};e.push(t),e.push(n)}else for(var o=this.workspace.getVariablesOfType(""),r=0;r<o.length;r++){var a={enabled:!0};a.text=o[r].name,a.callback=Blockly.Constants.Data.VARIABLE_OPTION_CALLBACK_FACTORY(this,a.text),e.push(a)}}},Blockly.Extensions.registerMixin("contextMenu_getVariableBlock",Blockly.Constants.Data.CUSTOM_CONTEXT_MENU_GET_VARIABLE_MIXIN),Blockly.Constants.Data.VARIABLE_OPTION_CALLBACK_FACTORY=function(e,t){return function(){var i=e.getField("VARIABLE");i||console.log("Tried to get a variable field on the wrong type of block."),i.setText(t)}},Blockly.Constants.Data.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,i=e.getField("VARIABLE").text_;Blockly.FieldVariable.renameVariablePrompt(t,i)}},Blockly.Constants.Data.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,i=e.getField("VARIABLE").text_;t.deleteVariable(i)}}},function(e,t){Blockly.Blocks.data_setvariableto={init:function(){this.jsonInit({message0:"set %1 to %2",args0:[{type:"field_variable",name:"VARIABLE"},{type:"input_value",name:"VALUE"}],category:Blockly.Categories.variables,extensions:["colours_variables","shape_statement"]})},toolbox:function(){return'<block type="data_setvariableto"><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'}},Blockly.DataCategory.addSetVariableTo=function(e,t){Blockly.DataCategory.addBlock(e,t,"data_setvariableto","VARIABLE",["VALUE","math_number"])}},function(e,t,i){i(304)},function(e,t,i){i(313),i(314),i(315),i(321),i(328),i(330),i(305),i(331),i(332),i(345),i(354),i(355)},function(e,t,i){i(306),i(307),i(308),i(309),i(310),i(311),i(312)},function(e,t){Blockly.Arduino.input_read_analog=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var t="analogRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.input_read_digital=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.input_read_servo=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.definitions_.define_servo="#include <Servo.h>\n",Blockly.Arduino.definitions_["var_servo"+e]="Servo servo_"+e+";\n",Blockly.Arduino.setups_["setup_servo_"+e]="servo_"+e+".attach("+e+");\n";var t="servo_"+e+".read()";return[t,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.input_read_temperature=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("UNITS");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var i="C"==t?"0.488155":"0.878679",n="-40 + "+i+" * (analogRead("+e+") - 20)";return[n,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.addReservedWords("readUltrasonicDistance"),Blockly.Arduino.input_read_ultrasonic_distance=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("UNITS");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);",Blockly.Arduino.definitions_.readUltrasonicDistance="long readUltrasonicDistance(int pin)\n{\n  pinMode(pin, OUTPUT);  // Clear the trigger\n  digitalWrite(pin, LOW);\n  delayMicroseconds(2);\n  // Sets the pin on HIGH state for 10 micro seconds\n  digitalWrite(pin, HIGH);\n  delayMicroseconds(10);\n  digitalWrite(pin, LOW);\n  pinMode(pin, INPUT);\n  // Reads the pin, and returns the sound wave travel time in microseconds\n  return pulseIn(pin, HIGH);\n}\n";var i="CM"==t?"0.01723":"0.006783",n=i+" * readUltrasonicDistance("+e+")";return[n,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.input_serial_available=function(){var e,t=Blockly.Arduino.getProfile(this.workspace);return t.serial?(Blockly.Arduino.setups_["setup_serial_"+t.serial]="Serial.begin("+t.serial+");\n",e="Serial.available()"):e="0/* serial not available for this device*/",[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.input_serial_read=function(){Blockly.Arduino.setups_["setup_serial_"+Blockly.Arduino.profile["default"].serial]="Serial.begin("+Blockly.Arduino.profile["default"].serial+");\n";var e="Serial.read()";return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino=new Blockly.Generator("Arduino"),Blockly.Arduino.addReservedWords("setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bookean,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts"),Blockly.Arduino.ORDER_ATOMIC=0,Blockly.Arduino.ORDER_UNARY_POSTFIX=1,Blockly.Arduino.ORDER_UNARY_PREFIX=2,Blockly.Arduino.ORDER_MULTIPLICATIVE=3,Blockly.Arduino.ORDER_ADDITIVE=4,Blockly.Arduino.ORDER_SHIFT=5,Blockly.Arduino.ORDER_RELATIONAL=6,Blockly.Arduino.ORDER_EQUALITY=7,Blockly.Arduino.ORDER_BITWISE_AND=8,Blockly.Arduino.ORDER_BITWISE_XOR=9,Blockly.Arduino.ORDER_BITWISE_OR=10,Blockly.Arduino.ORDER_LOGICAL_AND=11,Blockly.Arduino.ORDER_LOGICAL_OR=12,Blockly.Arduino.ORDER_CONDITIONAL=13,Blockly.Arduino.ORDER_ASSIGNMENT=14,Blockly.Arduino.ORDER_NONE=99,Blockly.Arduino.profile={"Arduino Uno R3":{description:"Arduino standard-compatible board",digital:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]],analogRead:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]],analogWrite:[["3","3"],["5","5"],["6","6"],["9","9"],["10","10"],["11","11"]],serial:9600,builtinLED:"13"},"arduino mini pro":{description:"Arduino mini pro board"},ATtiny:{description:"ATtiny microcontroller IC",digital:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]],analogRead:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"]],analogWrite:[["0","0"],["1","1"]],serial:null,builtinLED:"0"}},Blockly.Arduino.profile["default"]=Blockly.Arduino.profile["Arduino Uno R3"],Blockly.Arduino.getProfile=function(e){var t;return e&&(t=e.targetDevice,!t&&e.targetWorkspace&&(t=e.targetWorkspace.targetDevice)),Blockly.Arduino.profile[t]||Blockly.Arduino.profile["default"]},Blockly.Arduino.digitalPinStates=[["HIGH","HIGH"],["LOW","LOW"]],Blockly.Arduino.init=function(e){Blockly.Arduino.title_block_=Object.create(null),Blockly.Arduino.definitions_=Object.create(null),Blockly.Arduino.setups_=Object.create(null),Blockly.Arduino.variableDB_?Blockly.Arduino.variableDB_.reset():Blockly.Arduino.variableDB_=new Blockly.Names(Blockly.Arduino.RESERVED_WORDS_);for(var t=[],i=Blockly.Variables.allVariables(e),n=0;n<i.length;n++)t[n]="int "+Blockly.Arduino.variableDB_.getName(i[n].name,Blockly.Variables.NAME_TYPE)+" = 0;\n";Blockly.Arduino.definitions_.variables=t.join("\n")},Blockly.Arduino.finish=function(e){e="  "+e.replace(/\n/g,"\n  "),e=e.replace(/\n\s+$/,"\n"),e="void loop() \n{\n"+e,e.indexOf("delay")<0&&(e+="  delay(10); // Delay a little bit to improve simulation performance\n"),e+=e.endsWith("\n")?"}":"\n}";var t=Blockly.Arduino.title_block_.comments?"/*\n"+Blockly.Arduino.title_block_.comments.join("\n")+"*/\n\n":"",i=[],n=[];for(var o in Blockly.Arduino.definitions_){var r=Blockly.Arduino.definitions_[o];r&&(r.match(/^#include/)?i.push(r):n.push(r))}var a=[];for(var o in Blockly.Arduino.setups_)a.push(Blockly.Arduino.setups_[o]);var s=i.length?i.join("\n")+"\n":"",c=n.length?n.join("\n")+"\n":"",l="void setup()\n{\n  "+a.join("\n  ")+"\n}\n\n";return t+s+c+l+e},Blockly.Arduino.scrubNakedValue=function(e){return e+";\n"},Blockly.Arduino.quote_=function(e){return e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\$/g,"\\$").replace(/'/g,"\\'"),'"'+e+'"'},Blockly.Arduino.scrub_=function(e,t){if(null===t)return"";var i="";if(!e.outputConnection||!e.outputConnection.targetConnection){var n=e.getCommentText();n&&(i+=Blockly.Arduino.prefixLines(n,"// ")+"\n");for(var o=0;o<e.inputList.length;o++)if(e.inputList[o].type==Blockly.INPUT_VALUE){var r=e.inputList[o].connection.targetBlock();if(r){var n=Blockly.Arduino.allNestedComments(r);n&&(i+=Blockly.Arduino.prefixLines(n,"// "))}}}var a=e.nextConnection&&e.nextConnection.targetBlock(),s=Blockly.Arduino.blockToCode(a);return i+t+s}},function(e,t){Blockly.Arduino.base_delay=function(){var e=Blockly.Arduino.valueToCode(this,"DELAY_TIME",Blockly.Arduino.ORDER_ATOMIC)||"1";e=Math.round(1e3*(parseFloat(e)||1));var t="delay("+e+"); // Wait for "+e+" millisecond(s)\n";return t},Blockly.Arduino.base_map=function(){var e=Blockly.Arduino.valueToCode(this,"NUM",Blockly.Arduino.ORDER_NONE),t=Blockly.Arduino.valueToCode(this,"DMAX",Blockly.Arduino.ORDER_ATOMIC),i="map("+e+", 0, 1023, 0, "+t+")";return[i,Blockly.Arduino.ORDER_NONE]},Blockly.Arduino.inout_buildin_led=function(){var e=this.getFieldValue("STAT");Blockly.Arduino.setups_.setup_output_13="pinMode(13, OUTPUT);";var t="digitalWrite(13, "+e+");\n";return t},Blockly.Arduino.inout_digital_write=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.setups_["setup_output_"+e]="pinMode("+e+", OUTPUT);";var i="digitalWrite("+e+", "+t+");\n";return i},Blockly.Arduino.inout_digital_read=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.inout_analog_write=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"NUM",Blockly.Arduino.ORDER_ATOMIC),i="analogWrite("+e+", "+t+");\n";return i},Blockly.Arduino.inout_analog_read=function(){var e=this.getFieldValue("PIN"),t="analogRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.inout_tone=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"NUM",Blockly.Arduino.ORDER_ATOMIC);Blockly.Arduino.setups_["setup_output"+e]="pinMode("+e+", OUTPUT);";var i="tone("+e+", "+t+");\n";return i},Blockly.Arduino.inout_notone=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_output"+e]="pinMode("+e+", OUTPUT);";var t="noTone("+e+");\n";return t},Blockly.Arduino.inout_highlow=function(){var e="HIGH"==this.getFieldValue("BOOL")?"HIGH":"LOW";return[e,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.servo_move=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"DEGREE",Blockly.Arduino.ORDER_ATOMIC);Blockly.Arduino.definitions_.define_servo="#include <Servo.h>\n",Blockly.Arduino.definitions_["var_servo"+e]="Servo servo_"+e+";\n",Blockly.Arduino.setups_["setup_servo_"+e]="servo_"+e+".attach("+e+");\n";var i="servo_"+e+".write("+t+");\n";return i},Blockly.Arduino.servo_read_degrees=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.definitions_.define_servo="#include <Servo.h>\n",Blockly.Arduino.definitions_["var_servo"+e]="Servo servo_"+e+";\n",Blockly.Arduino.setups_["setup_servo_"+e]="servo_"+e+".attach("+e+");\n";var t="servo_"+e+".read()";return t},Blockly.Arduino.serial_print=function(){var e=Blockly.Arduino.valueToCode(this,"CONTENT",Blockly.Arduino.ORDER_ATOMIC)||"0";Blockly.Arduino.setups_["setup_serial_"+Blockly.Arduino.profile["default"].serial]="Serial.begin("+Blockly.Arduino.profile["default"].serial+");\n";var t="Serial.println("+e+");\n";return t}},function(e,t,i){i(316),i(317),i(318),i(319),i(320)},function(e,t){Blockly.Arduino.colour_picker=function(){return[this.getFieldValue("COLOUR"),Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.common_comment=function(){var e=function(e,t,i,n){if(i=i||"\n",t=t||48,n=n||!1,!e)return e;var o=".{1,"+t+"}(\\s|$)"+(n?"|.{"+t+"}|.+$":"|\\S+?(\\s|$)");return e.match(RegExp(o,"g")).join(i)},t=Blockly.Arduino.valueToCode(this,"COMMENT",Blockly.Arduino.ORDER_ATOMIC)||'""';t=t.slice(1,-1).split("\\n");var i="";for(var n in t)i+="// "+e(t[n],48,"\n// ")+"\n";return i}},function(e,t){Blockly.Arduino.common_rgb=function(){var e=parseInt(this.getFieldValue("RED"))||0,t=parseInt(this.getFieldValue("GREEN"))||0,i=parseInt(this.getFieldValue("BLUE"))||0,n="#"+("0"+e.toString(16)).substr(-2)+("0"+t.toString(16)).substr(-2)+("0"+i.toString(16)).substr(-2);return[n,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.common_text=function(){var e=this.getFieldValue("TEXT"),t='"'+e+'"';return[t,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.common_title_block_comment=function(){var e=function(e,t,i,n){if(i=i||"\n",t=t||48,n=n||!1,!e)return e;var o=".{1,"+t+"}(\\s|$)"+(n?"|.{"+t+"}|.+$":"|\\S+?(\\s|$)");return e.match(RegExp(o,"g")).join(i)},t=Blockly.Arduino.valueToCode(this,"COMMENT",Blockly.Arduino.ORDER_ATOMIC)||'""';t=t.slice(1,-1).split("\\n");var i="";for(var n in t)i+="  "+e(t[n],48,"\n  ")+"\n";return Blockly.Arduino.title_block_.comments||(Blockly.Arduino.title_block_.comments=[]),Blockly.Arduino.title_block_.comments.push(i),null}},function(e,t,i){i(323),i(324),i(325),i(322),i(326),i(327)},function(e,t){Blockly.Arduino.control_repeat=function(){var e=Blockly.Arduino.valueToCode(this,"TIMES",Blockly.Arduino.ORDER_ATOMIC)||"",t=Blockly.Arduino.statementToCode(this,"DO")||"",i=Blockly.Arduino.variableDB_.getDistinctName("counter",Blockly.Variables.NAME_TYPE);Blockly.Arduino.definitions_["var_"+i]="int "+i+";\n";var n="for ("+i+" = 0; "+i+" < "+e+"; ++"+i+") {\n"+t+"}\n";return n}},function(e,t){Blockly.Arduino.control_count_by=function(){var e=this.getFieldValue("DIRECTION")||"UP",t=Blockly.Arduino.valueToCode(this,"STEPSIZE",Blockly.Arduino.ORDER_ATOMIC)||"",i=this.getFieldValue("VAR"),n=Blockly.Arduino.valueToCode(this,"FROM",Blockly.Arduino.ORDER_ATOMIC)||"",o=Blockly.Arduino.valueToCode(this,"TO",Blockly.Arduino.ORDER_ATOMIC)||"",r=Blockly.Arduino.statementToCode(this,"DO")||"",a="for ("+i+" = "+n+"; "+i+("UP"==e?" <= ":" >= ")+o+"; "+i+("UP"==e?" += ":" -= ")+t+") {\n"+r+"}\n";return a}},function(e,t){Blockly.Arduino.control_if=function(){var e=Blockly.Arduino.valueToCode(this,"CONDITION",Blockly.Arduino.ORDER_NONE)||"",t=Blockly.Arduino.statementToCode(this,"DO")||"",i="if ("+e+") {\n"+t+"}\n";return i}},function(e,t){Blockly.Arduino.control_if_else=function(){var e=Blockly.Arduino.valueToCode(this,"CONDITION",Blockly.Arduino.ORDER_NONE)||"",t=Blockly.Arduino.statementToCode(this,"DO")||"",i=Blockly.Arduino.statementToCode(this,"ELSE")||"",n="if ("+e+") {\n"+t+"} else {\n"+i+"}\n";return n}},function(e,t){Blockly.Arduino.control_wait_seconds=function(e,t,i){var n,o=Blockly.Arduino.valueToCode(this,"DURATION",Blockly.Arduino.ORDER_ATOMIC)||"1",r=this.getFieldValue("UNITS");if("MS"==r)n=o;else{var a=parseFloat(o);n=isNaN(a)?"1000 * "+o:Math.round(1e3*a||1e3)}var s="delay("+n+"); // Wait for "+n+" millisecond(s)\n";return s}},function(e,t){Blockly.Arduino.control_while=function(){var e=this.getFieldValue("OP"),t=Blockly.Arduino.valueToCode(this,"CONDITION",Blockly.Arduino.ORDER_NONE)||"",i=Blockly.Arduino.statementToCode(this,"DO")||"",n="while (";return n+="WHILE"===e?t:"!("+t+")",n+=") {\n"+i+"}\n"}},function(e,t,i){i(329)},function(e,t){Blockly.Arduino.procedures_defnoreturn=function(){return"dummy code"},Blockly.Arduino.procedures_callnoreturn=function(){return"dummy code"},Blockly.Arduino.procedures_param=function(){return"dummy code"}},function(e,t){Blockly.Arduino.grove_led=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.setups_["setup_green_led_"+e]="pinMode("+e+", OUTPUT);";var i="digitalWrite("+e+","+t+");\n";return i},Blockly.Arduino.grove_button=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_button_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";
return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rotary_angle=function(){var e=this.getFieldValue("PIN"),t="analogRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_tilt_switch=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_tilt_switch_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_piezo_buzzer=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.setups_["setup_piezo_buzzer_"+e]="pinMode("+e+", OUTPUT);";var i="digitalWrite("+e+","+t+");\n";return i},Blockly.Arduino.grove_relay=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.setups_["setup_relay_"+e]="pinMode("+e+", OUTPUT);";var i="digitalWrite("+e+","+t+");\n";return i},Blockly.Arduino.grove_temporature_sensor=function(){var e=this.getFieldValue("PIN"),t="round((1/(log((float)(1023-analogRead("+e+"))*10000/analogRead("+e+"))/10000)/3975+1/298.15)-273.15)";return[t,Blockly.Arduino.ORDER_ATOMIC]};var i=function(e){var t=e;t=parseInt(t)?parseInt(e)+1:"A"+(parseInt(t.slice(1,t.length))+1);for(var i=Blockly.Arduino.profile["default"].digital.length,n=!0,o=0;i>o;o++)Blockly.Arduino.profile["default"].digital[o][1]==t&&(n=!1);return n?(alert("Grove Sensor needs PIN#+1 port, current setting is out of bound."),null):t};Blockly.Arduino.grove_serial_lcd_print=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"TEXT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"''",n=Blockly.Arduino.valueToCode(this,"TEXT2",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"''",o=Blockly.Arduino.valueToCode(this,"DELAY_TIME",Blockly.Arduino.ORDER_ATOMIC)||"1000";Blockly.Arduino.definitions_.define_seriallcd="#include <SerialLCD.h>\n",Blockly.Arduino.definitions_.define_softwareserial="#include <SoftwareSerial.h>\n";var r=i(e);Blockly.Arduino.definitions_["var_lcd_"+e]="SerialLCD slcd_"+e+"("+e+","+r+");\n",Blockly.Arduino.setups_["setup_lcd_"+e]="slcd_"+e+".begin();\n";var a="slcd_"+e+".backlight();\n";return a+="slcd_"+e+".setCursor(0,0);\n",a+="slcd_"+e+".print("+t+");\n",a+="slcd_"+e+".setCursor(0,1);\n",a+="slcd_"+e+".print("+n+");\n",a+="delay("+o+");\n"},Blockly.Arduino.grove_serial_lcd_power=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.definitions_.define_seriallcd="#include <SerialLCD.h>\n",Blockly.Arduino.definitions_.define_softwareserial="#include <SoftwareSerial.h>\n";var n=i(e);Blockly.Arduino.definitions_["var_lcd"+e]="SerialLCD slcd_"+e+"("+e+","+n+");\n";var o="slcd_"+e;return o+="ON"===t?".Power();\n":".noPower();\n"},Blockly.Arduino.grove_serial_lcd_effect=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("STAT");Blockly.Arduino.definitions_.define_seriallcd="#include <SerialLCD.h>\n",Blockly.Arduino.definitions_.define_softwareserial="#include <SoftwareSerial.h>\n";var n=i(e);Blockly.Arduino.definitions_["var_lcd"+e]="SerialLCD slcd_"+e+"("+e+","+n+");\n";var o="slcd_"+e;return o+="LEFT"===t?".scrollDisplayLeft();\n":"RIGHT"===t?".scrollDisplayRight();\n":".autoscroll();\n"},Blockly.Arduino.grove_sound_sensor=function(){var e=this.getFieldValue("PIN"),t="analogRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_pir_motion_sensor=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_line_finder=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", INPUT);";var t="digitalRead("+e+")";return[t,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_ultrasonic_ranger=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("UNIT");Blockly.Arduino.definitions_.define_ultrasonic="#include <Ultrasonic.h>\n",Blockly.Arduino.definitions_["var_ultrasonic"+e]="Ultrasonic ultrasonic_"+e+"("+e+");";var i;return i="cm"===t?"ultrasonic_"+e+".MeasureInCentimeters()":"ultrasonic_"+e+".MeasureInInches()",[i,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_motor_shield=function(){var e=this.getFieldValue("DIRECTION"),t=127;Blockly.Arduino.setups_.setup_motor="pinMode(8,OUTPUT);//I1\n  pinMode(11,OUTPUT);//I2\n  pinMode(9,OUTPUT);//speedPinA\n  pinMode(12,OUTPUT);//I3\n  pinMode(13,OUTPUT);//i4\n  pinMode(10,OUTPUT);//speedPinB\n";var i="";return"forward"===e?(Blockly.Arduino.definitions_.define_forward="void forward()\n{\n  analogWrite(9,"+t+");//input a simulation value to set the speed\n  analogWrite(10,"+t+");\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\n  digitalWrite(12,LOW);\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\n  digitalWrite(8,HIGH);\n}\n",i="forward();\n"):"right"===e?(Blockly.Arduino.definitions_.define_right="void right()\n{\n  analogWrite(9,"+t+");//input a simulation value to set the speed\n  analogWrite(10,"+t+");\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\n  digitalWrite(12,HIGH);\n  digitalWrite(11,LOW);//turn DC Motor A move anticlockwise\n  digitalWrite(8,HIGH);\n}\n\n",i="right();\n"):"left"===e?(Blockly.Arduino.definitions_.define_left="void left()\n{\n  analogWrite(9,"+t+");//input a simulation value to set the speed\n  analogWrite(10,"+t+");\n  digitalWrite(13,HIGH);//turn DC Motor B move clockwise\n  digitalWrite(12,LOW);\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\n  digitalWrite(8,LOW);\n}\n\n",i="left();\n"):"backward"===e?(Blockly.Arduino.definitions_.define_backward="void backward()\n{\n  analogWrite(9,"+t+");//input a simulation value to set the speed\n  analogWrite(10,"+t+");\n  digitalWrite(13,LOW);//turn DC Motor B move anticlockwise\n  digitalWrite(12,HIGH);\n  digitalWrite(11,HIGH);//turn DC Motor A move clockwise\n  digitalWrite(8,LOW);\n}\n\n",i="backward();\n"):"stop"===e&&(Blockly.Arduino.definitions_.define_stop="void stop()\n{\n  digitalWrite(9,LOW);// Unenble the pin, to stop the motor. this should be done to avid damaging the motor.\n  digitalWrite(10,LOW);\n  delay(1000);\n}\n\n",i="stop();\n"),i},Blockly.Arduino.grove_thumb_joystick=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("AXIS"),n="0";n="y"===t?i(e):e;var o="analogRead("+n+")";return[o,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.grove_rgb_led=function(){var e=this.getFieldValue("PIN"),t=i(e),n=function(e){return parseInt(a(e).substring(0,2),16)},o=function(e){return parseInt(a(e).substring(2,4),16)},r=function(e){return parseInt(a(e).substring(4,6),16)},a=function(e){return"#"==e.charAt(0)?e.substring(1,7):e};Blockly.Arduino.setups_["setup_input_"+e]="pinMode("+e+", OUTPUT);",Blockly.Arduino.setups_["setup_input_"+t]="pinMode("+t+", OUTPUT);",Blockly.Arduino.definitions_.define_uint8="#define uint8 unsigned char",Blockly.Arduino.definitions_.define_uint16="#define uint16 unsigned int",Blockly.Arduino.definitions_.define_uint32="#define uint32 unsigned long int",Blockly.Arduino.definitions_["define_clkproduce_"+e]="void ClkProduce_"+e+"(void)\n{\n  digitalWrite("+e+", LOW);\n  delayMicroseconds(20);\n  digitalWrite("+e+", HIGH);\n  delayMicroseconds(20);\n}\n",Blockly.Arduino.definitions_["define_send32zero_"+e]="void Send32Zero_"+e+"(void)\n{\n  uint8 i;\n  for (i=0; i<32; i++)\n  {\n    digitalWrite("+t+", LOW);\n    ClkProduce_"+e+"();\n  }\n}\n",Blockly.Arduino.definitions_.define_taskanticode="uint8 TakeAntiCode(uint8 dat)\n{\n  uint8 tmp = 0;\n  if ((dat & 0x80) == 0)\n  {\n    tmp |= 0x02;\n  }\n  \n  if ((dat & 0x40) == 0)\n  {\n    tmp |= 0x01;\n  }\n  return tmp;\n}\n",Blockly.Arduino.definitions_["define_datasend_"+e]="// gray data\nvoid DatSend_"+e+"(uint32 dx)\n{\n  uint8 i;\n  for (i=0; i<32; i++)\n  {\n    if ((dx & 0x80000000) != 0)\n    {\n      digitalWrite("+t+", HIGH);\n    }\n    else\n    {\n      digitalWrite("+t+", LOW);\n    }\n  dx <<= 1;\n  ClkProduce_"+e+"();\n  }\n}\n",Blockly.Arduino.definitions_["define_datadealwithsend_"+e]="// data processing\nvoid DataDealWithAndSend_"+e+"(uint8 r, uint8 g, uint8 b)\n{\n  uint32 dx = 0;\n  dx |= (uint32)0x03 << 30;             // highest two bits 1，flag bits\n  dx |= (uint32)TakeAntiCode(b) << 28;\n  dx |= (uint32)TakeAntiCode(g) << 26;\n  dx |= (uint32)TakeAntiCode(r) << 24;\n\n  dx |= (uint32)b << 16;\n  dx |= (uint32)g << 8;\n  dx |= r;\n\n  DatSend_"+e+"(dx);\n}\n";var s="Send32Zero_"+e+"(); // begin\n";if(0==this.itemCount_)return"";for(var c=0;c<this.itemCount_;c++){var l=this.getFieldValue("RGB"+c);s+="DataDealWithAndSend_"+e+"("+n(l)+", "+o(l)+", "+r(l)+"); // first node data\n"}return s+="Send32Zero_"+e+"();  // send to update data\n"},Blockly.Arduino.grove_bluetooth_slave=function(){var e=this.getFieldValue("PIN"),t=i(e),n=this.getFieldValue("NAME"),o=(this.getFieldValue("PINCODE"),Blockly.Arduino.statementToCode(this,"RCV")),r=Blockly.Arduino.statementToCode(this,"SNT");Blockly.Arduino.definitions_.define_softwareserial="#include <SoftwareSerial.h>\n",Blockly.Arduino.definitions_["var_bluetooth_"+e]="SoftwareSerial blueToothSerial_"+e+"("+e+","+t+");\n",Blockly.Arduino.setups_["setup_bluetooth_"+e]="Serial.begin(9600);\n",Blockly.Arduino.setups_["setup_bluetooth_"+e]+="  pinMode("+e+", INPUT);\n",Blockly.Arduino.setups_["setup_bluetooth_"+e]+="  pinMode("+t+", OUTPUT);\n",Blockly.Arduino.setups_["setup_bluetooth_"+e]+="  setupBlueToothConnection_"+e+"();\n",Blockly.Arduino.definitions_["define_setupBlueToothConnection_"+e]="void setupBlueToothConnection_"+e+"()\n{\n  blueToothSerial_"+e+".begin(38400); //Set BluetoothBee BaudRate to default baud rate 38400\n  blueToothSerial_"+e+'.print("\\r\\n+STWMOD=0\\r\\n"); //set the bluetooth work in slave mode\n  blueToothSerial_'+e+'.print("\\r\\n+STNA='+n+'\\r\\n"); //set the bluetooth name as "'+n+'"\n  blueToothSerial_'+e+'.print("\\r\\n+STPIN=0000\\r\\n");//Set SLAVE pincode"0000"\n  blueToothSerial_'+e+'.print("\\r\\n+STOAUT=1\\r\\n"); // Permit Paired device to connect me\n  blueToothSerial_'+e+'.print("\\r\\n+STAUTO=0\\r\\n"); // Auto-connection should be forbidden here\n  delay(2000); // This delay is required.\n  blueToothSerial_'+e+'.print("\\r\\n+INQ=1\\r\\n"); //make the slave bluetooth inquirable \n  Serial.println("The slave bluetooth is inquirable!");\n  delay(2000); // This delay is required.\n  blueToothSerial_'+e+".flush();\n}\n";var a="char recvChar_"+e+";\nwhile(1) {\n  if(blueToothSerial_"+e+".available()) {//check if there is any data sent from the remote bluetooth shield\n    recvChar_"+e+" = blueToothSerial_"+e+".read();\n    Serial.print(recvChar_"+e+");\n"+o+"  }\n  if(Serial.available()){//check if there is any data sent from the local serial terminal, you can add the other applications here\n    recvChar_"+e+" = Serial.read();\n    blueToothSerial_"+e+".print(recvChar_"+e+");\n"+r+"  }\n}\n";return a}},function(e,t){Blockly.Arduino.controls_if=function(){var e=0,t=Blockly.Arduino.valueToCode(this,"IF"+e,Blockly.Arduino.ORDER_NONE)||"false",i=Blockly.Arduino.statementToCode(this,"DO"+e),n="if ("+t+") {\n"+i+"\n}";for(e=1;e<=this.elseifCount_;e++)t=Blockly.Arduino.valueToCode(this,"IF"+e,Blockly.Arduino.ORDER_NONE)||"false",i=Blockly.Arduino.statementToCode(this,"DO"+e),n+=" else if ("+t+") {\n"+i+"}";return this.elseCount_&&(i=Blockly.Arduino.statementToCode(this,"ELSE"),n+=" else {\n"+i+"\n}"),n+"\n"},Blockly.Arduino.logic_compare=function(){var e=this.getFieldValue("OP"),t=Blockly.Arduino.logic_compare.OPERATORS[e],i="=="==t||"!="==t?Blockly.Arduino.ORDER_EQUALITY:Blockly.Arduino.ORDER_RELATIONAL,n=Blockly.Arduino.valueToCode(this,"A",i)||"0",o=Blockly.Arduino.valueToCode(this,"B",i)||"0",r=n+" "+t+" "+o;return[r,i]},Blockly.Arduino.logic_compare.OPERATORS={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="},Blockly.Arduino.logic_operation=function(){var e="AND"==this.getFieldValue("OP")?"&&":"||",t="&&"==e?Blockly.Arduino.ORDER_LOGICAL_AND:Blockly.Arduino.ORDER_LOGICAL_OR,i=Blockly.Arduino.valueToCode(this,"A",t)||"false",n=Blockly.Arduino.valueToCode(this,"B",t)||"false",o=i+" "+e+" "+n;return[o,t]},Blockly.Arduino.logic_negate=function(){var e=Blockly.Arduino.ORDER_UNARY_PREFIX,t=Blockly.Arduino.valueToCode(this,"BOOL",e)||"false",i="!"+t;return[i,e]},Blockly.Arduino.logic_boolean=function(){var e="TRUE"==this.getFieldValue("BOOL")?"true":"false";return[e,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.logic_null=function(){var e="NULL";return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t,i){i(334),i(335),i(336),i(337),i(338),i(339),i(333),i(340),i(341),i(342),i(343),i(344)},function(e,t){Blockly.Arduino.math_map=function(){var e,t=Blockly.Arduino.valueToCode(this,"IN",Blockly.Arduino.ORDER_ATOMIC)||"0",i=Blockly.Arduino.valueToCode(this,"OUT_MIN",Blockly.Arduino.ORDER_ATOMIC)||"0",n=Blockly.Arduino.valueToCode(this,"OUT_MAX",Blockly.Arduino.ORDER_ATOMIC)||"0";return e="map("+t+", 0, 1023, "+i+", "+n+")",[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_arithmetic=function(){var e,t=this.getFieldValue("OP"),i=Blockly.Arduino.math_arithmetic.OPERATORS[t],n=i[0],o=i[1],r=Blockly.Arduino.valueToCode(this,"A",o)||"0",a=Blockly.Arduino.valueToCode(this,"B",o)||"0";return n?(e=r+n+a,[e,o]):(e="pow("+r+", "+a+")",[e,Blockly.Arduino.ORDER_UNARY_POSTFIX])},Blockly.Arduino.math_arithmetic.OPERATORS={ADD:[" + ",Blockly.Arduino.ORDER_ADDITIVE],SUBTRACT:[" - ",Blockly.Arduino.ORDER_ADDITIVE],MULTIPLY:[" * ",Blockly.Arduino.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",Blockly.Arduino.ORDER_MULTIPLICATIVE],MODULO:[" % ",Blockly.Arduino.ORDER_MULTIPLICATIVE],POWER:[null,Blockly.Arduino.ORDER_NONE]}},function(e,t){Blockly.Arduino.math_compare=function(){var e,t=this.getFieldValue("OP"),i=Blockly.Arduino.math_compare.OPERATORS[t],n=i[0],o=i[1],r=Blockly.Arduino.valueToCode(this,"A",o)||"0",a=Blockly.Arduino.valueToCode(this,"B",o)||"0";return e=r+n+a,[e,o]},Blockly.Arduino.math_compare.OPERATORS={LT:[" < ",Blockly.Arduino.ORDER_RELATIONAL],LTE:[" <= ",Blockly.Arduino.ORDER_RELATIONAL],EQ:[" == ",Blockly.Arduino.ORDER_EQUALITY],NEQ:[" != ",Blockly.Arduino.ORDER_EQUALITY],GT:[" > ",Blockly.Arduino.ORDER_RELATIONAL],GTE:[" >= ",Blockly.Arduino.ORDER_RELATIONAL]}},function(e,t){Blockly.Arduino.math_constrain_range=function(){var e,t=Blockly.Arduino.valueToCode(this,"IN",Blockly.Arduino.ORDER_ATOMIC)||"0",i=Blockly.Arduino.valueToCode(this,"LOW",Blockly.Arduino.ORDER_ATOMIC)||"0",n=Blockly.Arduino.valueToCode(this,"HIGH",Blockly.Arduino.ORDER_ATOMIC)||"0";return e="constrain("+t+", "+i+", "+n+")",[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_conjunction=function(){var e,t=this.getFieldValue("OP"),i=Blockly.Arduino.math_conjunction.OPERATORS[t],n=i[0],o=i[1],r=Blockly.Arduino.valueToCode(this,"A",o)||"",a=Blockly.Arduino.valueToCode(this,"B",o)||"";return e=r+n+a,[e,o]},Blockly.Arduino.math_conjunction.OPERATORS={AND:[" && ",Blockly.Arduino.ORDER_LOGICAL_AND],OR:[" || ",Blockly.Arduino.ORDER_LOGICAL_OR]}},function(e,t){Blockly.Arduino.math_function=function(){var e=this.getFieldValue("OPERATOR"),t=Blockly.Arduino.math_function.OPERATORS[e],i=Blockly.Arduino.valueToCode(this,"NUM",Blockly.Arduino.ORDER_ATOMIC)||"0",n=t+"("+i+")";return[n,Blockly.Arduino.ORDER_ATOMIC]},Blockly.Arduino.math_function.OPERATORS={abs:"abs",sqrt:"sqrt",sin:"sin",cos:"cos",tan:"tan"}},function(e,t){Blockly.Arduino.math_high_low=function(){var e=this.getFieldValue("STATE");return code=e,[code,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_not=function(){var e,t=Blockly.Arduino.valueToCode(this,"OPERAND",Blockly.Arduino.ORDER_ATOMIC);return e="!"+t,[e,Blockly.Arduino.ORDER_NONE]}},function(e,t){Blockly.Arduino.math_number=function(){var e=window.parseFloat(this.getFieldValue("NUM"));return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_positive_number=function(){var e=window.parseFloat(this.getFieldValue("NUM"));return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_random=function(){var e,t=Blockly.Arduino.valueToCode(this,"LOW",Blockly.Arduino.ORDER_ATOMIC)||"0",i=Blockly.Arduino.valueToCode(this,"HIGH",Blockly.Arduino.ORDER_ATOMIC)||"0";return e="random("+t+", "+i+" + 1)",[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.math_whole_number=function(){var e=window.parseFloat(this.getFieldValue("NUM"));return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t,i){i(347),i(348),i(349),i(350),i(346),i(351),i(352),i(353)},function(e,t){Blockly.Arduino.output_set_built_in_led=function(){var e=Blockly.Arduino.getProfile(this.workspace),t=e.builtinLED,i=this.getFieldValue("VALUE");Blockly.Arduino.setups_["setup_output_"+t]="pinMode("+t+", OUTPUT);";var n="digitalWrite("+t+", "+i+");\n";return n}},function(e,t){Blockly.Arduino.output_rotate_servo=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"ANGLE",Blockly.Arduino.ORDER_ATOMIC);Blockly.Arduino.definitions_.define_servo="#include <Servo.h>\n",Blockly.Arduino.definitions_["var_servo"+e]="Servo servo_"+e+";\n",Blockly.Arduino.setups_["setup_servo_"+e]="servo_"+e+".attach("+e+");\n";var i="servo_"+e+".write("+t+");\n";return i}},function(e,t){Blockly.Arduino.output_play_tone=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"NOTE",Blockly.Arduino.ORDER_ATOMIC),i=Blockly.Arduino.valueToCode(this,"DURATION",Blockly.Arduino.ORDER_ATOMIC)||"1",n=parseFloat(i),o=isNaN(n)?"1000 * "+i:Math.round(1e3*n||1e3),r=parseInt(t);Blockly.Arduino.setups_["setup_output"+e]="pinMode("+e+", OUTPUT);";var a="tone("+e+", ",s="";if(isNaN(r))a+="440 * pow(2.0, (constrain(int("+t+"), 35, 127) - 57) / 12.0)";else{31>r?r=31:r>127&&(r=127);var c=Math.round(440*Math.pow(2,(t-57)/12)),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12],d=Math.floor(t/12);a+=c,s=" // play tone "+t+" ("+l+d+" = "+c+" Hz)"}return a+=", "+o+");"+s+"\n"}},function(e,t){Blockly.Arduino.output_print_serial=function(){var e=Blockly.Arduino.valueToCode(this,"STRING",Blockly.Arduino.ORDER_ATOMIC)||"0",t="YES"==this.getFieldValue("NEWLINE");Blockly.Arduino.setups_["setup_serial_"+Blockly.Arduino.profile["default"].serial]="Serial.begin("+Blockly.Arduino.profile["default"].serial+");\n";var i="Serial.print"+(t?"ln":"")+"("+e+");\n";return i}},function(e,t){Blockly.Arduino.output_set_analog_pin=function(){var e=this.getFieldValue("PIN"),t=Blockly.Arduino.valueToCode(this,"VALUE",Blockly.Arduino.ORDER_ATOMIC)||"0";Blockly.Arduino.setups_["setup_output_"+e]="pinMode("+e+", OUTPUT);";var i="analogWrite("+e+", "+t+");\n";return i}},function(e,t){Blockly.Arduino.output_set_digital_pin=function(){var e=this.getFieldValue("PIN"),t=this.getFieldValue("VALUE");Blockly.Arduino.setups_["setup_output_"+e]="pinMode("+e+", OUTPUT);";var i="digitalWrite("+e+", "+t+");\n";return i}},function(e,t){Blockly.Arduino.output_set_rgb=function(){var e=this.getFieldValue("PIN_RED"),t=this.getFieldValue("PIN_GREEN"),i=this.getFieldValue("PIN_BLUE"),n=Blockly.Arduino.valueToCode(this,"COLOR",Blockly.Arduino.ORDER_ATOMIC),o=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),a=parseInt(n.slice(5,7),16);Blockly.Arduino.setups_["setup_output_"+e]="pinMode("+e+", OUTPUT);",Blockly.Arduino.setups_["setup_output_"+t]="pinMode("+t+", OUTPUT);",Blockly.Arduino.setups_["setup_output_"+i]="pinMode("+i+", OUTPUT);";var s="analogWrite("+e+", "+o+");\nanalogWrite("+t+", "+r+");\nanalogWrite("+i+", "+a+");\n";return s}},function(e,t){Blockly.Arduino.output_stop_tone=function(){var e=this.getFieldValue("PIN");Blockly.Arduino.setups_["setup_output"+e]="pinMode("+e+", OUTPUT);";var t="noTone("+e+");\n";return t}},function(e,t){Blockly.Arduino.text=function(){var e=Blockly.Arduino.quote_(this.getFieldValue("TEXT"));return[e,Blockly.Arduino.ORDER_ATOMIC]}},function(e,t,i){i(356),i(357),i(358)},function(e,t){Blockly.Arduino.data_changevariableby=function(){var e=this.getFieldValue("VARIABLE"),t=Blockly.Arduino.valueToCode(this,"VALUE",Blockly.Arduino.ORDER_ATOMIC)||"0",i=""+e+" += "+t+";\n";return i}},function(e,t){Blockly.Arduino.data_variable=function(){return[this.getFieldValue("VARIABLE"),Blockly.Arduino.ORDER_ATOMIC]}},function(e,t){Blockly.Arduino.data_setvariableto=function(){var e=this.getFieldValue("VARIABLE"),t=Blockly.Arduino.valueToCode(this,"VALUE",Blockly.Arduino.ORDER_ATOMIC)||"0",i=""+e+" = "+t+";\n";return i}},function(e,t,i){i(360),i(370)},function(e,t,i){i(361),i(362),i(363),i(364),i(365),i(366),i(367),i(368),i(369)},function(e,t,i){var n=i(175),o=i(176).Versioned;Circuits.SvgRoot=function(){this.initVersionRoot(),this.heavy_order=[],this.initialize()},extend(Circuits.SvgRoot,o),extend(Circuits.SvgRoot,n),Circuits.SvgRoot.prototype.initialize=function(e){},Circuits.SvgRoot.prototype.attacheData=function(e){this.data=e,this.data.parent(this)},Circuits.SvgRoot.prototype.toJSON=function(){return null}},function(e,t,i){var n=i(190),o=i(174),r=i(176).Versioned,a=i(178);Circuits.SvgData=function(e){this.makeViewable(),this.makeVersioned(e),this.elements=this.list("elements",!0,!0),this.origin=null,this.makeUndoable(!0)},extend(Circuits.SvgData,a),extend(Circuits.SvgData,r),extend(Circuits.SvgData,o),jsonExtend(44,"SVG",Circuits.SvgData),Circuits.SvgData.prototype.initialize=function(){var e=this;this.boundingBox=this.shadow("boundingBox",!1,function(){var t;return e.elements.forEach(function(e,i){var n=i.boundingBox&&i.boundingBox();n&&(t=n.merge(t))}),t},null,[[this.elements,this.elements.onBubble]])},Circuits.SvgData.prototype.getOrigin=function(){return this.origin},Circuits.SvgData.prototype.setOrigin=function(e){this.origin=e,this.elements.forEach(function(e,t){t.initialize&&t.initialize()})},Circuits.SvgData.prototype.toSVG=function(){var e="<g>";return this.elements.forEach(function(t,i){e+=i.toSVG()}),e+="</g>"},Circuits.SvgData.prototype.fromSVG=function(e){var t=this,i=$(e);i.find("g").each(function(e,i){if($(i).attr("data")){var n=new Circuits.SymbolGeneratorData(t.root);n.fromSVG(i),t.elements.add(n),$(i).empty()}else if($(i).attr("text-data")){var o=new Circuits.TextData(t.root),r=$(i);r.text(r.attr("text-data")),o.fromSVG(r),t.elements.add(o)}}),i.find("path").each(function(e,i){var n=new Circuits.PathData(t.root);n.fromSVG(i),t.elements.add(n)}),i.find("circle").each(function(e,i){var n=new Circuits.CircleData(t.root);n.fromSVG(i),t.elements.add(n)}),i.find("line").each(function(e,i){var o=new Circuits.PathData(t.root,new n.Coord(parseFloat($(i).attr("x1")),parseFloat($(i).attr("y1"))),$(i).css("stroke-width"));o.addObject(new Circuits.PathObjectData(t.root,new n.Coord(parseFloat($(i).attr("x2")),parseFloat($(i).attr("y2"))),Circuits.PathType.LINE)),o.stopPanning&&o.stopPanning(),SvgHelpers.getSvgStyleProperties(o,$(i)),t.elements.add(o)}),i.find("text").each(function(e,i){var n=new Circuits.TextData(t.root);n.fromSVG(i),t.elements.add(n)}),i.find("rect").each(function(e,i){var n=new Circuits.RectData(t.root);n.fromSVG(i),t.elements.add(n)});var o=i.attr("transform");if(o)for(var r=o.match(/[A-Za-z]+|([\-]?[0-9.]+)/g),a=0;a<r.length;a++)if("translate"==r[a]){var s=new n.Coord(parseFloat(r[a+1]),$.isNumeric(r[a+2])?parseFloat(r[a+2]):0);this.elements.forEach(function(e,t){t.move(s)}),a+=2}}},function(e,t,i){var n=i(190),o=i(174),r=i(176).Versioned,a=i(178);Circuits.CircleData=function(e,t,i,o,r,a){var s=this;this.makeViewable(),this.makeVersioned(e,!0),this.center=this.value("center",new n.Coord(0,0),!1,!0),this.handle=this.value("handle",new n.Coord(0,0),!1,!0),this.fill=this.value("fill","",!1,!0),this.strokeWidth=this.value("strokeWidth",250,!1,!0),this.color=this.value("color",null,!1,!0),this.radius=this.shadow("radius",!1,function(){return s.center().sub(s.handle()).length()},function(e){var t=s.handle().sub(s.center()).angle(),i=new n.Coord(e*Math.cos(t),e*Math.sin(t));s.handle(s.center().add(i))},[[this.handle,this.handle.onChange],[this.center,this.center.onChange]]),this.makeUndoable(!0),1!==arguments.length&&(void 0!=t&&this.center(t),void 0!=i&&this.handle(i),void 0!=o&&this.fill(o),void 0!=r&&this.strokeWidth(r),void 0!=a&&this.color(a))},extend(Circuits.CircleData,a),extend(Circuits.CircleData,r),extend(Circuits.CircleData,o),jsonExtend(40,"Circle",Circuits.CircleData),Circuits.CircleData.prototype.initialize=function(){var e=this;this.boundingBox=this.shadow("boundingBox",!1,function(){var t=e.center(),i=e.radius();return new n.BoundingBox(t.x-i,t.y-i,2*i,2*i)},null,[[this,this.onBubble]]),this.origin=this.parent().getOrigin(),this.origin&&(this.showRadius=this.shadow("showRadius",!1,function(){return e.radius()/e.origin.getGridFactor()},function(t){e.radius((t||0)*e.origin.getGridFactor())},[[this.radius,this.radius.onChange],[this.origin,this.origin.onBubble]]),this.showX=this.shadow("showX",!1,function(){return(e.center().x-e.origin.position().x)/e.origin.getGridFactor()},function(t){var i=e.center().copy();i.x=(t||0)*e.origin.getGridFactor()+e.origin.position().x,e.setcenter(i)},[[this.center,this.center.onChange],[this.origin,this.origin.onBubble]]),this.showY=this.shadow("showY",!1,function(){return(e.center().y-e.origin.position().y)/e.origin.getGridFactor()},function(t){var i=e.center().copy();i.y=(t||0)*e.origin.getGridFactor()+e.origin.position().y,e.setcenter(i)},[[this.center,this.center.onChange],[this.origin,this.origin.onBubble]]),this.showStrokeWidth=this.shadow("showStrokeWidth",!1,function(){return e.strokeWidth()/e.origin.getGridFactor()},function(t){e.strokeWidth(Math.abs(t||0)*e.origin.getGridFactor())},[[this.strokeWidth,this.strokeWidth.onChange],[this.origin,this.origin.onBubble]]))},Circuits.CircleData.prototype.move=function(e){this.center(this.center().add(e)),this.handle(this.handle().add(e))},Circuits.CircleData.prototype.moveNoSnap=function(e){var t=this;t.center(t.center().add(e)),t.handle(t.handle().add(e))},Circuits.CircleData.prototype.rotate=function(e,t){t&&this.move(this.center().rotate(e,t).sub(this.center()))},Circuits.CircleData.prototype.toSVG=function(){return'<circle cx="'+this.center().getX()+'" cy="'+this.center().getY()+'" r="'+this.radius()+'" stroke-width="'+this.strokeWidth()+'" '+(this.fill()?this.color()?'fill="'+this.color()+'" ':"":'fill="none" ')+(this.color()?'stroke="'+this.color()+'" ':"")+"/>"},Circuits.CircleData.prototype.fromSVG=function(e){var t=$(e);this.center(new n.Coord(parseFloat(t.attr("cx")),parseFloat(t.attr("cy")))),this.handle(this.center().add(new n.Coord(parseFloat(t.attr("r")),0))),SvgHelpers.getSvgStyleProperties(this,t)},Circuits.CircleData.prototype.setcenter=function(e){var t=this.center().sub(e);this.center(e),this.handle(this.handle().sub(t))},Circuits.CircleData.prototype.setStrokeWidth=function(e){e>0&&this.strokeWidth(e)},Circuits.CircleData.prototype.getStrokeWidth=function(){return this.strokeWidth()},Circuits.CircleData.prototype.setFill=function(e){this.fill(1==e)},Circuits.CircleData.prototype.getFill=function(){return this.fill()},Circuits.CircleData.prototype.getX=function(){return this.center().x},Circuits.CircleData.prototype.getY=function(){return this.center().y},Circuits.CircleData.prototype.remove=function(){var e=this,t=e.parent().elements.indexOf(e);e.parent().elements.remove(t)},Circuits.CircleData.prototype.getPos=function(){return this.center()},Circuits.CircleData.prototype.flipH=function(){},Circuits.CircleData.prototype.flipV=function(){},Circuits.CircleData.prototype.next=function(){return null},Circuits.CircleData.prototype.type=function(){return Circuits.PathType.POINT},Circuits.CircleData.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return e.addHor(this.center(),1),e.addVer(this.center(),1),e}},function(e,t,i){var n=i(190),o=i(174),r=i(176).Versioned,a=i(178);Circuits.LogoData=function(e,t,i,o,r){this.makeViewable(),this.makeVersioned(e),this.width=this.value("width",null,!1,!0),this.center=this.value("center",new n.Coord(0,0),!1,!0),this.angle=this.value("angle",0,!1,!0),this.flip=this.value("flip",1,!1,!0),this.style="",this.makeUndoable(!0),1!==arguments.length&&(this.width(t),this.center(i),this.angle(o),this.flip(r))},extend(Circuits.LogoData,a),extend(Circuits.LogoData,r),extend(Circuits.LogoData,o),jsonExtend(46,"Logo",Circuits.LogoData),Circuits.LogoData.prototype.initialize=function(){},Circuits.LogoData.prototype.isRect=function(){return!0},Circuits.LogoData.prototype.toSVG=function(){return Circuits.logoGen.getSVG_width(this.center(),this.width(),this.angle(),this.flip())},Circuits.LogoData.prototype.fromSVG=function(e){},Circuits.LogoData.prototype.x=function(e){if(1!=arguments.length)return this.center().x;var t=this.center().copy();t.x=e,this.center(t)},Circuits.LogoData.prototype.y=function(e){if(1!=arguments.length)return this.center().y;var t=this.center().copy();t.y=e,this.center(t)},Circuits.LogoData.prototype.rotate=function(e){this.angle((this.angle()+e)%360)},Circuits.LogoData.prototype.flipH=function(){},Circuits.LogoData.prototype.flipV=function(){},Circuits.LogoData.prototype.move=function(e){this.center(this.center().add(e))}},function(e,t,i){var n=i(190),o=i(174),r=i(176).Versioned,a=i(178);Circuits.PathData=function(e,t,i,n){this.makeViewable(),this.makeVersioned(e,!0),this.panningPoint=this.value("panningPoint",null,!1,!0),this.objects=this.list("objects",!0,!0),this.closed=this.value("closed",!1,!1,!0),this.fill=this.value("fill",!1,!1,!0),this.strokeWidth=this.value("strokeWidth",250,!1,!0),this.color=this.value("color",null,!1,!0),this.makeUndoable(!0),1!==arguments.length&&(this.addObject(new Circuits.PathObjectData(this.root,t,Circuits.PathType.POINT)),void 0!=i&&this.strokeWidth(i),void 0!=n&&this.color(n))},extend(Circuits.PathData,a),extend(Circuits.PathData,r),extend(Circuits.PathData,o),jsonExtend(41,"Path",Circuits.PathData),Circuits.PathData.prototype.initialize=function(){var e=this;this.boundingBox=this.shadow("boundingBox",!1,function(){var t=new n.Path($(e.toSVG()).get(0)),i=t.toPolygon(1,20);return i.getBB()},null,[[this,this.onBubble]])},Circuits.PathData.prototype.propertiesSVG=function(e){var t={"stroke-width":this.strokeWidth()};this.fill()?this.color()&&(t.fill=this.color()):t.fill="none",this.color()&&(t.stroke=this.color());var i;if(e)for(var i in e)t[i]=e[i];var n="";for(i in t)n+=" "+i+'="'+t[i]+'"';return n},Circuits.PathData.prototype.toSVG=function(e){var t=[],i='<path d="';return this.objects.forEach(function(e,n){i+=n.toSVG(),t.push(n.mode)}),this.closed()&&(i+="Z"),i+='"'+this.propertiesSVG(e)+"modes="+JSON.stringify(t)+" />"},Circuits.PathData.prototype.fromSVG=function(e){for(var t=$(e),i=Raphael._pathToAbsolute($("<div>").append($(e)).html()),o=0;o<i.length;o++)switch(i[o][0]){case"M":this.addObject(new Circuits.PathObjectData(this.root,new n.Coord(i[o][1],i[o][2]),Circuits.PathType.POINT));break;case"L":this.addObject(new Circuits.PathObjectData(this.root,new n.Coord(i[o][1],i[o][2]),Circuits.PathType.LINE));break;case"C":var r=new Circuits.PathObjectData(this.root,new n.Coord(i[o][5],i[o][6]),Circuits.PathType.CURVEC);r.tan_0(new n.Coord(i[o][1],i[o][2])),r.tan_1(new n.Coord(i[o][3],i[o][4])),this.addObject(r);break;case"Z":this.closed(!0)}if(SvgHelpers.getSvgStyleProperties(this,t),t.attr("modes")){var a=JSON.parse(t.attr("modes"));o=0,this.objects.forEach(function(e,t){t.mode=a[o],o++})}},Circuits.PathData.prototype.addObject=function(e,t){void 0===t?this.objects.push(e):this.objects.add(e,t)},Circuits.PathData.prototype.removePoint=function(e){if(1==this.objects.size()){var t=this.parent();switch(t.constructor){case Circuits.SvgData:this.parent().elements.remove(this.parent().elements.indexOf(this));break;case Circuits.PadData:this.parent().top(null),t.bottom(null)}}else{this.objects.get(e).type()==Circuits.PathType.POINT&&this.objects.get(e+1).type(Circuits.PathType.POINT);var i=this.objects.get(e),o=new n.Coord(i.tan_0().getX(),i.tan_0().getY()),r=i.endpoint().copy();this.objects.remove(e),i.tan_0_handle&&i.tan_0_handle.removeSvg(),i.tan_1_handle&&i.tan_1_handle.removeSvg(),i.endpointhandle.removeSvg();var a=this.objects.get(e-1),s=a.next();
if(s.type()==Circuits.PathType.POINT&&s.endpoint().eq(r)){s.next().type(Circuits.PathType.POINT);var c=new Circuits.PathObjectData(this.root,s.next().endpoint().copy(),Circuits.PathType.LINE);this.objects.add(c,e);var l=s;s=c,this.objects.remove(this.objects.indexOf(l)),c.mode=c.next().mode,c.tan_0(c.next().tan_0()),c.tan_1(c.next().tan_1()),c.next().tan_0_handle&&c.next().tan_0_handle.removeSvg(),c.next().tan_1_handle&&c.next().tan_1_handle.removeSvg(),c.tan_0_handle=new Circuits.TangentHandle(c.next().next().endpointhandle.gui,this,c,c.endpoint,c.next().next().tan_0,c.tan_1,c.next().next().endpointhandle.offset,c.next().next().endpointhandle.upperSvgGroup,c.next().next().endpointhandle.upperControlGroup),c.tan_1_handle=new Circuits.TangentHandle(c.endpointhandle.gui,this,c,c.endpoint,c.tan_1,c.next().next().tan_0,c.endpointhandle.offset,c.endpointhandle.upperSvgGroup,c.endpointhandle.upperControlGroup)}s.tan_0(o),a.tan_0_handle&&(a.tan_0_handle.removeSvg(),a.tan_0_handle=new Circuits.TangentHandle(a.endpointhandle.gui,this,a,a.endpoint,s.tan_0,a.tan_1,a.endpointhandle.offset,a.endpointhandle.upperSvgGroup,a.endpointhandle.upperControlGroup)),a.tan_1_handle&&(a.tan_1_handle.removeSvg(),a.tan_1_handle=new Circuits.TangentHandle(a.endpointhandle.gui,this,a,a.endpoint,a.tan_1,s.tan_0,a.endpointhandle.offset,a.endpointhandle.upperSvgGroup,a.endpointhandle.upperControlGroup)),s.mode==Circuits.PathPointMode.STRAIGHT&&a.mode==Circuits.PathPointMode.STRAIGHT?s.type(Circuits.PathType.LINE):s.type(Circuits.PathType.CURVEC)}},Circuits.PathData.prototype.remove=function(){var e=this;e.ownerMember.isSet()?e.ownerMember.remove(e):e.ownerMember.isMap()?e.ownerMember.removeValue(e):e.ownerMember.isList()?e.ownerMember.removeValue(e):e.ownerMember.isVal()&&e.ownerMember(null)},Circuits.PathData.prototype.getEndpoint=function(){return this.objects.last().endpoint()},Circuits.PathData.prototype.setFill=function(e){this.fill(1==e)},Circuits.PathData.prototype.getFill=function(){return this.fill()},Circuits.PathData.prototype.move=function(e){this.objects.forEach(function(t,i){i.endpoint(i.endpoint().add(e)),i.tan_0(i.tan_0().add(e)),i.tan_1(i.tan_1().add(e))})},Circuits.PathData.prototype.calcCenter=function(){var e=new n.Coord(0,0),t=this.objects.size();return t>2&&this.independentEndpoints?(this.objects.forEach(function(i,n){i>0&&t-1>i&&(e=e.add(n.endpoint()))}),t-=2):(this.objects.forEach(function(t,i){e=e.add(i.endpoint())}),this.closed()&&(e=e.sub(this.objects.get(-1).endpoint()),t--)),e=e.mult(1/t)},Circuits.PathData.prototype.getPos=function(){return this.calcCenter()},Circuits.PathData.prototype.rotate=function(e,t){var e=e||90;if(t){this.rotatePath(e);var i=this.calcCenter();this.move(i.rotate(e,t).sub(i))}else this.rotatePath(e)},Circuits.PathData.prototype.rotatePath=function(e){var t=this;rotatePoint=this.calcCenter(),this.objects.forEach(function(i,n){(!t.independentEndpoints||i>0&&i<t.objects.size()-1)&&(n.endpoint(n.endpoint().rotate(e,rotatePoint)),n.tan_0(n.tan_0().rotate(e,rotatePoint)),n.tan_1(n.tan_1().rotate(e,rotatePoint)))})},Circuits.PathData.prototype.flipV=function(){var e=this.calcCenter();this.objects.forEach(function(t,i){if(i.type()!=Circuits.PathType.POINT||!i.previous().endpoint().eq(i.endpoint())){var n=e.x-i.x();i.x(e.x+n)}})},Circuits.PathData.prototype.flipH=function(){var e=this.calcCenter();this.objects.forEach(function(t,i){if(i.type()!=Circuits.PathType.POINT||!i.previous().endpoint().eq(i.endpoint())){var n=e.y-i.y();i.y(e.y+n)}})},Circuits.PathData.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return this.objects.forEach(function(t,i){e.add(i.endpoint(),1)}),e},Circuits.PathData.prototype.moveNoSnap=function(e){var t=this;t.move(e)},Circuits.PathData.prototype.move=function(e){var t=this;this.objects.forEach(function(i,n){(!t.independentEndpoints||i>0&&i<t.objects.size()-1)&&(n.endpoint(n.endpoint().add(e)),n.tan_0(n.tan_0().add(e)),n.tan_1(n.tan_1().add(e)))})},Circuits.PathData.prototype.clickAction=function(){},Circuits.PathData.prototype.setEditingState=function(e){this.interactionModel.editingState(e)}},function(e,t,i){var n=i(191),o=i(174),r=i(176).Versioned,a=i(178);Circuits.PathType={POINT:0,LINE:1,CURVEC:2,CLOSE:3,BENDABLE:4},Circuits.PathPointMode={STRAIGHT:0,SMOOTH:1,ANGLE:2},Circuits.PathObjectData=function(e,t,i,o){this.makeViewable(),this.makeVersioned(e),this.endpoint=this.value("endpoint",new n.Coord(0,0),!1,!0),this.tan_0=this.value("tan_0",new n.Coord(0,0),!1,!0),this.tan_1=this.value("tan_1",new n.Coord(0,0),!1,!0),this.type=this.value("type",Circuits.PathType.POINT,!1,!0),this.makeUndoable(!0),1!==arguments.length&&(this.endpoint(t),this.type(i))},extend(Circuits.PathObjectData,a),extend(Circuits.PathObjectData,r),extend(Circuits.PathObjectData,o),jsonExtend(42,"PathObject",Circuits.PathObjectData),Circuits.PathObjectData.prototype.getEndpoint=function(){return this.endpoint()},Circuits.PathObjectData.prototype.toSVG=function(){var e;if(this.type()==Circuits.PathType.POINT)e="M"+this.endpoint().getX()+","+this.endpoint().getY();else if(this.type()==Circuits.PathType.LINE)e="L"+this.endpoint().getX()+","+this.endpoint().getY();else if(this.type()==Circuits.PathType.CURVEC)e="C"+this.tan_0().getX()+","+this.tan_0().getY()+" "+this.tan_1().getX()+","+this.tan_1().getY()+" "+this.endpoint().getX()+","+this.endpoint().getY();else if(this.type()==Circuits.PathType.BENDABLE){var t=this.parent()?this.parent().radius||10:10,i=this.getCurveInfo(t),n=i[0]<0?-i[0]:i[0];n>1?(e="L"+i[1].x+","+i[1].y,e+="A"+n+","+n+" "+180/Math.PI*i[3].sub(i[1]).angle()+" 0,"+(i[0]>0?"0":"1")+" "+i[3].x+","+i[3].y):e="L"+i[2].x+","+i[2].y}return e},Circuits.PathObjectData.prototype.getTrace=function(){var e='<path d="M ';e+=this.previous().endpoint().getX()+" ",e+=this.previous().endpoint().getY()+" ",e+=this.toSVG(),e+='" />';var t=new n.Path($(e).get(0));return t.toTrace(10)},Circuits.PathObjectData.prototype.getPoly=function(){var e=this.getTrace();return e.toPolygon(10)},Circuits.PathObjectData.prototype.index=function(){return this.parent()?this.parent().objects.indexOf(this):-1},Circuits.PathObjectData.prototype.next=function(){var e=this.index()+1;return this.parent().objects.get(e)},Circuits.PathObjectData.prototype.previous=function(e){var t=this.index()-1;return e&&0>t?null:this.parent().objects.get(t)},Circuits.PathObjectData.prototype.x=function(e){if(1!=arguments.length)return this.endpoint().x;var t=new n.Coord(e,this.y()).sub(this.endpoint());this.tan_1(this.tan_1().add(t));var i=this.next();i.type()==Circuits.PathType.POINT&&(this.parent().closed()&&i.endpoint(i.endpoint().add(t)),i=i.next()),i.tan_0(i.tan_0().add(t));var o=this.endpoint().copy();o.x=e,this.endpoint(o)},Circuits.PathObjectData.prototype.y=function(e){if(1!=arguments.length)return this.endpoint().y;var t=new n.Coord(this.x(),e).sub(this.endpoint());this.tan_1(this.tan_1().add(t));var i=this.next();i.type()==Circuits.PathType.POINT&&(this.parent().closed()&&i.endpoint(i.endpoint().add(t)),i=i.next()),i.tan_0(i.tan_0().add(t));var o=this.endpoint().copy();o.y=e,this.endpoint(o)},Circuits.PathObjectData.prototype.getCurveInfo=function(e){var t=this.endpoint(),i=this.previous(!0)?this.previous(!0).endpoint():t,o=this.next()?this.next().endpoint():t,r=t.distance(i),a=t.distance(o);if(e>.5*r&&(e=.5*r),e>.5*a&&(e=.5*a),1>e)return[0,t,t,t,t];var s=t.add(i.sub(t).norm().mult(e)),c=t.add(o.sub(t).norm().mult(e)),l=new n.Coord(t.y-i.y,i.x-t.x).mult(1/r),d=new n.Coord(t.y-o.y,o.x-t.x).mult(1/a),u=d.x*l.y-l.x*d.y;if(1e-9>u&&u>-1e-9)return[0,t,t,t,t];var h=(d.y*(s.x-c.x)+d.x*(c.y-s.y))/u,p=0>h?-h:h,g=s.add(l.mult(h)),m=g.add(t.sub(g).norm().mult(p));return[h,s,m,c,g]}},function(e,t,i){var n=i(190),o=i(174),r=i(176).Versioned,a=i(178);Circuits.RectData=function(e,t,i,o,r,a,s){this.makeViewable(),this.makeVersioned(e,!0),this.width=this.value("width",null,!1,!0),this.height=this.value("height",null,!1,!0),this.center=this.value("center",new n.Coord(0,0),!1,!0),this.rx=this.value("rx",0,!1,!0),this.ry=this.value("ry",0,!1,!0),this.strokeWidth=this.value("strokeWidth",250,!1,!0),this.fill=this.value("fill",!1,!1,!0),this.angle=this.value("angle",0,!1,!0),this.color=this.value("color",null,!1,!0),this.makeUndoable(!0),1!==arguments.length&&(void 0!=t&&this.center(t),void 0!=i&&this.width(i),void 0!=o&&this.height(o),void 0!=r&&this.fill(r),void 0!=a&&this.strokeWidth(a),void 0!=s&&this.color(s))},extend(Circuits.RectData,a),extend(Circuits.RectData,r),extend(Circuits.RectData,o),jsonExtend(43,"Rectangle",Circuits.RectData),Circuits.RectData.prototype.initialize=function(){var e=this;this.boundingBox=this.shadow("boundingBox",!1,function(){var t=e.center(),i=e.width(),o=e.height(),r=new n.BoundingBox(t.x-i/2,t.y-o/2,i,o);return r.rotate(e.angle(),t)},null,[[this,this.onBubble]]),this.origin=this.parent().getOrigin(),this.origin&&(this.showX=this.shadow("showX",!1,function(){return(e.center().x-e.origin.position().x)/e.origin.getGridFactor()},function(t){var i=e.center().copy();i.x=(t||0)*e.origin.getGridFactor()+e.origin.position().x,e.center(i)},[[this.center,this.center.onChange],[this.origin,this.origin.onBubble]]),this.showY=this.shadow("showY",!1,function(){return(e.center().y-e.origin.position().y)/e.origin.getGridFactor()},function(t){var i=e.center().copy();i.y=(t||0)*e.origin.getGridFactor()+e.origin.position().y,e.center(i)},[[this.center,this.center.onChange],[this.origin,this.origin.onBubble]]),this.showWidth=this.shadow("showWidth",!1,function(){return e.width()/e.origin.getGridFactor()},function(t){e.width((t||0)*e.origin.getGridFactor())},[[this.width,this.width.onChange],[this.origin,this.origin.onBubble]]),this.showHeight=this.shadow("showHeight",!1,function(){return e.height()/e.origin.getGridFactor()},function(t){e.height((t||0)*e.origin.getGridFactor())},[[this.height,this.height.onChange],[this.origin,this.origin.onBubble]]),this.showRoundness=this.shadow("showRoundness",!1,function(){return e.rx()/e.origin.getGridFactor()},function(t){var t=Math.abs(t||0)*e.origin.getGridFactor();(t>=e.width()/2||t>=e.height()/2)&&(t=Math.min(e.width(),e.height())/2),e.rx(t),e.ry(t)},[[e.rx,e.rx.onChange],[e.ry,e.ry.onChange],[this.origin,this.origin.onBubble]]),this.showStrokeWidth=this.shadow("showStrokeWidth",!1,function(){return e.strokeWidth()/e.origin.getGridFactor()},function(t){e.strokeWidth(Math.abs(t||0)*e.origin.getGridFactor())},[[this.strokeWidth,this.strokeWidth.onChange],[this.origin,this.origin.onBubble]]))},Circuits.RectData.prototype.toSVG=function(){return'<rect x="'+(this.center().getX()-this.width()/2)+'" y="'+(this.center().getY()-this.height()/2)+'" width="'+this.width()+'" height="'+this.height()+'" rx="'+this.rx()+'" ry="'+this.ry()+'" transform="rotate('+this.angle()+" "+this.center().getX()+" "+this.center().getY()+')" stroke-width="'+this.strokeWidth()+'" '+(this.fill()?this.color()?'fill="'+this.color()+'" ':"":'fill="none" ')+(this.color()?'stroke="'+this.color()+'" ':"")+"/>"},Circuits.RectData.prototype.fromSVG=function(e){var t=$(e);0!=t.length&&(this.width(parseFloat(t.attr("width"))),this.height(parseFloat(t.attr("height"))),this.center(new n.Coord(parseFloat(t.attr("x")?t.attr("x"):0)+this.width()/2,parseFloat(t.attr("y")?t.attr("y"):0)+this.height()/2)),t.attr("rx")&&this.rx(parseFloat(t.attr("rx"))),t.attr("ry")&&this.ry(parseFloat(t.attr("ry"))),t.attr("transform")&&this.angle(parseFloat(t.attr("transform").match(/[\-]?[0-9.]+/g)[0])),SvgHelpers.getSvgStyleProperties(this,t))},Circuits.RectData.prototype.setStrokeWidth=function(e){this.strokeWidth(e)},Circuits.RectData.prototype.getStrokeWidth=function(){return this.strokeWidth()},Circuits.RectData.prototype.setFill=function(e){this.fill(e)},Circuits.RectData.prototype.getFill=function(){return this.fill()},Circuits.RectData.prototype.getPos=function(){return this.center()},Circuits.RectData.prototype.remove=function(){var e=this,t=e.parent().elements.indexOf(e);e.parent().elements.remove(t)},Circuits.RectData.prototype.rotate=function(e,t){t?(this.angle((this.angle()+e)%360),this.center(this.center().rotate(e,t))):this.angle((this.angle()+e)%360)},Circuits.RectData.prototype.flipH=function(){},Circuits.RectData.prototype.flipV=function(){},Circuits.RectData.prototype.move=function(e){this.center(this.center().add(e))},Circuits.RectData.prototype.moveNoSnap=function(e){this.center(this.center().add(e))},Circuits.RectData.prototype.next=function(){return null},Circuits.RectData.prototype.type=function(){return Circuits.PathType.POINT},Circuits.RectData.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return e.addHor(this.center(),1),e.addVer(this.center(),1),e}},function(e,t,i){var n=i(179),o=i(174),r=i(176).Versioned,a=i(178),s=i(190);Circuits.TextData=function(e,t,i,n,o,r,a,c){var l=this;this.makeViewable(),this.makeVersioned(e,!0),this.topleft=this.value("topleft",new s.Coord(0,0),!1,!0),this.flip=this.value("flip",1,!1,!0),this.text=this.value("text","label",!1,!0),this.angle=this.value("angle",0,!1,!0),this.strokeWidth=this.value("strokeWidth",0,!1,!0),this.fontSize=this.value("fontSize",11,!1,!0),this.font=this.value("font","verdana",!1,!0),this.fontUnit=this.value("fontUnit","pt",!1,!0),this.color=this.value("color",null,!1,!0),this.makeUndoable(!0),this.units=["mm","in","pt"],this.checkedFontSize=this.shadow("checkedFontSize",!1,function(){return parseFloat(l.fontSize())/l.getFontFactor()},function(e){isNaN(e)||l.fontSize(e*l.getFontFactor())},[[l.fontSize,l.fontSize.onChange],[l.fontUnit,l.fontUnit.onChange]]),1!==arguments.length&&(void 0!=t&&this.topleft(t),void 0!=i&&this.font(i),void 0!=n&&this.fontSize(parseFloat(n)),void 0!=o&&this.flip(o),void 0!=r&&this.strokeWidth(r),void 0!=a&&this.color(a),void 0!=c&&this.text(c))},extend(Circuits.TextData,a),extend(Circuits.TextData,r),extend(Circuits.TextData,o),jsonExtend(45,"Text",Circuits.TextData),Circuits.TextData.prototype.move=function(e){this.topleft(this.topleft().add(e))},Circuits.TextData.prototype.initialize=function(){var e=this;this.boundingBox=this.shadow("boundingBox",!1,function(){if("pcbfont"!==e.font())return null;var t=Circuits.tracer.getBBox(e.text(),9*parseInt(e.fontSize())/12);return t.flip(e.flip()).rotate(e.angle()).translate(e.getTopleft())},null,[[this,this.onBubble]])},Circuits.TextData.prototype.moveNoSnap=function(e){this.topleft(this.topleft().add(e))},Circuits.TextData.prototype.getTopleft=function(){return this.topleft()},Circuits.TextData.prototype.getX=function(){return this.topleft().x},Circuits.TextData.prototype.getY=function(){return this.topleft().y},Circuits.TextData.prototype.getPos=function(){return this.topleft()},Circuits.TextData.prototype.remove=function(){var e=this,t=e.parent().elements.indexOf(e);e.parent().elements.remove(t)},Circuits.TextData.prototype.toSVG=function(){if("pcbfont"!==this.font())return'<text x="'+this.topleft().getX()+'" y="'+this.topleft().getY()+'" transform="rotate('+this.angle()+" "+this.topleft().getX()+" "+this.topleft().getY()+')" stroke-width="'+this.strokeWidth()+'" font-size="'+parseInt(this.fontSize())+'px" font-family="'+this.font()+'" '+(this.color()?'stroke="'+this.color()+'" ':"")+">"+this.text()+"</text>";var e='<g x="'+this.topleft().getX()+'" y="'+this.topleft().getY()+'" rotate-angle="'+this.angle()+'" stroke-width="'+this.strokeWidth()+'" font-size="'+parseInt(this.fontSize())+'px" font-family="'+this.font()+'" flip="'+this.flip()+'" '+(this.color()?'stroke="'+this.color()+'" ':"")+'text-data="'+this.text()+'">',t=Circuits.tracer.text2traces(this.text(),9*parseInt(this.fontSize())/12,new s.Coord(0,0)),i=this.getTopleft(),o=this.flip(),r=this.angle(),a=new n.HashSet;return t.forEach(function(e){var t=e.flip(o).rotate(r).translate(i);t.width=e.width,a.add(t)}),e+=Circuits.tracer.traces2svg(a),e+="</g>"},Circuits.TextData.prototype.fromSVG=function(e){var t=$(e);0!=t.length&&(this.topleft(new s.Coord(parseFloat(t.attr("x")?t.attr("x"):0),parseFloat(t.attr("y")?t.attr("y"):0))),this.text(t.text()),t.attr("transform")&&this.angle(parseFloat(t.attr("transform").match(/[\-]?[0-9.]+/g)[0])),SvgHelpers.getSvgStyleProperties(this,t),t.attr("font-size")&&this.fontSize(parseFloat(t.attr("font-size"))),t.attr("font-family")&&this.font(t.attr("font-family")))},Circuits.TextData.prototype.rotate=function(e,t){t?(this.angle((this.angle()+e)%360),this.topleft(this.topleft().rotate(e,t))):this.angle((this.angle()+e)%360)},Circuits.TextData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.topleft(),1),t.addVer(e.topleft(),1),t},Circuits.TextData.prototype.getFontFactor=function(e){var t=1;switch(this.fontUnit()){case"mm":t=1e3;break;case"in":t=25400;break;case"pt":t=352.77778}return t}},function(e,t){Circuits.LooseBounds=function(e,t,i,n){this.x1=parseFloat(e)||1,this.y1=parseFloat(t)||1,this.x2=parseFloat(i)||-1,this.y2=parseFloat(n)||-1},Circuits.LooseBounds.svgBounds=function(e){var t=new Circuits.LooseBounds,i=e.prop("tagName").toLowerCase();if("mask"==i||"none"==e.attr("display"))return t;switch(e.children().each(function(){t.merge(Circuits.LooseBounds.svgBounds($(this)))}),i){case"path":var n,o=[],r=e.attr("d");if(!r)break;for(n in r=r.match(/([a-zA-Z](\s?\-?\d+\.?\d*[e?\-?\d*]?[,\s]?)*)/g)){var a=r[n].substring(1).match(/([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)/g);o.push([r[n][0],a])}var s=[0,0];s.origin=[0,0],s.control=[0,0],s.setOrigin=function(e){return e?(this.origin[0]=this[0]=parseFloat(e[0])||this[0],this.origin[1]=this[1]=parseFloat(e[1])||this[1]):(this.origin[0]=this[0],this.origin[1]=this[1]),this},s.moveTo=function(e){return this[0]=parseFloat(e[0])||this[0],this[1]=parseFloat(e[1])||this[1],this},s.moveBy=function(e){return this[0]+=parseFloat(e[0])||0,this[1]+=parseFloat(e[1])||0,this},s.setControl=function(e){return this.control=[parseFloat(e[0])||this[0],parseFloat(e[1])||this[1]],this.control},s.smoothControl=function(){return this.control[0]=2*this[0]-this.control[0],this.control[1]=2*this[1]-this.control[1],this.control},s.close=function(){return this[0]=this.origin[0],this[1]=this.origin[1],this},s.offset=function(e){return[this[0]+parseFloat(e[0])||0,this[1]+parseFloat(e[1])||0]};var c=new Circuits.LooseBounds;for(n in o){var l=o[n][1];switch(o[n][0]){case"M":if(null!==l)for(c.enclosePoint(s.setOrigin(l)),l=l.splice(2);l.length>1;l=l.splice(2))c.enclosePoint(l);break;case"m":if(null!==l)for(c.enclosePoint(s.moveBy(l)),s.setOrigin(),l=l.splice(2);l.length>1;l=l.splice(2))c.enclosePoint(s.moveBy(l));break;case"L":if(null!==l)for(;l.length>1;l=l.splice(2))c.enclosePoint(s.moveTo(l));break;case"l":if(null!==l)for(;l.length>1;l=l.splice(2))c.enclosePoint(s.moveBy(l));break;case"H":null!==l&&c.enclosePoint(s.moveTo([l[0],null]));break;case"h":null!==l&&c.enclosePoint(s.moveBy([l[0],null]));break;case"V":null!==l&&c.enclosePoint(s.moveTo([null,l[0]]));break;case"v":null!==l&&c.enclosePoint(s.moveBy([null,l[0]]));break;case"C":null!==l&&l.length>5&&(c.enclosePoint(l),c.enclosePoint(s.setControl(l.slice(2,4))),c.enclosePoint(s.moveTo(l.slice(4,6))));break;case"c":null!==l&&l.length>5&&(c.enclosePoint(s.offset(l)),c.enclosePoint(s.setControl(s.offset(l.slice(2,4)))),c.enclosePoint(s.moveBy(l.slice(4,6))));break;case"S":null!==l&&(c.enclosePoint(s.smoothControl()),c.enclosePoint(s.setControl(l)),c.enclosePoint(s.moveTo(l.slice(2,4))));break;case"s":null!==l&&(c.enclosePoint(s.smoothControl()),c.enclosePoint(s.setControl(s.offset(l))),c.enclosePoint(s.moveBy(l.slice(2,4))));break;case"Z":case"z":s.close();break;case"A":null!==l&&c.enclosePoint(s.moveTo(l.slice(5,7)));break;case"a":null!==l&&c.enclosePoint(s.moveBy(l.slice(5,7)))}(c.width()>0||c.height()>0)&&t.merge(c)}break;case"line":t.enclosePoint(parseFloat(e.attr("x1"))||0,parseFloat(e.attr("y1"))||0),t.enclosePoint(parseFloat(e.attr("x2"))||0,parseFloat(e.attr("y2"))||0);break;case"circle":var d=parseFloat(e.attr("cx"))||0,u=parseFloat(e.attr("cy"))||0,h=parseFloat(e.attr("r"))||0;t.enclosePoint(d-h,u-h),t.enclosePoint(d+h,u+h);break;case"rect":var p=parseFloat(e.attr("x"))||0,g=parseFloat(e.attr("y"))||0,m=p+parseFloat(e.attr("width"))||0,f=g+parseFloat(e.attr("height"))||0;t.enclosePoint(p,g),t.enclosePoint(m,f);break;case"polygon":for(var _=e.attr("points").match(/(\-?\d+\.?\d*\e?[\+\-]?\d*)/g),v=0;v<_.length;v+=2)t.enclosePoint(_.slice(v,v+2));break;case"text":case"tspan":var d=parseFloat(e.attr("x"))||0,u=parseFloat(e.attr("y"))||0,y=parseFloat(e.attr("font-size"))||16,C=(e.text()||"").length;t.enclosePoint(d,u),t.enclosePoint(d+C*y/2,u-y);break;case"svg":var d=parseFloat(e.attr("x"))||0,u=parseFloat(e.attr("y"))||0,b=e[0].getAttribute("viewBox");b&&(params=b.split(/[ ,]+/),params.length>1&&(d-=parseFloat(params[0]),u-=parseFloat(params[1]))),(d||u)&&(console.log("SVG translate ("+d+","+u+") "+e.attr("viewBox")),console.log(e.attr("viewBox")),t.translate(d,u));break;case"g":case"defs":case"lineargradient":case"radialgradient":case"stop":break;default:return t}var w=e.attr("transform");return w&&t.transform(w),t},Circuits.LooseBounds.prototype.enclosePoint=function(e,t){null!==e&&("undefined"!=typeof e[0]&&(t=e[1],e=e[0]),e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)||(this.x1>this.x2?(this.x1=e,this.y1=t,this.x2=e,this.y2=t):(e<this.x1?this.x1=e:e>this.x2&&(this.x2=e),t<this.y1?this.y1=t:t>this.y2&&(this.y2=t))))},Circuits.LooseBounds.prototype.merge=function(e){e.x1<=e.x2&&(this.enclosePoint(e.x1,e.y1),this.enclosePoint(e.x2,e.y2))},Circuits.LooseBounds.prototype.matrix=function(e,t,i,n,o,r){e=parseFloat(e)||1,t=parseFloat(t)||0,i=parseFloat(i)||0,n=parseFloat(n)||1,o=parseFloat(o)||0,r=parseFloat(r)||0;var a=e*this.x1+i*this.y1+o,s=t*this.x1+n*this.y1+r,c=e*this.x2+i*this.y2+o,l=t*this.x2+n*this.y2+r,d=e*this.x1+i*this.y2+o,u=t*this.x1+n*this.y2+r,h=e*this.x2+i*this.y1+o,p=t*this.x2+n*this.y1+r;c>a?(this.x1=a,this.x2=c):(this.x1=c,this.x2=a),l>s?(this.y1=s,this.y2=l):(this.y1=l,this.y2=s),this.enclosePoint(d,u),this.enclosePoint(h,p)},Circuits.LooseBounds.prototype.translate=function(e,t){e=parseFloat(e),t=parseFloat(t)||0,this.x1+=e,this.y1+=t,this.x2+=e,this.y2+=t},Circuits.LooseBounds.prototype.rotate=function(e,t,i){if(e=parseFloat(e)){t=parseFloat(t)||0,i=parseFloat(i)||0,(t||i)&&this.translate(-t,-i);var n=Math.cos(e*Math.PI/180),o=Math.sin(e*Math.PI/180);this.matrix(n,o,-o,n,t,i)}},Circuits.LooseBounds.prototype.scale=function(e,t){var i,n;if("string"==typeof e||"number"==typeof e?i=n=parseFloat(e)||1:(i=parseFloat(e[0])||1,n=parseFloat(e[1])||i),"undefined"==typeof t)this.x1*=i,this.x2*=i,this.y1*=n,this.y2*=n;else{var o=t[0],r=t[1];"undefined"==typeof o?o=r=parseFloat(t)||0:(o=parseFloat(o)||0,r=parseFloat(r)||o),this.x1=o+i*(this.x1-o),this.y1=r+n*(this.y1-r),this.x2=o+i*(this.x2-o),this.y2=r+n*(this.y2-r)}},Circuits.LooseBounds.prototype.skewX=function(e){e=parseFloat(e),this.matrix(1,0,Math.tan(e*Math.PI/180),1,0,0)},Circuits.LooseBounds.prototype.skewY=function(e){e=parseFloat(e),this.matrix(1,Math.tan(e*Math.PI/180),0,1,0,0)},Circuits.LooseBounds.prototype.transform=function(e){var t,i=[];for(t in e=e.match(/((\w+)?\([\d+-eE\.\,\s]*\))/g)){var n=e[t].match(/([\w\.+-]+)/g);i.push([n.shift(),n])}for(t=i.length-1;t>=0;--t){var o=i[t][0],r=i[t][1];switch(o){case"translate":this.translate(r[0],r[1]);break;case"rotate":this.rotate(r[0],r[1],r[2]);break;case"scale":this.scale(r[0]);break;case"matrix":this.matrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"skewX":this.skewX(r[0]);break;case"skewY":this.skewY(r[0])}}},Circuits.LooseBounds.prototype.grow=function(e){this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e},Circuits.LooseBounds.prototype.width=function(){return this.x1>this.x2?0:this.x2-this.x1},Circuits.LooseBounds.prototype.height=function(){return this.y1>this.y2?0:this.y2-this.y1},Circuits.LooseBounds.prototype.center=function(){return this.x2<this.x1?[0,0]:[.5*(this.x2+this.x1),.5*(this.y2+this.y1)]}},function(e,t,i){i(371),i(381),i(386)},function(e,t,i){i(372),i(373),i(374),i(375),i(376),i(377),i(378),i(379),i(380)},function(e,t,i){var n=i(173),o=i(170).inherit;Circuits.PathInteractionModel=function(e,t){var i=this;Circuits.AbstractInteractionModel.call(this,e,t),this.infocus=this.value("infocus",!1,!1,!0),this.handles=this.list("handles",!0,!0),this.segments=this.list("segments",!0,!0),this.editingState=this.value("editingState",!1,!1,!0),this.rebuild(),this.data.objects.onAdd("rebuild_interaction_model",function(){i.isLife()&&i.rebuild()},10),this.data.objects.onRemove("rebuild_interaction_model",function(e,t,n){i.isLife()&&(n.removeHandlersFor("interaction_model_coupling_reverse",!0),i.rebuild())},10),this.editingState.onChange("editingState",function(){i.isLife()&&i.rebuild()},10)},Circuits.PathInteractionModel.prototype=o(Circuits.AbstractInteractionModel.prototype),Circuits.PathInteractionModel.prototype.constructor=Circuits.PathInteractionModel,extendInteractionModel(Circuits.PathInteractionModel,Circuits.PathData),jsonExtend(75,"PathInteractionModel",Circuits.PathInteractionModel),Circuits.PathInteractionModel.prototype.moveNoSnap=function(e){var t=this;t.data.independentEndpoints?t.subElementClicked&&t.subElementClicked.object.type()==Circuits.PathType.BENDABLE?(t.subElementClicked.prev_handle.isPathEndpoint||t.subElementClicked.prev_handle.moveNoSnap(e),t.subElementClicked.next_handle.isPathEndpoint||t.subElementClicked.next_handle.moveNoSnap(e)):this.handles.forEach(function(i,n){i>0&&i<t.handles.size()-1&&n.moveNoSnap(e)}):this.handles.forEach(function(t,i){i.moveNoSnap(e)})},Circuits.PathInteractionModel.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return this.subElementClicked&&(this.subElementClicked.prev_handle.isPathEndpoint||e.addAll(this.subElementClicked.prev_handle.getSnapSet()),this.subElementClicked.next_handle.isPathEndpoint||e.addAll(this.subElementClicked.next_handle.getSnapSet())),e},Circuits.PathInteractionModel.prototype.getSelfSnapSet=function(e,t){var i=new Circuits.SnapSet;if(this.subElementClicked){var o=new n.HashSet;o.add(this.subElementClicked.next_handle),i.addAll(this.subElementClicked.prev_handle.getSelfSnapSet(o))}return i},Circuits.PathInteractionModel.prototype.doubleClickAction=function(e,t){if(!this.parent().simulatorState||!this.parent().simulatorState()){this.root.rec();var i=this.data,n=i.objects.indexOf(t.object.previous());if(t.object.type()==Circuits.PathType.CURVEC){var o=new Circuits.PathObjectData(this.root,e.copy(),Circuits.PathType.CURVEC);o.tan_0(t.object.tan_0()),o.tan_1(e.copy()),t.object.tan_0(e.copy()),t.object.tan_1(e.copy())}else t.object.type()==Circuits.PathType.LINE?o=new Circuits.PathObjectData(this.root,e.copy(),Circuits.PathType.LINE):t.object.type()==Circuits.PathType.BENDABLE&&(o=new Circuits.PathObjectData(this.root,e.copy(),Circuits.PathType.BENDABLE));this.subElementClicked=null,i.objects.add(o,n+1),this.root.stopRec()}},Circuits.PathInteractionModel.prototype.rebuild=function(){var e=this,t=new n.HashSet;t.add("rebuild_view"),this.handles.removeAllHandlersExcept_rec(t),this.segments.removeAllHandlersExcept_rec(t),this.data.removeHandlersFor("interaction_model_coupling_reverse",!0),this.handles.removeAll(),this.segments.removeAll();var i=!0;if(this.data.objects.forEach(function(t,n){var o=0;if(n.type()==Circuits.PathType.LINE||n.type()==Circuits.PathType.BENDABLE)o=Circuits.PathPointMode.STRAIGHT;else if(n.type()==Circuits.PathType.CURVEC)if(n.next()){var r=n.tan_1().sub(n.endpoint()),a=n.next().tan_0().sub(n.endpoint()),s=r.add(a).length()/r.sub(a).length();o=r.length()<.01&&a.length()<.01?Circuits.PathPointMode.STRAIGHT:n.next().type()==Circuits.PathType.LINE&&r.length()<.01?Circuits.PathPointMode.STRAIGHT:.01>s?Circuits.PathPointMode.SMOOTH:Circuits.PathPointMode.ANGLE}else r=n.tan_1().sub(n.endpoint()),o=r.length()<.01?Circuits.PathPointMode.STRAIGHT:Circuits.PathPointMode.ANGLE;else if(n.type()==Circuits.PathType.POINT&&(i=!1,n.next())){var c=n.next().tan_0();a=c.sub(n.endpoint()),o=a.length()<.01||n.next().type()==Circuits.PathType.LINE||n.next().type()==Circuits.PathType.BENDABLE?Circuits.PathPointMode.STRAIGHT:Circuits.PathPointMode.ANGLE}var l=new Circuits.HandleModel(e.root,e,n,o);if(n.parent()instanceof Circuits.BendableWireData&&l.fixedMode(!0),e.handles.push(l),n.type()!=Circuits.PathType.POINT){var d=new Circuits.PathSegmentModel(e.root,e,n);e.segments.push(d),d.next_handle=l,l.prev_segment=d}}),1==this.editingState()){var o=this.segments.last();o&&(o.drawControlLayer=!1)}return i?(this.handles.removeAllHandlersExcept_rec(t),this.segments.removeAllHandlersExcept_rec(t),this.data.removeHandlersFor("interaction_model_coupling_reverse",!0),this.handles.removeAll(),void this.segments.removeAll()):(this.handles.forEach(function(t,i){t>0?i.prev=e.handles.get(t-1):i.prev=null,t<e.handles.size()-1?i.next=e.handles.get(t+1):i.next=null}),void this.handles.forEach(function(e,t){t.next&&(t.next_segment=t.next.prev_segment,t.next_segment.prev_handle=t)}))},Circuits.PathInteractionModel.prototype.isSelectable=function(){return this.data.isSelectable?this.data.isSelectable():!0}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.PathSegmentModel=function(e,t,i){this.makeViewable(),this.makeVersioned(e),this.interactionModel=t,this.object=i,this.drawControlLayer=!0,this.next_handle=null,this.prev_handle=null},extend(Circuits.PathSegmentModel,o),extend(Circuits.PathSegmentModel,n),jsonExtend(79,"PathSegmentModel",Circuits.PathSegmentModel)},function(e,t,i){var n=i(170).inherit;Circuits.CircleInteractionModel=function(e,t){Circuits.AbstractInteractionModel.call(this,e,t),this.handle=this.value("handle",null,!0,!0),this.handle(new Circuits.CircleHandleModel(e,this,t)),this.infocus=this.value("infocus",!1,!1,!0)},Circuits.CircleInteractionModel.prototype=n(Circuits.AbstractInteractionModel.prototype),Circuits.CircleInteractionModel.prototype.constructor=Circuits.CircleInteractionModel,extendInteractionModel(Circuits.CircleInteractionModel,Circuits.CircleData),jsonExtend(74,"CircleInteractionModel",Circuits.CircleInteractionModel)},function(e,t,i){var n=i(170).inherit;Circuits.RectInteractionModel=function(e,t){Circuits.AbstractInteractionModel.call(this,e,t),this.handle=this.value("handle",null,!0,!0),this.handle(new Circuits.RectHandleModel(this.root,this,t)),this.infocus=this.value("infocus",!1,!1,!0)},Circuits.RectInteractionModel.prototype=n(Circuits.AbstractInteractionModel.prototype),Circuits.RectInteractionModel.prototype.constructor=Circuits.RectInteractionModel,extendInteractionModel(Circuits.RectInteractionModel,Circuits.RectData),jsonExtend(76,"RectInteractionModel",Circuits.RectInteractionModel)},function(e,t,i){var n=i(170).inherit;Circuits.TextInteractionModel=function(e,t){Circuits.AbstractInteractionModel.call(this,e,t),this.infocus=this.value("infocus",!1,!1,!0)},Circuits.TextInteractionModel.prototype=n(Circuits.AbstractInteractionModel.prototype),Circuits.TextInteractionModel.prototype.constructor=Circuits.TextInteractionModel,extendInteractionModel(Circuits.TextInteractionModel,Circuits.TextData),jsonExtend(77,"TextInteractionModel",Circuits.TextInteractionModel)},function(e,t,i){var n=i(191),o=i(176).Versioned,r=i(178);Circuits.HandleModel=function(e,t,i,n){var o=this;if(this.makeViewable(),this.makeVersioned(e),this.coord=this.value("coord",i.endpoint().copy(),!1,!0),this.mode=this.value("mode",n,!1,!0),this.fixedMode=this.value("fixed_mode",!1,!1,!0),this.tan_0=this.value("tan_0",null,!0,!0),this.tan_1=this.value("tan_1",null,!0,!0),this.interactionModel=t,this.object=i,this.next=null,this.prev=null,this.next_segment=null,this.prev_segment=null,this.isPathEndpoint=!1,i.type()!==Circuits.PathType.POINT)var r=new Circuits.TangentHandleModel(e,this,i.tan_1,!1);else r=null,this.isPathEndpoint=!0;if(i.next())var a=new Circuits.TangentHandleModel(e,this,i.next().tan_0,!0);else a=null,this.isPathEndpoint=!0;this.isPathEndpoint&&t.data instanceof Circuits.BendableWireData&&(this.rotate=null),this.tan_0(r),this.tan_1(a),r&&(r.other=a),a&&(a.other=r),
this.coord.onChange("interaction_model_coupling",function(){o.isLife()&&o.object.endpoint(o.coord().copy())},10),this.object.endpoint.onChange("interaction_model_coupling_reverse",function(e,t,i){o.isLife()&&(i.eq(o.coord())||(o.parent().data instanceof Circuits.BendableWireData?o.coord(i):o.interactionModel.rebuild()))},10),this.mode.onChange("interaction_model_coupling",function(e,t,i){if(o.isLife()){var n=o.prev,r=o.next;switch(i){case Circuits.PathPointMode.ANGLE:case Circuits.PathPointMode.SMOOTH:if(n&&(o.object.type(Circuits.PathType.CURVEC),n.mode()==Circuits.PathPointMode.STRAIGHT&&n.tan_1().coord(n.coord())),r&&(r.object.type(Circuits.PathType.CURVEC),r.mode()==Circuits.PathPointMode.STRAIGHT&&r.tan_0().coord(r.coord())),r&&n){var a=r.coord().sub(n.coord()).mult(.3);o.tan_0().coord(o.coord().sub(a)),o.tan_1().coord(o.coord().add(a))}else r?(a=r.coord().sub(o.coord()).mult(.3),o.tan_1().coord(o.coord().add(a))):n?(a=o.coord().sub(n.coord()).mult(.3),o.tan_0().coord(o.coord().sub(a))):console.log("Trouble");break;case Circuits.PathPointMode.STRAIGHT:r&&(r.mode()!=Circuits.PathPointMode.STRAIGHT?o.tan_1().coord(o.coord()):r.object.type(Circuits.PathType.LINE)),n&&(n.mode()!=Circuits.PathPointMode.STRAIGHT?o.tan_0().coord(o.coord()):o.object.type(Circuits.PathType.LINE))}}},10)},extend(Circuits.HandleModel,r),extend(Circuits.HandleModel,o),jsonExtend(83,"HandleModel",Circuits.HandleModel),Circuits.HandleModel.prototype.getPos=function(){return this.coord()},Circuits.HandleModel.prototype.rotate=function(e,t){this.coord(this.coord().rotate(e,t))},Circuits.HandleModel.prototype.remove=function(){var e=this.object.parent(),t=this.object.index();if(t>=0){var i=this.object.next();if(!(e.objects.size()<3||e.independentEndpoints&&this.isPathEndpoint))return this.object.type()==Circuits.PathType.POINT&&i&&(i.tan_0(new n.Coord(0,0)),i.tan_1(new n.Coord(0,0)),i.type(Circuits.PathType.POINT)),e.objects.remove(t),e.interactionModel?e.interactionModel:e;e.remove()}},Circuits.HandleModel.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return this.isPathEndpoint?e.add(this.coord(),10,0,null,this):e.add(this.coord(),10,0,null,this,null,this.object.parent().local_id),e},Circuits.HandleModel.prototype.getSelfSnapSet=function(e,t){var i=this,o=new Circuits.SnapSet;if(this.parent().data instanceof Circuits.BendableWireData){var r=e.values();this.interactionModel&&this.interactionModel.handles.forEach(function(e,t){t!==i&&r.indexOf(t)<0&&(o.add(new n.Line(n.Line.HOR,t.coord()),1,0,null,i,null,i.object.parent().local_id),o.add(new n.Line(n.Line.VER,t.coord()),1,0,null,i,null,i.object.parent().local_id))})}return o},Circuits.HandleModel.prototype.moveNoSnap=function(e){this.coord(this.coord().add(e)),this.tan_0()&&this.tan_0().coord(this.tan_0().coord().add(e)),this.tan_1()&&this.tan_1().coord(this.tan_1().coord().add(e))},Circuits.HandleModel.prototype.doubleClickAction=function(){if(!this.fixedMode()){switch(this.root.rec(),this.mode()){case Circuits.PathPointMode.STRAIGHT:this.isPathEndpoint?this.mode(Circuits.PathPointMode.ANGLE):this.mode(Circuits.PathPointMode.SMOOTH);break;case Circuits.PathPointMode.SMOOTH:this.mode(Circuits.PathPointMode.ANGLE);break;case Circuits.PathPointMode.ANGLE:this.mode(Circuits.PathPointMode.STRAIGHT)}this.root.stopRec()}}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.TangentHandleModel=function(e,t,i,n){var o=this;this.makeViewable(),this.makeVersioned(e),this.handle=t,this.coord=this.value("coord",null,!1,!0),this.other=null,this.primary=n,this.member=i,this.coord(this.member().copy()),this.interactionModel=this.handle.interactionModel,this.coord.onChange("interaction_model_coupling",function(){o.isLife()&&o.member(o.coord().copy())},10),o.member.onChange("interaction_model_coupling_reverse",function(e,t,i){o.isLife()&&(i.eq(o.coord())||o.interactionModel.rebuild())},10)},extend(Circuits.TangentHandleModel,o),extend(Circuits.TangentHandleModel,n),jsonExtend(82,"TangentHandleModel",Circuits.TangentHandleModel),Circuits.TangentHandleModel.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.coord(),1),t.addVer(e.coord(),1),t},Circuits.TangentHandleModel.prototype.moveNoSnap=function(e){this.coord(this.coord().add(e)),this.handle.mode()==Circuits.PathPointMode.SMOOTH&&this.other&&this.other.coord(this.other.coord().sub(e))}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.CircleHandleModel=function(e,t,i){var n=this;this.makeViewable(),this.makeVersioned(e),this.interactionModel=t,this.circleData=i,this.mode=this.value("mode",null,!1,!0),this.coord=this.value("coord",null,!1,!0),this.setCoord(),this.circleData.center.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.circleData.handle.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.coord.onChange("interaction_model_coupling",function(){null!=n.coord()&&n.circleData.handle(n.coord())})},extend(Circuits.CircleHandleModel,o),extend(Circuits.CircleHandleModel,n),jsonExtend(78,"CircleHandleModel",Circuits.CircleHandleModel),Circuits.CircleHandleModel.prototype.remove=function(){},Circuits.CircleHandleModel.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return e.addHor(this.coord(),1),e.addVer(this.coord(),1),e},Circuits.CircleHandleModel.prototype.moveNoSnap=function(e){this.coord(this.coord().add(e))},Circuits.CircleHandleModel.prototype.doubleClickAction=function(){},Circuits.CircleHandleModel.prototype.setCoord=function(){this.coord()&&this.circleData.handle().eq(this.coord())||this.coord(this.circleData.handle())}},function(e,t,i){var n=i(176).Versioned,o=i(178),r=i(190);Circuits.RectHandleModel=function(e,t,i){var n=this;this.makeViewable(),this.makeVersioned(e),this.interactionModel=t,this.rectData=i,this.mode=this.value("mode",null,!1,!0),this.coord=this.value("coord",null,!1,!0),this.setCoord(),this.rectData.width.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.rectData.height.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.rectData.center.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.rectData.angle.onChange("interaction_model_coupling_reverse",function(){n.setCoord()},10),this.coord.onChange("interaction_model_coupling",function(){if(null!=n.coord()){var e=n.coord().sub(n.rectData.center()).rotate(-n.rectData.angle());n.rectData.width(2*Math.abs(e.getX())),n.rectData.height(2*Math.abs(e.getY()))}})},extend(Circuits.RectHandleModel,o),extend(Circuits.RectHandleModel,n),jsonExtend(81,"RectHandleModel",Circuits.RectHandleModel),Circuits.RectHandleModel.prototype.remove=function(){},Circuits.RectHandleModel.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return e.addHor(this.coord(),1),e.addVer(this.coord(),1),e},Circuits.RectHandleModel.prototype.moveNoSnap=function(e){this.coord(this.coord().add(e))},Circuits.RectHandleModel.prototype.doubleClickAction=function(){},Circuits.RectHandleModel.prototype.setCoord=function(){var e=this.rectData.width(),t=this.rectData.height(),i=this.rectData.center(),n=this.rectData.angle(),o=i.add(new r.Coord(e/2,t/2)).rotate(n,i);this.coord()&&o.eq(this.coord())||this.coord(o)}},function(e,t,i){i(382),i(383),i(384),i(385)},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.PathStateMachine=function(e,t,i,o,r,a){var s=this;this.root=e,this.editorModel=t,this.PathClass=i,this.collection=o,s.properties=r,this.mode=a||Circuits.PathPointMode.STRAIGHT,this.timestamp_previous=0,this.mouseCoord_previous=new n.Coord(0,0),Circuits.StateMachine.call(this),s.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){s.editorModel.prepareSnap(),s.editorModel.snapPoint(s.editorModel.toRealCoord(e.data("mouseCoord")))}),this.element_mouse_down_transition_idle=s.addTransition("idle","just_added_point",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&s.getCollection()},function(e){if(!s.editorModel.snapTo){var t=s.editorModel.getInitialSnapSet();s.editorModel.snapTo=t.snapTo,s.editorModel.snapFrom=t.snapFrom}s.root.rec(),s.startNewPath(s.editorModel.toRealCoord(e.data("mouseCoord")))}),s.addTransition("just_added_point","pan_to_next",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=s.editorModel.snapPoint(s.editorModel.toRealCoord(e.data("mouseCoord")));s.moveToCoord(t)}),s.addTransition("pan_to_next","pan_to_next",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=s.editorModel.snapPoint(s.editorModel.toRealCoord(e.data("mouseCoord")));s.moveToCoord(t)}),this.element_mouse_down_transition_pan_to_next=s.addTransition("pan_to_next","just_added_point",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element("subelement")&&e.element("subelement").constructor!=Circuits.PathSegmentModel},function(e){var t=s.editorModel.snapPoint(s.editorModel.toRealCoord(e.data("mouseCoord")));s.addObject(t),s.timestamp_previous=(new Date).getTime()}),s.addTransition("pan_to_next","idle",function(e){return e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element("subelement")&&e.element("subelement").constructor==Circuits.PathSegmentModel},function(e){var t=s.editorModel.snapPoint(s.editorModel.toRealCoord(e.data("mouseCoord")));s.addObject(t),s.stopDrawing(),s.root.stopRec(),s.timestamp_previous=(new Date).getTime()}),this.element_mouse_down_transition_just_added_point=s.addTransition("just_added_point","idle",function(e){var t=(new Date).getTime();return(e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN)&&t-s.timestamp_previous<500},function(e){s.currentPath.objects.remove(s.currentPath.objects.size()-1),s.editorModel.snap_info(null),s.stopDrawing(),s.root.stopRec(),s.timestamp_previous=(new Date).getTime()}),s.addTransition("pan_to_next","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_KEY_PRESSED&&"escape"==e.data("keyCode")},function(e){s.editorModel.snap_info(null),s.stopDrawing(),s.root.cancelRec()}),s.addTransition("just_added_point","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_KEY_PRESSED&&"escape"==e.data("keyCode")},function(e){s.editorModel.snap_info(null),s.stopDrawing(),s.root.cancelRec()});var c=function(){s.editorModel.snap_info(null),s.currentPath.objects.size()>2?s.currentPath.objects.remove(s.currentPath.objects.size()-1):s.currentPath.remove(),s.editorModel.snap_info(null),s.stopDrawing(),s.root.stopRec()};s.addTransition("pan_to_next","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_KEY_PRESSED&&"space"==e.data("keyCode")},c),s.addTransition("pan_to_next","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(e){c(),s.handle(e)}),s.addTransition("just_added_point","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_KEY_PRESSED&&"space"==e.data("keyCode")},c);var l=["just_added_point","pan_to_next"];l.forEach(function(t){var i=new Circuits.ZoomingStateMachine(e,s.editorModel);s.append(t+"_zooming",i,t,null,t,null)})},Circuits.PathStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.PathStateMachine.prototype.constructor=Circuits.PathStateMachine,Circuits.PathStateMachine.prototype.getCollection=function(){return _.isFunction(this.collection)?this.collection():this.collection},Circuits.PathStateMachine.prototype.startNewPath=function(e){var t=this.editorModel.snapPoint(e),i=_.isFunction(this.properties)?this.properties():this.properties;this.currentPath=new this.PathClass(this.root,t,i&&i.strokeWidth);var n=this.getCollection();n.isSet()?n.add(this.currentPath):n.isList()?n.push(this.currentPath):console.warn("Cannot add item to a collection that is not a list or a set"),this.addObject(t),this.currentPath.setEditingState(!0)},Circuits.PathStateMachine.prototype.moveToCoord=function(e){if(this.mode==Circuits.PathPointMode.STRAIGHT)this.currentPath.objects.last().endpoint(e);else if(this.mode==Circuits.PathPointMode.SMOOTH){var t=this.currentPath.objects.get(-3);if(t){var i=this.currentPath.objects.get(-2),n=this.currentPath.objects.get(-1),o=t.endpoint(),r=i.endpoint(),a=n.endpoint();if(a.eq(r))n=this.currentPath.objects.get(-1),n.endpoint(e);else{var s=r.sub(a).norm(),c=r.sub(o).norm(),l=c.sub(s).norm(),d=l.dot(a.sub(o)),u=l.mult(.2*d);i.tan_1(r.sub(u)),n.tan_0(r.add(u)),n.tan_1(e),n.endpoint(e)}}else n=this.currentPath.objects.get(-1),n.tan_1(e),n.endpoint(e)}},Circuits.PathStateMachine.prototype.addObject=function(e){var t=this.mode==Circuits.PathPointMode.STRAIGHT?Circuits.PathType.LINE:Circuits.PathType.CURVEC,i=new Circuits.PathObjectData(this.root,e,t);i.tan_0(e),i.tan_1(e),this.currentPath.addObject(i)},Circuits.PathStateMachine.prototype.stopDrawing=function(){this.currentPath.setEditingState(!1)}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.CircleStateMachine=function(e,t,i,o){var r=this;this.root=e,this.editorModel=t,this.collection=i,this.properties=o,Circuits.StateMachine.call(this);var a=null;r.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){r.editorModel.prepareSnap(),r.editorModel.snapPoint(r.editorModel.toRealCoord(e.data("mouseCoord")))}),r.addTransition("idle","setRadius",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&r.getCollection()},function(e){r.root.rec(),r.startCoord=r.editorModel.toRealCoord(e.data("mouseCoord"));var t=_.isFunction(r.properties)?r.properties():r.properties;a=new Circuits.CircleData(r.root,r.startCoord,r.startCoord,t.fill,t.strokeWidth);var i=r.getCollection();i.isSet()?i.add(a):i.isList()?i.push(a):console.warn("Cannot add item to a collection that is not a list or a set");var o=a.interactionModel?a.interactionModel:a;r.editorModel.emptySelection(),r.editorModel.selection.add(o),r.editorModel.selectionHandles.add(o),r.editorModel.snap_vec=new n.Coord(0,0);var s=r.editorModel.getInitialSnapSet(a);r.editorModel.snapTo=s.snapTo,r.editorModel.snapFrom=s.snapFrom}),r.addTransition("setRadius","setRadius",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=r.editorModel.toRealCoord(e.data("mouseCoord")),i=r.startCoord.distance(t);a.radius(i),a.handle(t)}),r.addTransition("setRadius","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){a.radius()<=a.strokeWidth()&&a.radius(5*a.strokeWidth()),r.root.stopRec(),r.editorModel.onPanClick(),r.editorModel.emptySelection()}),r.addTransition("setRadius","idle",function(e){return e.isKeyPressed("escape")},function(){r.editorModel.snap_info(null),r.editorModel.emptySelection(),r.root.cancelRec()})},Circuits.CircleStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.CircleStateMachine.prototype.constructor=Circuits.CircleStateMachine,Circuits.CircleStateMachine.prototype.getCollection=function(){return _.isFunction(this.collection)?this.collection():this.collection}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.RectStateMachine=function(e,t,i,o){var r=this;r.root=e,r.editorModel=t,r.collection=i,r.properties=o,Circuits.StateMachine.call(r);var a=null;r.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){r.editorModel.prepareSnap(),r.editorModel.snapPoint(r.editorModel.toRealCoord(e.data("mouseCoord")))}),r.addTransition("idle","setSize",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&r.getCollection()},function(e){r.root.rec(),r.startCoord=r.editorModel.toRealCoord(e.data("mouseCoord"));var t=_.isFunction(r.properties)?r.properties():r.properties;a=new Circuits.RectData(r.root,r.startCoord,0,0,t.fill,t.strokeWidth);var i=r.getCollection();i.isSet()?i.add(a):i.isList()?i.push(a):console.warn("Cannot add item to a collection that is not a list or a set");var o=a.interactionModel?a.interactionModel:a;r.editorModel.emptySelection(),r.editorModel.selection.add(o),r.editorModel.selectionHandles.add(o),r.editorModel.snap_vec=new n.Coord(0,0);var s=r.editorModel.getInitialSnapSet(a);r.editorModel.snapTo=s.snapTo,r.editorModel.snapFrom=s.snapFrom}),r.addTransition("setSize","setSize",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=r.editorModel.toRealCoord(e.data("mouseCoord")),i=r.startCoord.sub(t);a.width(2*Math.abs(i.getX())),a.height(2*Math.abs(i.getY()))}),r.addTransition("setSize","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){var t=a.strokeWidth();(a.width()<=t||a.height()<=t)&&(a.width(5*t),a.height(5*t)),r.root.stopRec(),r.editorModel.onPanClick(),r.editorModel.emptySelection()}),r.addTransition("setSize","idle",function(e){return e.isKeyPressed("escape")},function(){r.editorModel.snap_info(null),r.editorModel.emptySelection(),r.root.cancelRec()})},Circuits.RectStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.RectStateMachine.prototype.constructor=Circuits.RectStateMachine,Circuits.RectStateMachine.prototype.getCollection=function(){return _.isFunction(this.collection)?this.collection():this.collection}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.TextStateMachine=function(e,t,i,o){var r=this;this.collection=i,this.properties=o,Circuits.MovingStateMachine.call(this,e,t),r.removeState("mouse_down");var a=new Circuits.ChangingPropertyStateMachine(e,t);this.append("changing_property",a,"idle",null,"idle",null),r.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){r.editorModel.prepareSnap(),r.editorModel.snapPoint(r.editorModel.toRealCoord(e.data("mouseCoord")))}),r.addTransition("idle","moving",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&r.getCollection()},function(e){r.root.rec(),r.startCoord=r.editorModel.toRealCoord(e.data("mouseCoord"));var t=_.isFunction(r.properties)?r.properties():r.properties,i=new Circuits.TextData(r.root,r.startCoord,t.font,t.fontSize,t.flip),o=r.getCollection();o.isSet()?o.add(i):o.isList()?o.push(i):console.warn("Cannot add item to a collection that is not a list or a set");var a=i.interactionModel?i.interactionModel:i;r.editorModel.emptySelection(),r.editorModel.selection.add(a),r.editorModel.selectionHandles.add(a),r.editorModel.snap_vec=new n.Coord(0,0);var s=r.editorModel.getInitialSnapSet(i);r.editorModel.snapTo=s.snapTo,r.editorModel.snapFrom=s.snapFrom})},Circuits.TextStateMachine.prototype=o(Circuits.MovingStateMachine.prototype),Circuits.TextStateMachine.prototype.constructor=Circuits.TextStateMachine,Circuits.TextStateMachine.prototype.getCollection=function(){return _.isFunction(this.collection)?this.collection():this.collection}},function(e,t,i){i(387),i(388),i(389),i(390),i(391),i(392),i(393),i(394),i(395),i(396),i(397)},function(e,t){Circuits.Circle=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i,[n]),this.svgGroup=this.gui.svg.group(this.getGroupInfo(n).svgGroup),this.draw(),this.data.onBubble("view",function(){r.data.isLife()&&r.draw()},10)},extend(Circuits.Circle,Circuits.DrawingElement),Circuits.Circle.prototype.draw=function(){$(this.svgGroup).empty(),this.gui.svg.add(this.svgGroup,this.data.toSVG())},Circuits.Circle.prototype.showInspector=function(){var e=this.data.origin.grid_unit().replace("u","μ"),t=[{label:"Center X",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showX,unit:e},{label:"Center Y",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showY,unit:e},{label:"Radius",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showRadius,unit:e},{label:"Stroke width",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showStrokeWidth,unit:e},{label:"Fill",type:Circuits.inspectorInputType.CHECKBOX,datamember:this.data.fill}],i={name:"Circle Tool"};this.gui.inspector.buildAndShow(t,i)}},function(e,t){Circuits.CircleInteraction=function(e,t,i,n,o,r,a){var s=this;this.gui=e,this.interactionModel=t,this.data=t.data,this.interactionModel.registerView(e,this),this.initGroups(i,[o,r,a]),this.controlGroup=this.gui.svg.group(this.getGroupInfo(o).svgGroup),this.interactionGroup=this.gui.svg.group(this.getGroupInfo(r).svgGroup),this.interactionControlGroup=this.gui.svg.group(this.getGroupInfo(a).svgGroup),this.handle=new Circuits.Handle(this.gui,this.interactionModel.handle(),this.interactionGroup,this.interactionControlGroup),this.draw(),this.interactionModel.infocus.onChange("interaction view",function(){s.interactionModel.isLife()&&s.draw()},10),this.data.onBubble("interaction view",function(){s.data.isLife()&&s.draw()},10),this.gui.editorModel.viewS.onChange(s,function(){s.data.isLife()&&s.draw()},10)},extend(Circuits.CircleInteraction,Circuits.DrawingElement),Circuits.CircleInteraction.prototype.draw=function(){var e=this;$(this.controlGroup).empty(),this.gui.svg.add(this.controlGroup,this.data.toSVG());var t=$(":nth-last-child(1)",this.controlGroup);t.attr("stroke-width",e.data.strokeWidth()+4/e.gui.editorModel.viewS()),t.mousedown(function(t){return e.onMouseDown(t)}),this.interactionModel.infocus()?this.handle.draw():this.handle.removeSvg()},Circuits.CircleInteraction.prototype.showInspector=function(){this.data.getView(this.gui).showInspector()},Circuits.CircleInteraction.prototype.hideInspector=function(){this.data.getView(this.gui).hideInspector()},Circuits.CircleInteraction.prototype.setSelected=function(e){this.data.getView(this.gui).setSelected(e)},Circuits.CircleInteraction.prototype.setFocus=function(e){this.interactionModel.infocus(e)},Circuits.CircleInteraction.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.interactionModel).element("subelement",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.Handle=function(e,t,i,n){var o=this;this.gui=e,this.handleModel=t,this.handleModel.registerView(e,this),this.svgGroup=this.gui.svg.group(i),this.controlGroup=this.gui.svg.group(n),this.tangentSvgGroup=this.gui.svg.group(i),this.tangentControlGroup=this.gui.svg.group(n),this.handleModel.tan_0&&this.handleModel.tan_0()&&(this.tan_0=new Circuits.TangentHandle(o.gui,this.handleModel.tan_0(),o,o.tangentSvgGroup,o.tangentControlGroup)),this.handleModel.tan_1&&this.handleModel.tan_1()&&(this.tan_1=new Circuits.TangentHandle(o.gui,this.handleModel.tan_1(),o,o.tangentSvgGroup,o.tangentControlGroup)),this.handleModel.mode.onChange("view",function(){o.drawIfNeeded()},10),this.handleModel.coord.onChange("view",function(){o.drawIfNeeded()},10),this.draw()},Circuits.Handle.prototype.isWireSelected=function(){if(this.handleModel.isLife()){var e=this.getBreadboardWire();if(e&&(e.selected||e.hasSelectedHandles&&e.hasSelectedHandles()))return!0}return!1},Circuits.Handle.prototype.drawIfNeeded=function(){this.handleModel.isLife()&&(this.isWireSelected()||this.handleModel.interactionModel.infocus())&&this.draw()},Circuits.Handle.prototype.draw=function(){var e=this;$(this.svgGroup).empty(),$(this.controlGroup).empty();var t=this.handleModel.parent().data;if(!(t&&t.insert&&t.insert())){var i=e.handleModel.coord(),n=this.getBreadboardWire(),o=null;if(n){var r=this.gui.editorModel.viewS(),a=3;r>a&&(r=a);var s=2.5*a/r,c=2.15*a/r,l=1.3*a/r,d=1*a/r;this.gui.svg.circle(this.svgGroup,i.x,i.y,s,{fill:n.borderColor(),fillOpacity:1,stroke:"none"}),this.gui.svg.circle(this.svgGroup,i.x,i.y,c,{fill:n.color(),fillOpacity:1,stroke:"none"}),this.gui.svg.circle(this.svgGroup,i.x,i.y,l,{fill:n.borderColor(),fillOpacity:1,stroke:"none"});var u=null,h=this.gui.guiholder?this.gui.guiholder.css("background-color")||"white":"white";u=this.gui.svg.circle(this.svgGroup,i.x,i.y,d,{fill:h,fillOpacity:this.selected?1:0,stroke:"none"});var p=e.handleModel.isPathEndpoint&&e.isWireSelected()&&e.gui&&"breadboard_editing - moving - moving"==e.gui.stateMachine.state();p||(o=this.gui.svg.circle(this.controlGroup,i.x,i.y,s,{fill:"red",stroke:"red",opacity:0})),this.selected?n.draw(!0):($(o).mouseover(function(e){$(u).attr("fill-opacity",1)}),$(o).mouseout(function(e){$(u).attr("fill-opacity",0)}))}else{var g=10/this.gui.editorModel.viewS(),m=1/this.gui.editorModel.viewS();this.gui.svg.rect(this.svgGroup,i.x-g/2,i.y-g/2,g,g,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:m}),o=this.gui.svg.rect(this.controlGroup,i.x-g/2,i.y-g/2,g,g,{fill:"red",stroke:"red",opacity:0})}o&&$(o).mousedown(function(t){return e.onMouseDown(t)}),this.tan_0&&this.tan_0.draw(),this.tan_1&&this.tan_1.draw()}},Circuits.Handle.prototype.getBreadboardWire=function(){var e=this.handleModel.parent().data,t=null;if(e&&e.views){var t=this.handleModel.parent().data.views.get(this.gui);if(t&&t.data instanceof Circuits.BendableWireData)return t}return null},Circuits.Handle.prototype.highlightPath=function(e){var t=this.getBreadboardWire();t&&t.setHighlight(e)},Circuits.Handle.prototype.setSelected=function(e){var t=this;if(this.selected=e,e){var i=this.handleModel.parent().handles;i&&this.handleModel.parent().handles.forEach(function(e,i){i.getView(t.gui).draw()})}else{var n=this.getBreadboardWire();n?n.selected||n.hasSelectedHandles()?this.draw():this.handleModel.parent().handles.forEach(function(e,i){i.getView(t.gui).show(!1)}):this.draw()}},Circuits.Handle.prototype.showInspector=function(){this.handleModel.interactionModel.data.getView(this.gui).showInspector()},Circuits.Handle.prototype.hideInspector=function(){this.handleModel.interactionModel.data.getView(this.gui).hideInspector()},Circuits.Handle.prototype.removeSvg=function(){$(this.svgGroup).empty(),$(this.controlGroup).empty(),this.tan_0&&this.tan_0.removeSvg(),this.tan_1&&this.tan_1.removeSvg(),this.highlightPath(null)},Circuits.Handle.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.handleModel).data("mouseCoord",this.gui.relativeMouseCoord(e)).data("notFocusable",!0);return this.gui.stateMachine.handle(t)},Circuits.Handle.prototype.clickAction=function(){},Circuits.Handle.prototype.show=function(e){e?this.draw():this.removeSvg()}},function(e,t){Circuits.Path=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i,[n]),this.svgGroup=this.gui.svg.group(this.getGroupInfo(n).svgGroup),this.draw(),this.data.onBubble("view",function(){r.data.isLife()&&r.draw()},10)},extend(Circuits.Path,Circuits.DrawingElement),Circuits.Path.prototype.getPoly=function(e,t){return this.data.getPoly(e,t)},Circuits.Path.prototype.draw=function(){$(this.svgGroup).empty(),this.gui.svg.add(this.svgGroup,this.data.toSVG())},Circuits.Path.prototype.showInspector=function(){this.draw();var e=[{label:"Stroke Width",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.strokeWidth,unit:"μm"},{label:"Fill",type:Circuits.inspectorInputType.CHECKBOX,datamember:this.data.fill}],t={name:"Pen Tool"};this.gui.inspector.buildAndShow(e,t)}},function(e,t){Circuits.PathInteraction=function(e,t,i,n,o,r,a){var s=this;this.gui=e,this.interactionModel=t,this.data=t.data,this.interactionModel.registerView(e,this),this.initGroups(i,[o,r,a]),this.controlGroup=this.gui.svg.group(this.getGroupInfo(o).svgGroup),this.interactionGroup=this.gui.svg.group(this.getGroupInfo(r).svgGroup),this.interactionControlGroup=this.gui.svg.group(this.getGroupInfo(a).svgGroup),this.rebuild(),this.interactionModel.infocus.onChange("view",function(){s.interactionModel.isLife()&&s.draw()},10),this.gui.editorModel.viewS.onChange(s,function(){s.interactionModel.isLife()&&s.draw()},10),this.interactionModel.handles.onAdd("rebuild_view",function(){s.interactionModel.isLife()&&s.interactionModel.root.scheduleHeavy("rebuild_view",s.rebuild,s,[],s)},10),this.interactionModel.handles.onRemove("rebuild_view",function(){s.interactionModel.isLife()&&s.interactionModel.root.scheduleHeavy("rebuild_view",s.rebuild,s,[],s)},10),this.draw()},extend(Circuits.PathInteraction,Circuits.DrawingElement),Circuits.PathInteraction.prototype.draw=function(){var e=this;e.interactionModel.segments.forEach(function(t,i){var n=i.getView(e.gui);n&&n.draw()}),e.interactionModel.infocus()?e.interactionModel.handles.forEach(function(t,i){var n=i.getView(e.gui);n&&n.draw()}):e.interactionModel.handles.forEach(function(t,i){var n=i.getView(e.gui);n&&n.removeSvg()})},Circuits.PathInteraction.prototype.rebuild=function(){var e=this;$(this.controlGroup).empty(),$(this.interactionGroup).empty(),$(this.interactionControlGroup).empty(),this.interactionModel.segments.forEach(function(t,i){new Circuits.PathSegment(e.gui,i,e.controlGroup)}),this.interactionModel.handles.forEach(function(t,i){new Circuits.Handle(e.gui,i,e.interactionGroup,e.interactionControlGroup)}),this.draw()},Circuits.PathInteraction.prototype.showInspector=function(){this.data.getView(this.gui).showInspector()},Circuits.PathInteraction.prototype.hideInspector=function(){this.data.getView(this.gui).hideInspector()},Circuits.PathInteraction.prototype.setSelected=function(e){var t=this;this.data.getView(this.gui).setSelected(e),t.interactionModel.handles.forEach(function(i,n){var o=n.getView(t.gui);o&&o.show(e)})},Circuits.PathInteraction.prototype.setFocus=function(e){this.interactionModel.infocus(e)}},function(e,t){Circuits.PathSegment=function(e,t,i){var n=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.controlGroup=this.gui.svg.group(i),this.data.prev_handle.onBubble(n,function(){n.data.isLife()&&n.draw()},10),this.data.next_handle.onBubble(n,function(){n.data.isLife()&&n.draw()},10)},Circuits.PathSegment.prototype.draw=function(){var e=this;$(this.controlGroup).empty();var t=this.data.prev_handle,i=this.data.next_handle,n=this.data.object;if(!(!n.parent()||n.parent().insert&&n.parent().insert())){if(t.mode()==Circuits.PathPointMode.STRAIGHT)var o=t.coord();else o=t.tan_1()?t.tan_1().coord():t.coord();if(i.mode()==Circuits.PathPointMode.STRAIGHT)var r=i.coord();else r=i.tan_0()?i.tan_0().coord():i.coord();var a=this.gui.svg.createPath();if(n.type()==Circuits.PathType.LINE)a.move(t.coord().getX(),t.coord().getY()),a.line(n.getEndpoint().getX(),n.getEndpoint().getY());else if(n.type()==Circuits.PathType.CURVEC)a.move(t.coord().getX(),t.coord().getY()),a.curveC(n.tan_0().getX(),n.tan_0().getY(),n.tan_1().getX(),n.tan_1().getY(),n.getEndpoint().getX(),n.getEndpoint().getY());else if(n.type()==Circuits.PathType.BENDABLE){var s=n.parent()?n.parent().maxDistanceFromVertexToCurve||10:10,c=n.previous().getCurveInfo(s),l=n.getCurveInfo(s);a.move(c[2].x,c[2].y),(c[0]>1||c[0]<-1)&&a.arc(c[0],c[0],180/Math.PI*c[3].sub(c[1]).angle(),0,c[0]<0?1:0,c[3].x,c[3].y),a.line(l[1].x,l[1].y),(l[0]>1||l[0]<-1)&&a.arc(l[0],l[0],180/Math.PI*l[3].sub(l[1]).angle(),0,l[0]<0?1:0,l[2].x,l[2].y)}var d=this.data.parent().data.strokeWidth(),u=this.data.parent().data.selectMargin||10,h=d+u/this.gui.editorModel.viewS(),p=e.isWireSelected()&&e.gui&&"breadboard_editing - moving - moving"==e.gui.stateMachine.state();if(this.data.drawControlLayer&&!p){var g=this.gui.svg.path(this.controlGroup,a,{fill:"none",stroke:"blue",opacity:"0",strokeWidth:h});if(e.gui.mode==Circuits.GuiMode.EDIT){$(g).mousedown(function(t){return e.onMouseDown(t)});var m=e.getBreadboardWire();m&&($(g).mouseover(function(t){var i=e.gui&&e.gui.stateMachine&&e.gui.stateMachine.state?e.gui.stateMachine.state():"breadboard";"breadboard"==i&&e.data.object.parent().views.get(e.gui).setHighlight(!0)}),$(g).mouseout(function(t){e.data.object.parent().views.get(e.gui).setHighlight(!1)}))}}}},Circuits.PathSegment.prototype.getBreadboardWire=function(){var e=this.data.object.parent(),t=null;if(e&&e.views){var t=e.views.get(this.gui);if(t&&t.data instanceof Circuits.BendableWireData)return t}return null},Circuits.PathSegment.prototype.isWireSelected=function(){if(this.data.isLife()){var e=this.getBreadboardWire();
if(e&&(e.selected||e.hasSelectedHandles&&e.hasSelectedHandles()))return!0}return!1},Circuits.PathSegment.prototype.setSelected=function(e){},Circuits.PathSegment.prototype.removeSvg=function(){$(this.controlGroup).empty()},Circuits.PathSegment.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data.parent()).element("subelement",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.Rect=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i,[n]),this.svgGroup=this.gui.svg.group(this.getGroupInfo(n).svgGroup),this.draw(),this.data.onBubble("view",function(){r.data.isLife()&&r.draw()},10)},extend(Circuits.Rect,Circuits.DrawingElement),Circuits.Rect.prototype.draw=function(){$(this.svgGroup).empty(),this.gui.svg.add(this.svgGroup,this.data.toSVG())},Circuits.Rect.prototype.showInspector=function(){var e=this.data.origin.grid_unit().replace("u","μ"),t=[{label:"Center X",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showX,unit:e},{label:"Center Y",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showY,unit:e},{label:"Width",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showWidth,unit:e},{label:"Height",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showHeight,unit:e},{label:"Roundness",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showRoundness,unit:e},{label:"Stroke width",type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,datamember:this.data.showStrokeWidth,unit:e},{label:"Fill",type:Circuits.inspectorInputType.CHECKBOX,datamember:this.data.fill}],i={name:"Rectangle Tool"};this.gui.inspector.buildAndShow(t,i)}},function(e,t){Circuits.RectInteraction=function(e,t,i,n,o,r,a){var s=this;this.gui=e,this.interactionModel=t,this.data=t.data,this.interactionModel.registerView(e,this),this.initGroups(i,[o,r,a]),this.controlGroup=this.gui.svg.group(this.getGroupInfo(o).svgGroup),this.interactionGroup=this.gui.svg.group(this.getGroupInfo(r).svgGroup),this.interactionControlGroup=this.gui.svg.group(this.getGroupInfo(a).svgGroup),this.handle=new Circuits.Handle(this.gui,this.interactionModel.handle(),this.interactionGroup,this.interactionControlGroup),this.draw(),this.interactionModel.infocus.onChange("interaction view",function(){s.interactionModel.isLife()&&s.draw()},10),this.data.onBubble("interaction view",function(){s.data.isLife()&&s.draw()},10),this.gui.editorModel.viewS.onChange(s,function(){s.data.isLife()&&s.draw()},10)},extend(Circuits.RectInteraction,Circuits.DrawingElement),Circuits.RectInteraction.prototype.draw=function(){var e=this;$(this.controlGroup).empty(),this.gui.svg.add(this.controlGroup,this.data.toSVG());var t=$(":nth-last-child(1)",this.controlGroup);t.attr("stroke-width",e.data.strokeWidth()+4/e.gui.editorModel.viewS()),t.mousedown(function(t){return e.onMouseDown(t)}),this.interactionModel.infocus()?this.handle.draw():this.handle.removeSvg()},Circuits.RectInteraction.prototype.showInspector=function(){this.data.getView(this.gui).showInspector()},Circuits.RectInteraction.prototype.hideInspector=function(){this.data.getView(this.gui).hideInspector()},Circuits.RectInteraction.prototype.setSelected=function(e){this.data.getView(this.gui).setSelected(e)},Circuits.RectInteraction.prototype.setFocus=function(e){this.interactionModel.infocus(e)},Circuits.RectInteraction.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.interactionModel).element("subelement",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.TangentHandle=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.parent=i,this.svgGroup=this.gui.svg.group(n),this.controlGroup=this.gui.svg.group(o),this.data.coord.onChange("view",function(){r.data.isLife()&&r.parent.drawIfNeeded()},10),this.draw()},Circuits.TangentHandle.prototype.draw=function(){var e=this;if($(this.svgGroup).empty(),$(this.controlGroup).empty(),e.data.handle.mode()!==Circuits.PathPointMode.STRAIGHT){var t=e.data.coord(),i=e.data.handle.coord(),n=10/this.gui.editorModel.viewS(),o=1/this.gui.editorModel.viewS();if(this.data.primary||this.data.handle.mode()!=Circuits.PathPointMode.SMOOTH)r=1;else var r=.3;this.gui.svg.rect(this.svgGroup,t.x-n/2,t.y-n/2,n,n,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:o});var a=this.gui.svg.rect(this.controlGroup,t.x-n/2,t.y-n/2,n,n,{fill:"red",stroke:"red",opacity:0});this.gui.svg.line(this.svgGroup,i.x,i.y,t.x,t.y,{stroke:"#1da750",opacity:r,strokeWidth:o}),$(a).mousedown(function(t){return e.onMouseDown(t)})}},Circuits.TangentHandle.prototype.removeSvg=function(){$(this.svgGroup).empty(),$(this.controlGroup).empty()},Circuits.TangentHandle.prototype.setSelected=function(e){this.parent.handleModel.mode()==Circuits.PathPointMode.SMOOTH?(this.parent.tan_0&&(this.parent.tan_0.selected=e,this.parent.tan_0.draw()),this.parent.tan_1&&(this.parent.tan_1.selected=e,this.parent.tan_1.draw())):(this.selected=e,this.draw())},Circuits.TangentHandle.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e)).data("notFocusable",!0);return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.Text=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i,[n]),this.svgGroup=this.gui.svg.group(this.getGroupInfo(n).svgGroup),this.draw(),this.data.onBubble("view",function(){r.data.isLife()&&r.draw()},10)},extend(Circuits.Text,Circuits.DrawingElement),Circuits.Text.prototype.draw=function(){$(this.svgGroup).empty(),this.gui.svg.add(this.svgGroup,this.data.toSVG())},Circuits.Text.prototype.showInspector=function(){var e=[{label:"Text",type:Circuits.inspectorInputType.TEXT,datamember:this.data.text},{label:"Font size",type:Circuits.inspectorInputType.VALUE_AND_UNIT,datamember:this.data.checkedFontSize,unitmember:this.data.fontUnit,list:this.data.units}],t={name:"Text Tool"};this.gui.inspector.buildAndShow(e,t)}},function(e,t){Circuits.TextInteraction=function(e,t,i,n,o,r,a){var s=this;this.gui=e,this.interactionModel=t,this.data=t.data,this.interactionModel.registerView(e,this),this.initGroups(i,[o,r,a]),this.controlGroup=this.gui.svg.group(this.getGroupInfo(o).svgGroup),this.interactionGroup=this.gui.svg.group(this.getGroupInfo(r).svgGroup),this.interactionControlGroup=this.gui.svg.group(this.getGroupInfo(a).svgGroup),this.draw(),this.interactionModel.infocus.onChange("interaction view",function(){s.interactionModel.isLife()&&s.draw()},10),this.data.onBubble("interaction view",function(){s.data.isLife()&&s.draw()},10)},extend(Circuits.TextInteraction,Circuits.DrawingElement),Circuits.TextInteraction.prototype.draw=function(){var e=this;$(this.controlGroup).empty(),this.gui.svg.add(this.controlGroup,this.data.toSVG());var t=$(":nth-last-child(1)",this.controlGroup);t.mousedown(function(t){return e.onMouseDown(t)})},Circuits.TextInteraction.prototype.showInspector=function(){this.data.getView(this.gui).showInspector()},Circuits.TextInteraction.prototype.setSelected=function(e){this.data.getView(this.gui).setSelected(e)},Circuits.TextInteraction.prototype.setFocus=function(e){this.interactionModel.infocus(e)},Circuits.TextInteraction.prototype.onMouseDown=function(e){var t=(new Circuits.GuiEvent).type(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.interactionModel).element("subelement",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}},function(e,t,i){i(399),i(676),i(782),i(784)},function(e,t,i){i(401),i(402),i(407),i(408),i(409),i(654),i(655),i(656),i(657),i(658),i(659),i(660),i(400),i(661),i(662),i(663),i(664),i(665),i(666),i(667),i(668),i(669),i(674),i(675)},function(e,t,i){var n=i(170).inherit;Circuits.PCBElementData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),Circuits.AbstractElementData.apply(this,arguments),this.makeUndoable(!1),this.layerMap=[["Top",1],["Bottom",-1]],1===arguments.length},Circuits.PCBElementData.prototype=n(Circuits.AbstractElementData.prototype),Circuits.PCBElementData.prototype.constructor=Circuits.PCBElementData,jsonExtend(8,"PCBElement",Circuits.PCBElementData),Circuits.PCBElementData.prototype.initialize=function(){var e=this.getDescription(),t=e.outline,i="<svg>"+t+"</svg>";this.setElementDimensions(i)},Circuits.PCBElementData.prototype.getData=function(){var e=Circuits.AbstractElementData.prototype.getData.apply(this,arguments);return e.versions_id=this.versions_id,e},Circuits.PCBElementData.prototype.setData=function(e){Circuits.AbstractElementData.prototype.setData.apply(this,arguments),this.setVersionedData(e)},Circuits.PCBElementData.prototype.getDescription=function(){return this.root.deviceLib.getPackagedDeviceDescription(this.parent().did()).footprint},Circuits.PCBElementData.prototype.getSnapSet=function(e,t,i){var n=this,o=new Circuits.SnapSet,r=n.pos();return e==Circuits.SnapLineType.TO?(o.addHor(r.copy(),1),o.addVer(r.copy(),1)):o.add(r.copy(),2),i?i.getPcbSnapSet(e):n.parent().terminals.forEach(function(t,i){o.addAll(i.getPcbSnapSet(e))}),o},Circuits.PCBElementData.prototype.moveNoSnap=function(e){var t=this;t.pos(this.pos().add(e))}},function(e,t,i){var n=i(173),o=i(190),r=i(170).extend,a=i(174),s=i(176).Versioned,c=i(178),l=i(176).dejsonify_construct,d=i(176).dejsonify,u=i(172).fromJSON;Circuits.inspectorInputType={TEXT:0,READ_ONLY:1,VALUE_AND_UNIT:2,VALUE_UNIT_CHECK:3,VALUE_AND_FIXEDUNIT:4,CHECKBOX:5,SELECTBOX:6,BUTTON:7},Circuits.CircuitData=function(e,t,i,r){var a=this;if(this.makeViewable(),this.makeVersioned(e),this.circuit_type=this.value("circuit_type",null,!1,!0),this.version=this.value("version",null,!1,!0),this.number_of_layers=this.value("number_of_layers",null,!1,!0),this.devices=this.set("devices",!0,!0),this.nets=this.set("nets",!0,!0),this.wires=this.set("wires",!0,!0),this.drills=this.set("drills",!0,!0),this.outline=this.value("outline",null,!0,!0),this.silkscreen=this.value("silkscreen",null,!0,!0),this.bottomsilk=this.value("bottomsilk",null,!0,!0),this.schematicSvg=this.value("schematicSvg",null,!0,!0),this.pcbOrigin=this.value("pcbOrigin",null,!0,!0),this.drc=this.value("drc_error",!1,!1,!0),this.eink=this.value("eink",null,!0,!0),this.breadboardpaper=this.value("breadboardpaper",null,!0,!0),this.localDeviceDescriptions=this.map("localDeviceDescriptions",!1,!0),this.possibleNumberOfLayers=[2],this.numberOfLayers=this.shadow("numberOfLayers",!1,function(){return a.number_of_layers()},function(e){var t=parseInt(e);a.possibleNumberOfLayers.indexOf(t)>=0?(a.nets.forEach(function(e){e.getAllSegments().forEach(function(e){e.getLayer()>=t&&e.ripup()}),e.calculatePolyData()}),a.number_of_layers(t)):Circuits.logError("Error changing number of layers to "+t)},[[a.number_of_layers,a.number_of_layers.onChange]]),this.lib=this.shadow("lib",!0,function(){var e=new n.HashSet,t=[];return a.devices.forEach(function(t){e.add(t.did())}),e.forEach(function(e){t.push(e)}),t.sort()},null,[[this.devices,this.devices.onAdd],[this.devices,this.devices.onRemove]]),this.module_terminals=this.shadow("module_terminals",!0,function(){var e=[];return a.devices.forEach(function(t){t.getDescription().device&&"module terminal"===t.getDescription().device.name&&e.push(t.name())}),e},null,[[this.devices,this.devices.onAdd],[this.devices,this.devices.onRemove]]),this.makeUndoable(!1),arguments.length>1){this.version(t),this.number_of_layers(i),this.circuit_type(r),this.pcbOrigin(new Circuits.OriginModel(this.root));var s=new Circuits.BezierOutlineData(this.root);s.addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(0,0))),s.addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(57150,0))),s.addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(57150,53340))),s.addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(0,53340))),this.outline(s),this.silkscreen(new Circuits.SvgData(this.root)),this.bottomsilk(new Circuits.SvgData(this.root)),this.schematicSvg(new Circuits.SvgData(this.root)),"circuitscribe"==this.circuit_type()&&(this.eink(new Circuits.SvgData(this.root)),this.breadboardpaper(new Circuits.BreadboardPaperData(this.root)))}this.root.deviceLib.setLocalCache(this.localDeviceDescriptions),this.boardPrice=this.shadow("boardPrice",!1,function(){var e=3,t=a.outline().boardBoundingBox(),i=Circuits.fab.calculateBoardPrice(t.width,t.height,a.number_of_layers(),e);return i},null,[[this.number_of_layers,this.number_of_layers.onChange],[this.outline,this.outline.onBubble]])},r(Circuits.CircuitData,c),r(Circuits.CircuitData,s),r(Circuits.CircuitData,a),jsonExtend(6,"Circuit",Circuits.CircuitData),Circuits.CircuitData.prototype.buildSchematicFromEink=function(){this.buildEinkPolyMap(),this.buildConnectionGraph(),this.buildSchematicFromConnectionGraph()},Circuits.CircuitData.prototype.updateSchematicFromEink=function(){var e=this;this.elementsToBeUpdated.forEach(function(t){t.isLife()?e.einkPolyMap.put(t,t.getEinkPoly()):e.einkPolyMap.remove(t)}),this.elementsToBeUpdated.forEach(function(t){e.connectionGraph.removeVertex(t)}),this.elementsToBeUpdated.forEach(function(t){t.isLife()&&e.connectionGraph.addVertex(t)}),this.elementsToBeUpdated.forEach(function(t){if(t.isLife()){var i=t,n=e.einkPolyMap.get(t);e.einkPolyMap.forEach(function(t,o){n.intersects(o)&&e.connectionGraph.addEdge(i,t,0,null)})}}),this.elementsToBeUpdated=new n.HashSet,this.buildSchematicFromConnectionGraph()},Circuits.CircuitData.prototype.buildEinkPolyMap=function(e){var t=this;t.root.circuit.eink().elements.forEach(function(e,i){t.einkPolyMap.put(i,i.getEinkPoly())}),t.root.circuit.devices.forEach(function(e){e.terminals.forEach(function(e,i){var n=i.getEinkPoly();n&&t.einkPolyMap.put(i,i.getEinkPoly())})})},Circuits.CircuitData.prototype.buildConnectionGraph=function(e){var t=this;this.root.circuit.devices.forEach(function(e){e.terminals.forEach(function(e,i){switch(i.getBreadboardDescription().terminal_type){case"eink_pad":case"circuitscribe_magnet":t.connectionGraph.addVertex(i)}})}),this.root.circuit.eink().elements.forEach(function(e,i){t.connectionGraph.addVertex(i)}),this.einkPolyMap.forEachPair(function(e,i,n,o){i.intersects(o)&&t.connectionGraph.addEdge(e,n,0,null)})},Circuits.CircuitData.prototype.buildSchematicFromConnectionGraph=function(){var e=this;this.root.circuit.nets.forEach(function(e){var t=e.subnets.getIndex(0);t.disconnectAllTerminals(),e.removeSubNet(t)}),this.root.circuit.nets.removeAll();var t=this.connectionGraph.connectedComponents();t.forEach(function(t){var i=new n.HashSet;if(t.vertices().forEach(function(e){e.constructor==Circuits.TerminalData&&i.add(e)}),i.size()>0&&t.vertices().size()>1){var o=e.root.circuit.addNet(),r=new Circuits.SchematicNetData(e.root);o.addSubnet(r),i.forEach(function(e){r.addTerminalPure(e)})}})},Circuits.CircuitData.prototype.initialize=function(){function e(e){t.root.logging&&(e.constructor==Circuits.EinkPathData?t.elementsToBeUpdated.add(e):e.constructor==Circuits.DeviceData&&e.terminals.forEach(function(e,i){switch(i.getBreadboardDescription().terminal_type){case"eink_pad":case"circuitscribe_magnet":t.elementsToBeUpdated.add(i)}}),t.root.scheduleHeavy("eink_connect",t.updateSchematicFromEink,t,[],"eink_connect"))}var t=this;this.silkscreen().setOrigin(this.pcbOrigin()),this.bottomsilk().setOrigin(this.pcbOrigin()),this.wires.onAdd("updateNetsFromWire",function(e,i){1==t.root.logging&&t.updateNetsFromWire(i)},101),"circuitscribe"==t.circuit_type()&&(this.einkPolyMap=new n.HashMap,this.connectionGraph=new n.Graph,this.buildEinkPolyMap(),this.buildConnectionGraph(),this.elementsToBeUpdated=new n.HashSet,this.devices.forEach(function(t){t.breadboard().pos.onChange("eink_connect",function(){e(t)},10),t.breadboard().angle.onChange("eink_connect",function(){e(t)},10),t.breadboard().flip.onChange("eink_connect",function(){e(t)},10)}),this.devices.onAdd("eink_connect",function(t,i){e(i),i.breadboard().pos.onChange("eink_connect",function(){e(i)},10),i.breadboard().angle.onChange("eink_connect",function(){e(i)},10),i.breadboard().flip.onChange("eink_connect",function(){e(i)},10)}),this.devices.onRemove("eink_connect",function(t,i){e(i)},10),this.eink().elements.forEach(function(t,i){i.objects.forEach(function(t,n){n.endpoint.onChange("eink_connect",function(){e(i)},10),n.tan_0.onChange("eink_connect",function(){e(i)},10),n.tan_1.onChange("eink_connect",function(){e(i)},10),n.type.onChange("eink_connect",function(){e(i)},10)})}),this.eink().elements.onAdd("eink_connect",function(t,i,n){e(n),n.objects.forEach(function(t,i){i.endpoint.onChange("eink_connect",function(){e(n)},10),i.tan_0.onChange("eink_connect",function(){e(n)},10),i.tan_1.onChange("eink_connect",function(){e(n)},10),i.type.onChange("eink_connect",function(){e(n)},10)}),n.objects.onAdd("eink_connect",function(t,i,o){o.endpoint.onChange("eink_connect",function(){e(n)},10),o.tan_0.onChange("eink_connect",function(){e(n)},10),o.tan_1.onChange("eink_connect",function(){e(n)},10),o.type.onChange("eink_connect",function(){e(n)},10)},10)}),this.eink().elements.onRemove("eink_connect",function(t,i,n){e(n)},10))},Circuits.CircuitData.prototype.updateNetsFromWire=function(e){var t=e.begin(),i=e.end();if(t&&i){var n,o=t.getNetLabel(),r=i.getNetLabel();if(o)r?(o!==r&&o.subnets.getIndex(0).mergeNetPure(r.subnets.getIndex(0)),n=o.subnets.getIndex(0)):n=o.subnets.getIndex(0);else if(r)n=r.subnets.getIndex(0);else{var a=this.addNet();n=new Circuits.SchematicNetData(this.root),a.addSubnet(n)}n.terminals.contains(t)||n.addTerminalPure(t),n.terminals.contains(i)||n.addTerminalPure(i)}else e.remove()},Circuits.CircuitData.prototype.posableObjects=function(){var e=new n.HashSet;return this.devices.forEach(function(t){t.footprint()&&e.add(t.footprint()),t.module()&&e.add(t.module())}),this.nets.forEach(function(t){e.add(t)}),this.drills.forEach(function(t){e.add(t)}),e.add(this.outline()),e},Circuits.CircuitData.prototype.move=function(e){var t=this.posableObjects();t.forEach(function(t){t.move(e)})},Circuits.CircuitData.prototype.rotate=function(e,t){var i=this.posableObjects();i.forEach(function(i){i.rotate(e,t)})},Circuits.CircuitData.prototype.centroid=function(e,t){return this.outline().upperLeft().add(this.outline().lowerRight()).mult(.5)},Circuits.CircuitData.prototype.removeNet=function(e){e.ripup(),this.nets.remove(e)},Circuits.CircuitData.prototype.addDevice=function(e,t){var i=new Circuits.DeviceData(this.root,this,e,this.root.idMan.getId(),this.root.elNameMan.getName(e.device.base,""));if(t)for(key in t)t.hasOwnProperty(key)&&i.properties.put(key,t[key]);if(this.devices.add(i),i.subdevice.getIndex(0)&&(i.subdevice.getIndex(0).setPos(this.root.nextpos_schematic),this.root.nextpos_schematic=this.root.nextpos_schematic.add(new o.Coord(50,0))),i.footprint()){i.footprint().setPos(this.root.nextpos_pcb),this.root.nextpos_pcb=this.root.nextpos_pcb.add(new o.Coord(5e3,0));var n=this.outline().boardBoundingBox();this.root.nextpos_pcb.getX()>n.width+n.x-5e3&&(this.root.nextpos_pcb.x=n.x+5e3,this.root.nextpos_pcb.y+=5e3)}return i.breadboard()&&(i.breadboard().setPos(this.root.nextpos_breadboard),this.root.nextpos_breadboard=this.root.nextpos_breadboard.add(new o.Coord(50,0))),i},Circuits.CircuitData.prototype.removeDevice=function(e){e.deregisterName(),e.terminals.forEach(function(e,t){t.hasNet()&&t.disconnect()}),this.devices.remove(e)},Circuits.CircuitData.prototype.addDrill=function(e,t){var i=new Circuits.DrillData(this.root,this,new o.Coord(0,0),e,t);return this.drills.add(i),i},Circuits.CircuitData.prototype.removeDrill=function(e){this.drills.remove(e)},Circuits.CircuitData.prototype.addNet=function(){var e=new Circuits.NetData(this.root,this,null,this.root.idMan.getId(),"");return this.nets.add(e),e},Circuits.CircuitData.prototype.clean=function(){this.nets.forEach(function(e){e.cleanEmptySegments()})},Circuits.CircuitData.prototype.upgradeData=function(){2===this.version&&(this.nets.forEach(function(e){e.subnets=new n.HashSet;var t=new Circuits.SchematicNetData(this.root,e,{},"","");e.subnets.add(t),e.terminals.forEach(function(e){t.addTerminal(e)})}),this.version=3),this.devices.forEach(function(e){e.generateDefaultProperies()}),this.getAllNets(!0).forEach(function(e){e.polys||e.calculatePolyData()})},Circuits.CircuitData.prototype.getData=function(){var e={};return e.circuit_type=this.circuit_type(),e.version=this.version(),e.number_of_layers=this.number_of_layers(),e.lib=this.getDeviceIds(),e.module_terminals=this.getModuleTerminals(),e.devices=this.devices,e.nets=this.nets,e.wires=this.wires,e.drills=this.drills,e.outline=this.outline(),e.silkscreen=this.silkscreen,e.parent=this.parent(),e.versions_id=this.versions_id,e},Circuits.CircuitData.prototype.setData=function(e){this.circuit_type(e.circuit_type),this.version(e.version),this.number_of_layers(e.number_of_layers),this.devices.addAll(e.devices),this.nets.addAll(e.nets),this.wires.addAll(e.wires),this.drills.addAll(e.drills),this.outline(e.outline),this.silkscreen(e.silkscreen),this.number_of_layers()||this.number_of_layers(2)},Circuits.CircuitData.prototype.layerOrder2layerIndex=function(e){var t;if(e<Math.ceil(this.number_of_layers()/2))t=2*e;else{var i=this.number_of_layers()-e-1;t=2*i+1}return t},Circuits.CircuitData.prototype.getJSON=function(){return JSON.stringify(this)},Circuits.CircuitData.prototype.registerNames=function(){this.devices.forEach(function(e){e.tryRegisterName(e.name())})},Circuits.CircuitData.prototype.getAllTerminals=function(){var e=new n.HashSet;return this.devices.forEach(function(t){e.addAll(t.terminals),t.module()&&e.addAll(t.module().circuit().getAllTerminals())}),e},Circuits.CircuitData.prototype.getAllDRCedElements=function(e){var t=new n.HashSet;return t.addAll(this.getAllTraceElements(e)),t.addAll(this.getAllDrills(e)),t},Circuits.CircuitData.prototype.getAllTraceElements=function(e){var t=new n.HashSet;return this.nets.forEach(function(e){t.addAll(e.segments),t.addAll(e.vias),t.addAll(e.pins)}),this.devices.forEach(function(i){i.footprint()&&i.terminals.forEach(function(e,i){i.hasPcb()&&t.add(i)}),e&&i.module()&&t.addAll(i.module().circuit().getAllTraceElements())}),t},Circuits.CircuitData.prototype.getAllFootprints=function(){var e=new n.HashSet;return this.devices.forEach(function(t){t.footprint()&&e.add(t.footprint()),t.module()&&e.add(t.module())}),e},Circuits.CircuitData.prototype.getAllDrills=function(e){var t=new n.HashSet;return this.drills.forEach(function(e){t.add(e)}),this.devices.forEach(function(i){e&&i.module()&&t.addAll(i.module().circuit().getAllDrills(e))}),t},Circuits.CircuitData.prototype.getAllCircles=function(e){var t=new n.HashSet;return this.circles.forEach(function(e){t.add(e)}),t},Circuits.CircuitData.prototype.getDeviceById=function(e){var t=null;return this.devices.forEach(function(i){i.id===e&&(t=i)}),t},Circuits.CircuitData.prototype.getAllSchematicElements=function(){var e=new n.HashSet;return this.devices.forEach(function(t){t.subdevice.forEach(function(t,i){e.add(i)})}),e},Circuits.CircuitData.prototype.getAllHighestNets=function(){var e=new n.HashSet;return this.getAllNets().forEach(function(t){t.isHighestNet()&&e.add(t)}),e},Circuits.CircuitData.prototype.getAllNets=function(e){var t=new n.HashSet;return t.addAll(this.nets),e||this.devices.forEach(function(e){e.module()&&t.addAll(e.module().circuit().getAllNets())}),t},Circuits.CircuitData.createFromJSON=function(e,t){var i;if(i="string"==typeof e?JSON.parse(e):e,i.version>=4){l(i,t);var n=d(i,t)}else{var n=u(i,t);n.version(4)}var o=n.outline();if(o.constructor===Circuits.PCBOutlineData){var r=new Circuits.BezierOutlineData(t);r.addPoint(new Circuits.BezierVertexData(t,o.ul())),r.addPoint(new Circuits.BezierVertexData(t,o.ur())),r.addPoint(new Circuits.BezierVertexData(t,o.lr())),r.addPoint(new Circuits.BezierVertexData(t,o.ll())),n.outline(r)}return n},Circuits.CircuitData.prototype.removeDeadDevices=function(){var e=this;this.devices.forEach(function(t){t.module()?t.getDescription()?t.module().circuit().devices.forEach(function(i){i.module()||i.getDescription()||(t.terminals.forEach(function(e,t){t.hasNet()&&t.disconnect()}),e.devices.remove(t))}):(t.terminals.forEach(function(e,t){t.hasNet()&&t.disconnect()}),e.devices.remove(t)):t.getDescription()||(t.terminals.forEach(function(e,t){t.hasNet()&&t.disconnect()}),e.devices.remove(t))})},Circuits.CircuitData.prototype.calculatePolyData=function(){this.nets.forEach(function(e){e.calculatePolyData()})},Circuits.CircuitData.prototype.getGerber=function(e){var t=new Circuits.GerberGenerator(this);return"drl"===e?t.excellon(e):t.gerber(e)},Circuits.CircuitData.prototype.findNetForTerminal=function(e){var t=null;return this.devices.forEach(function(i){"module terminal"===i.getDescription().device.name&&i.name()===e&&(t=i)}),t.terminals.getIndex(0).net()},Circuits.CircuitData.prototype.findTerminalWithName=function(e){var t=null;return this.devices.forEach(function(i){"module terminal"===i.getDescription().device.name&&i.name()===e&&(t=i)}),t?t.terminals.getIndex(0):null},Circuits.CircuitData.prototype.mergeNets=function(e,t){var i=this.addNet();return e.subnets.forEach(function(e){i.addSubnet(e)}),t.subnets.forEach(function(e){i.addSubnet(e)}),e.segments.forEach(function(e){i.addSegment(e)}),t.segments.forEach(function(e){i.addSegment(e)}),e.vias.forEach(function(e){i.addVia(e)}),t.vias.forEach(function(e){i.addVia(e)}),e.pins.forEach(function(e){i.addPin(e)}),t.pins.forEach(function(e){i.addPin(e)}),i},Circuits.CircuitData.prototype.rearrangeSubnets=function(){var e=this,t=new n.Graph;this.nets.forEach(function(e){e.subnets.forEach(function(e){t.addVertex(e)})});var i=new n.HashMap;this.devices.forEach(function(e){e.terminals.forEach(function(e,t){if(t.isLabel()){var o=t.subnet();if(o){var e=terminal.getLabel();if(i.contains(e))var r=i.get(e);else{var r=new n.HashSet;i.put(e,r)}r.add(o)}}})}),i.forEach(function(e,i){i.forEachPair(function(e,i){t.addEdge(e,i,0,null)})});var o=t.connectedComponents();o.forEach(function(t){var i=t.vertices().collect(function(e){return e.parent()}),n=i.filter(function(e){return t.vertices().containsAll(e.subnets)}),o=i.filter(function(e){return!t.vertices().containsAll(e.subnets)}),r=t.vertices().filter(function(e){return o.contains(e.getNet())});o.forEach(function(e){e.ripup()});var a=null;a=0!==n.size()?n.reduce(function(t,i){return e.mergeNets(t,i)}):e.addNet(),r.forEach(function(e){a.addSubnet(e)})});var r=new n.HashSet;this.nets.forEach(function(e){0===e.subnets.size()&&0===e.vias.size()&&r.add(e)}),r.forEach(function(t){e.removeNet(t)})},Circuits.CircuitData.prototype.changeNumberOfLayers=function(e){var t=this;t.nets.forEach(function(t){t.getAllSegments().forEach(function(t){t.getLayer()>=e&&t.ripup()}),t.calculatePolyData()}),t.number_of_layers(e)},Circuits.CircuitData.prototype.getToplevel=function(){return this.root},Circuits.CircuitData.prototype.getSpacialIndex=function(){return this.spacialIndex||this.newIndexes(),this.spacialIndex},Circuits.CircuitData.prototype.createDeviceInstance=function(e){var t=this.root.deviceLib.getPackagedDeviceDescription(e),i=this.addDevice(t);return i},Circuits.CircuitData.prototype.createDeviceInstance=Circuits.CircuitData.prototype.createDeviceInstance,Circuits.CircuitData.prototype.moveSubdevice=function(e,t,i,n,r,a){var s=e.getSubdevice(t);s.setPos(new o.Coord(i,n)),s.setAngle(r),a&&s.setFlip(a)},Circuits.CircuitData.prototype.moveSubdevice=Circuits.CircuitData.prototype.moveSubdevice,Circuits.CircuitData.prototype.moveFootprint=function(e,t,i,n,r){var a=e.getFootprint();a.setPos(new o.Coord(t,i)),1===r?(a.setFlip(-1),a.setAngle(-n)):(a.setFlip(1),a.setAngle(n))},Circuits.CircuitData.prototype.moveFootprint=Circuits.CircuitData.prototype.moveFootprint,Circuits.CircuitData.prototype.createNet=function(e,t){for(var i=this.addNet(),n=i.createSubnet(),r=0;r<e.length;r++){var a=e[r],s=a[0].getTerminalSPID(a[1],a[2]);n.addTerminal(s)}for(var r=0;r<t.length;r++){var c=t[r][0],l=t[r][1],d=t[r][2],u=t[r][3],h=this.root.deviceLib.getPackagedDeviceDescription(33),p=this.addDevice(h);p.setName(c);var g=p.getSubdevice(79);g.setPos(new o.Coord(l,d)),g.setAngle(u);var s=p.getTerminalSPID(79,55);n.addTerminal(s)}return i},Circuits.CircuitData.prototype.createNet=Circuits.CircuitData.prototype.createNet,Circuits.CircuitData.prototype.boardOutline=function(e){if(0!=e.length){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=new o.Coord(n[0],n[1]),a=new o.Coord(n[2],n[3]);t.push(r),t.push(a)}var s=new o.PointSet(t),c=s.getBB();this.outline(new Circuits.BezierOutlineData(this.root)),this.outline().addPoint(new Circuits.BezierVertexData(this.root,c.getMinMin())),this.outline().addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(c.getMinMin().x,c.getMaxMax().y))),this.outline().addPoint(new Circuits.BezierVertexData(this.root,c.getMaxMax())),this.outline().addPoint(new Circuits.BezierVertexData(this.root,new o.Coord(c.getMaxMax().x,c.getMinMin().y)))}},Circuits.CircuitData.prototype.boardOutline=Circuits.CircuitData.prototype.boardOutline,Circuits.CircuitData.prototype.addNPTH=function(e,t,i){var i=this.addDrill(i/1e3,"mm");i.setPoint(new o.Coord(e,t))},Circuits.CircuitData.prototype.addNPTH=Circuits.CircuitData.prototype.addNPTH,Circuits.CircuitData.prototype.setProperty=function(e,t,i,n){e.setProperty(t,!0,i,n)},Circuits.CircuitData.prototype.setProperty=Circuits.CircuitData.prototype.setProperty,Circuits.CircuitData.prototype.setName=function(e){$("#circuit_name").val(e)},Circuits.CircuitData.prototype.setName=Circuits.CircuitData.prototype.setName,Circuits.CircuitData.prototype.createTrace=function(e,t,i,r){var a;if(0==e.length)var a=this.addNet();else a=e[0][0].getTerminalPPID(e[0][1],0).getNet();for(var s=new n.HashMap,c=0;c<this.number_of_layers();c++)s.put(c,new n.Bins(function(e){return e.toString()}));if(a){for(var l=0;l<e.length;l++)for(var d=e[l][0].getTerminalPPID(e[l][1],0),c=0;c<this.number_of_layers();c++)if(d.hasLayer(c)){var u=d.getPcbPos();s.get(c).put(u.round(),d)}for(var l=0;l<t.length;l++){var h=t[l],p=new o.Coord(h[0],h[1]),g=new o.Coord(h[2],h[3]),m=h[4],c=h[5],f=new Circuits.RoutingSegmentData(this.root,a,m,c,!1);a.segments.add(f),f.setPoint(p),f.setDir(g.sub(p));var _=new Circuits.SegmentPindownData(this.root,a,p);a.pins.add(_);var v=new Circuits.SegmentPindownData(this.root,a,g);a.pins.add(v),f.connect(_),f.connect(v),s.get(c).put(p.round(),f),s.get(c).put(g.round(),f)}for(var l=0;l<i.length;l++){var h=i[l],y=new o.Coord(h[0],h[1]),C=h[2],b=new Circuits.ViaData(this.root,a,y,C,!0);a.vias.add(b);for(var c=0;c<this.number_of_layers();c++)s.get(c).put(y.round(),b)}for(var l=0;l<r.length;l++){var h=r[l],c=h[0],w=h[1];w.push(w[0]);for(var M=null,S=null,x=0;x<w.length-1;x++){var p=new o.Coord(w[x][0],w[x][1]),g=new o.Coord(w[x+1][0],w[x+1][1]),f=new Circuits.RoutingSegmentData(this.root,a,m,c,!0);if(a.segments.add(f),f.setPoint(p),f.setDir(g.sub(p)),S&&f.connect(S),0==x)var M=f;var S=f}f.connect(M)}for(var c=0;c<this.number_of_layers();c++){var T=s.get(c);T.forEach(function(e,t){var i=t.filter(function(e){return e.constructor===Circuits.TerminalData||e.constructor===Circuits.ViaData});if(0===i.size()){var n=!0,o=null;t.forEach(function(e){n?(n=!1,o=e):(e.connect(o),o=e)})}else if(1===i.size()){var r=i.getIndex(0);t.forEach(function(e){e!==r&&e.connect(r)})}})}a.trymerge(),a.cleanPoints()}},Circuits.CircuitData.prototype.createTrace=Circuits.CircuitData.prototype.createTrace,Circuits.CircuitData.prototype.findElementByName=function(e,t){console.log("CircuitDtaa.findElementByName"),console.log(e),console.log(t)},Circuits.CircuitData.prototype.to_circuitscribe_printable_svg=function(e,t){
var i=this,n="scale(0.96) ",r=$('<svg xmlns="http://www.w3.org/2000/svg"></svg>');r.attr("viewBox","0 0 "+e+" "+t),r.attr("x",0),r.attr("y",0),r.attr("width",e+""),r.attr("height",t+"");var a=$("<g></g>");r.append(a);var s=n+"translate("+e/2+","+t/2+")";a.attr("transform",s),this.devices.forEach(function(e){if("circuitscribe_module"==e.getDescription().device.breadboard.symbol_type){var t=$(e.breadboard().getDescription().svg),i=e.breadboard(),n=$("<g></g>"),o="translate("+i.pos().x+","+i.pos().y+") rotate("+i.angle()+") scale("+i.flip()+",1)";n.attr("transform",o),n.append(t),a.append(n)}}),$(".cgfx__sketchview",a).length>0&&$(".cgfx__sketchview",a).hide(),$(".cgfx__wireframeview",a).length>0&&$(".cgfx__wireframeview",a).show();var c=this.connectionGraph.connectedComponents();return c.forEach(function(e){var t=[];if(e.vertices().forEach(function(e){e.constructor==Circuits.TerminalData&&"eink_pad"==e.getBreadboardDescription().terminal_type&&t.push(i.einkPolyMap.get(e)),e.constructor==Circuits.EinkPathData&&t.push(i.einkPolyMap.get(e))}),t.length>0){var n=jsts.operation.union.CascadedPolygonUnion.union(t),r=$(o.jstsPolyToSVG(n));r.attr("fill","none"),r.attr("stroke","black"),r.attr("stroke-width",1),r.attr("stroke-dasharray","5,5"),a.append(r)}}),r.prop("outerHTML").toString()}},function(e,t,i){i(403),i(404),i(405),i(406)},function(e,t,i){var n=i(170).base_url,o=i(2).legacyPackagedDeviceUrl;Circuits.AjaxDeviceLib=function(e){this.localCache=e,this.deviceCache={},this.activePackagedDeviceIds=[45547,53184,57752,57950,58208,58320,58422,58456,58457,58458,58468,58571,58627,58630,58631,58632,58637,58638,59076,111209,111211,111724,112324,112326,113878,113880,114067,114068,114158,114159,116648,116655,116662,116686,116689,116691,116692,116693,116695,116696,116698,116701,116702,116705,116707,116709,116714,116716,116719,116721,116723,116725,116727,116728,116730,116732,116838,116839,116840,116841,116842,116859,116860,121827,122164,122166,122167,129343,129710,131555,132486,132521,133669,138097,138714,141521,141540,142073,142075,142078,144782,144786,145704,146478,146812,148342,148343,153264,153670,154542,165360,196401,202163,202580,203761,209278,212155,212156,215824,215830,215841,215842,219294,234203,239306,241925,248005,286515,311892,328898]},Circuits.AjaxDeviceLib.prototype.getPackagesForDevice=function(e){var t=n+"/components/"+String(e)+"/packages.json",i=null;return this.deviceCache[t]?this.deviceCache[t]:($.ajax({type:"GET",url:t,dataType:"json",context:this,success:function(e){i=e,this.deviceCache[t]=e},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1}),i)},Circuits.AjaxDeviceLib.prototype.setDeviceDescription=function(e,t,i){var n=String(e);i===!0&&void 0!==this.localCache?this.localCache.put(n,t):this.deviceCache[n]=t},Circuits.AjaxDeviceLib.prototype.hasDescription=function(e){var t=String(e);return void 0!==this.localCache&&this.localCache.contains(t)?!0:void 0!==this.deviceCache[t]},Circuits.AjaxDeviceLib.prototype.getPackagedDeviceDescription=function(e){var t=this,i=String(e);if(void 0!==this.localCache&&this.localCache.contains(i))return this.localCache.get(i);if(!this.deviceCache[i]){var r=i.split("_");if("module"===r[0]){var a=n+"/circuits/";$.ajax({type:"GET",url:a+r[1]+"/module.json",dataType:"json",context:this,success:function(e){t.deviceCache[i]=e;for(var n=JSON.parse(e.circuit),o=0;o<n.lib.length;o++)t.getPackagedDeviceDescription(n.lib[o])},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})}else if("device"===r[0]){var a=n+"/components/";$.ajax({type:"GET",url:a+r[1]+"/editor_json",dataType:"json",context:this,success:function(e){t.deviceCache[i]=e},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})}else{if(this.activePackagedDeviceIds.indexOf(e)>=0)var a=n+"/packaged_devices/";else var a=o+"/";$.ajax({type:"GET",url:a+i+".json",dataType:"json",context:this,success:function(e){t.deviceCache[i]=e},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})}}return this.deviceCache[i]},Circuits.AjaxDeviceLib.prototype.bulkLoadDevices=function(e){var t=this;if(e&&e.length>0){var i=n+"/packaged_devices/bulk.json?items=",o=e.map(function(e){return["module","local"].indexOf(String(e).split("_")[0])<0?String(e):null}).filter(function(e){return e}).join(",");$.ajax({type:"GET",url:i+o,dataType:"json",context:this,success:function(e){e.forEach(function(e){t.deviceCache[e.id]=e})},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})}},Circuits.AjaxDeviceLib.prototype.bulkLoadBreadboardDevices=function(){var e=this,t=n+"/packaged_devices/bulk_breadboard.json";$.ajax({type:"GET",url:t,dataType:"json",context:this,success:function(t){t.forEach(function(t){e.deviceCache[t.id]=t})},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})},Circuits.AjaxDeviceLib.prototype.bulkLoadComponents=function(e){var t=this;if(e&&e.length>0){var i=n+"/components/bulk.json?items=",o=e.map(function(e){return String(e)}).join(",");$.ajax({type:"GET",url:i+o,dataType:"json",context:this,success:function(e){e.forEach(function(e){t.deviceCache["device_"+e.root_id]=e,t.deviceCache[e.id]=e})},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1})}},Circuits.AjaxDeviceLib.prototype.setLocalCache=function(e){this.localCache=e}},function(e,t,i){var n=i(173);Circuits.IndexedElement={initIndexedElement:function(e){function t(){i.root.scheduleHeavy("index",i.updateSpacialIndex,i,[],"index"+n.getHash(i))}var i=this;i.initIndex(),i.root.scheduleHeavy("index",i.updateSpacialIndex,i,[],"index"+n.getHash(i));for(var o=0;o<e.length;o++){var r=e[o];r.isVal()?r.onChange("index"+n.getHash(i),t,1):r.isSet()&&(r.onAdd("index"+n.getHash(i),t,1),r.onRemove("index"+n.getHash(i),t,1))}i.onDie("index"+n.getHash(i),function(e){e.removeFromSpacialIndex()},1)},initIndex:function(){var e=this,t=this.root.getSpacialIndex();this.indexInfo=new n.HashMap,t.forEach(function(t,i){var n={};n.indexPoly=null,e.indexInfo.put(t,n)})},updateSpacialIndex:function(){var e=this;if(e.isLife()){var t=this.root.getSpacialIndex();this.removeFromSpacialIndex(),t.forEach(function(t,i){var n=e.indexInfo.get(t),o=e.getPoly(t,0);o&&(n.indexPoly=o,i.quadtree.insert(n.indexPoly.getEnvelopeInternal(),e))})}},removeFromSpacialIndex:function(){var e=this,t=this.root.getSpacialIndex();t.forEach(function(t,i){var n=e.indexInfo.get(t);if(n.indexPoly){i.quadtree.remove(n.indexPoly.getEnvelopeInternal(),e);n.indexPoly=null}})}}},function(e,t){Circuits.NameManager=function(){this.names={}},Circuits.NameManager.prototype.getName=function(e,t){e=e||"",e=e.toUpperCase(),this.names[e]||(this.names[e]=[]);var i;if(t)if(this.names[e][t])if($.isNumeric(t)){for(var n=parseInt(t);this.names[e][n];)n++;i=n}else{for(var n=1;this.names[e][t+n];)n++;i=t+n}else i=t;else{for(var n=1;this.names[e][n];)n++;i=n}return this.registerName(e,i.toString(10)),i.toString()},Circuits.NameManager.prototype.registerName=function(e,t){"LABEL"!=e&&"LABELNO"!=e&&(this.names[e]||(this.names[e]=[]),this.names[e][t]=!0)},Circuits.NameManager.prototype.removeName=function(e,t){"LABEL"!=e&&"LABELNO"!=e&&this.names[e]&&this.names[e][t]&&delete this.names[e][t]},Circuits.NameManager.prototype.empty=function(){this.names={}},Circuits.NameManager.prototype.getState=function(){return JSON.parse(JSON.stringify(this.names))},Circuits.NameManager.prototype.setState=function(e){this.names=e},Circuits.IdManager=function(){this.ids=[],this.lastid=0},Circuits.IdManager.prototype.getId=function(){return this.lastid++,this.ids.push(this.lastid),this.lastid},Circuits.IdManager.prototype.registerId=function(e){return-1==this.ids.indexOf(e)?(this.ids.push(e),e>this.lastid&&(this.lastid=e),!0):!1}},function(e,t){Circuits.StaticDeviceLib=function(e){this.deviceCash=e},Circuits.StaticDeviceLib.prototype.getPackagedDeviceDescription=function(e){return this.deviceCash[e]}},function(e,t,i){var n=i(173),o=i(191),r=i(187),a=i(176).Versioned,s=i(175);Circuits.DesignRoot=function(){this.initVersionRoot(),this.heavy_order=["index","boardPoly","poly","drc","update_nets","update_ratsnest","view","route_schematic_net","eink_connect","simulator"],this.elNameMan=new Circuits.NameManager,this.idMan=new Circuits.IdManager,this.deviceLib=new Circuits.AjaxDeviceLib,this.nextpos_pcb=new o.Coord(5e3,5e3),this.nextpos_schematic=new o.Coord(0,0),this.nextpos_breadboard=new o.Coord(0,0),this._meta_data={},this.initialize()},extend(Circuits.DesignRoot,a),extend(Circuits.DesignRoot,r),extend(Circuits.DesignRoot,s),Circuits.DesignRoot.prototype.initialize=function(e){},Circuits.DesignRoot.prototype.attachCircuit=function(e){this.circuit=e,this.newIndexes(),this.attachData(e)},Circuits.DesignRoot.prototype.buildEditorModel=function(){this.editorModel=new Circuits.CircuitEditorModel(this),this.editorModel.parent(this)},Circuits.DesignRoot.prototype.setMetaData=function(e){this.editorModel.meta(e)},Circuits.DesignRoot.prototype.toJSON=function(){return null},Circuits.DesignRoot.prototype.newIndexes=function(){var e,t=this;e=new n.HashMap;for(var i=0;i<this.circuit.number_of_layers();i++){var o={};o.quadtree=new jsts.index.quadtree.Quadtree,e.put(i,o)}t.spacialIndex=e},Circuits.DesignRoot.prototype.getSpacialIndex=function(){return this.spacialIndex},Circuits.DesignRoot.prototype.number_of_layers=function(e){return this.circuit.number_of_layers(e)},Circuits.DesignRoot.prototype.outline=function(e){return this.circuit.outline(e)},Circuits.DesignRoot.prototype.onShareJsDocOpAcknowledged=function(e){var t=this;this.shareJsDoc&&(this.shareJsDoc.onOpAcknowledged=function(i,n){0==t.shareJsDoc.numberPending()&&(t.editorModel.connection("ok"),e&&e(i))})}},function(e,t,i){var n=i(191),o=i(174),r=i(176).Versioned,a=i(178);Circuits.AbstractElementData=function(){this.pos=this.value("pos",new n.Coord(0,0),!1,!0),this.angle=this.value("angle",0,!1,!0),this.flip=this.value("flip",1,!1,!0),this.width=0,this.height=0},extend(Circuits.AbstractElementData,a),extend(Circuits.AbstractElementData,r),extend(Circuits.AbstractElementData,o),Circuits.AbstractElementData.prototype.initialize=function(){},Circuits.AbstractElementData.prototype.setElementDimensions=function(e){if("undefined"!=typeof window&&($svg=$(e),$(e).css("visibility","hidden"),$(":root").append($svg),"undefined"!=typeof $svg[0].getBBox)){var t=$svg[0].getBBox();$svg.remove(),this.width=Math.round(t.width),this.height=Math.round(t.height)}},Circuits.AbstractElementData.prototype.getBoundingBox=function(){return new n.BoundingBox(-this.width/2,-this.height/2,this.width,this.height).flip(this.flip()).rotate(this.angle()).translate(this.pos())},Circuits.AbstractElementData.prototype.getData=function(){var e={};return e.pos=this.pos(),e.angle=this.angle(),e.flip=this.flip(),e},Circuits.AbstractElementData.prototype.setData=function(e){this.pos(e.pos),this.angle(e.angle),this.flip(e.flip)},Circuits.AbstractElementData.prototype.remove=function(){this.parent().remove(this)},Circuits.AbstractElementData.prototype.getPos=function(){return this.pos()},Circuits.AbstractElementData.prototype.setPos=function(e){this.pos(e)},Circuits.AbstractElementData.prototype.move=function(e){this.pos(this.pos().add(e))},Circuits.AbstractElementData.prototype.getAngle=function(){return this.angle()},Circuits.AbstractElementData.prototype.setAngle=function(e){this.angle(e)},Circuits.AbstractElementData.prototype.getFlip=function(){return this.flip()},Circuits.AbstractElementData.prototype.setFlip=function(e){this.flip(e)},Circuits.AbstractElementData.prototype.rotate=function(e,t){t?(this.angle(this.angle()+e),this.pos(this.pos().rotate(e,t))):this.angle(this.angle()+e)},Circuits.AbstractElementData.prototype.flipVer=function(){this.angle()%180==0?this.flip(-1*this.flip()):(this.angle((this.angle()+180)%360),this.flip(-1*this.flip()))},Circuits.AbstractElementData.prototype.flipHor=function(){this.angle()%180==0?(this.angle((this.angle()+180)%360),this.flip(-1*this.flip())):this.flip(-1*this.flip())},Circuits.AbstractElementData.prototype.moveNoSnap=function(e){this.pos(this.pos().add(e))}},function(e,t,i){var n=i(170).inherit,o=i(410);Circuits.BreadboardElementData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),Circuits.AbstractElementData.apply(this,arguments),this.makeUndoable(!1)},Circuits.BreadboardElementData.prototype=n(Circuits.AbstractElementData.prototype),Circuits.BreadboardElementData.prototype.constructor=Circuits.BreadboardElementData,jsonExtend(60,"BreadboardElement",Circuits.BreadboardElementData),Circuits.BreadboardElementData.prototype.initialize=function(){var e=this,t=this.parent().getDescription();"undefined"!=typeof o&&(this.simulation_model_name=t.device.simulation_model,this.simulation_model_name&&(this.deviceModelClass=o.model_map.get(this.simulation_model_name)),this.deviceModelClass||(this.deviceModelClass=o.Model.Default),this.deviceModelClass&&(this.dynamicModel=new this.deviceModelClass.Model(e.root,e)));var i=this.getDescription(),n=i.svg;this.setElementDimensions(n)},Circuits.BreadboardElementData.prototype.getData=function(){return Circuits.AbstractElementData.prototype.getData.apply(this,arguments)},Circuits.BreadboardElementData.prototype.setData=function(e){Circuits.AbstractElementData.prototype.setData.apply(this,arguments)},Circuits.BreadboardElementData.prototype.getDescription=function(){var e=this.root.deviceLib.getPackagedDeviceDescription(this.parent().did());return e.device.breadboard},Circuits.BreadboardElementData.prototype.getSnapSet=function(e){var t=this,i=new Circuits.SnapSet;return t.parent().terminals.forEach(function(t,n){n.hasBreadboard()&&i.addAll(n.getBreadboardSnapSet(e))}),i},Circuits.BreadboardElementData.prototype.copyInfo=function(){return this.parent().jsonify()}},function(e,t,i){e.exports=i(433),i(444),i(445),i(446),i(411),i(451),i(483),i(650)},function(e,t,i){i(412),i(431),i(437)},function(e,t,i){e.exports=i(414),i(415),i(416),i(417),i(418),i(419),i(420),i(421),i(422),i(413),i(423),i(424),i(425),i(426),i(427),i(428),i(429),i(430)},function(e,t,i){var n=i(414),o=i(170).inherit;n.PMOS=function(e,t,i,o,r,a){n.AbstractComponent.call(this,e),this.type=n.ComponentType.pmos,this.addTerminal("gate").connect(t),this.addTerminal("source").connect(i),this.addTerminal("drain").connect(o),this.beta=a,this.Vt=r},n.PMOS.prototype=o(n.AbstractComponent.prototype),n.PMOS.prototype.constructor=n.PMOS,n.PMOS.prototype.getBeta=function(){return this.beta},n.PMOS.prototype.getVt=function(){return this.Vt}},function(e,t,i){var n=i(173),o=function(e,t){this.simulator=e,t?(this.parent=t,this.parent.subCircuits.add(this)):this.parent=null,this.subCircuits=new n.HashSet,this.components=new n.HashSet,this.nets=new n.HashSet,this.ref2net=new n.HashMap,this.triggers=new n.HashSet};o.prototype.addSubCircuit=function(){var e=new o(this.simulator,this);return this.subCircuits.add(e),e},o.prototype.addComponent=function(e){var t=this;t.components.add(e),t.parent&&e.subcircuits.add(t),e.type===o.ComponentType.trigger&&t.triggers.add(e)},o.prototype.addNet=function(e){var t=this;t.nets.add(e),e.references.forEach(function(i){t.ref2net.put(i,e)}),t.parent&&e.subcircuits.add(t)},o.prototype.removeNet=function(e){var t=this;e.references.forEach(function(e){t.ref2net.remove(e)}),this.nets.remove(e)},o.prototype.mergeNets=function(e,t){var i=this,n=this.dereferenceNetIfNeeded(e),o=this.dereferenceNetIfNeeded(t);if(n!=o){var r=o.terminals.copy();r.forEach(function(e){e.connect(n)}),o.references.forEach(function(e){n.references.add(e),i.ref2net.put(e,n)}),this.nets.remove(o)}},o.Net=function(e){this.references=new n.HashSet,e&&this.references.add(e),this.terminals=new n.HashSet,this.subcircuits=new n.HashSet},o.Net.prototype.isShared=function(){return this.subcircuits.size()>1},o.prototype.state_size=function(){var e=0;return this.components.forEach(function(t){e+=t.state_size()}),e},o.prototype.dereferenceNetIfNeeded=function(e){var t;return e&&e.constructor!=o.Net?e.constructor==o.Terminal?t=e.net:(t=this.ref2net.get(e),null==t&&(t=new o.Net(e),this.nets.add(t),this.ref2net.put(e,t))):t=e,t},o.Terminal=function(e,t,i){this.component=e,this.name=t,this.net=i},o.Terminal.prototype.connect=function(e){this.net&&this.net.terminals.remove(this),this.net=e,this.net.terminals.add(this)},o.Terminal.prototype.disconnect=function(){this.net&&this.net.terminals.remove(this),this.net=null},o.ComponentType={voltage:0,current:1,resistor:2,capacitor:3,inductor:4,diode:5,npn:6,pnp:7,nmos:8,pmos:9,vccs:10,vcvs:11,cccs:12,ccvs:13,opamp:14,trigger:15},o.prototype.addTrigger=function(e,t,i){for(var n=arguments[0],r=arguments[arguments.length-1],a=!0,s=[],c=1;c<arguments.length-1;c++){var l=arguments[c],d=this.dereferenceNetIfNeeded(l);s.push(d)}var u=new o.Trigger(this,r,n,s,a);return this.addComponent(u),this.triggers.add(u),u},o.prototype.addDynamicTrigger=function(e,t,i,n){for(var r=arguments[0],a=arguments[1],s=arguments[arguments.length-1],c=!1,l=[],d=2;d<arguments.length-1;d++){var u=arguments[d],h=this.dereferenceNetIfNeeded(u);l.push(h)}var p=new o.Trigger(this,s,r,l,c,a);return this.addComponent(p),this.triggers.add(p),p},o.prototype.addVoltageSource=function(e,t,i,n,r){var a=new o.VoltageSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i,n,1/0,r);return this.addComponent(a),a},o.prototype.addCurrentLimitingVoltageSource=function(e,t,i,n,r){var a=new o.VoltageSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i,n,r,!1);return this.addComponent(a),a},o.prototype.addCurrentSource=function(e,t,i){var n=new o.CurrentSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i);return this.addComponent(n),n},o.prototype.addVoltageControlledCurrentSource=function(e,t,i,n,r){var a=new o.VoltageControlledCurrentSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),this.dereferenceNetIfNeeded(n),r);return this.addComponent(a),a},o.prototype.addVoltageControlledVoltageSource=function(e,t,i,n,r,a){var s=new o.VoltageControlledVoltageSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),this.dereferenceNetIfNeeded(n),r,a);return this.addComponent(s),s},o.prototype.addCurrentControlledCurrentSource=function(e,t,i,n,r,a){var s=new o.CurrentControlledCurrentSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),this.dereferenceNetIfNeeded(n),r,a);return this.addComponent(s),s},o.prototype.addCurrentControlledVoltageSource=function(e,t,i,n,r,a,s){var c=new o.CurrentControlledVoltageSource(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),this.dereferenceNetIfNeeded(n),r,a,s);return this.addComponent(c),c},o.prototype.addOpAmp=function(e,t,i,n,r,a,s,c){var l=new o.opAmp(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),this.dereferenceNetIfNeeded(n),this.dereferenceNetIfNeeded(r),a,s,c);return this.addComponent(l),l},o.prototype.addResistor=function(e,t,i){var n=new o.Resistor(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i);return this.addComponent(n),n},o.prototype.addCapacitor=function(e,t,i){var n=new o.Capacitor(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i);return this.addComponent(n),n},o.prototype.addInductor=function(e,t,i){var n=new o.Inductor(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i);return this.addComponent(n),n},o.prototype.addDiode=function(e,t,i,n){var r=new o.Diode(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),i,n);return this.addComponent(r),r},o.prototype.addNPN=function(e,t,i){var n=new o.NPN(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i));return this.addComponent(n),n},o.prototype.addPNP=function(e,t,i){var n=new o.PNP(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i));return this.addComponent(n),n},o.prototype.addNMOS=function(e,t,i,n,r){var a=new o.NMOS(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),n,r);return this.addComponent(a),a},o.prototype.addPMOS=function(e,t,i,n,r){var a=new o.PMOS(this,this.dereferenceNetIfNeeded(e),this.dereferenceNetIfNeeded(t),this.dereferenceNetIfNeeded(i),n,r);return this.addComponent(a),a},o.prototype.split=function(){var e=this,t=0;this.components.forEach(function(i){if(i.type==o.ComponentType.voltage&&i.splittable){var r=i.getNet("pos"),a=i.getNet("neg");if(a!=r){i.subSources=new n.HashSet;var s=!1;r.terminals.forEach(function(n){if(n.component!=i&&s++){var o=e.dereferenceNetIfNeeded("_voltageSourceSplit_newVccNet_idx_"+t++),r=e.addVoltageSource(o,a,i.vin,i.rin);i.subSources.add(r),r.splittedFrom=i,n.connect(o)}})}}});var i=new n.Graph;this.nets.forEach(function(e){i.addVertex(e)}),this.components.forEach(function(e){e.terminals.forEachPair(function(t,n,o,r){i.addEdge(n.net,r.net,null,e)})});var r=i.getBiconnectedComponents();r.forEach(function(t){var i=e.addSubCircuit();t.edges.forEach(function(e){i.addComponent(e.data)}),t.vertices.forEach(function(e,t){i.addNet(e)}),i.mergeSplittedVoltageSources()})},o.prototype.mergeSplittedVoltageSources=function(){var e=this,t=new n.HashMap;this.components.forEach(function(e){if(e.type==o.ComponentType.voltage&&e.splittedFrom){var i=t.get(e.splittedFrom);i?i.push(e):t.put(e.splittedFrom,[e])}}),t.forEach(function(t,i){var n=t;e.components.contains(t)||(n=i.pop());var o=n.getNet("pos");i.forEach(function(i){var n=i.getNet("pos").terminals.getIndex(1);n.component==i&&(n=i.getNet("pos").terminals.getIndex(0)),n.connect(o),i.terminals.get("neg").disconnect(),e.removeNet(i.getNet("pos")),t.subSources.remove(i),e.components.remove(i)})})},e.exports=o},function(e,t,i){var n=i(414),o=i(173);n.AbstractComponent=function(e){this.circuit=e,this.type=null,this.terminals=new o.HashMap,this.control_signals=new o.HashSet,this.subcircuits=new o.HashSet},n.AbstractComponent.prototype.getNet=function(e){return this.terminals.get(e).net},n.AbstractComponent.prototype.add_potential_control=function(e){e.add_process&&this.control_signals.add(e)},n.AbstractComponent.prototype.addTerminal=function(e,t){var i=new n.Terminal(this,e,t);return this.terminals.put(e,i),i},n.AbstractComponent.prototype.state_size=function(){return 0},n.AbstractComponent.prototype.getParamState=function(){var e=[];return this.control_signals.forEach(function(t){e.push(t.value())}),e}},function(e,t,i){var n=i(414),o=i(170).inherit;n.Trigger=function(e,t,i,o,r,a){n.AbstractComponent.call(this,e),this.type=n.ComponentType.trigger,this.trigger_signal=i,this.enable_signal=a,this.cached=!0,void 0!==r&&(this.cached=r);for(var s=0;s<o.length;s++){var c=o[s],l="term_"+s;this.addTerminal(l).connect(c)}this.func=t},n.Trigger.prototype=o(n.AbstractComponent.prototype),n.Trigger.prototype.constructor=n.Trigger},function(e,t,i){var n=i(414),o=i(170).inherit;n.Capacitor=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.capacitor,this.term1=this.addTerminal("term1"),this.term1.connect(t),this.term2=this.addTerminal("term2"),this.term2.connect(i),this.capacitance=o,this.add_potential_control(o)},n.Capacitor.prototype=o(n.AbstractComponent.prototype),n.Capacitor.prototype.constructor=n.Capacitor,n.Capacitor.prototype.getCapacitance=function(){return this.capacitance.value?this.capacitance.value():this.capacitance},n.Capacitor.prototype.state_size=function(){return 2},n.Capacitor.prototype.getVoltage=function(e){var t=this.circuit.simulator.time.time;return 0==e?this.circuit.simulator.analog_model.measure(t,this.term1,this.term2):this.circuit.simulator.analog_model.average(t,this.term1,this.term2,.01)}},function(e,t,i){var n=i(414),o=i(170).inherit;n.Diode=function(e,t,i,o,r){n.AbstractComponent.call(this,e),this.type=n.ComponentType.diode,this.anode=this.addTerminal("anode"),this.anode.connect(t),this.cathode=this.addTerminal("cathode"),this.cathode.connect(i),this.Is=o;var a=1e4,s=.0258*r,c=Math.log((a+o)/o)*s,l=Math.exp(c/s),d=o*l/s,u=o*(l-1)-d*c;this.Vt=s,this.Vcrit=c,this.linearParam={a:u,b:d}},n.Diode.prototype=o(n.AbstractComponent.prototype),n.Diode.prototype.constructor=n.Diode,n.Diode.prototype.getIs=function(){return this.Is},n.Diode.prototype.getVt=function(){return this.Vt},n.Diode.prototype.getLinearParam=function(){return this.linearParam},n.Diode.prototype.getVcrit=function(){return this.Vcrit},n.Diode.prototype.getVoltage=function(e){var t=this.circuit.simulator.time.time;return 0==e?this.circuit.simulator.analog_model.measure(t,this.anode,this.cathode):this.circuit.simulator.analog_model.average(t,this.anode,this.cathode,.03)},n.Diode.prototype.getCurrent=function(e){var t=this,i=function(e){if(e<t.Vcrit)var i=t.Is*(Math.exp(e/t.Vt)-1);else var i=t.linearParam.a+t.linearParam.b*e;return i},n=this.circuit.simulator.time.time;return 0==e?i(this.circuit.simulator.analog_model.measure(n,this.anode,this.cathode)):this.circuit.simulator.analog_model.average(n,this.anode,this.cathode,.03,i)}},function(e,t,i){var n=i(414),o=i(170).inherit;n.Inductor=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.inductor,this.addTerminal("term1").connect(t),this.addTerminal("term2").connect(i),this.inductance=o,this.add_potential_control(o)},n.Inductor.prototype=o(n.AbstractComponent.prototype),n.Inductor.prototype.constructor=n.Inductor,n.Inductor.prototype.getInductance=function(){return this.inductance.value?this.inductance.value():this.inductance},n.Inductor.prototype.state_size=function(){return 2}},function(e,t,i){var n=i(414),o=i(170).inherit;n.NPN=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.npn,this.addTerminal("base").connect(t),this.addTerminal("emitter").connect(i),this.addTerminal("collector").connect(o)},n.NPN.prototype=o(n.AbstractComponent.prototype),n.NPN.prototype.constructor=n.NPN},function(e,t,i){var n=i(414),o=i(170).inherit;n.PNP=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.pnp,this.addTerminal("base").connect(t),this.addTerminal("emitter").connect(i),this.addTerminal("collector").connect(o)},n.PNP.prototype=o(n.AbstractComponent.prototype),n.PNP.prototype.constructor=n.PNP},function(e,t,i){var n=i(414),o=i(170).inherit;n.NMOS=function(e,t,i,o,r,a){n.AbstractComponent.call(this,e),this.type=n.ComponentType.nmos,this.addTerminal("gate").connect(t),this.addTerminal("source").connect(i),this.addTerminal("drain").connect(o),this.beta=a,this.Vt=r},n.NMOS.prototype=o(n.AbstractComponent.prototype),n.NMOS.prototype.constructor=n.NMOS,n.NMOS.prototype.getBeta=function(){return this.beta},n.NMOS.prototype.getVt=function(){return this.Vt}},function(e,t,i){var n=i(414),o=i(170).inherit;n.Resistor=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.resistor,this.term1=this.addTerminal("term1"),this.term1.connect(t),this.term2=this.addTerminal("term2"),this.term2.connect(i),this.resistance=o,this.add_potential_control(o)},n.Resistor.prototype=o(n.AbstractComponent.prototype),n.Resistor.prototype.constructor=n.Resistor,n.Resistor.prototype.getResistance=function(){return this.resistance.value?this.resistance.value():this.resistance},n.Resistor.prototype.getVoltage=function(e){var t=this.circuit.simulator.time.time;return 0==e?this.circuit.simulator.analog_model.measure(t,this.term1,this.term2):this.circuit.simulator.analog_model.average(t,this.term1,this.term2,.01)},n.Resistor.prototype.getCurrent=function(e){return this.getVoltage(e)/this.getResistance()}},function(e,t,i){var n=i(414),o=i(170).inherit;n.VoltageControlledCurrentSource=function(e,t,i,o,r,a){n.AbstractComponent.call(this,e),this.type=n.ComponentType.vccs,this.addTerminal("sense_pos").connect(t),this.addTerminal("sense_neg").connect(i),this.addTerminal("pos").connect(o),this.addTerminal("neg").connect(r),this.g=a,this.add_potential_control(a)},n.VoltageControlledCurrentSource.prototype=o(n.AbstractComponent.prototype),n.VoltageControlledCurrentSource.prototype.constructor=n.VoltageControlledCurrentSource,n.VoltageControlledCurrentSource.prototype.getG=function(){return this.g.value?this.g.value():this.g}},function(e,t,i){var n=i(414),o=i(170).inherit;n.VoltageControlledVoltageSource=function(e,t,i,o,r,a,s){n.AbstractComponent.call(this,e),this.type=n.ComponentType.vcvs,this.addTerminal("sense_pos").connect(t),this.addTerminal("sense_neg").connect(i),this.addTerminal("pos").connect(o),this.addTerminal("neg").connect(r),this.rout=a,this.Av=s,this.add_potential_control(a),this.add_potential_control(s)},n.VoltageControlledVoltageSource.prototype=o(n.AbstractComponent.prototype),n.VoltageControlledVoltageSource.prototype.constructor=n.VoltageControlledVoltageSource,n.VoltageControlledVoltageSource.prototype.getRout=function(){return this.rout.value?this.rout.value():this.rout},n.VoltageControlledVoltageSource.prototype.getAv=function(){return this.Av.value?this.Av.value():this.Av}},function(e,t,i){var n=i(414),o=i(170).inherit;n.CurrentControlledCurrentSource=function(e,t,i,o,r,a,s){n.AbstractComponent.call(this,e),this.type=n.ComponentType.cccs,this.addTerminal("sense_pos").connect(t),this.addTerminal("sense_neg").connect(i),this.addTerminal("pos").connect(o),this.addTerminal("neg").connect(r),this.rin=a,this.Ai=s,this.add_potential_control(a),this.add_potential_control(s)},n.CurrentControlledCurrentSource.prototype=o(n.AbstractComponent.prototype),n.CurrentControlledCurrentSource.prototype.constructor=n.CurrentControlledCurrentSource,n.CurrentControlledCurrentSource.prototype.getAi=function(){return this.Ai.value?this.Ai.value():this.Ai},n.CurrentControlledCurrentSource.prototype.getRin=function(){return this.rin.value?this.rin.value():this.rin}},function(e,t,i){var n=i(414),o=i(170).inherit;n.CurrentControlledVoltageSource=function(e,t,i,o,r,a,s,c){n.AbstractComponent.call(this,e),this.type=n.ComponentType.ccvs,this.addTerminal("sense_pos").connect(t),this.addTerminal("sense_neg").connect(i),this.addTerminal("pos").connect(o),this.addTerminal("neg").connect(r),this.rin=a,this.rout=s,this.Ar=c,this.add_potential_control(a),this.add_potential_control(s),this.add_potential_control(c)},n.CurrentControlledVoltageSource.prototype=o(n.AbstractComponent.prototype),n.CurrentControlledVoltageSource.prototype.constructor=n.CurrentControlledVoltageSource,n.CurrentControlledVoltageSource.prototype.getRin=function(){return this.rin.value?this.rin.value():this.rin},n.CurrentControlledVoltageSource.prototype.getRout=function(){return this.rout.value?this.rout.value():this.rout},n.CurrentControlledVoltageSource.prototype.getAr=function(){return this.Ar.value?this.Ar.value():this.Ar}},function(e,t,i){var n=i(414),o=i(170).inherit;n.VoltageSource=function(e,t,i,o,r,a,s){n.AbstractComponent.call(this,e),this.type=n.ComponentType.voltage,this.termPos=this.addTerminal("pos"),this.termPos.connect(t),this.termNeg=this.addTerminal("neg"),this.termNeg.connect(i),this.vin=o,this.rin=r,this.iset=a,this.add_potential_control(o),this.add_potential_control(r),this.add_potential_control(a),this.splittable=s},n.VoltageSource.prototype=o(n.AbstractComponent.prototype),
n.VoltageSource.prototype.constructor=n.VoltageSource,n.VoltageSource.prototype.getRin=function(){return this.rin.value?this.rin.value():this.rin},n.VoltageSource.prototype.getVin=function(){return this.vin.value?this.vin.value():this.vin},n.VoltageSource.prototype.getIset=function(){return this.iset.value?this.iset.value():this.iset},n.VoltageSource.prototype.getVoltage=function(e){var t=this.circuit.simulator.time.time;return 0==e?this.circuit.simulator.analog_model.measure(t,this.termPos,this.termNeg):this.circuit.simulator.analog_model.average(t,this.termPos,this.termNeg,.03)},n.VoltageSource.prototype.getCurrent=function(e){var t=this.getRin(),i=this.getVin(),n=this.getIset(),o=this.getVoltage(e),r=i-n*t>o?n:(i-o)/t;return this.subSources&&this.subSources.forEach(function(n){var o=n.getVoltage(e);r+=(i-o)/t}),r}},function(e,t,i){var n=i(414),o=i(170).inherit;n.CurrentSource=function(e,t,i,o){n.AbstractComponent.call(this,e),this.type=n.ComponentType.current,this.termPos=this.addTerminal("pos"),this.termPos.connect(t),this.termNeg=this.addTerminal("neg"),this.termNeg.connect(i),this.current=o,this.add_potential_control(o)},n.CurrentSource.prototype=o(n.AbstractComponent.prototype),n.CurrentSource.prototype.constructor=n.CurrentSource,n.CurrentSource.prototype.getCurrent=function(){return this.current.value?this.current.value():this.current},n.CurrentSource.prototype.getVoltage=function(e){var t=this.circuit.simulator.time.time;return 0==e?this.circuit.simulator.analog_model.measure(t,this.termPos,this.termNeg):this.circuit.simulator.analog_model.average(t,this.termPos,this.termNeg,.01)}},function(e,t,i){var n=i(414),o=i(170).inherit;n.opAmp=function(e,t,i,o,r,a,s,c,l){n.AbstractComponent.call(this,e),this.type=n.ComponentType.opamp,this.addTerminal("supply_pos").connect(o),this.addTerminal("supply_neg").connect(r),this.addTerminal("sense_pos").connect(t),this.addTerminal("sense_neg").connect(i),this.addTerminal("out").connect(a),this.rout=c,this.Av=l,this.rin=s,this.add_potential_control(s),this.add_potential_control(c),this.add_potential_control(l)},n.opAmp.prototype=o(n.AbstractComponent.prototype),n.opAmp.prototype.constructor=n.opAmp,n.opAmp.prototype.getRout=function(){return this.rout.value?this.rout.value():this.rout},n.opAmp.prototype.getRin=function(){return this.rin.value?this.rin.value():this.rin},n.opAmp.prototype.getAv=function(){return this.Av.value?this.Av.value():this.Av}},function(e,t,i){i(432),i(434),i(435),i(436)},function(e,t,i){var n=i(412),o=i(173),r=i(433);r.AnalogModel=function(e,t,i){var a=this;a.sim=e,a.analog=t,a.accuracy=.1,a.small_h=1e-15,a.start_h=1e6*a.small_h,a.net2index=new o.HashMap,a.index2net=new o.HashMap,a.gndNet=this.chooseGndNet(),a.net2index.put(a.gndNet,0),a.index2net.put(0,a.gndNet);var s=1;t.nets.forEach(function(e){e!=a.gndNet&&(a.net2index.put(e,s),a.index2net.put(s,e),s++)}),a.state_size=this.analog.state_size(),a.compToStateIndex=new o.HashMap;var c=0;this.analog.components.forEach(function(e){switch(e.type){case n.ComponentType.capacitor:case n.ComponentType.inductor:a.compToStateIndex.put(e,c),c+=2}}),a.piecewise_waveform=new r.PiecewiseWaveform(this.analog.nets.size(),a.state_size),a.voltage_observer=new r.PiecewiseWaveform.Observer(a.piecewise_waveform),a.observers=new o.HashMap,a.cached_triggers=new o.HashSet,a.dynamic_triggers=new o.HashSet,this.analog.triggers.forEach(function(e){e.cached?a.cached_triggers.add(new r.AnalogModel.Trigger(a,e)):a.dynamic_triggers.add(new r.AnalogModel.Trigger(a,e))}),this.tree_cache=new o.HashMap;var l=[a,a.run_until_steady_state];this.analog.components.forEach(function(e){e.control_signals.forEach(function(e){e.add_process(l)})}),a.dynamic_triggers.forEach(function(e){var t=e.trigger.trigger_signal,i=e.trigger.enable_signal;i.add_process([null,function(){if(i.rising_edge()){var n=new o.HashSet,r=a.piecewise_waveform.getLastSegment();n.addAll(a.trigger_events_waveform(e,r.waveform)),n.forEach(function(e){var t=r.time+e.time;if(t>=i.current_time.time){var n=e.trigger;n.fire(t,e.value)}})}else i.falling_edge()&&t.setValue(0,0)}])}),i||a.run_until_steady_state()},r.AnalogModel.prototype.chooseGndNet=function(){var e=this,t=new o.HashMap;e.analog.components.forEach(function(e){if(e.type==n.ComponentType.voltage){var i=e.getNet("neg"),o=t.get(i);if(o)o.points++;else{var o={net:i,points:1};i.isShared()&&o.points++,t.put(i,o)}}});var i=t.getMax(function(e,t){return e.points>t.points});if(i)var r=i.net;else var r=e.analog.nets.getIndex(0);return r},r.AnalogModel.prototype.garbage_collect=function(e,t){this.piecewise_waveform.garbage_collect(e,t)},r.stateDistance=function(e,t){var i=numeric.sub(e,t),n=Math.sqrt(numeric.dot(i,i));return n},r.AnalogModel.prototype.c3_data=function(e,t,i,n){var o=this,r=o.net2index.get(o.analog.dereferenceNetIfNeeded(e)),a=o.net2index.get(o.analog.dereferenceNetIfNeeded(t)),s=o.piecewise_waveform.c3_data(r,a,i,n);return s},r.AnalogModel.prototype.observeDCconvergence=function(e,t){for(var i=this,n=0,o=i.voltage_observer.state_vector(n),r=i.voltage_observer.voltage_vector(n),a=[["step"]],s=[],c=0;c<e.length;c++)a.push(["volt"+c]),idx_pos=i.net2index.get(i.analog.dereferenceNetIfNeeded(e[c][0])),idx_neg=i.net2index.get(i.analog.dereferenceNetIfNeeded(e[c][1])),s.push([idx_pos,idx_neg]);a.push(["gmin"],["norm"]);var l=0,d=function(e,i,n){if(t>l){a[0].push(l++);for(var o=0;o<s.length;o++)a[o+1].push(e[s[o][0]]-e[s[o][1]]);a[o+1].push(i),a[o+2].push(n)}};d(r,0);var u=i.runStep(i.start_h,r,o,1,100,d);return i.initialDC_NRiterations=u.iterations,u.converged||(u=i.runStep(i.start_h,r,o,10,1e4,d),i.initialDC_NRiterations=i.initialDC_NRiterations.concat(u.iterations)),a},r.AnalogModel.prototype.getIterationInfo=function(){var e=numeric.sum(this.initialDC_NRiterations);return{rawDC:this.initialDC_NRiterations,DCtot:e}},r.AnalogModel.prototype.waveform=function(e,t,i,n,o){for(var a=this,s=a.net2index.get(a.analog.dereferenceNetIfNeeded(e)),c=a.net2index.get(a.analog.dereferenceNetIfNeeded(t)),l=new r.PiecewiseWaveform.Observer(a.piecewise_waveform),d=[],u=i;n>u;u+=(n-i)/o)d.push({x:u,y:l.value(u,s,c)});return d},r.AnalogModel.prototype.minmax=function(e,t,i,n,o){var a=this,s=a.net2index.get(a.analog.dereferenceNetIfNeeded(i)),c=a.net2index.get(a.analog.dereferenceNetIfNeeded(n)),l="minmax_"+s+"_"+c+"_"+t,d=a.observers.get(l);d||(d=new r.PiecewiseWaveform.MinMaxObserver(a.piecewise_waveform,s,c,o),a.observers.put(l,d));var u=d.value(e,t);return u},r.AnalogModel.prototype.average=function(e,t,i,n,o){var a=this,s=a.net2index.get(a.analog.dereferenceNetIfNeeded(t)),c=a.net2index.get(a.analog.dereferenceNetIfNeeded(i)),l="average_"+s+"_"+c+"_"+n,d=a.observers.get(l);d||(d=new r.PiecewiseWaveform.AverageObserver(a.piecewise_waveform,s,c,n,o),a.observers.put(l,d));var u=d.value(e);return u},r.AnalogModel.prototype.measure=function(e,t,i){var n=this,o=n.net2index.get(n.analog.dereferenceNetIfNeeded(t)),a=n.net2index.get(n.analog.dereferenceNetIfNeeded(i)),s="measure_"+o+"_"+a,c=n.observers.get(s);c||(c=new r.PiecewiseWaveform.Observer(n.piecewise_waveform),n.observers.put(s,c));var l=c.value(e,o,a);return l},r.AnalogModel.prototype.size=function(){return this.analog.nets.size()},r.AnalogModel.prototype.getTotalState=function(e){var t=this,i=[],o=[];return this.analog.components.forEach(function(e){i.push.apply(i,e.getParamState())}),this.analog.components.forEach(function(i){switch(i.type){case n.ComponentType.capacitor:case n.ComponentType.inductor:var r=t.compToStateIndex.get(i);o.push(e[r])}}),0==i.length&&i.push(0),0==o.length&&o.push(0),{param_vector:i,state_vector:o}},r.AnalogModel.prototype.trigger_events_single=function(e,t,i,n,r){var a=new o.HashSet;if(e.forEach)e.forEach(function(e){if(e.isEnabled()){var o=e.trigger_event(t,i,n,r);null!==o&&a.add(o)}});else{var s=e;if(s.isEnabled()){var c=s.trigger_event(t,i,n,r);null!==c&&a.add(c)}}return a},r.AnalogModel.prototype.trigger_events_waveform=function(e,t){for(var i=new o.HashSet,n=0;n<t.points.length-1;n++){var r=t.points[n],a=t.points[n+1];if(e.forEach)e.forEach(function(e){if(e.isEnabled()){var t=e.trigger_event(r.time,r.voltage,a.time,a.voltage);null!==t&&i.add(t)}});else{var s=e;if(s.isEnabled()){var c=s.trigger_event(r.time,r.voltage,a.time,a.voltage);null!==c&&i.add(c)}}}return i},r.AnalogModel.prototype.run_until_steady_state=function(){var e=this,t=e.sim.time.time,i=e.voltage_observer.state_vector(t),n=e.voltage_observer.voltage_vector(t),a=e.getTotalState(i),s=a.param_vector,c=a.state_vector,l=e.tree_cache.get(s.toString());if(!l){for(var d=[],u=0;u<this.analog.state_size();u++)d.push(u);l=new kdTree([],r.stateDistance,d),e.tree_cache.put(s.toString(),l)}var h=l.nearest(c,1);if(h&&h[0][1]<.001)var p=h[0][0].result;else{var p={};p.waveform=e.raw_run_until_steady_state(i,n),p.triggers_fired=e.trigger_events_waveform(e.cached_triggers,p.waveform),c.result=p,l.insert(c)}var g=p.waveform.getPoint(0).voltage,m=new o.HashSet;m.addAll(p.triggers_fired),m.addAll(e.trigger_events_single(e.cached_triggers,0,n,0,g)),m.addAll(e.trigger_events_single(e.dynamic_triggers,0,n,0,g)),m.addAll(e.trigger_events_waveform(e.dynamic_triggers,p.waveform));var f=[];m.forEach(function(e){var i=e.trigger,n=i.fire(t+e.time,e.value);f.push(n)}),e.piecewise_waveform.addSegment(t,p.waveform,f)},r.AnalogModel.prototype.raw_run_until_steady_state=function(e,t){var i=this,n=0,o=0,a=null,s=1e-4,c=e,l=e,d=i.runStep(i.start_h,t,l,1,50);if(i.initialDC_NRiterations=d.iterations,o+=numeric.sum(d.iterations),d.converged||(d=i.runStep(i.start_h,t,l,10,1e3),i.initialDC_NRiterations=i.initialDC_NRiterations.concat(d.iterations),o+=numeric.sum(d.iterations)),!d.converged)throw console.log("Initial DC analysis did not converge"),new r.throwSimException("Initial DC analysis did not converge");var u=[0,null,null],h=[d.voltage,null,null];l=i.calculateNextState(i.start_h,l,h[0]);var p=new r.Waveform;p.addPoint(u[0],h[0],l);for(var g=i.start_h,m=1;;){if(g<i.small_h)throw console.log("Trouble in the transient analysis loop, aborting. Step size became very small."),new r.throwSimException("Trouble in the transient analysis loop, aborting. Step size became very small.");var d=i.runStep(g,h[0],l,m,500);if(o+=numeric.sum(d.iterations),o>1e4)throw new r.throwSimException("Trouble in the transient analysis loop, aborting, too many iterations needed.");if(d.converged){if(m=1,3>n)a=0;else{var f=-1/12,_=numeric.mul(numeric.sub(d.voltage,h[0]),1/g),v=numeric.mul(numeric.sub(h[0],h[1]),1/(u[0]-u[1])),y=numeric.mul(numeric.sub(h[1],h[2]),1/(u[1]-u[2])),C=6*f*g*g*g/(u[0]+g-u[2]),b=numeric.sub(numeric.mul(numeric.sub(_,v),C/(u[0]+g-u[1])),numeric.mul(numeric.sub(v,y),C/(u[0]-u[2])));a=Math.sqrt(numeric.dot(b,b))}if(isNaN(a))throw console.log("Trouble in the transient analysis loop, aborting. PLTE was NaN."),new r.throwSimException("Trouble in the transient analysis loop, aborting. PLTE was NaN.");if(s>a){h.unshift(d.voltage),h.pop(),u.unshift(u[0]+g),u.pop(),c=l,l=i.calculateNextState(g,l,h[0]);var w=numeric.sub(l,c);if(0==w.length)var M=0;else var M=Math.sqrt(numeric.dot(w,w));if(1e-6>M/g)return p;p.addPoint(u[0],h[0],l),n+=1}a>s?g/=1.5:s/10>a&&(g*=1.5)}else g/=1.5,m+=1}},r.AnalogModel.prototype.runStep=function(e,t,i,n,o,r){for(var a=this,s=[],c=0;c<this.size();c++)s[c]=t[c];for(var l=10>=n?n:10,d=[],u=10-l;10>u;u++){for(var h,p,g=Math.pow(10,u),m=Number.POSITIVE_INFINITY,f=0,_=Number.POSITIVE_INFINITY,v=1,y=!1,C=!1,b=0,w=[],M=0;M<this.size()-1;M++)w[M]=1;for(;m>1e-6&&o>f;){for(var S=[],c=0;c<this.size();c++){S[c]=[];for(var x=0;x<this.size();x++)S[c][x]=0}for(var T=[],c=0;c<this.size();c++)T[c]=0;this.analog.components.forEach(function(t){a.addComponent(e,"notused",S,T,t,s,i)}),9>u&&this.analog.nets.forEach(function(t){t!==a.gndNet&&a.addResistor(e,"notused",S,T,null,s,i,t,a.gndNet,g)});for(var E=[],c=1;c<this.size();c++)E[c-1]=S[c].slice(1);var A=T.slice(1),D=s.slice(1),L=numeric.norm2(A);if(y&&L>_&&100>b){for(var M=0;M<w.length;M++)w[M]=1;p=numeric.mul(p,.5);var B=numeric.sub(h,p);B.unshift(0),s=B,b++}else{var k=numeric.LU(E);if(p=numeric.LUsolve(k,A),C){var R=numeric.div(p,v);v=p;for(var M=0;M<R.length;M++)R[M]>0&&Math.abs(Math.log(R[M]))<.5?w[M]=Math.min(1.2*w[M],10):w[M]=1;p=numeric.mul(w,p)}var m=numeric.norm2(p),B=numeric.sub(D,p);B.unshift(0),s=B,_=L,h=D,f>25&&(y=!0),f>3&&(C=!0),b=0,f++,r&&r.call(this,s,u,L)}}if(d.push(f),f>=o||isNaN(m))return{voltage:s,converged:!1,iterations:d}}return{voltage:s,converged:!0,iterations:d}},r.AnalogModel.prototype.MAX_CONDUCTANCE=1e5,r.AnalogModel.prototype.calculateNextState=function(e,t,i){var o=this,r=[],a=0;return this.analog.components.forEach(function(s){switch(s.type){case n.ComponentType.capacitor:var c=t[a++],l=t[a++],d=s.getCapacitance(),u=2*d/e;u>o.MAX_CONDUCTANCE&&(u=o.MAX_CONDUCTANCE);var h=l+u*c,p=o.net2index.get(s.getNet("term1")),g=o.net2index.get(s.getNet("term2")),m=i[p]-i[g],f=m*u-h;r.push(m),r.push(f);break;case n.ComponentType.inductor:var l=t[a++],c=t[a++],_=s.getInductance(),u=e/(2*_);u>o.MAX_CONDUCTANCE&&(u=o.MAX_CONDUCTANCE);var h=l+u*c,p=o.net2index.get(s.getNet("term1")),g=o.net2index.get(s.getNet("term2")),m=i[p]-i[g],f=m*u+h;r.push(f),r.push(m)}}),r},r.AnalogModel.prototype.addComponent=function(e,t,i,o,r,a,s){switch(r.type){case n.ComponentType.voltage:this.addVoltageSource(e,t,i,o,r,a,s,r.getNet("pos"),r.getNet("neg"),r.getVin(),r.getRin(),r.getIset());break;case n.ComponentType.current:this.addCurrentSource(e,t,i,o,r,a,s,r.getNet("pos"),r.getNet("neg"),r.getCurrent());break;case n.ComponentType.resistor:this.addResistor(e,t,i,o,r,a,s,r.getNet("term1"),r.getNet("term2"),r.getResistance());break;case n.ComponentType.capacitor:this.addCapacitor(e,t,i,o,r,a,s,r.getNet("term1"),r.getNet("term2"),r.getCapacitance());break;case n.ComponentType.inductor:this.addInductor(e,t,i,o,r,a,s,r.getNet("term1"),r.getNet("term2"),r.getInductance());break;case n.ComponentType.diode:this.addDiode(e,t,i,o,r,a,s,r.getNet("anode"),r.getNet("cathode"),r.getIs(),r.getVt(),r.getVcrit(),r.getLinearParam());break;case n.ComponentType.npn:this.addNPN(e,t,i,o,r,a,s,r.getNet("base"),r.getNet("emitter"),r.getNet("collector"));break;case n.ComponentType.pnp:this.addPNP(e,t,i,o,r,a,s,r.getNet("base"),r.getNet("emitter"),r.getNet("collector"));break;case n.ComponentType.nmos:this.addNMOS(e,t,i,o,r,a,s,r.getNet("gate"),r.getNet("source"),r.getNet("drain"),r.getVt(),r.getBeta());break;case n.ComponentType.pmos:this.addPMOS(e,t,i,o,r,a,s,r.getNet("gate"),r.getNet("source"),r.getNet("drain"),r.getVt(),r.getBeta());break;case n.ComponentType.vccs:this.addVoltageControlledCurrentSource(e,t,i,o,r,a,s,r.getNet("sense_pos"),r.getNet("sense_neg"),r.getNet("pos"),r.getNet("neg"),r.getG());break;case n.ComponentType.vcvs:this.addVoltageControlledVoltageSource(e,t,i,o,r,a,s,r.getNet("sense_pos"),r.getNet("sense_neg"),r.getNet("pos"),r.getNet("neg"),r.getRout(),r.getAv());break;case n.ComponentType.cccs:this.addCurrentControlledCurrentSource(e,t,i,o,r,a,s,r.getNet("sense_pos"),r.getNet("sense_neg"),r.getNet("pos"),r.getNet("neg"),r.getRin(),r.getAi());break;case n.ComponentType.ccvs:this.addCurrentControlledVoltageSource(e,t,i,o,r,a,s,r.getNet("sense_pos"),r.getNet("sense_neg"),r.getNet("pos"),r.getNet("neg"),r.getRin(),r.getRout(),r.getAr());break;case n.ComponentType.opamp:this.addOpAmp(e,t,i,o,r,a,s,r.getNet("sense_pos"),r.getNet("sense_neg"),r.getNet("supply_pos"),r.getNet("supply_neg"),r.getNet("out"),r.getRin(),r.getRout(),r.getAv())}},r.AnalogModel.prototype.addResistor=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=s,h=c,p=d.net2index.get(u),g=d.net2index.get(h),m=1/l;m>d.MAX_CONDUCTANCE&&(m=d.MAX_CONDUCTANCE),i[p][p]+=m,i[g][g]+=m,i[p][g]+=-m,i[g][p]+=-m,n[p]+=+m*(r[p]-r[g]),n[g]+=-m*(r[p]-r[g])},r.AnalogModel.prototype.addCapacitor=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=s,h=c,p=d.compToStateIndex.get(o),g=a[p],m=a[p+1],f=2*l/e;f>d.MAX_CONDUCTANCE&&(f=d.MAX_CONDUCTANCE);var _=m+f*g;d.addCurrentSource(e,t,i,n,o,r,a,u,h,_),d.addResistor(e,t,i,n,o,r,a,u,h,1/f)},r.AnalogModel.prototype.addInductor=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=s,h=c,p=d.compToStateIndex.get(o),g=a[p],m=a[p+1],f=e/(2*l);f>d.MAX_CONDUCTANCE&&(f=d.MAX_CONDUCTANCE);var _=g+f*m;d.addCurrentSource(e,t,i,n,o,r,a,h,u,_),d.addResistor(e,t,i,n,o,r,a,u,h,1/f)},r.AnalogModel.prototype.addVoltageSource=function(e,t,i,n,o,r,a,s,c,l,d,u){var h=this,p=h.net2index.get(s),g=h.net2index.get(c),m=r[p]-r[g],f=l-u*d>m,_=f?0:1/d,v=f?u:(l-m)/d;i[p][p]+=_,i[g][g]+=_,i[p][g]+=-_,i[g][p]+=-_,n[p]+=-v,n[g]+=+v},r.AnalogModel.prototype.addCurrentSource=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=d.net2index.get(s),h=d.net2index.get(c);n[u]+=-l,n[h]+=+l},r.AnalogModel.prototype.addVoltageControlledCurrentSource=function(e,t,i,n,o,r,a,s,c,l,d,u){var h=this,p=h.net2index.get(l),g=h.net2index.get(d),m=h.net2index.get(s),f=h.net2index.get(c);i[p][m]+=-u,i[p][f]+=+u,i[g][m]+=+u,i[g][f]+=-u,n[p]+=-u*(r[m]-r[f]),n[g]+=+u*(r[m]-r[f])},r.AnalogModel.prototype.addVoltageControlledVoltageSource=function(e,t,i,n,o,r,a,s,c,l,d,u,h){var p=h/u;this.addVoltageControlledCurrentSource(e,t,i,n,o,r,a,s,c,l,d,p),this.addResistor(e,t,i,n,o,r,a,l,d,u)},r.AnalogModel.prototype.addCurrentControlledCurrentSource=function(e,t,i,n,o,r,a,s,c,l,d,u,h){var p=h/u;this.addResistor(e,t,i,n,o,r,a,s,c,u),this.addVoltageControlledCurrentSource(e,t,i,n,o,r,a,s,c,l,d,p)},r.AnalogModel.prototype.addCurrentControlledVoltageSource=function(e,t,i,n,o,r,a,s,c,l,d,u,h,p){var g=p/u/h;this.addResistor(e,t,i,n,o,r,a,s,c,u),this.addVoltageControlledCurrentSource(e,t,i,n,o,r,a,s,c,l,d,g),this.addResistor(e,t,i,n,o,r,a,l,d,h)},r.AnalogModel.prototype.addOpAmp=function(e,t,i,n,o,r,a,s,c,l,d,u,h,p,g){var m=this,f=m.net2index.get(u),_=m.net2index.get(l),v=m.net2index.get(d),y=m.net2index.get(s),C=m.net2index.get(c),b=r[v],w=r[_],M=r[f],S=w-b,x=M-b,T=r[y]-r[C];if(S>0){var E=2*g*T/S;if(E>10)var A=1;else if(-10>E)var A=-1;else var D=Math.exp(2*E),A=(D-1)/(D+1);var L=-(A+1)*S/(2*p),B=-(1-A*A)*g/p,k=(-B*T+L)/S}else var L=0,B=0,k=0;i[f][y]+=+B,i[f][C]+=-B,i[_][y]+=-B,i[_][C]+=+B,i[f][_]+=+k,i[f][v]+=-k,i[_][_]+=-k,i[_][v]+=+k,i[_][f]+=-1/p,i[v][f]+=1/p,n[f]+=L,n[_]+=-L-x/p,n[v]+=x/p,this.addResistor(e,t,i,n,o,r,a,u,d,p),this.addResistor(e,t,i,n,o,r,a,s,c,h),this.addResistor(e,t,i,n,o,r,a,c,d,1e10)},r.AnalogModel.prototype.TempOpAmp=function(){this.addVoltageControlledVoltageSource(h,mode,matrix,current,reference,voltage,state,sense_pos,sense_neg,out,supply_neg,rout,Av);var e=0,t=0,i=0;if(Vout>Vsupply?(e=-Vsupply/rout,t=0,i=-1/rout):Vout>0&&(e=-(g*Vin+Vsupply/(2*rout)),t=-g,i=-1/(2*rout)),matrix[out_index][sense_pos_index]+=+t,matrix[out_index][sense_neg_index]+=-t,matrix[supply_neg_index][sense_pos_index]+=-t,matrix[supply_neg_index][sense_neg_index]+=+t,matrix[out_index][supply_pos_index]+=i,matrix[out_index][supply_neg_index]+=-i,matrix[supply_neg_index][supply_pos_index]+=-i,matrix[supply_neg_index][supply_neg_index]+=+i,current[out_index]+=e,current[supply_neg_index]+=-e,Vsupply>0){var n=2*Av*Vin/Vsupply;if(n>10)var o=1;else if(-10>n)var o=-1;else var r=Math.exp(2*n),o=(r-1)/(r+1);var e=-(o+1)*Vsupply/(2*rout),t=-(1-o*o)*Av/rout,i=(-t*Vin+e)/Vsupply}else var e=-Vsupply/rout,t=0,i=-1/rout},r.AnalogModel.prototype.addDiode=function(e,t,i,n,o,r,a,s,c,l,d,u,h){var p=this,g=s,m=c,f=p.net2index.get(g),_=p.net2index.get(m),v=r[f],y=r[_],C=v-y;if(this.addResistor(e,t,i,n,o,r,a,s,c,1e10),u>C)var b=Math.exp(C/d),w=l*(b-1),M=l/d*b;else var w=h.a+h.b*C,M=h.b;i[f][f]+=M,i[f][_]+=-M,i[_][f]+=-M,i[_][_]+=M,n[f]+=w,n[_]+=-w},r.AnalogModel.prototype.addNMOS=function(e,t,i,n,o,r,a,s,c,l,d,u){var h=this,p=h.net2index.get(s),g=h.net2index.get(c),m=h.net2index.get(l),f=.01,_=r[p],v=r[g],y=r[m],C=_-v,b=y-v,w=0,M=0,S=0;C>d&&C-d>b?(w=u*(C-d-b)*(1+f*b)+u*((C-d)*b-Math.pow(b,2)/2)*f,M=u*b*(1+f*b),S=u*((C-d)*b-Math.pow(b,2)/2)*(1+f*b)):C>d&&b>=C-d&&(w=u/2*f*Math.pow(C-d,2),M=u*(C-d)*(1+f*b),S=u/2*Math.pow(C-d,2)*(1+f*b)),i[m][m]+=w,i[m][g]+=-(w+M),i[m][p]+=M,i[g][m]+=-w,i[g][g]+=w+M,i[g][p]+=-M,n[m]+=S,n[g]+=-S,this.addDiode(e,t,i,n,o,r,a,c,l,1e-12,.0258,.9505071264,{a:-358413.6156,b:387596.9}),this.addResistor(e,t,i,n,o,r,a,s,c,1e12)},r.AnalogModel.prototype.addPMOS=function(e,t,i,n,o,r,a,s,c,l,d,u){var h=this,p=h.net2index.get(s),g=h.net2index.get(c),m=h.net2index.get(l),f=.01,_=r[p],v=r[g],y=r[m],C=_-v,b=y-v,w=0,M=0,S=0;d>C&&b>C-d?(w=-u*(C-d-b)*(1-f*b)+u*((C-d)*b-Math.pow(b,2)/2)*f,M=-u*b*(1-f*b),S=-u*((C-d)*b-Math.pow(b,2)/2)*(1-f*b)):d>C&&C-d>=b&&(w=u/2*f*Math.pow(C-d,2),M=-u*(C-d)*(1-f*b),S=-u/2*Math.pow(C-d,2)*(1-f*b)),i[m][m]+=w,i[m][g]+=-(w+M),i[m][p]+=M,i[g][m]+=-w,i[g][g]+=w+M,i[g][p]+=-M,n[m]+=S,n[g]+=-S,this.addDiode(e,t,i,n,o,r,a,l,c,1e-12,.0258,.9505071264,{a:-358413.6156,b:387596.9}),this.addResistor(e,t,i,n,o,r,a,s,c,1e12)},r.AnalogModel.prototype.addNPN=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=c,h=s,p=l,g=d.net2index.get(u),m=d.net2index.get(h),f=d.net2index.get(p),_=2.39e-14,v=2.71e-14,y=.9966,C=.88,b=.0258,w=1.046841148,M=-395752.3758,S=387596.8922,x=1.043599242,T=-394495.8228,E=387596.8919,A=r[g],D=r[m],L=r[f],B=D-A,k=D-L;if(w>B)var R=Math.exp(B/b),I=_*(R-1),P=_/b*R;else var I=M+S*B,P=S;if(x>k)var R=Math.exp(k/b),N=v*(R-1),O=v/b*R;else var N=T+E*k,O=E;var V=P,G=C*O,U=y*P,F=O;i[m][m]+=F+V-U-G,i[m][g]+=U-V,i[m][f]+=G-F,i[g][m]+=G-V,i[g][g]+=V,i[g][f]+=-G,i[f][m]+=U-F,i[f][g]+=-U,i[f][f]+=F,n[m]+=(1-y)*I+(1-C)*N,n[g]+=-I+C*N,n[f]+=y*I-N},r.AnalogModel.prototype.addPNP=function(e,t,i,n,o,r,a,s,c,l){var d=this,u=c,h=s,p=l,g=d.net2index.get(u),m=d.net2index.get(h),f=d.net2index.get(p),_=3.84e-14,v=4.0885e-14,y=.997,C=.9369,b=.0258,w=1.03460733,M=-391010.5902,S=387596.8964,x=1.032989521,T=-390383.5394,E=387596.9033,A=r[g],D=r[m],L=r[f],B=A-D,k=L-D;if(w>B)var R=Math.exp(B/b),I=_*(R-1),P=_/b*R;else var I=M+S*B,P=S;if(x>k)var R=Math.exp(k/b),N=v*(R-1),O=v/b*R;else var N=T+E*k,O=E;var V=P,G=C*O,U=y*P,F=O;i[m][m]+=F+V-U-G,i[m][g]+=U-V,i[m][f]+=G-F,i[g][m]+=G-V,i[g][g]+=V,i[g][f]+=-G,i[f][m]+=U-F,i[f][g]+=-U,i[f][f]+=F,n[m]+=-(1-y)*I-(1-C)*N,n[g]+=I-C*N,n[f]+=-y*I+N}},function(e,t,i){var n=i(173),o={};o.runUntil={GOAL:0,PAUSE:1,REALTIME:2},o.ArduinoNotLoadedException=function(){},o.Simulator=function(){var e=this;e.DEBUG=!1,e.reset(),e.DEBUG&&(window.circuitsSimulator=this)},o.Simulator=o.Simulator,o.Simulator.prototype.reset=function(){var e=this;this.time=new o.Time(0,0),this.queue=new n.Heap,this.queue._comp=function(e,t){return this._content[e].cost.more(this._content[t].cost)},this.pauseTimes=new n.Heap,this.history_map=new n.HashMap,e.analytics={},e.DEBUG&&(e.analytics.signalEvents=0,e.analytics.canceldEvents=0,e.analytics.activatedProcesses=0)},o.Simulator.prototype.reset=o.Simulator.prototype.reset,o.Simulator.prototype.keep_history=function(e,t){var i=this;i.history_map.remove(e),i.history_map.put(e,t)},o.Simulator.prototype.history_needed=function(){var e=this,t=0;return e.history_map.forEach(function(e,i){i>t&&(t=i)}),t},o.Simulator.prototype.run_until=function(e,t){var i,r=this;for(e||(e=r.prev_until),r.prev_until=e,r.DEBUG&&(r.time.time>5?(r.DEBUG=!1,console.log("Debug analytics stopped")):r.analytics.simTime=r.time.time),void 0!==t?(i=Date.now()+t,r.prev_abort_after_real_time_absolute=i):i=r.prev_abort_after_real_time_absolute?r.prev_abort_after_real_time_absolute:Date.now()+200;!r.queue.isEmpty()&&r.queue.top().time.less(e)&&(r.pauseTimes.isEmpty()||r.queue.top().time.less(r.pauseTimes.top()));){r.time=r.queue.top().time;for(var a=new n.HashSet;r.queue.top()&&r.time.equal(r.queue.top().time);){var s=r.queue.pop();s.removed?r.DEBUG&&r.analytics.canceldEvents++:(s.execute(),a.add(s.signal),r.DEBUG&&r.analytics.signalEvents++)}var c=new n.HashSet;if(a.forEach(function(e){c.addAll(e.processes)}),c.forEach(function(e){var t=e[0],i=e[1],n=e[2];i.apply(t,n),r.DEBUG&&r.analytics.activatedProcesses++}),Date.now()>i)return o.runUntil.REALTIME}return!r.pauseTimes.isEmpty()&&r.pauseTimes.top().less(e)?(r.time=r.pauseTimes.pop(),o.runUntil.PAUSE):(r.time=e,o.runUntil.GOAL)},o.Simulator.prototype.run_until=o.Simulator.prototype.run_until,o.Simulator.prototype.getTime=function(){return this.time.time},o.Simulator.prototype.getTime=o.Simulator.prototype.getTime,e.exports=o},function(e,t,i){var n=i(433);n.Audio=function(e){this.simulator=e;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(n.Audio.audioContext=n.Audio.audioContext||new window.AudioContext)}catch(t){n.Audio.audioContext=void 0}this.sampleFrequency=44100,this.period=.1,this.last_time=0,this.volume=.25,this.fade=[];for(var i=15,o=0;i>o;++o){var r=.54+.46*Math.cos(2*Math.PI*o/(2*i-2));this.fade.push(r)}},n.Audio.prototype.play=function(e,t,i){var o=this,r=0;if(n.Audio.audioContext){var a=o.simulator.time.time,s=o.sampleFrequency*(a-o.last_time);if(s>=o.sampleFrequency/50){o.myArrayBuffer=n.Audio.audioContext.createBuffer(1,s,o.sampleFrequency);var c=o.myArrayBuffer.getChannelData(0);r=o.simulator.analog_model.wave_data(e,t,this.last_time,a,s,c,i),o.fade.length>0&&[].forEach.call(c,function(e,t,i){if(t<o.fade.length)i[t]*=o.fade[t];else{var n=i.length-1-t;n<o.fade.length&&(i[t]*=o.fade[n])}});var l=o.source;o.source=n.Audio.audioContext.createBufferSource(),o.source.buffer=o.myArrayBuffer,o.source.connect(n.Audio.audioContext.destination),o.source.volume=o.volume,o.source.loop=!0,o.source.start(0),l&&l.stop(.25*o.period),this.last_time=a}}return r},n.Audio.prototype.stop=function(){this.source&&(this.source.stop(),this.source=void 0)}},function(e,t,i){var n=i(412),o=i(173),r=i(433);r.CompoundAnalogModel=function(e,t){var i=this;i.sim=e,i.analogCircuit=t,i.analogCircuit.split(),i.reducedNetGraph=i.buildReducedNetGraph(),i.analogModels=new o.HashMap,i.analogCircuit.subCircuits.forEach(function(e){var t=new r.AnalogModel(i.sim,e);i.analogModels.put(e,t)}),i.measurement_procedures=new o.HashMap},r.CompoundAnalogModel.prototype.garbage_collect=function(e,t){var i=this;i.analogModels.forEach(function(i,n){n.garbage_collect(e,t)})},r.CompoundAnalogModel.prototype.buildReducedNetGraph=function(){var e=this,t=new o.Graph;return e.analogCircuit.subCircuits.forEach(function(e){t.addVertex(e)}),e.analogCircuit.nets.forEach(function(e){e.isShared()&&(t.addVertex(e),e.subcircuits.forEach(function(i){t.addEdge(e,i)}))}),t},r.CompoundAnalogModel.prototype.calc_measurement_procedure=function(e,t){var i,o=this,r=[];if(e==t)return r;i=e.isShared()?e:e.subcircuits.getIndex(0);var a;a=t.isShared()?t:t.subcircuits.getIndex(0);for(var s=o.reducedNetGraph.breathFirstPath(a,i),c=0;c+1<s.length;){var l={};s[c].element.constructor===n.Net?(l.analogModel=o.analogModels.get(s[c+1].element),l.min_net=s[c].element,void 0!==s[c+2]?(l.plus_net=s[c+2].element,c+=2):(l.plus_net=e,c+=1)):s[c].element.constructor===n&&(l.analogModel=o.analogModels.get(s[c].element),l.min_net=t,s[c+1].element.constructor!==n.Net?(l.plus_net=e,c+=1):void 0!==s[c+2]?(l.plus_net=s[c+1].element,c+=1):(l.plus_net=s[c+1].element,c+=1)),r.push(l)}return r},r.CompoundAnalogModel.prototype.exec_measurement_procedure=function(e,t){for(var i=0,n=0;n<t.length;n++){var o=t[n];i+=o.analogModel.measure(e,o.plus_net,o.min_net)}return i},r.CompoundAnalogModel.prototype.exec_measurement_procedure_average=function(e,t,i,n){for(var o=0,r=0;r<t.length;r++){var a=t[r];o+=a.analogModel.average(e,a.plus_net,a.min_net,i,n)}return o},r.CompoundAnalogModel.prototype.exec_measurement_procedure_waveform=function(e,t,i,n){for(var o=[],r=0;r<e.length;r++)for(var a=e[r],s=a.analogModel.waveform(a.plus_net,a.min_net,t,i,n),c=0;c<s.length;c++)o[c]={x:s[c].x,y:(isNaN(s[c].y)?0:s[c].y)+(o[c]?o[c].y:0)};return o},r.CompoundAnalogModel.prototype.exec_measurement_procedure_minmax=function(e,t,i,n){for(var o={min:0,max:0},r=0;r<i.length;r++){var a=i[r],s=a.analogModel.minmax(e,t,a.plus_net,a.min_net,n);o.min+=s.min,o.max+=s.max}return o},r.CompoundAnalogModel.prototype.svg_data=function(e,t,i,n,r,a){var s=this,c=s.analogCircuit.dereferenceNetIfNeeded(e),l=s.analogCircuit.dereferenceNetIfNeeded(t),d=o.getHash(c)+"_"+o.getHash(l),u=s.measurement_procedures.get(d);u||(u=s.calc_measurement_procedure(c,l),s.measurement_procedures.put(d,u));var h=s.exec_measurement_procedure_waveform(u,i,n,r),p=n-i;if(!a||0>a){for(var g=0;g<h.length;g++){var m=h[g].y>-h[g].y?h[g].y:-h[g].y;a=a>m?a:m}a*=1.1;for(var f=[1,2,5],_=1e-9,v=0;a>f[v]*_&&1e9>_;)v++,3==v&&(v=0,_*=10);a=f[v]*_}for(var y=["M "+2*(h[0].x-i)/p+" "+(-h[0].y/a).toFixed(3)],g=1;g<h.length;g++)y.push("L "+2*(h[g].x-i)/p+" "+(-h[g].y/a).toFixed(3));return{data:y.join(" "),xscale:p,yscale:a}},r.CompoundAnalogModel.prototype.wave_data=function(e,t,i,n,r,a,s){var c=this,l=c.analogCircuit.dereferenceNetIfNeeded(e),d=c.analogCircuit.dereferenceNetIfNeeded(t),u=o.getHash(l)+"_"+o.getHash(d),h=c.measurement_procedures.get(u);h||(h=c.calc_measurement_procedure(l,d),c.measurement_procedures.put(u,h));for(var p=c.exec_measurement_procedure_waveform(h,i,n,r),g=0,m=0,f=0;f<p.length;f++){var _=p[f].y*s;_=-1>_?-1:_>1?1:_,_>g?g=_:m>_&&(m=_),a[f]=_}return g-m>1?1:g-m},r.CompoundAnalogModel.prototype.measure=function(e,t,i){var n=this,r=n.analogCircuit.dereferenceNetIfNeeded(t),a=n.analogCircuit.dereferenceNetIfNeeded(i),s="measure_"+o.getHash(r)+"_"+o.getHash(a),c=n.measurement_procedures.get(s);return c||(c=n.calc_measurement_procedure(r,a),n.measurement_procedures.put(s,c)),n.exec_measurement_procedure(e,c)},r.CompoundAnalogModel.prototype.average=function(e,t,i,n,r){var a=this,s=a.analogCircuit.dereferenceNetIfNeeded(t),c=a.analogCircuit.dereferenceNetIfNeeded(i),l="average_"+o.getHash(s)+"_"+o.getHash(c);a.sim.keep_history(l,3*n);var d=a.measurement_procedures.get(l);return d||(d=a.calc_measurement_procedure(s,c),a.measurement_procedures.put(l,d)),a.exec_measurement_procedure_average(e,d,n,r)},r.CompoundAnalogModel.prototype.minmax=function(e,t,i,n,r){var a=this,s=a.analogCircuit.dereferenceNetIfNeeded(i),c=a.analogCircuit.dereferenceNetIfNeeded(n),l="minmax_"+o.getHash(s)+"_"+o.getHash(c),d=a.measurement_procedures.get(l);return d||(d=a.calc_measurement_procedure(s,c),a.measurement_procedures.put(l,d)),a.exec_measurement_procedure_minmax(e,t,d,r)}},function(e,t,i){var n=i(433);n.AnalogModel.Trigger=function(e,t){var i=this;i.model=e,i.trigger=t},n.AnalogModel.Trigger.prototype.fire=function(e,t){var i=this,o=i.trigger.trigger_signal.setValueAbsolute(new n.Time(e,0),t);return o},n.AnalogModel.Trigger.prototype.evaluate_func=function(e){var t=this,i=[];t.trigger.terminals.forEach(function(n,o){i.push(e[t.model.net2index.get(o.net)])});var n=t.trigger.func.apply(null,i);return n},n.AnalogModel.Trigger.prototype.isEnabled=function(){return this.trigger.cached?!0:this.trigger.enable_signal.value()},n.AnalogModel.Trigger.prototype.trigger_event=function(e,t,i,n){var o=this,r=o.evaluate_func(t),a=o.evaluate_func(n),s=e,c=i,l=t,d=n;if(r!==a){for(;c-s>1e-9;){var u=(s+c)/2,h=numeric.mul(numeric.add(l,d),.5),p=o.evaluate_func(h);r!==p?(c=u,d=h,a=p):a!==p?(s=u,l=h,r=p):Console.log("Trouble")}return{time:c,value:a,trigger:o}}return null}},function(e,t,i){i(439),i(440),i(441),i(438),i(442),i(443)},function(e,t,i){var n=i(433);n.PiecewiseWaveform.Observer=function(e,t){var i=this;i.piecewise_waveform=e,i.iterator=new n.PiecewiseWaveform.StepIterator(i.piecewise_waveform),t?i.func=t:i.func=function(e){return e}},n.PiecewiseWaveform.Observer.prototype.voltage_vector=function(e){for(var t=this,i=!1;!i&&t.iterator.time()<=e;)i=t.iterator.step();var o=t.iterator.voltage_prev(),r=t.iterator.time_prev(),a=t.iterator.voltage(),s=t.iterator.time();return n.PiecewiseWaveform.interpolate(e,r,o,s,a)},n.PiecewiseWaveform.Observer.prototype.value=function(e,t,i){var n=this,o=n.voltage_vector(e),r=o[t]-o[i];return n.func(r)},n.PiecewiseWaveform.Observer.prototype.state_vector=function(e){for(var t=this,i=!1;!i&&t.iterator.time()<=e;)i=t.iterator.step();var o=t.iterator.state_prev(),r=t.iterator.time_prev(),a=t.iterator.state(),s=t.iterator.time();return n.PiecewiseWaveform.interpolate(e,r,o,s,a)}},function(e,t,i){var n=i(173),o=i(433);o.PiecewiseWaveform=function(e,t){this.segments=[],
this.iterators=new n.HashSet;for(var i=new o.Waveform,r=[];r.length<e;)r.push(0);for(var a=[];a.length<t;)a.push(0);i.addPoint(0,r,a),this.addSegment(Number.NEGATIVE_INFINITY,i,new n.HashSet)},o.PiecewiseWaveform.prototype.addSegment=function(e,t,i){var n=this.getLastSegment();void 0!==n&&n.cancel_triggers_after(e);var r=new o.PiecewiseWaveform.Segment(e,t,i);this.segments.push(r),this.iterators.forEach(function(e){e.segmentAdded(r)})},o.PiecewiseWaveform.prototype.removeSegment=function(){this.segments.shift(),this.iterators.forEach(function(e){e.segmentRemoved()})},o.PiecewiseWaveform.prototype.getSegment=function(e){return this.segments[e]},o.PiecewiseWaveform.prototype.getLastSegment=function(){return this.segments[this.segments.length-1]},o.PiecewiseWaveform.prototype.c3_data=function(e,t,i,n){var r=this,a=0,s=Number.POSITIVE_INFINITY;i&&(a=i),n&&(s=n);for(var c=new o.PiecewiseWaveform.StepIterator(r),l={type:"scatter",xs:{v:"t"},columns:[["t"],["v"]]},d=!1;!d;){var u=c.time();if(u>=a&&s>=u){l.columns[0].push(u);var h=c.voltage();l.columns[1].push(h[e]-h[t])}d=c.step()}return c.destroy(),l},o.PiecewiseWaveform.Segment=function(e,t,i){this.time=e,this.waveform=t,this.trigger_events=i},o.PiecewiseWaveform.Segment.prototype.getPoint=function(e){return this.waveform.getPoint(e)},o.PiecewiseWaveform.Segment.prototype.getLastPoint=function(){return this.waveform.getLastPoint()},o.PiecewiseWaveform.Segment.prototype.cancel_triggers_after=function(e){this.trigger_events.forEach(function(t){t.time.time>e&&(t.removed=!0)})},o.PiecewiseWaveform.interpolate=function(e,t,i,n,o){if(t>=e)return i;if(e==n)return o;if(n==Number.POSITIVE_INFINITY)return o;if(t==Number.NEGATIVE_INFINITY)return i;var r=(e-t)/(n-t),a=numeric.add(i,numeric.mul(numeric.sub(o,i),r));return a},o.PiecewiseWaveform.prototype.garbage_collect=function(e,t){for(var i=this,n=e-t;this.segments.length>2&&this.segments[1].time<n;)i.removeSegment();this.iterators.removeWhere(function(e){return e.destroyed})}},function(e,t,i){var n=i(433);n.Waveform=function(){this.points=[]},n.Waveform.prototype.addPoint=function(e,t,i){var o=new n.Waveform.WaveformPoint(e,t,i);this.points.push(o)},n.Waveform.prototype.getPoint=function(e){return this.points[e]},n.Waveform.prototype.getLastPoint=function(){return this.points[this.points.length-1]},n.Waveform.WaveformPoint=function(e,t,i){this.time=e,this.voltage=t,this.state=i}},function(e,t,i){var n=i(173),o=i(433);o.PiecewiseWaveform.StepIterator=function(e){var t=this;t.destroyed=!1,t.piecewise_waveform=e,t.piecewise_waveform.iterators.add(t),t.segment_index=0,t.segment_index_prev=0,t.point_index=0,t.point_index_prev=-1,t.end_reached=!1;var i=t.piecewise_waveform.getSegment(t.segment_index),o=i.getPoint(t.point_index);t.voltage_fifo=new n.Fifo(3,o.voltage),t._voltage_next=null,t.state_fifo=new n.Fifo(3,o.state),t._state_next=null,t.time_fifo=new n.Fifo(3,o.time+i.time),t._time_next=null,t.end_reached=t.step()},o.PiecewiseWaveform.StepIterator.prototype.destroy=function(){this.destroyed=!0},o.PiecewiseWaveform.StepIterator.prototype.getSegment=function(){return this.piecewise_waveform.getSegment(this.segment_index)},o.PiecewiseWaveform.StepIterator.prototype.getNextSegment=function(){return this.piecewise_waveform.getSegment(this.segment_index+1)},o.PiecewiseWaveform.StepIterator.prototype.segmentAdded=function(e){var t=this;t.getSegment();if(e==t.getNextSegment()&&e.time<t.time())if(e.time>=t.time_prev()){t.segment_index++,t.point_index=0;var i=t.time_prev(),n=t.time(),r=t.voltage_prev(),a=t.voltage(),s=o.PiecewiseWaveform.interpolate(e.time,i,r,n,a),c=t.state_prev(),l=t.state(),d=o.PiecewiseWaveform.interpolate(e.time,i,c,n,l);t.voltage_fifo.write(0,s),t._voltage_next=e.getPoint(t.point_index).voltage,t.state_fifo.write(0,d),t._state_next=e.getPoint(t.point_index).state,t.time_fifo.write(0,e.time),t._time_next=e.time}else console.log("Trouble!")},o.PiecewiseWaveform.StepIterator.prototype.segmentRemoved=function(){var e=this;e.segment_index--,e.segment_index_prev--,e.segment_index<0&&(e.segment_index=0,e.point_index=0,e.point_index_prev=-1),e.segment_index_prev<0&&(e.segment_index_prev=0)},o.PiecewiseWaveform.StepIterator.prototype.step=function(){var e=this;if(e.end_reached=!1,null!==e._voltage_next)return e.voltage_fifo.enqueue(e._voltage_next),e._voltage_next=null,e.state_fifo.enqueue(e._state_next),e._state_next=null,e.time_fifo.enqueue(e._time_next),e._time_next=null,e.end_reached;var t=e.getSegment(),i=e.getNextSegment(),n=Number.POSITIVE_INFINITY;i&&(n=i.time);var r=(t.getPoint(e.point_index),t.getPoint(e.point_index+1));if(r&&r.time+t.time<n)e.point_index_prev=e.point_index,e.segment_index_prev=e.segment_index,e.point_index++,e.voltage_fifo.enqueue(r.voltage),e._voltage_next=null,e.state_fifo.enqueue(r.state),e._state_next=null,e.time_fifo.enqueue(r.time+t.time),e._time_next=null;else if(i){if(e.point_index_prev=e.point_index,e.segment_index_prev=e.segment_index,e.segment_index++,e.point_index=0,r){var a=n-t.time,s=e.voltage_fifo.read(0),c=e.time_fifo.read(0)-t.time,l=r.voltage,d=r.time,u=o.PiecewiseWaveform.interpolate(a,c,s,d,l);e.voltage_fifo.enqueue(u),e._voltage_next=i.getPoint(e.point_index).voltage;var h=e.state_fifo.read(0),c=e.time_fifo.read(0)-t.time,p=r.state,d=r.time,g=o.PiecewiseWaveform.interpolate(a,c,h,d,p);e.state_fifo.enqueue(g),e._state_next=i.getPoint(e.point_index).state}else e.voltage_fifo.enqueue(e.voltage_fifo.read(0)),e._voltage_next=i.getPoint(e.point_index).voltage,e.state_fifo.enqueue(e.state_fifo.read(0)),e._state_next=i.getPoint(e.point_index).state;e.time_fifo.enqueue(i.time),e._time_next=i.time}else e.point_index_prev=e.point_index,e.segment_index_prev=e.segment_index,e.voltage_fifo.enqueue(e.voltage_fifo.read(0)),e._voltage_next=null,e.state_fifo.enqueue(e.state_fifo.read(0)),e._state_next=null,e.time_fifo.enqueue(Number.POSITIVE_INFINITY),e._time_next=null,e.end_reached=!0;return e.end_reached},o.PiecewiseWaveform.StepIterator.prototype.time=function(){return this.time_fifo.read(0)},o.PiecewiseWaveform.StepIterator.prototype.time_prev=function(){return this.time_fifo.read(1)},o.PiecewiseWaveform.StepIterator.prototype.voltage=function(){return this.voltage_fifo.read(0)},o.PiecewiseWaveform.StepIterator.prototype.voltage_prev=function(){return this.voltage_fifo.read(1)},o.PiecewiseWaveform.StepIterator.prototype.state=function(){return this.state_fifo.read(0)},o.PiecewiseWaveform.StepIterator.prototype.state_prev=function(){return this.state_fifo.read(1)}},function(e,t,i){var n=i(433);n.PiecewiseWaveform.AverageObserver=function(e,t,i,o,r){var a=this;a.piecewise_waveform=e,a.tau=o,a.plus_index=t,a.min_index=i,a.iterator=new n.PiecewiseWaveform.StepIterator(a.piecewise_waveform),r?a.func=r:a.func=function(e){return e},this.average=0},n.PiecewiseWaveform.AverageObserver.prototype.value=function(e){for(var t=this,i=!1;!i&&t.iterator.time()<=e;){var n=t.iterator.voltage_prev(),o=t.iterator.voltage(),r=n[t.plus_index]-n[t.min_index],a=o[t.plus_index]-o[t.min_index],s=t.iterator.time_prev(),c=t.iterator.time();t.average=t.advance(t.average,r,s,a,c,c),i=t.iterator.step()}var n=t.iterator.voltage_prev(),o=t.iterator.voltage(),r=n[t.plus_index]-n[t.min_index],a=o[t.plus_index]-o[t.min_index],s=t.iterator.time_prev(),c=t.iterator.time(),l=t.advance(t.average,r,s,a,c,e);return l},n.PiecewiseWaveform.AverageObserver.prototype.advance=function(e,t,i,n,o,r){var a=this,s=a.func(t),c=a.func(n),l=r-i,d=(c-s)/(o-i);if(0==l)return e;if(l==Number.POSITIVE_INFINITY&&0==d)var u=0;else var u=d*l;var h=Math.exp(-l/a.tau),p=h*(e+d*a.tau)+(1-h)*s+u-d*a.tau;return p}},function(e,t,i){var n=i(433);n.PiecewiseWaveform.MinMaxObserver=function(e,t,i,n){var o=this;o.piecewise_waveform=e,o.plus_index=t,o.min_index=i,n?o.func=n:o.func=function(e){return e}},n.PiecewiseWaveform.MinMaxObserver.prototype.value=function(e,t){for(var i,o,r=this,a=e-t,s=e,c=new n.PiecewiseWaveform.Observer(r.piecewise_waveform),l=c.iterator,d=c.value(a,r.plus_index,r.min_index),u=d,h=!1;!h&&l.time()<=s;)i=l.voltage(),o=i[r.plus_index]-i[r.min_index],d=o>d?d:o,u=u>o?u:o,h=l.step();return o=c.value(s,r.plus_index,r.min_index),d=o>d?d:o,u=u>o?u:o,{min:d,max:u}}},function(e,t,i){var n=i(412),o=i(173),r=i(433),a=i(170).inherit;r.states={IDLE:0,RUNNING:1,PAUSED:2},r.InteractiveSimulator=function(e,t,i,n){this.circuit=e,this.viewState=t||function(){},this.viewTime=i||function(){},this.viewSlowdown=n||function(){},r.Simulator.apply(this,arguments)},r.InteractiveSimulator.prototype=a(r.Simulator.prototype),r.InteractiveSimulator.prototype.constructor=r.InteractiveSimulator,r.InteractiveSimulator.prototype.reset=function(){r.Simulator.prototype.reset.apply(this),this.time=new r.Time(0,0),this.forced_slowdown=1,this.slowdown=1,this.pauseTimes=new o.Heap,this.stopped=!1,this.elements=new o.HashMap,this.analogCircuit=new n(this),this.analog_model={},this.update_ui=new r.Signal(this,"update_ui"),this.ether={IR38kHz:new r.Signal(this,"Infrared 38 kHz signal",0),wifi:new o.HashMap},this.viewState(r.states.IDLE)},r.InteractiveSimulator.prototype.start=function(){this.run(100)},r.InteractiveSimulator.prototype.stop=function(){this.intervalId&&clearInterval(this.intervalId),this.elements.forEach(function(e,t){e.isLife()&&t.dynamicModel.resetValues()}),this.viewState(r.states.IDLE)},r.InteractiveSimulator.prototype.pauseAt=function(e){this.pauseTimes.push(e,e.time)},r.InteractiveSimulator.prototype.resume=function(){this.run(100)},r.InteractiveSimulator.prototype.buildModel=function(){var e=this;this.reset();var t="Simulator Wifi",i="",n="eb:f5:9b:36:a6",o=new r.Internet("/proxy?url="),a=new r.WifiRouter(n,t,i,"OPEN",1,"192.168.0.1","255.255.255.0","192.168.0.2","192.168.0.254",o);this.ether.wifi.put(t,a),this.circuit.devices.forEach(function(t){if(1==t.subdevice.size()){var i=t.breadboard(),n=new i.deviceModelClass.SimulationModel(e,t,i.dynamicModel);e.elements.put(t,n)}}),this.analog_model=new r.CompoundAnalogModel(this,this.analogCircuit)},r.InteractiveSimulator.prototype.run=function(e){function t(){try{var t=Date.now(),n=t-i.sim_interval_begin_prev;i.sim_interval_begin_prev=t,n>1.1*e?i.slowdown<10&&(i.slowdown*=1.2):i.slowdown>1&&(i.slowdown/=1.2);var o=i.time,a=i.time.add(e/i.forced_slowdown/i.slowdown/1e3),s=i.run_until(a,e),c=i.time.sub(o),l=e/1e3/c,d=c;s==r.runUntil.PAUSE&&(clearInterval(i.intervalId),i.viewState(r.states.PAUSED),l=i.forced_slowdown,d=0),i.update_ui.setValue(-1,d),i.run_until(i.time),i.viewTime(i.time.time),i.viewSlowdown(l),i.analog_model.garbage_collect(i.time.time,i.history_needed())}catch(u){throw console.log(u.message),console.log(u.stack),u}}var i=this;this.sim_interval_begin_prev=Date.now(),this.viewState(r.states.RUNNING),i.intervalId=setInterval(t,e)},r.throwSimException=function(e){this.message=e}},function(e,t,i){var n=i(173),o=i(433);o.model_map=new n.HashMap,o.simulationStateMachines=new n.HashMap,o.Model={},o.Model.SimulationModel={getNetbyTerminalName:function(e){var t=this.device.getTerminalName(e);return null!==t&&null!==t.net()?t.net():t},printValueUnit:function(e,t){var i,n,o,r=Math.abs(e);return 1e-9>r?(i=1,n=""):1e-6>r?(i=1e9,n="n"):.001>r?(i=1e6,n="µ"):1>r?(i=1e3,n="m"):1e3>r?(i=1,n=""):1e6>r?(i=.001,n="k"):1e9>r?(i=1e-6,n="M"):(i=1e-9,n="G"),o=r*i>=99.95?0:r*i>9.995?1:2,(e*i).toFixed(o)+" "+n+t}},o.Model.View={addEvent:function(e,t,i){var n=this,o=$(e,n.breadboardElement.group);if(o.length>0){var r=SvgHelpers.cloneWithTransformations(n.breadboardElement.gui.svg,n.breadboardElement.interactionControlGroup,o);r.attr("display","inline"),r.bind("mousedown",function(e){var o=new Circuits.GuiEvent(Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN).data("statemachine",t).fromJSEvent(e).element(n.device.breadboard()).data("subelement",i).data("mouseCoord",n.breadboardElement.gui.circuitEditor.mouseCoord);return n.breadboardElement.gui.stateMachine.handle(o),!0})}},addBreakdown:function(){var e=this;e.dynamicModel.breakdown.onChange("view",function(t,i,n){n.breakdown?($(".breakdown,.cgfx__breakdown",e.breadboardElement.group).attr("display","inline"),n.reason!=i.reason&&($(e.breadboardElement.controlGroup).attr("title",n.reason),$(e.breadboardElement.controlGroup).tipsy({gravity:"n",offset:3,zoom_stuff:e.breadboardElement.gui.zoom_stuff}))):($(".breakdown,.cgfx__breakdown",e.breadboardElement.group).attr("display","none"),n.warning||$(e.breadboardElement.controlGroup).removeTipsy())},10)},addWarning:function(){var e=this;e.dynamicModel.warning.onChange("view",function(t,i,n){var o=$(".cgfx__warning",e.breadboardElement.group),r=o.add(e.breadboardElement.controlGroup);n.warning?(o.attr("display","inline"),n.reason!=i.reason&&(r.attr("title",n.reason),r.tipsy({gravity:"n",offset:3,zoom_stuff:e.breadboardElement.gui.zoom_stuff}))):(o.attr("display","none"),n.breakdown||r.removeTipsy())})}}},function(e,t,i){i(447),i(448),i(449),i(450)},function(e,t,i){var n=i(433);n.Event=function(e,t,i){this.time=e,this.signal=t,this.value=i,this.removed=!1},n.Event.prototype.execute=function(){this.signal.execute(this)},n.Event.prototype.cancel=function(){this.removed=!0}},function(e,t,i){var n=i(433);n.Time=function(e,t){this.time=e,this.delta=t},n.Time=n.Time,n.Time.prototype.less=function(e){return this.time<e.time?!0:this.time>e.time?!1:this.delta<e.delta?!0:this.delta>=e.delta?!1:void 0},n.Time.prototype.less=n.Time.prototype.less,n.Time.prototype.more=function(e){return this.time>e.time?!0:this.time<e.time?!1:this.delta>e.delta?!0:this.delta<=e.delta?!1:void 0},n.Time.prototype.more=n.Time.prototype.more,n.Time.prototype.equal=function(e){return this.time===e.time&&this.delta===e.delta},n.Time.prototype.equal=n.Time.prototype.equal,n.Time.prototype.add=function(e){return 0>e?new n.Time(this.time,this.delta-1):0==e?new n.Time(this.time,this.delta+1):new n.Time(this.time+e,0)},n.Time.prototype.add=n.Time.prototype.add,n.Time.prototype.sub=function(e){return this.time-e.time}},function(e,t,i){var n=i(173),o=i(433);o.Signal=function(e,t,i,o){this.simulator=e,this.name=t,this.debug=o,this.previous_value=null,this.previous_time=null,this.current_value=i,this.current_time=0,this.processes=new n.HashSet,this.events=[]},o.Signal=o.Signal,o.Signal.prototype.add_process=function(e){this.processes.add(e)},o.Signal.prototype.add_process=o.Signal.prototype.add_process,o.Signal.prototype.value=function(){return this.current_value},o.Signal.prototype.value=o.Signal.prototype.value,o.Signal.prototype.setValue=function(e,t){var i=this.simulator.time.add(e),n=new o.Event(i,this,t);return this.removeEventsAfter(i),this.events.push(n),this.simulator.queue.push(n,n.time),n},o.Signal.prototype.setValue=o.Signal.prototype.setValue,o.Signal.prototype.removeEventsAfter=function(e){for(var t=[],i=0;i<this.events.length;i++){var n=this.events[i];n.time.less(this.simulator.time)||(n.time.less(e)?t.push(n):n.removed=!0)}this.events=t},o.Signal.prototype.removeEventByIdx=function(e){if(e<this.events.length){var t=this.events.splice(e,1)[0];t.removed=!0}},o.Signal.prototype.setValueAbsolute=function(e,t){var i=new o.Event(e,this,t);return this.removeEventsAfter(e),this.events.push(i),this.simulator.queue.push(i,i.time),i},o.Signal.prototype.setValueAbsolute=o.Signal.prototype.setValueAbsolute,o.Signal.prototype.execute=function(e){this.previous_value=this.current_value,this.previous_time=this.current_time,this.current_value=e.value,this.current_time=e.time,this.debug&&console.log(e.time.time,this.name,this.current_value)},o.Signal.prototype.falling_edge=function(){return this.previous_value&&!this.current_value&&this.current_time.equal(this.simulator.time)},o.Signal.prototype.falling_edge=o.Signal.prototype.falling_edge,o.Signal.prototype.rising_edge=function(){return!this.previous_value&&this.current_value&&this.current_time.equal(this.simulator.time)},o.Signal.prototype.rising_edge=o.Signal.prototype.rising_edge,o.PWMSignal=function(e,t,i,n){this.simulator=e,this.pwm_on_signal=i,this.out_signal=t,this.period_signal=new o.Signal(this.simulator,t.name+"_period",0),this.high_time_signal=new o.Signal(this.simulator,t.name+"_high_time",0),this.start_signal=new o.Signal(this.simulator,t.name+"_start",0),this.pwm_on_signal.add_process([this,this.behaviour,[this]]),this.out_signal.add_process([this,this.behaviour,[this]]),this.callback=n},o.PWMSignal.prototype.start=function(e,t,i,n){this.pwm_on_signal.setValueAbsolute(new o.Time(e,0),1),this.period_signal.setValueAbsolute(new o.Time(e,0),t),this.high_time_signal.setValueAbsolute(new o.Time(e,0),i),this.out_signal.setValueAbsolute(new o.Time(e+t-n,0),1),this.start_signal.setValueAbsolute(new o.Time(e+t-n,0),1)},o.PWMSignal.prototype.stop=function(e){this.pwm_on_signal.setValueAbsolute(new o.Time(e,0),0),this.out_signal.setValueAbsolute(new o.Time(e,0),0),this.start_signal.setValueAbsolute(new o.Time(e,0),0)},o.PWMSignal.prototype.behaviour=function(e){e.pwm_on_signal.value()&&e.start_signal.value()&&e.out_signal.rising_edge()?(e.out_signal.setValue(e.high_time_signal.value(),0),e.callback&&e.callback()):e.pwm_on_signal.value()&&e.start_signal.value()&&e.out_signal.falling_edge()&&(e.out_signal.setValue(e.period_signal.value()-e.high_time_signal.value(),1),e.callback&&e.callback())}},function(e,t,i){var n=i(433);n.ProcessedSignal=function(e,t){this.signals=[];for(var i=0;i<arguments.length-1;i++)this.signals.push(arguments[i]);this.func=arguments[arguments.length-1]},n.ProcessedSignal.prototype.value=function(){var e=[];return this.signals.forEach(function(t){e.push(t.value())}),this.func.apply(null,e)},n.ProcessedSignal.prototype.add_process=function(e){this.signals.forEach(function(t){t.processes.add(e)})}},function(e,t,i){i(452),i(453),i(476)},function(e,t,i){var n=i(173),o=i(433);o.abstractArduino=function(e,t,i,r){var a=this;this.deviceModel=e,this.sim=e.simulator,this.hardware=t,this.netList={gnd:null,power:null,reset:null},this.signalMap=new n.HashMap;var s=new o.Signal(this.sim,"Arduino_PUD",0);this.signalMap.put("PUD",s),this.defineStandardPorts(i),r.forEach(function(t){var n=e.getNetbyTerminalName(t.terminal);(1==t.required||n.constructor==Circuits.NetData)&&a.addGPIO(t.port,n,t.isAnalog,t.timer,!i.selfPowered)})},o.abstractArduino.prototype.defineStandardPorts=function(e){for(var t=this,i=this.deviceModel.getNetbyTerminalName(e.ground[0]),n=1;n<e.ground.length;n++){var r=this.deviceModel.getNetbyTerminalName(e.ground[n]);this.deviceModel.simulator.analogCircuit.mergeNets(i,r)}if(e.power_5V&&e.power_5V.length>0){for(var a=this.deviceModel.getNetbyTerminalName(e.power_5V[0]),n=1;n<e.power_5V.length;n++){var s=this.deviceModel.getNetbyTerminalName(e.power_5V[n]);this.deviceModel.simulator.analogCircuit.mergeNets(a,s)}e.selfPowered&&this.deviceModel.simulator.analogCircuit.addVoltageSource(a,i,5,1e-4,!0)}if(e.power_3V3&&e.power_3V3.length>0){for(var c=this.deviceModel.getNetbyTerminalName(e.power_3V3[0]),n=1;n<e.power_3V3.length;n++){var s=this.deviceModel.getNetbyTerminalName(e.power_3V3[n]);this.deviceModel.simulator.analogCircuit.mergeNets(c,s)}e.selfPowered&&this.deviceModel.simulator.analogCircuit.addVoltageSource(c,i,3.3,1e-4,!0)}if(this.netList.gnd=i,this.netList.power=5==this.hardware.voltage?a:c,!e.selfPowered){var l={simulator:t.sim,name:"Vcc signal",value:function(){return t.sim.analog_model.measure(t.sim.getTime(),t.netList.power,t.netList.gnd)}};this.signalMap.put("VCC",l)}var d=new o.Signal(this.sim,"Arduino_reset",!1);if(this.signalMap.put("RESET",d),e.reset&&e.reset.length>0){this.netList.reset=this.deviceModel.getNetbyTerminalName(e.reset[0]);for(var n=1;n<e.reset.length;n++){var u=this.deviceModel.getNetbyTerminalName(e.reset[n]);this.deviceModel.simulator.analogCircuit.mergeNets(this.netList.reset,u)}this.deviceModel.simulator.analogCircuit.addResistor(this.netList.power,this.netList.reset,1e4),this.deviceModel.simulator.analogCircuit.addTrigger(d,this.netList.reset,this.netList.gnd,function(e,i){return e-i<.2*t.hardware.voltage})}var h=new o.Signal(this.sim,"Analog reference voltage",this.hardware.voltage);if(this.signalMap.put("AVCC",h),e.aref){var p=this.deviceModel.getNetbyTerminalName(e.aref),g=(t.deviceModel.simulator.analogCircuit.addResistor(p,t.netList.gnd,1e12),{simulator:t.sim,name:"Arduino AREF signal",value:function(){return t.sim.analog_model.measure(t.sim.getTime(),p,t.netList.gnd)}});this.signalMap.put("AREF",g)}},o.abstractArduino.prototype.addGPIO=function(e,t,i,n,r){var a=this,s=5e4,c=50,l=1e12;if(null==this.signalMap.get("PORT"+e)){var d=new o.Signal(this.sim,"Arduino_"+e+"_out",0);this.signalMap.put("PORT"+e,d);var u=new o.Signal(this.sim,"Arduino_"+e+"_timer",0),h=new o.Signal(this.sim,"Arduino_"+e+"_timerctl",0);n&&(this.signalMap.put("TIMER_"+n,u),this.signalMap.put("TIMERCTL_"+n,h));var p=new o.Signal(this.sim,"Arduino_"+e+"_mode",0);if(this.signalMap.put("DDR"+e,p),r){var g=new o.ProcessedSignal(p,d,this.signalMap.get("PUD"),u,h,function(e,t,i,n,o){return 1==e?o?n?c:l:t?c:l:0==t?l:0==i?s:l}),m=(a.deviceModel.simulator.analogCircuit.addResistor(t,a.netList.power,g),new o.ProcessedSignal(p,d,u,h,function(e,t,i,n){return 1==e?n?i?l:c:t?l:c:l}));a.deviceModel.simulator.analogCircuit.addResistor(t,a.netList.gnd,m)}else{var f=new o.ProcessedSignal(d,u,h,function(e,t,i){return i?t*a.hardware.voltage:e*a.hardware.voltage}),_=new o.ProcessedSignal(p,d,this.signalMap.get("PUD"),function(e,t,i){return 1==e?c:0==t?l:0==i?s:l});this.deviceModel.simulator.analogCircuit.addVoltageSource(t,this.netList.gnd,f,_,!1)}var v=new o.Signal(this.sim,"Arduino_"+e+"_in",0);if(this.signalMap.put("PIN"+e,v),this.deviceModel.simulator.analogCircuit.addTrigger(v,t,this.netList.power,this.netList.gnd,function(e,t,i){return e-i>.45*(t-i)?1:0}),i){var y={simulator:a.sim,name:"Arduino_analogInput_"+e,value:function(){return a.sim.analog_model.measure(a.sim.getTime(),t,a.netList.gnd)}};this.signalMap.put("PORT"+e+"_A",y)}}},o.abstractArduino.prototype.addOnBoardLed=function(e,t){var i=1e-18,n=1.8,o=3.3,r=2,a=.007,s=this.deviceModel.getNetbyTerminalName(e.terminal);this.addGPIO(e.port,s,e.isAnalog,e.timer);var c={},l=this.deviceModel.simulator.analogCircuit.addDiode(s,c,i,n,o,r),d=(this.deviceModel.simulator.analogCircuit.addResistor(c,this.netList.gnd,500),function(e){var i=e.value(),n=l.getCurrent(i);t(n/a)});this.sim.update_ui.add_process([this,d,[this.sim.update_ui]])},o.abstractArduino.prototype.addOnBoardResetButton=function(e){var t=.001,i=1e10,n=new o.Signal(this.sim,"switchSignal",i);this.deviceModel.simulator.analogCircuit.addResistor(this.netList.reset,this.netList.gnd,n);e.onChange("simulator",function(e,o,r){n.setValue(0,r?t:i)},10)},o.abstractArduino.prototype.addOnboardUARTSerialMonitor=function(e,t,i,n){var r=this,a=this.deviceModel.getNetbyTerminalName(e.terminal);this.addGPIO(e.port,a,e.isAnalog,e.timer);var s=this.deviceModel.getNetbyTerminalName(t.terminal);this.addGPIO(t.port,s,t.isAnalog,t.timer);var c=1e3,l=1e12,d=new o.Signal(this.sim,"Arduino onboard UART transmitter",1),u=new o.ProcessedSignal(d,function(e){return e*r.hardware.voltage}),h=(this.deviceModel.simulator.analogCircuit.addVoltageSource(a,this.netList.gnd,u,c,!1),new o.Signal(this.sim,"Arduino onboard UART receiver",0));this.deviceModel.simulator.analogCircuit.addResistor(s,this.netList.gnd,l);this.deviceModel.simulator.analogCircuit.addTrigger(h,s,this.netList.power,this.netList.gnd,function(e,t,i){return e-i>.45*(t-i)?1:0});var p=function(){return 1/9600},g={getFrameFormat:function(){return{dataBits:8,parity:o.UARTParity.NO,stopBits:1}},dataSend:function(){r.sendNextUARTByte()},dataReceived:function(e,t,i){n.push(String.fromCharCode(e))}},m=new o.UARTTranmitterStatemachine(this.sim,d,p,g),f=[];this.sendNextUARTByte=function(){if(f.length>0){var e=new Circuits.GuiEvent("sendData").data("dataByte",f.pop());m.handle(e)}},i.onChange("arduino",function(e,t,i){for(var n=0;n<i.length;n++)f.unshift(i.charCodeAt(n));"idle"==m.state()&&r.sendNextUARTByte()},10);var _=new o.UARTReceiverStatemachine(this.sim,h,p,g);h.add_process([null,function(){_.handle("portAcitivity")}])},o.abstractArduino.prototype.addDirectSerialMonitor=function(e,t){var i=57600,n=1/i*8,r=new o.Signal(this.sim,"Arduino direct transmitter signal",0);this.signalMap.put("directTX",r);var a=[];r.add_process([null,function(){a.length>0&&r.setValue(n,a.pop())}]),e.onChange("arduino",function(e,t,i){for(var o=0;o<i.length;o++)a.unshift(i.charCodeAt(o));a.length==i.length&&a.length>0&&r.setValue(n,a.pop())},10);var s=new o.Signal(this.sim,"Arduino direct receiver signal",0);this.signalMap.put("directRX",s),s.add_process([null,function(){t.push(String.fromCharCode(s.value()))}])}},function(e,t,i){i(455),i(456),i(457),i(458),i(459),i(460),i(461),i(462),i(463),i(464),i(465),i(454),i(466),i(467),i(468),i(469),i(470),i(471),i(472),i(473),i(474),i(475)},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_timer_10bit=function(e,t,i,o,r,a,s,c,l,d,u,h,p,g,m,f,_,v,y,C,b){var w=this;w.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),w.assignRegister("TCCRA",t),w.assignRegister("TCCRB",i),w.assignRegister("TCCRC",o),w.assignRegister("TCCRD",r),w.assignRegister("TCCRE",a),w.assignRegister("TCNT",s),w.assignRegister("TCH",s+1),w.assignRegister("OCRA",l),w.assignRegister("OCRB",d),w.assignRegister("OCRC",u,255),w.assignRegister("OCRD",h),w.assignRegister("TIMSK",p),w.assignRegister("TIFR",g),w.assignRegister("DT",m),w.TCCRA=n.Atmega_tools.createReference(w.memory,t),w.COMA=n.Atmega_tools.createBitReference(w.TCCRA,[7,6]),w.COMB=n.Atmega_tools.createBitReference(w.TCCRA,[5,4]),w.FOCA=n.Atmega_tools.createSingleBitReference(w.TCCRA,3),w.FOCB=n.Atmega_tools.createSingleBitReference(w.TCCRA,2),w.PWMA=n.Atmega_tools.createSingleBitReference(w.TCCRA,1),w.PWMB=n.Atmega_tools.createSingleBitReference(w.TCCRA,0),w.TCCRB=n.Atmega_tools.createReference(w.memory,i),w.PWMX=n.Atmega_tools.createSingleBitReference(w.TCCRB,7),w.PSR=n.Atmega_tools.createSingleBitReference(w.TCCRB,6),w.DTPS=n.Atmega_tools.createBitReference(w.TCCRB,[5,4]),w.CS=n.Atmega_tools.createBitReference(w.TCCRB,[3,2,1,0]),w.TCCRC=n.Atmega_tools.createReference(w.memory,o),w.COMAS=n.Atmega_tools.createBitReference(w.TCCRC,[7,6]),w.COMBS=n.Atmega_tools.createBitReference(w.TCCRC,[5,4]),w.COMD=n.Atmega_tools.createBitReference(w.TCCRC,[3,2]),w.FOCD=n.Atmega_tools.createSingleBitReference(w.TCCRC,1),w.PWMD=n.Atmega_tools.createSingleBitReference(w.TCCRC,0),w.TCCRD=n.Atmega_tools.createReference(w.memory,r),w.FPIE=n.Atmega_tools.createSingleBitReference(w.TCCRD,7),w.FPEN=n.Atmega_tools.createSingleBitReference(w.TCCRD,6),w.FPNC=n.Atmega_tools.createSingleBitReference(w.TCCRD,5),w.FPES=n.Atmega_tools.createSingleBitReference(w.TCCRD,4),w.FPAC=n.Atmega_tools.createSingleBitReference(w.TCCRD,3),w.FPF=n.Atmega_tools.createSingleBitReference(w.TCCRD,2),w.WGM=n.Atmega_tools.createBitReference(w.TCCRD,[1,0]),w.TCCRE=n.Atmega_tools.createReference(w.memory,a),w.TLOCK=n.Atmega_tools.createSingleBitReference(w.TCCRE,7),w.ENHC=n.Atmega_tools.createSingleBitReference(w.TCCRE,6),w.OCOE=n.Atmega_tools.createBitReference(w.TCCRD,[5,4,3,2,1,0]),w.TCNT=n.Atmega_tools.createTempHighWordReference(w.memory,s,s+1),w.TCH=n.Atmega_tools.createReference(w.memory,s+1),w.OCRA=n.Atmega_tools.createTempHighWordReference(w.memory,l,s+1),w.OCRB=n.Atmega_tools.createTempHighWordReference(w.memory,d,s+1),w.OCRC=n.Atmega_tools.createTempHighWordReference(w.memory,u,s+1),w.OCRC.loadHighWord(),w.OCRD=n.Atmega_tools.createTempHighWordReference(w.memory,h,s+1),w.TIMSK=n.Atmega_tools.createReference(w.memory,p),w.OCIED=n.Atmega_tools.createSingleBitReference(w.TIMSK,7),w.OCIEA=n.Atmega_tools.createSingleBitReference(w.TIMSK,6),w.OCIEB=n.Atmega_tools.createSingleBitReference(w.TIMSK,5),w.TOIE=n.Atmega_tools.createSingleBitReference(w.TIMSK,2),w.TIFR=n.Atmega_tools.createReference(w.memory,g),w.OCFD=n.Atmega_tools.createSingleBitReference(w.TIFR,7),w.OCFA=n.Atmega_tools.createSingleBitReference(w.TIFR,6),w.OCFB=n.Atmega_tools.createSingleBitReference(w.TIFR,5),w.TOV=n.Atmega_tools.createSingleBitReference(w.TIFR,2),w.DT=n.Atmega_tools.createReference(w.memory,m),w.DTH=n.Atmega_tools.createBitReference(w.DT,[7,6,5,4]),w.DTL=n.Atmega_tools.createBitReference(w.DT,[3,2,1,0]),w.COMPA_interrupt_creator=e.interruptHandler.registerInterrupt(f,w.OCIEA,w.OCFA),w.COMPB_interrupt_creator=e.interruptHandler.registerInterrupt(_,w.OCIEB,w.OCFB),w.COMPD_interrupt_creator=e.interruptHandler.registerInterrupt(v,w.OCIED,w.OCFD),w.OVF_interrupt_creator=e.interruptHandler.registerInterrupt(y,w.TOIE,w.TOV),w.FPF_interrupt_creator=e.interruptHandler.registerInterrupt(C,w.FPIE,w.FPF),w.state_time=0,w.clock_divider=0,w.update_cs=function(){0==w.CS()?w.clock_divider=0:w.clock_divider=1<<w.CS()-1},w.signalMap.get("TIMER_"+b+"A")&&(this.oca=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"A"),w.signalMap.get("TIMERCTL_"+b+"A"))),w.signalMap.get("TIMER_"+b+"B")&&(this.ocb=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"B"),w.signalMap.get("TIMERCTL_"+b+"B"))),w.signalMap.get("TIMER_"+b+"D")&&(this.ocd=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"D"),w.signalMap.get("TIMERCTL_"+b+"D"))),w.signalMap.get("TIMER_"+b+"AN")&&(this.ocan=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"AN"),w.signalMap.get("TIMERCTL_"+b+"AN"))),w.signalMap.get("TIMER_"+b+"BN")&&(this.ocbn=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"BN"),w.signalMap.get("TIMERCTL_"+b+"BN"))),w.signalMap.get("TIMER_"+b+"DN")&&(this.ocdn=new n.PWMSignal(this.sim,w.signalMap.get("TIMER_"+b+"DN"),w.signalMap.get("TIMERCTL_"+b+"DN")))},n.Atmega_timer_10bit.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_timer_10bit.prototype.constructor=n.Atmega_timer_10bit,n.Atmega_timer_10bit.prototype.update_state=function(e){var t=this;if(t.clock_divider>0&&e-t.state_time>t.clock_divider){var i=Math.floor((e-t.state_time)/t.clock_divider);if(t.state_time+=i*t.clock_divider,t.PWMA()||t.PWMB()||t.PWMD()){var n=2*t.OCRC(),o=t.TCNT()+i&n;o>n/2?(o=n-o,t.direction=-1):t.direction=1,t.TCNT(o)}}},n.Atmega_timer_10bit.prototype.predict_events=function(e){var t=this;t.TCNT();t.update_cs();var i=2*t.OCRC(),n=t.atmega.currentSimTime(),o=i*t.clock_divider/t.atmega.clockFreq,r=(2*t.OCRA()&i)*t.clock_divider/t.atmega.clockFreq,a=0;2==t.COMA()&&this.oca?this.oca.start(n,o,r,a):3==t.COMA()&&this.oca&&this.oca.start(n,o,o-r,a),r=(2*t.OCRB()&i)*t.clock_divider/t.atmega.clockFreq,2==t.COMB()&&this.ocb?this.ocb.start(n,o,r,a):3==t.COMB()&&this.ocb&&this.ocb.start(n,o,o-r,a),r=(2*t.OCRD()&i)*t.clock_divider/t.atmega.clockFreq,2==t.COMD()&&this.ocd?this.ocd.start(n,o,r,a):3==t.COMD()&&this.ocd&&this.ocd.start(n,o,o-r,a),0==t.COMA()&&this.oca&&this.oca.stop(t.atmega.currentSimTime()),0==t.COMB()&&this.ocb&&this.ocb.stop(t.atmega.currentSimTime()),0==t.COMD()&&this.ocd&&this.ocd.stop(t.atmega.currentSimTime())},n.Atmega_timer_10bit.prototype.read=function(e,t){var i=this;return i.update_state(e),i.DEBUG&&console.log(i.atmega.currentSimTime(),"s TIMER4 READ: ",i.address_map[t].name,i.memory[t]),i.memory[t]},n.Atmega_timer_10bit.prototype.write=function(e,t,i){var n=this;n.DEBUG&&console.log(n.atmega.currentSimTime(),"s TIMER4 WRITE: ",n.address_map[t].name,i),n.update_state(e),t==n.TCNT.address?(n.memory[t]=i,n.TCNT.loadHighWord()):t==n.OCRA.address?(n.memory[t]=i,n.OCRA.loadHighWord()):t==n.OCRB.address?(n.memory[t]=i,n.OCRB.loadHighWord()):t==n.OCRC.address?(n.memory[t]=i,n.OCRC.loadHighWord()):t==n.OCRD.address?(n.memory[t]=i,n.OCRD.loadHighWord()):t==n.TIFR.address?n.memory[t]&=~i:n.memory[t]=i,n.predict_events(e)},n.Atmega_timer_10bit.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments),this.OCRC.loadHighWord(),this.state_time=0,this.clock_divider=0}},function(e,t,i){var n=i(173),o=i(433);o.Atmega=function(e,t,i,r,a){var s=this;s.DEBUG=!1,s.sim=e,s.def=t,s.signalMap=i,s.clockFreq=r||16e6,s.proceed=new o.Signal(s.sim,"proceed"),s.proceed.processes.add([s,s.run]),s.signalMap.put("proceed",s.proceed),s.program_memory_size=s.def.program_memory_size,s.program_memory_arraybuffer=new ArrayBuffer(2*s.program_memory_size),
s.program_memory_byte=new Uint8Array(s.program_memory_arraybuffer),s.program_memory=new Uint16Array(s.program_memory_arraybuffer),s.program_memory_decoded=new Array(s.program_memory_size),s.data_memory_size=s.def.data_memory_size,s.data_memory_arraybuffer=new ArrayBuffer(s.data_memory_size),s.data_memory=new Uint8Array(s.data_memory_arraybuffer),s.data_memory_view=new DataView(s.data_memory_arraybuffer),s.cycle_counter=0,s.pc=0,s.pc_mask=s.def.pc_mask,s.X_reg_addr=s.def.X_reg,s.Y_reg_addr=s.def.Y_reg,s.Z_reg_addr=s.def.Z_reg,s.SP_reg_addr=s.def.SPL,s.S_reg_addr=s.def.SREG,s.SP_reg=o.Atmega_tools.createWordReferenceView(s.data_memory_view,s.SP_reg_addr),s.S_reg=o.Atmega_tools.createReference(s.data_memory,s.S_reg_addr),s.X_reg=o.Atmega_tools.createWordReferenceView(s.data_memory_view,s.X_reg_addr),s.Y_reg=o.Atmega_tools.createWordReferenceView(s.data_memory_view,s.Y_reg_addr),s.Z_reg=o.Atmega_tools.createWordReferenceView(s.data_memory_view,s.Z_reg_addr),s.status={I:o.Atmega_tools.createSingleBitReference(s.S_reg,7),T:o.Atmega_tools.createSingleBitReference(s.S_reg,6),H:o.Atmega_tools.createSingleBitReference(s.S_reg,5),S:o.Atmega_tools.createSingleBitReference(s.S_reg,4),V:o.Atmega_tools.createSingleBitReference(s.S_reg,3),N:o.Atmega_tools.createSingleBitReference(s.S_reg,2),Z:o.Atmega_tools.createSingleBitReference(s.S_reg,1),C:o.Atmega_tools.createSingleBitReference(s.S_reg,0)},s.address_map={},s.hardwareBlocks=new n.HashSet,s.hardwareBlockPins=new n.HashMap,s.interruptHandler=new o.AtmegaInterruptHandler(s),s["debugger"]=new o.Atmega_debugger(s),s.loadElf(a);var c=s.signalMap.get("RESET"),l=(new o.Atmega_singleRegister(s,"MCUSR",s.def.MCUSR),o.Atmega_tools.createReference(s.data_memory,s.def.MCUSR)),d=o.Atmega_tools.createSingleBitReference(l,0),u=o.Atmega_tools.createSingleBitReference(l,1),h=0;c&&c.value()||(s.startSimTime=this.sim.getTime()+h,s.proceed.setValue(h,!0),d(1)),c&&c.processes.add([this,function(e){e.rising_edge()?(s.proceed.removeEventsAfter(s.sim.time),s.reset()):e.falling_edge()&&(s.startSimTime=s.sim.getTime()+h,s.proceed.setValue(h,!0),d(1),u(1))},[c]]),s.DEBUG&&(s.proceed.debug=!0),s.sim.DEBUG&&(s.analytics=s.sim.analytics[s.constructor==o.atmega328?"Uno1":"Micro2"]={cycleCounter:0,proceedPulses:0,avgCyclesPerProceed:0})},o.Atmega.prototype.simTime2Cycles=function(e){return Math.round((e-this.startSimTime)*this.clockFreq)},o.Atmega.prototype.cycles2SimTime=function(e){return this.startSimTime+e/this.clockFreq},o.Atmega.prototype.currentSimTime=function(){return this.cycles2SimTime(this.cycle_counter)},o.Atmega.prototype.run=function(){var e=this;e.abort&&(e.preFunc&&e.preFunc(e.simTime2Cycles(e.sim.getTime())),e.pc=e.pc+1&e.pc_mask,e.cycle_counter+=1,e.abort=!1,e.nextProceed=null);for(var t=this.simTime2Cycles(e.sim.getTime())+1e3;e.cycle_counter<t&&!e.abort;){if(e.stoppedAtBreakpoint)e.stoppedAtBreakpoint=!1;else if(e["debugger"].breakAt(e.pc)){e.stoppedAtBreakpoint=!0,e.sim.pauseAt(new o.Time(e.currentSimTime(),1));break}e.executeInstruction()}e.proceed.setValueAbsolute(new o.Time(e.cycles2SimTime(e.nextProceed||e.cycle_counter),1),!0),e.DEBUG&&console.log(e.sim.getTime(),"arduino stopped at ",e.cycles2SimTime(e.cycle_counter)," = ",e.cycle_counter-e.simTime2Cycles(e.sim.getTime())," cycles"),e.sim.DEBUG&&(e.analytics.cycleCounter=e.cycle_counter,e.analytics.proceedPulses++,e.analytics.avgCyclesPerProceed=e.analytics.cycleCounter/e.analytics.proceedPulses)},o.Atmega.prototype.abortRun=function(e,t){this.abort=!0,this.nextProceed=e,this.preFunc=t},o.Atmega.prototype.executeInstruction=function(){var e=this;e.interruptHandler.run();var t=e.program_memory_decoded[e.pc],i=e.instruction_map[t.opcode_name];i?i(e,t):console.log("Unknown instruction: ",e.cycle_counter,"0x"+e.pc.toString(16),e.program_memory[e.pc],t.opcode_name,t.arguments),e.abort||(e.pc=e.pc+1&e.pc_mask,e.cycle_counter+=1)},o.Atmega.prototype.read=function(e,t){return this.data_memory[t]},o.Atmega.prototype.write=function(e,t,i){this.data_memory[t]=i},o.Atmega.prototype.writeInOut=function(e,t,i){var n=this;if(e<=n.def.IOmax&&e>=32){var o=n.address_map[e];void 0==o?(n.data_memory[e]=t,i&&i()):o.timeAccurateWrite?n.abortRun(null,function(r){o.obj.write(n.cycle_counter,e,t),i&&i()}):(o.obj.write(n.cycle_counter,e,t),i&&i())}else n.data_memory[e]=t,i&&i()},o.Atmega.prototype.readInOut=function(e,t){var i=this;if(e<=i.def.IOmax&&e>=32){var n=i.address_map[e];void 0==n?t(i.data_memory[e]):n.timeAccurateRead?i.abortRun(null,function(o){t(n.obj.read(i.cycle_counter,e))}):t(n.obj.read(i.cycle_counter,e))}else t(i.data_memory[e])},o.Atmega.prototype.reset=function(){var e=this;e.DEBUG&&console.log(this.currentSimTime(),"receiving external RESET"),e.cycle_counter=e.simTime2Cycles(e.sim.getTime());for(var t=0;32>t;t++)e.write(e.cycle_counter,t,0);e.hardwareBlocks.forEach(function(t){t.reset(e.cycle_counter)}),e.interruptHandler.reset(),e.cycle_counter=0,e.pc=0,e.S_reg(0),e.abort=!1,e.nextProceed=null},o.Atmega.prototype.getRegisterByName=function(e){var t=null;return this.hardwareBlocks.forEach(function(i){i.registers[e]&&(t=i.registers[e])}),t},o.Atmega.prototype.profile={},o.Atmega.prototype.loadElf=function(e){for(var t=this,i=e.hex.split("\n"),n=0;n<i.length;n++){var o=i[n],r=o.substring(0,1),a=parseInt("0x"+o.substring(1,3)),s=parseInt("0x"+o.substring(3,7)),c=parseInt("0x"+o.substring(7,9));if(":"==r)switch(c){case 0:for(var l=0;a>l;l++)t.program_memory_byte[s+l]=parseInt("0x"+o.substring(9+2*l,9+2*l+2));break;case 1:}}t.decode_program_memory(),t["debugger"].loadDwarf(e.dwarf)},o.Atmega.prototype.printRegisters=function(){for(var e=this,t=0;31>t;t++)console.log(t,e.data_memory[t])},o.Atmega.prototype.loadNOPs=function(){for(var e=this,t=0;t<e.program_memory_size;t++)e.program_memory[t]=0;e.decode_program_memory()},o.Atmega.prototype.loadASMs=function(e){for(var t=this,i=[],n=0;n<e.length;n++){var o=e[n];i=i.concat(t.instruction_encode(o))}for(var n=0;n<t.program_memory_size;n++)t.program_memory[n]=0;for(var n=0;n<i.length;n++)t.program_memory[n]=i[n];t.decode_program_memory()},o.Atmega.prototype.pad=function(e,t){var i="0000000000000000"+e;return i.substr(i.length-t)},o.Atmega.prototype.decode_program_memory=function(){for(var e=this,t=0;t<e.program_memory_size;t++){var i=e.program_memory[t],n=t+1<e.program_memory_size?e.program_memory[t+1]:0,o=e.instruction_decode(i,n);e.program_memory_decoded[t]=o}},o.Atmega.prototype.instruction_decode=function(e,t){var i={},n=null,r=null,a=null;for(var s in o.Atmega.IS_decode_patterns){var c=o.Atmega.IS_decode_patterns[s];if(!(e&c.test_mask^c.test_data)){a=c,n=a.opcode,r=o.Atmega.IS_map.get(n);break}}if(null!==n){i.opcode=n,i.opcode_name=r;var l=a.pattern;if(16==l.length){var d=o.Atmega.bitstring(e,16);i.opcode_size=16}else{var d=o.Atmega.bitstring(e,16)+o.Atmega.bitstring(t,16);i.opcode_size=32}i.arguments={};for(var u=[],s=0;s<l.length;s++){var h=l[s],p=d[s];"0"!==h&&"1"!==h&&(void 0==i.arguments[h]&&(u.push(h),i.arguments[h]=""),i.arguments[h]+=p)}for(var s=0;s<u.length;s++){var g=u[s],m=i.arguments[g];"t"==g?i.arguments[u[s]]=o.Atmega.string2number(m,!0):i.arguments[u[s]]=parseInt(m,2)}}else i.opcode=-1;return i},o.Atmega.bitstring=function(e,t){for(var i=e.toString(2);i.length<t;)i="0"+i;return i=i.substring(i.length-t,i.length)},o.Atmega.string2number=function(e,t){var i;if(t){var n="1"==e[0],o=e.substring(1,e.length);i=parseInt(o,2),n&&(i-=Math.pow(2,e.length-1))}else i=parseInt(e,2);return i},o.Atmega.prototype.instruction_encode=function(e){var t=o.Atmega.IS_decode_patterns[e.opcode],i={};for(var n in t.arguments){for(var r=t.arguments[n],a=e.arguments[n].toString(2);a.length<r;)a="0"+a;a=a.substring(a.length-r,a.length),i[n]=a.split("")}for(var s=t.pattern.split(""),c="";0!==s.length;){var l=s.shift();c+="0"==l||"1"==l?l:i[l].shift()}for(var d=c.split(""),u=[];d.length>0;)u.push(parseInt(d.splice(0,16).join(""),2));return u},o.Atmega.prototype.print_profile=function(){var e=[];for(var t in this.profile)e.push([t,this.profile[t]]);e.sort(function(e,t){return e=e[1],t=t[1],t>e?-1:e>t?1:0});for(var i=0;i<e.length;i++){var t=e[i][0],n=e[i][1];console.log(t,n)}this.profile={}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.atmega328=function(e,t,i,o,r){var a=this;n.Atmega.call(this,e,n.atmega328.Mcu_definitions,t,i,o),a.deviceName=r,a.portB=new n.Atmega_port(a,a.def.PINB,a.def.DDRB,a.def.PORTB,"B"),a.portC=new n.Atmega_port(a,a.def.PINC,a.def.DDRC,a.def.PORTC,"C"),a.portD=new n.Atmega_port(a,a.def.PIND,a.def.DDRD,a.def.PORTD,"D"),a.timer0=new n.Atmega_timer_8bit(a,a.def.TCCR0A,a.def.TCCR0B,a.def.TCNT0,a.def.OCR0A,a.def.OCR0B,a.def.TIMSK0,a.def.TIFR0,a.def.Timer0_OVF,a.def.Timer0_COMPA,a.def.Timer0_COMPB,0),a.timer1=new n.Atmega_timer_16bit(a,a.def.TCCR1A,a.def.TCCR1B,a.def.TCCR1C,a.def.TCNT1L,a.def.ICR1L,a.def.OCR1AL,a.def.OCR1BL,a.def.TIMSK1,a.def.TIFR1,a.def.Timer1_OVF,a.def.Timer1_COMPA,a.def.Timer1_COMPB,a.def.Timer1_CAPT,1),a.timer2=new n.Atmega_timer_8bit(a,a.def.TCCR2A,a.def.TCCR2B,a.def.TCNT2,a.def.OCR2A,a.def.OCR2B,a.def.TIMSK2,a.def.TIFR2,a.def.Timer2_OVF,a.def.Timer2_COMPA,a.def.Timer2_COMPB,2),a.usart0=new n.Atmega_usart(a,a.def.UCSR0A,a.def.UCSR0B,a.def.UCSR0C,a.def.UBRR0L,a.def.UBRR0H,a.def.UDR0,a.def.UART_RX,a.def.UART_UDRE,a.def.UART_TX),a.adc0=new n.Atmega_adc(a,a.def.ADMUX,a.def.ADCSRA,a.def.ADCL,a.def.ADCH,a.def.ADCSRB,a.def.DIDR0,a.def.ADC),a.externalInterrupt=new n.Atmega_externalInterrupt(a,a.def.INT2int,a.def.INT2port,a.def.PCINT2int,a.def.PCINT2port),a.twoWire=new n.Atmega_2wire(a,a.def.TWBR,a.def.TWCR,a.def.TWSR,a.def.TWDR,a.def.TWAR,a.def.TWAMR,a.def.TWI),a.EEPROM=new n.Atmega_eeprom(a,a.def.EEPROM_size,a.def.EEARL,a.def.EEARH,a.def.EEDR,a.def.EECR,a.def.EEREADY);new n.Atmega_singleRegister(a,"MCUCR",a.def.MCUCR,{write:function(e,t,i){var o=i>>4&1,r=this.signalMap.get("PUD");r&&r.setValueAbsolute(new n.Time(a.currentSimTime(),1),o),this.memory[t]=i}}),new n.Atmega_singleRegister(a,"SREG",a.def.SREG),new n.Atmega_singleRegister(a,"SPH",a.def.SPH),new n.Atmega_singleRegister(a,"SPL",a.def.SPL),new n.Atmega_singleRegister(a,"GPIOR2",a.def.GPIOR2),new n.Atmega_singleRegister(a,"GPIOR1",a.def.GPIOR1),new n.Atmega_singleRegister(a,"GPIOR0",a.def.GPIOR0)},n.atmega328.prototype=o(n.Atmega.prototype),n.atmega328.prototype.constructor=n.atmega328,n.atmega328.Mcu_definitions={program_memory_size:16384,data_memory_size:2304,EEPROM_size:1024,pc_mask:16383,IOmax:255,X_reg:26,Y_reg:28,Z_reg:30,SPL:93,SPH:94,SREG:95,MCUSR:84,MCUCR:85,GPIOR0:62,GPIOR1:74,GPIOR2:75,PINB:35,DDRB:36,PORTB:37,PINC:38,DDRC:39,PORTC:40,PIND:41,DDRD:42,PORTD:43,TCCR0A:68,TCCR0B:69,TCNT0:70,OCR0A:71,OCR0B:72,TIMSK0:110,TIFR0:53,TCCR1A:128,TCCR1B:129,TCCR1C:130,TCNT1L:132,ICR1L:134,OCR1AL:136,OCR1BL:138,TIMSK1:111,TIFR1:54,TCCR2A:176,TCCR2B:177,TCNT2:178,OCR2A:179,OCR2B:180,TIMSK2:112,TIFR2:55,UCSR0A:192,UCSR0B:193,UCSR0C:194,UBRR0L:196,UBRR0H:197,UDR0:198,ADCL:120,ADCH:121,ADCSRA:122,ADCSRB:123,ADMUX:124,DIDR0:126,EEARH:66,EEARL:65,EEDR:64,EECR:63,PCIFR:59,EIFR:60,EIMSK:61,EICRA:105,PCICR:104,PCMSK0:107,PCMSK1:108,PCMSK2:109,TWBR:184,TWSR:185,TWAR:186,TWDR:187,TWCR:188,TWAMR:189,Timer0_OVF:32,Timer0_COMPA:28,Timer0_COMPB:30,Timer1_OVF:26,Timer1_COMPA:22,Timer1_COMPB:24,Timer1_CAPT:20,Timer2_OVF:18,Timer2_COMPA:14,Timer2_COMPB:16,UART_RX:36,UART_UDRE:38,UART_TX:40,ADC:42,EEREADY:44,TWI:48,INT2int:{0:2,1:4},INT2port:{0:"D_2",1:"D_3"},PCINT2int:{0:6,1:8,2:10},PCINT2port:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5",6:"B_6",7:"B_7",8:"C_0",9:"C_1",10:"C_2",11:"C_3",12:"C_4",13:"C_5",14:"C_6",16:"D_0",17:"D_1",18:"D_2",19:"D_3",20:"D_4",21:"D_5",22:"D_6",23:"D_7"},ADC_refVoltage:1.1,ADC_prescaler:[2,2,4,8,16,32,64,128],ADC_mux2port:{0:"C_0",1:"C_1",2:"C_2",3:"C_3",4:"C_4",5:"C_5",6:"ADC_6",7:"ADC_7",8:"_temp",14:"_1V1",15:"_gnd"},TWI2port:{SDA:"C_4",SCL:"C_5"},USART2port:{TX:"D_1",RX:"D_0"}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.atmega32u4=function(e,t,i,o,r){var a=this;n.Atmega.call(this,e,n.atmega32u4.Mcu_definitions,t,i,o),a.deviceName=r,a.portB=new n.Atmega_port(a,a.def.PINB,a.def.DDRB,a.def.PORTB,"B"),a.portC=new n.Atmega_port(a,a.def.PINC,a.def.DDRC,a.def.PORTC,"C"),a.portD=new n.Atmega_port(a,a.def.PIND,a.def.DDRD,a.def.PORTD,"D"),a.portE=new n.Atmega_port(a,a.def.PINE,a.def.DDRE,a.def.PORTE,"E"),a.portF=new n.Atmega_port(a,a.def.PINF,a.def.DDRF,a.def.PORTF,"F"),a.timer0=new n.Atmega_timer_8bit(a,a.def.TCCR0A,a.def.TCCR0B,a.def.TCNT0,a.def.OCR0A,a.def.OCR0B,a.def.TIMSK0,a.def.TIFR0,a.def.Timer0_OVF,a.def.Timer0_COMPA,a.def.Timer0_COMPB,0),a.timer1=new n.Atmega_timer_16bit(a,a.def.TCCR1A,a.def.TCCR1B,a.def.TCCR1C,a.def.TCNT1L,a.def.ICR1L,a.def.OCR1AL,a.def.OCR1BL,a.def.TIMSK1,a.def.TIFR1,a.def.Timer1_OVF,a.def.Timer1_COMPA,a.def.Timer1_COMPB,a.def.Timer1_CAPT,1),a.timer3=new n.Atmega_timer_16bit(a,a.def.TCCR3A,a.def.TCCR3B,a.def.TCCR3C,a.def.TCNT3L,a.def.ICR3L,a.def.OCR3AL,a.def.OCR3BL,a.def.TIMSK3,a.def.TIFR3,a.def.Timer3_OVF,a.def.Timer3_COMPA,a.def.Timer3_COMPB,a.def.Timer3_CAPT,3),a.timer4=new n.Atmega_timer_10bit(a,a.def.TCCR4A,a.def.TCCR4B,a.def.TCCR4C,a.def.TCCR4D,a.def.TCCR4E,a.def.TCNT4,a.def.TC4H,a.def.OCR4A,a.def.OCR4B,a.def.OCR4C,a.def.OCR4D,a.def.TIMSK4,a.def.TIFR4,a.def.DT4,a.def.Timer4_COMPA,a.def.Timer4_COMPB,a.def.Timer4_COMPD,a.def.Timer4_OVF,a.def.Timer4_FPF,4),a.usart1=new n.Atmega_usart(a,a.def.UCSR1A,a.def.UCSR1B,a.def.UCSR1C,a.def.UBRR1L,a.def.UBRR1H,a.def.UDR1,a.def.UART_RX,a.def.UART_UDRE,a.def.UART_TX),a.adc0=new n.Atmega_adc(a,a.def.ADMUX,a.def.ADCSRA,a.def.ADCL,a.def.ADCH,a.def.ADCSRB,a.def.DIDR0,a.def.ADC),a.usb=new n.Atmega_usb(a,a.def.USB_general,a.def.USB_endpoint),a.externalInterrupt=new n.Atmega_externalInterrupt(a,a.def.INT2int,a.def.INT2port,a.def.PCINT2int,a.def.PCINT2port),a.twoWire=new n.Atmega_2wire(a,a.def.TWBR,a.def.TWCR,a.def.TWSR,a.def.TWDR,a.def.TWAR,a.def.TWAMR,a.def.TWI),a.EEPROM=new n.Atmega_eeprom(a,a.def.EEPROM_size,a.def.EEARL,a.def.EEARH,a.def.EEDR,a.def.EECR,a.def.EEREADY);new n.Atmega_singleRegister(a,"MCUCR",a.def.MCUCR,{write:function(e,t,i){var o=i>>4&1,r=this.signalMap.get("PUD");r&&r.setValueAbsolute(new n.Time(a.currentSimTime(),1),o),this.memory[t]=i}}),new n.Atmega_singleRegister(a,"PLLCSR",a.def.PLLCSR,{write:function(e,t,i){2&i&&(i=1|i),this.memory[t]=i}}),new n.Atmega_singleRegister(a,"SREG",a.def.SREG),new n.Atmega_singleRegister(a,"SPH",a.def.SPH),new n.Atmega_singleRegister(a,"SPL",a.def.SPL),new n.Atmega_singleRegister(a,"GPIOR2",a.def.GPIOR2),new n.Atmega_singleRegister(a,"GPIOR1",a.def.GPIOR1),new n.Atmega_singleRegister(a,"GPIOR0",a.def.GPIOR0)},n.atmega32u4.prototype=o(n.Atmega.prototype),n.atmega32u4.prototype.constructor=n.atmega32u4,n.atmega32u4.Mcu_definitions={program_memory_size:16384,data_memory_size:2816,EEPROM_size:1024,pc_mask:65535,IOmax:255,X_reg:26,Y_reg:28,Z_reg:30,SPL:93,SPH:94,SREG:95,MCUSR:84,MCUCR:85,GPIOR0:62,GPIOR1:74,GPIOR2:75,PINB:35,DDRB:36,PORTB:37,PINC:38,DDRC:39,PORTC:40,PIND:41,DDRD:42,PORTD:43,PINE:44,DDRE:45,PORTE:46,PINF:47,DDRF:48,PORTF:49,TCCR0A:68,TCCR0B:69,TCNT0:70,OCR0A:71,OCR0B:72,TIMSK0:110,TIFR0:53,TCCR1A:128,TCCR1B:129,TCCR1C:130,TCNT1L:132,ICR1L:134,OCR1AL:136,OCR1BL:138,OCR1CL:140,TIMSK1:111,TIFR1:54,TCCR3A:144,TCCR3B:145,TCCR3C:146,TCNT3L:148,ICR3L:150,OCR3AL:152,OCR3BL:154,OCR3CL:156,TIMSK3:113,TIFR3:56,TCCR4A:192,TCCR4B:193,TCCR4C:194,TCCR4D:195,TCCR4E:196,TCNT4:190,TC4H:191,OCR4A:207,OCR4B:208,OCR4C:209,OCR4D:210,TIMSK4:114,TIFR4:57,DT4:212,UCSR1A:200,UCSR1B:201,UCSR1C:202,UBRR1L:204,UBRR1H:205,UDR1:206,ADCL:120,ADCH:121,ADCSRA:122,ADCSRB:123,ADMUX:124,DIDR0:126,DIDR1:127,DIDR2:125,EEARH:66,EEARL:65,EEDR:64,EECR:63,PCIFR:59,EIFR:60,EIMSK:61,PCICR:104,EICRA:105,EICRB:106,PCMSK0:107,PLLCSR:73,UHWCON:215,USBCON:216,USBSTA:217,USBINT:218,UDCON:224,UDINT:225,UDIEN:226,UDADDR:227,UDFNUML:228,UDFNUMH:229,UDMFN:230,UEINTX:232,UENUM:233,UERST:234,UECONX:235,UECFG0X:236,UECFG1X:237,UESTA0X:238,UESTA1X:239,UEIENX:240,UEDATX:241,UEBCLX:242,UEBCHX:243,UEINT:244,TWBR:184,TWSR:185,TWAR:186,TWDR:187,TWCR:188,TWAMR:189,Timer0_OVF:46,Timer0_COMPA:42,Timer0_COMPB:44,Timer1_OVF:40,Timer1_COMPA:34,Timer1_COMPB:36,Timer1_COMPC:38,Timer1_CAPT:32,Timer3_OVF:70,Timer3_COMPA:64,Timer3_COMPB:66,Timer3_COMPC:68,Timer3_CAPT:62,Timer4_COMPA:76,Timer4_COMPB:78,Timer4_COMPD:80,Timer4_OVF:82,Timer4_FPF:84,UART_RX:50,UART_UDRE:52,UART_TX:54,ADC:58,EEREADY:60,TWI:72,USB_general:20,USB_endpoint:22,INT2int:{0:2,1:4,2:6,3:8,6:14},INT2port:{0:"D_0",1:"D_1",2:"D_2",3:"D_3",6:"E_6"},PCINT2int:{0:18},PCINT2port:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5",6:"B_6",7:"B_7"},ADC_refVoltage:2.56,ADC_prescaler:[2,2,4,8,16,32,64,128],ADC_mux2port:{0:"F_0",1:"F_1",4:"F_4",5:"F_5",6:"F_6",7:"F_7",30:"_1V1",31:"_gnd",32:"D_4",33:"D_6",34:"D_7",35:"B_4",36:"B_5",37:"B_6",39:"_temp"},TWI2port:{SDA:"D_1",SCL:"D_0"},USART2port:{TX:"D_3",RX:"D_2"}}},function(e,t,i){var n=i(173),o=i(433);o.AtmegaInterruptHandler=function(e){this.atmega=e,this.globalEnableFlag=e.status.I,this.pendingInterrupts=[],this.queue=new n.Heap,this.interruptSources=new n.HashMap},o.AtmegaInterruptHandler.prototype.reset=function(){for(;!this.queue.isEmpty();){var e=this.queue.pop();e.simEvent.cancel()}this.pendingInterrupts=[]},o.AtmegaInterruptHandler.prototype.run=function(){for(;!this.queue.isEmpty()&&this.queue.top().cycle<=this.atmega.cycle_counter;){var e=this.queue.pop();e.simEvent.removed||(e.simEvent.cancel(),-1==this.pendingInterrupts.indexOf(e.interruptCreator)&&(e.interruptCreator.intFlag(1),this.pendingInterrupts.push(e.interruptCreator),this.pendingInterrupts.sort(function(e,t){return e.address-t.address})),e.interruptCreator.period>0&&e.interruptCreator.scheduleEvent(e.cycle+e.interruptCreator.period))}for(var t=0;t<this.pendingInterrupts.length;t++){var i=this.pendingInterrupts[t];if(i.intFlag()){if(this.globalEnableFlag()&&i.enableFlag()){var n=this.atmega.SP_reg();this.atmega.data_memory[n]=255&this.atmega.pc,this.atmega.data_memory[n-1]=this.atmega.pc>>8&255,this.atmega.SP_reg(n-2),this.atmega.cycle_counter+=2,this.atmega.pc=i.address,this.globalEnableFlag(0),i.clearByHardware&&(i.intFlag(0),this.pendingInterrupts.splice(t,1));break}}else this.pendingInterrupts.splice(t,1),t--}},o.AtmegaInterruptHandler.prototype.registerInterrupt=function(e,t,i,n){if(!i){var r=0;i=function(e){return void 0===e?r:void(r=e)}}var a=new o.AtmegaInterruptHandler.InterruptCreator(this,e,t,i,!n);return this.interruptSources.put(e,a),a},o.AtmegaInterruptHandler.InterruptCreator=function(e,t,i,n,r){var a=this;this.handler=e,this.atmega=e.atmega,this.address=t,this.enableFlag=i,this.intFlag=n,this.clearByHardware=r,this.period=-1,this.signal=new o.Signal(this.atmega.sim,"Interrupt_"+t),this.signal.processes.add([this,function(){a.atmega.proceed.setValue(0,!0)}]),this.atmega.DEBUG&&(this.signal.debug=!0)},o.AtmegaInterruptHandler.InterruptCreator.prototype.scheduleFromAtmega=function(e,t){this.period=t||-1;var i=this.atmega.cycle_counter+e;this.scheduleEvent(i)},o.AtmegaInterruptHandler.InterruptCreator.prototype.scheduleFromSim=function(e,t){this.period=t||-1;var i=Math.max(this.atmega.simTime2Cycles(this.atmega.sim.time.add(e||0).time),this.atmega.cycle_counter);this.scheduleEvent(i)},o.AtmegaInterruptHandler.InterruptCreator.prototype.scheduleEvent=function(e){var t=this.signal.setValueAbsolute(new o.Time(this.atmega.cycles2SimTime(e),0),!0);this.handler.queue.push({simEvent:t,cycle:e,interruptCreator:this},e)},o.AtmegaInterruptHandler.InterruptCreator.prototype.cancel=function(){this.signal.removeEventsAfter(new o.Time(this.atmega.currentSimTime(),0))}},function(e,t,i){var n=i(173),o=i(433);o.Atmega.prototype.instruction_map={NOP:function(e,t){},EOR:function(e,t){var i=e.data_memory[t.arguments.d]^e.data_memory[t.arguments.r];e.data_memory[t.arguments.d]=i,e.status.Z(0==i),e.status.N(0!=(128&i)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},CP:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i-n;e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n>i),e.status.H((~i&n|n&o|o&~i)&!0)},CPI:function(e,t){var i=e.data_memory[t.arguments.d+16],n=t.arguments.k,o=i-n;e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n>i),e.status.H((~i&n|n&o|o&~i)&!0)},CPC:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i-n-e.status.C();e.status.Z(0==o&e.status.Z()),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n+e.status.C()>i),e.status.H((~i&n|n&o|o&~i)&!0)},INC:function(e,t){var i=e.data_memory[t.arguments.d],n=i+1&255;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.V(127==i),e.status.S(e.status.N()^e.status.V())},DEC:function(e,t){var i=e.data_memory[t.arguments.d],n=i-1;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.V(128==i),e.status.S(e.status.N()^e.status.V())},ADD:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i+n&255;e.data_memory[t.arguments.d]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((o^n)&(o^i)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(0!=(i+n&256)),e.status.H((i&n|n&~o|~o&i)&!0)},ADC:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i+n+e.status.C()&255;e.data_memory[t.arguments.d]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((o^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(0!=(i+n+e.status.C()&256)),e.status.H((i&n|n&~o|~o&i)&!0)},SBC:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i-n-e.status.C();e.data_memory[t.arguments.d]=o,e.status.Z(0==o&e.status.Z()),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n+e.status.C()>i),e.status.H((~i&n|n&o|o&~i)&!0)},SBCI:function(e,t){var i=e.data_memory[t.arguments.d+16],n=t.arguments.k,o=i-n-e.status.C();e.data_memory[t.arguments.d+16]=o,e.status.Z(0==o&e.status.Z()),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n+e.status.C()>i),e.status.H((~i&n|n&o|o&~i)&!0)},SUB:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i-n;e.data_memory[t.arguments.d]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n>i),e.status.H((~i&n|n&o|o&~i)&!0)},SUBI:function(e,t){var i=e.data_memory[t.arguments.d+16],n=t.arguments.k,o=i-n;e.data_memory[t.arguments.d+16]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0!=((i^n)&(i^o)&128)),e.status.S(e.status.N()^e.status.V()),e.status.C(n>i),e.status.H((~i&n|n&o|o&~i)&!0)},SBIW:function(e,t){var i=[24,26,28,30],n=i[t.arguments.d],r=e.data_memory_view.getUint16(n,!0),a=t.arguments.k;if(1==a&&e.program_memory_decoded[e.pc+1].opcode_name==o.Atmega.inverse_instruction_map.get(o.Atmega.prototype.instruction_map.BRBC)&&-2==e.program_memory_decoded[e.pc+1].arguments.t&&1==e.program_memory_decoded[e.pc+1].arguments.s)e.abortRun(e.cycle_counter+4*r,function(t){var i=Math.round((t-e.cycle_counter)/2),o=Math.round(i/2),a=r-o;e.data_memory_view.setUint16(n,a,!0),e.status.Z(0==a),e.status.N(0!=(32768&a)),e.status.V(0!=(r&~a&32768)),e.status.S(e.status.N()^e.status.V()),e.status.C(o>r),e.status.H((~r&o|o&a|a&~r)&!0),e.cycle_counter+=2*i-1,i%2==0&&(a>0?e.pc-=1:e.pc+=1)});else{var s=r-a;e.data_memory_view.setUint16(n,s,!0),e.status.Z(0==s),e.status.N(0!=(32768&s)),e.status.V(0!=(r&~s&32768)),e.status.S(e.status.N()^e.status.V()),e.status.C(a>r),e.status.H((~r&a|a&s|s&~r)&!0),e.cycle_counter+=1}},SBI:function(e,t){e.readInOut(t.arguments.a+32,function(i){var n=i,o=t.arguments.b;n|=1<<o,e.writeInOut(t.arguments.a+32,n,function(){e.cycle_counter+=1})})},COM:function(e,t){var i=e.data_memory[t.arguments.d],n=255-i;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.V(0),e.status.S(e.status.N()^e.status.V()),e.status.C(1)},AND:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i&n;e.data_memory[t.arguments.d]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},ANDI:function(e,t){var i=e.data_memory[t.arguments.d+16],n=t.arguments.k,o=i&n;e.data_memory[t.arguments.d+16]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},OR:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i|n;e.data_memory[t.arguments.d]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},ORI:function(e,t){var i=e.data_memory[t.arguments.d+16],n=t.arguments.k,o=i|n;e.data_memory[t.arguments.d+16]=o,e.status.Z(0==o),e.status.N(0!=(128&o)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},RJMP:function(e,t){e.pc=e.pc+t.arguments.t,e.cycle_counter+=1},JMP:function(e,t){e.pc=t.arguments.k-1,e.cycle_counter+=2},LDI:function(e,t){e.data_memory[t.arguments.d+16]=t.arguments.k},OUT:function(e,t){e.writeInOut(t.arguments.A+32,e.data_memory[t.arguments.r])},IN:function(e,t){e.readInOut(t.arguments.A+32,function(i){e.data_memory[t.arguments.d]=i})},SBIS:function(e,t){e.readInOut(t.arguments.a+32,function(i){0!=(i&1<<t.arguments.b)&&(e.pc+=1,e.cycle_counter+=1)})},SBIC:function(e,t){e.readInOut(t.arguments.a+32,function(i){0==(i&1<<t.arguments.b)&&(e.pc+=1,e.cycle_counter+=1)})},SBRS:function(e,t){0!=(e.data_memory[t.arguments.r]&1<<t.arguments.b)&&(e.pc+=1,e.cycle_counter+=1)},SBRC:function(e,t){0==(e.data_memory[t.arguments.r]&1<<t.arguments.b)&&(e.pc+=1,e.cycle_counter+=1)},BRBC:function(e,t){var i=o.Atmega_tools.readBit(e.S_reg,t.arguments.s);i||(e.pc=e.pc+t.arguments.t,e.cycle_counter+=1)},BRBS:function(e,t){var i=o.Atmega_tools.readBit(e.S_reg,t.arguments.s);i&&(e.pc=e.pc+t.arguments.t,e.cycle_counter+=1)},BSET:function(e,t){o.Atmega_tools.writeBit(e.S_reg,t.arguments.s,1)},BCLR:function(e,t){o.Atmega_tools.writeBit(e.S_reg,t.arguments.s,0)},LDS1:function(e,t){e.readInOut(t.arguments.k,function(i){e.data_memory[t.arguments.d]=i,e.pc+=1,e.cycle_counter+=1})},LDS2:function(e,t){var i=15&t.arguments.k|(224&t.arguments.k)>>>1|(16&t.arguments.k)<<2|(16&~t.arguments.k)<<3;e.readInOut(i,function(i){e.data_memory[t.arguments.d+16]=i})},MOV:function(e,t){e.data_memory[t.arguments.d]=e.data_memory[t.arguments.r]},MOVW:function(e,t){e.data_memory[2*t.arguments.d]=e.data_memory[2*t.arguments.r],e.data_memory[2*t.arguments.d+1]=e.data_memory[2*t.arguments.r+1]},LPM1:function(e,t){var i=e.Z_reg();e.data_memory[0]=e.program_memory_byte[i],e.cycle_counter+=2},LPM2:function(e,t){var i=e.Z_reg();e.data_memory[t.arguments.d]=e.program_memory_byte[i],e.cycle_counter+=2},LPM3:function(e,t){var i=e.Z_reg();e.data_memory[t.arguments.d]=e.program_memory_byte[i],e.Z_reg(i+1),e.cycle_counter+=2},PUSH:function(e,t){var i=e.SP_reg();e.data_memory[i]=e.data_memory[t.arguments.d],e.SP_reg(i-1),e.cycle_counter+=1},POP:function(e,t){var i=e.SP_reg()+1;e.SP_reg(i),e.data_memory[t.arguments.d]=e.data_memory[i],e.cycle_counter+=1},RET:function(e,t){var i=e.SP_reg()+2;e.SP_reg(i),e.pc=(e.data_memory[i-1]<<8)+e.data_memory[i]-1,e.cycle_counter+=4},CALL1:function(e,t){var i=t.arguments.k,n=e.pc+2,o=e.SP_reg();e.data_memory[o]=255&n,e.data_memory[o-1]=n>>8&255,e.SP_reg(o-2),e.pc=i-1,e.cycle_counter+=4},LDX1:function(e,t){e.readInOut(e.X_reg(),function(i){e.data_memory[t.arguments.d]=i})},LDX2:function(e,t){e.readInOut(e.X_reg(),function(i){e.data_memory[t.arguments.d]=i,e.X_reg(e.X_reg()+1),e.cycle_counter+=1})},LDX3:function(e,t){e.X_reg(e.X_reg()-1),e.readInOut(e.X_reg(),function(i){e.data_memory[t.arguments.d]=i,e.X_reg(e.X_reg()+1),e.cycle_counter+=2})},LDY1:function(e,t){e.readInOut(e.Y_reg(),function(i){e.data_memory[t.arguments.d]=i})},LDY2:function(e,t){e.readInOut(e.Y_reg(),function(i){e.data_memory[t.arguments.d]=i,e.Y_reg(e.Y_reg()+1),e.cycle_counter+=1})},LDY3:function(e,t){e.Y_reg(e.Y_reg()-1),e.readInOut(e.Y_reg(),function(i){e.data_memory[t.arguments.d]=i,e.Y_reg(e.Y_reg()+1),e.cycle_counter+=2})},LDY4:function(e,t){var i=t.arguments.q;e.readInOut(e.Y_reg()+i,function(i){e.data_memory[t.arguments.d]=i,e.cycle_counter+=2})},LDZ1:function(e,t){e.readInOut(e.Z_reg(),function(i){e.data_memory[t.arguments.d]=i})},LDZ2:function(e,t){e.readInOut(e.Z_reg(),function(i){e.data_memory[t.arguments.d]=i,e.Z_reg(e.Z_reg()+1),e.cycle_counter+=1})},LDZ3:function(e,t){e.Z_reg(e.Z_reg()-1),e.readInOut(e.Z_reg(),function(i){e.data_memory[t.arguments.d]=i,e.Z_reg(e.Z_reg()+1),e.cycle_counter+=2})},LDZ4:function(e,t){var i=t.arguments.q;e.readInOut(e.Z_reg()+i,function(i){e.data_memory[t.arguments.d]=i,e.cycle_counter+=2})},STX1:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.X_reg(),i)},STX2:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.X_reg(),i,function(){e.X_reg(e.X_reg()+1)})},STX3:function(e,t){var i=e.data_memory[t.arguments.r];e.X_reg(e.X_reg()-1),e.writeInOut(e.X_reg(),i,function(){e.cycle_counter+=1})},STY1:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.Y_reg(),i)},STY2:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.Y_reg(),i,function(){e.Y_reg(e.Y_reg()+1)})},STY3:function(e,t){var i=e.data_memory[t.arguments.r];e.Y_reg(e.Y_reg()-1),e.writeInOut(e.Y_reg(),i,function(){e.cycle_counter+=1})},STY4:function(e,t){var i=e.data_memory[t.arguments.r],n=t.arguments.q;e.writeInOut(e.Y_reg()+n,i,function(){e.cycle_counter+=1})},STZ1:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.Z_reg(),i)},STZ2:function(e,t){var i=e.data_memory[t.arguments.r];e.writeInOut(e.Z_reg(),i,function(){e.Z_reg(e.Z_reg()+1)})},STZ3:function(e,t){var i=e.data_memory[t.arguments.r];e.Z_reg(e.Z_reg()-1),e.writeInOut(e.Z_reg(),i,function(){e.cycle_counter+=1})},STZ4:function(e,t){var i=e.data_memory[t.arguments.r],n=t.arguments.q;e.writeInOut(e.Z_reg()+n,i,function(){e.cycle_counter+=1})},STS1:function(e,t){var i=e.data_memory[t.arguments.d],n=t.arguments.k;e.writeInOut(n,i,function(){e.pc+=1,e.cycle_counter+=1})},STS2:function(e,t){var i=15&t.arguments.k|(224&t.arguments.k)>>>1|(16&t.arguments.k)<<2|(16&~t.arguments.k)<<3,n=e.data_memory[t.arguments.d+16];e.writeInOut(i,n)},MUL:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[t.arguments.r],o=i*n;e.data_memory_view.setUint16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(32768&o)),e.cycle_counter+=1},MULS:function(e,t){var i=e.data_memory_view.getInt8(t.arguments.d+16),n=e.data_memory_view.getInt8(t.arguments.r+16),o=i*n;e.data_memory_view.setInt16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(32768&o)),e.cycle_counter+=1},MULSU:function(e,t){var i=e.data_memory_view.getInt8(t.arguments.d+16),n=e.data_memory_view.getUint8(t.arguments.r+16),o=i*n;e.data_memory_view.setInt16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(32768&o)),e.cycle_counter+=1},FMUL:function(e,t){var i=e.data_memory[t.arguments.d+16],n=e.data_memory[t.arguments.r+16],o=i*n<<1;e.data_memory_view.setUint16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(i*n&32768)),e.cycle_counter+=1},FMULS:function(e,t){var i=e.data_memory_view.getInt8(t.arguments.d+16),n=e.data_memory_view.getInt8(t.arguments.r+16),o=i*n<<1;e.data_memory_view.setInt16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(i*n&32768)),e.cycle_counter+=1},FMULSU:function(e,t){var i=e.data_memory_view.getInt8(t.arguments.d+16),n=e.data_memory_view.getUint8(t.arguments.r+16),o=i*n<<1;e.data_memory_view.setInt16(0,o,!0),e.status.Z(0==(65535&o)),e.status.C(0!=(i*n&32768)),e.cycle_counter+=1},NEG:function(e,t){var i=e.data_memory[t.arguments.d],n=0-i;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.V(128==n),e.status.S(e.status.N()^e.status.V()),e.status.C(0!=n),e.status.H((n|i)&!0)},SWAP:function(e,t){var i=e.data_memory[t.arguments.d];e.data_memory[t.arguments.d]=(15&i)<<4|(240&i)>>>4},XCH:function(e,t){var i=e.data_memory[t.arguments.d],n=e.data_memory[e.Z_reg()];
e.data_memory[e.Z_reg()]=i,e.data_memory[t.arguments.d]=n},SBR:function(e,t){var i=e.data_memory[t.arguments.d+16],n=i|t.arguments.k;e.data_memory[t.arguments.d+16]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.V(0),e.status.S(e.status.N()^e.status.V())},RCALL:function(e,t){var i=t.arguments.t,n=e.pc+1,o=e.SP_reg();e.data_memory[o]=255&n,e.data_memory[o-1]=n>>8&255,e.SP_reg(o-2),e.pc+=i,e.cycle_counter+=3},ICALL:function(e,t){var i=e.pc+1,n=e.SP_reg();e.data_memory[n]=255&i,e.data_memory[n-1]=i>>8&255,e.SP_reg(n-2),e.pc=e.Z_reg()-1,e.cycle_counter+=3},IJMP:function(e,t){e.pc=e.Z_reg()-1,e.cycle_counter+=1},ADIW:function(e,t){var i=[24,26,28,30],n=i[t.arguments.d],o=e.data_memory_view.getUint16(n,!0),r=t.arguments.k,a=o+r&65535;e.data_memory_view.setUint16(n,a,!0),e.status.Z(0==a),e.status.N(0!=(32768&a)),e.status.V(0!=(~o&a&32768)),e.status.S(e.status.N()^e.status.V()),e.status.C(0!=(~a&o&32768)),e.cycle_counter+=1},RETI:function(e,t){var i=e.SP_reg()+2;e.SP_reg(i),e.pc=(e.data_memory[i-1]<<8)+e.data_memory[i]-1,e.cycle_counter+=4,e.status.I(1)},BST:function(e,t){var i=e.data_memory[t.arguments.d],n=t.arguments.b;e.status.T(i>>n&1)},BLD:function(e,t){var i=t.arguments.b,n=e.data_memory[t.arguments.d];e.data_memory[t.arguments.d]=~(1<<i)&n|e.status.T()<<i},CBI:function(e,t){e.readInOut(t.arguments.A+32,function(i){var n=t.arguments.b,o=i;e.writeInOut(t.arguments.A+32,o&~(1<<n))})},CPSE:function(e,t){e.data_memory[t.arguments.d]==e.data_memory[t.arguments.r]&&(e.pc+=1,e.cycle_counter+=1)},LAC:function(e,t){e.readInOut(e.Z_reg(),function(i){var n=e.data_memory[t.arguments.r],o=i;e.writeInOut(e.Z_reg(),n&255-o)})},LAS:function(e,t){e.readInOut(e.Z_reg(),function(i){var n=e.data_memory[t.arguments.r],o=i;e.writeInOut(e.Z_reg(),n|o,function(){e.data_memory[t.arguments.r]=o})})},LAT:function(e,t){e.readInOut(e.Z_reg(),function(i){var n=e.data_memory[t.arguments.r],o=i;e.writeInOut(e.Z_reg(),n^o,function(){e.data_memory[t.arguments.r]=o})})},ASR:function(e,t){var i=e.data_memory[t.arguments.d],n=i>>>1|128&i;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.C(1&i),e.status.V(e.status.N()^e.status.C()),e.status.S(e.status.N()^e.status.V())},LSR:function(e,t){var i=e.data_memory[t.arguments.d],n=i>>>1;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0),e.status.C(1&i),e.status.V(e.status.N()^e.status.C()),e.status.S(e.status.N()^e.status.V())},ROR:function(e,t){var i=e.data_memory[t.arguments.d],n=i>>>1|e.status.C()<<7;e.data_memory[t.arguments.d]=n,e.status.Z(0==n),e.status.N(0!=(128&n)),e.status.C(1&i),e.status.V(e.status.N()^e.status.C()),e.status.S(e.status.N()^e.status.V())},WDR:function(e,t){},SLEEP:function(e,t){e.print_profile()}},o.Atmega.inverse_instruction_map=new n.HashMap;for(var r in o.Atmega.prototype.instruction_map)o.Atmega.inverse_instruction_map.put(o.Atmega.prototype.instruction_map[r],r);o.Atmega.IS_COUNTER=0,o.Atmega.IS={ADC:o.Atmega.IS_COUNTER++,ADD:o.Atmega.IS_COUNTER++,ADIW:o.Atmega.IS_COUNTER++,AND:o.Atmega.IS_COUNTER++,ANDI:o.Atmega.IS_COUNTER++,ASR:o.Atmega.IS_COUNTER++,BCLR:o.Atmega.IS_COUNTER++,BLD:o.Atmega.IS_COUNTER++,BRBC:o.Atmega.IS_COUNTER++,BRBS:o.Atmega.IS_COUNTER++,BRCC:o.Atmega.IS_COUNTER++,BRCS:o.Atmega.IS_COUNTER++,BREAK:o.Atmega.IS_COUNTER++,BREQ:o.Atmega.IS_COUNTER++,BRGE:o.Atmega.IS_COUNTER++,BRHC:o.Atmega.IS_COUNTER++,BRHS:o.Atmega.IS_COUNTER++,BRID:o.Atmega.IS_COUNTER++,BRIE:o.Atmega.IS_COUNTER++,BRLO:o.Atmega.IS_COUNTER++,BRLT:o.Atmega.IS_COUNTER++,BRMI:o.Atmega.IS_COUNTER++,BRNE:o.Atmega.IS_COUNTER++,BRPL:o.Atmega.IS_COUNTER++,BRSH:o.Atmega.IS_COUNTER++,BRTC:o.Atmega.IS_COUNTER++,BRTS:o.Atmega.IS_COUNTER++,BRVC:o.Atmega.IS_COUNTER++,BRVS:o.Atmega.IS_COUNTER++,BSET:o.Atmega.IS_COUNTER++,BST:o.Atmega.IS_COUNTER++,CALL1:o.Atmega.IS_COUNTER++,CALL2:o.Atmega.IS_COUNTER++,CBI:o.Atmega.IS_COUNTER++,CBR:o.Atmega.IS_COUNTER++,CLC:o.Atmega.IS_COUNTER++,CLH:o.Atmega.IS_COUNTER++,CLI:o.Atmega.IS_COUNTER++,CLN:o.Atmega.IS_COUNTER++,CLR:o.Atmega.IS_COUNTER++,CLS:o.Atmega.IS_COUNTER++,CLT:o.Atmega.IS_COUNTER++,CLV:o.Atmega.IS_COUNTER++,CLZ:o.Atmega.IS_COUNTER++,COM:o.Atmega.IS_COUNTER++,CP:o.Atmega.IS_COUNTER++,CPC:o.Atmega.IS_COUNTER++,CPI:o.Atmega.IS_COUNTER++,CPSE:o.Atmega.IS_COUNTER++,DEC:o.Atmega.IS_COUNTER++,DES:o.Atmega.IS_COUNTER++,EICALL:o.Atmega.IS_COUNTER++,EIJMP:o.Atmega.IS_COUNTER++,ELPM1:o.Atmega.IS_COUNTER++,ELPM2:o.Atmega.IS_COUNTER++,ELPM3:o.Atmega.IS_COUNTER++,EOR:o.Atmega.IS_COUNTER++,FMUL:o.Atmega.IS_COUNTER++,FMULS:o.Atmega.IS_COUNTER++,FMULSU:o.Atmega.IS_COUNTER++,ICALL:o.Atmega.IS_COUNTER++,IJMP:o.Atmega.IS_COUNTER++,IN:o.Atmega.IS_COUNTER++,INC:o.Atmega.IS_COUNTER++,JMP:o.Atmega.IS_COUNTER++,LAC:o.Atmega.IS_COUNTER++,LAS:o.Atmega.IS_COUNTER++,LAT:o.Atmega.IS_COUNTER++,LDI:o.Atmega.IS_COUNTER++,LDS1:o.Atmega.IS_COUNTER++,LDS2:o.Atmega.IS_COUNTER++,LDX1:o.Atmega.IS_COUNTER++,LDX2:o.Atmega.IS_COUNTER++,LDX3:o.Atmega.IS_COUNTER++,LDY1:o.Atmega.IS_COUNTER++,LDY2:o.Atmega.IS_COUNTER++,LDY3:o.Atmega.IS_COUNTER++,LDY4:o.Atmega.IS_COUNTER++,LDZ1:o.Atmega.IS_COUNTER++,LDZ2:o.Atmega.IS_COUNTER++,LDZ3:o.Atmega.IS_COUNTER++,LDZ4:o.Atmega.IS_COUNTER++,LPM1:o.Atmega.IS_COUNTER++,LPM2:o.Atmega.IS_COUNTER++,LPM3:o.Atmega.IS_COUNTER++,LSL:o.Atmega.IS_COUNTER++,LSR:o.Atmega.IS_COUNTER++,MOV:o.Atmega.IS_COUNTER++,MOVW:o.Atmega.IS_COUNTER++,MUL:o.Atmega.IS_COUNTER++,MULS:o.Atmega.IS_COUNTER++,MULSU:o.Atmega.IS_COUNTER++,NEG:o.Atmega.IS_COUNTER++,NOP:o.Atmega.IS_COUNTER++,OR:o.Atmega.IS_COUNTER++,ORI:o.Atmega.IS_COUNTER++,OUT:o.Atmega.IS_COUNTER++,POP:o.Atmega.IS_COUNTER++,PUSH:o.Atmega.IS_COUNTER++,RCALL:o.Atmega.IS_COUNTER++,RET:o.Atmega.IS_COUNTER++,RETI:o.Atmega.IS_COUNTER++,RJMP:o.Atmega.IS_COUNTER++,ROL:o.Atmega.IS_COUNTER++,ROR:o.Atmega.IS_COUNTER++,SBC:o.Atmega.IS_COUNTER++,SBCI:o.Atmega.IS_COUNTER++,SBI:o.Atmega.IS_COUNTER++,SBIC:o.Atmega.IS_COUNTER++,SBIS:o.Atmega.IS_COUNTER++,SBIW:o.Atmega.IS_COUNTER++,SBR:o.Atmega.IS_COUNTER++,SBRC:o.Atmega.IS_COUNTER++,SBRS:o.Atmega.IS_COUNTER++,SEC:o.Atmega.IS_COUNTER++,SEH:o.Atmega.IS_COUNTER++,SEI:o.Atmega.IS_COUNTER++,SEN:o.Atmega.IS_COUNTER++,SER:o.Atmega.IS_COUNTER++,SES:o.Atmega.IS_COUNTER++,SET:o.Atmega.IS_COUNTER++,SEV:o.Atmega.IS_COUNTER++,SEZ:o.Atmega.IS_COUNTER++,SLEEP:o.Atmega.IS_COUNTER++,SPM1:o.Atmega.IS_COUNTER++,SPM2:o.Atmega.IS_COUNTER++,STS1:o.Atmega.IS_COUNTER++,STS2:o.Atmega.IS_COUNTER++,STX1:o.Atmega.IS_COUNTER++,STX2:o.Atmega.IS_COUNTER++,STX3:o.Atmega.IS_COUNTER++,STY1:o.Atmega.IS_COUNTER++,STY2:o.Atmega.IS_COUNTER++,STY3:o.Atmega.IS_COUNTER++,STY4:o.Atmega.IS_COUNTER++,STZ1:o.Atmega.IS_COUNTER++,STZ2:o.Atmega.IS_COUNTER++,STZ3:o.Atmega.IS_COUNTER++,STZ4:o.Atmega.IS_COUNTER++,SUB:o.Atmega.IS_COUNTER++,SUBI:o.Atmega.IS_COUNTER++,SWAP:o.Atmega.IS_COUNTER++,TST:o.Atmega.IS_COUNTER++,WDR:o.Atmega.IS_COUNTER++,XCH:o.Atmega.IS_COUNTER++},o.Atmega.IS_map=new n.HashMap;for(var r in o.Atmega.IS)o.Atmega.IS_map.put(o.Atmega.IS[r],r);o.Atmega.IS_decode_patterns={},o.Atmega.IS_decode_patterns[o.Atmega.IS.ADC]={opcode:o.Atmega.IS.ADC,pattern:"0001 11rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ADD]={opcode:o.Atmega.IS.ADD,pattern:"0000 11rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ADIW]={opcode:o.Atmega.IS.ADIW,pattern:"1001 0110 kkdd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.AND]={opcode:o.Atmega.IS.AND,pattern:"0010 00rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ANDI]={opcode:o.Atmega.IS.ANDI,pattern:"0111 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ASR]={opcode:o.Atmega.IS.ASR,pattern:"1001 010d dddd 0101"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BCLR]={opcode:o.Atmega.IS.BCLR,pattern:"1001 0100 1sss 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BLD]={opcode:o.Atmega.IS.BLD,pattern:"1111 100d dddd 0bbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BRBC]={opcode:o.Atmega.IS.BRBC,pattern:"1111 01tt tttt tsss"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BRBS]={opcode:o.Atmega.IS.BRBS,pattern:"1111 00tt tttt tsss"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BSET]={opcode:o.Atmega.IS.BSET,pattern:"1001 0100 0sss 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.BST]={opcode:o.Atmega.IS.BST,pattern:"1111 101d dddd 0bbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CALL1]={opcode:o.Atmega.IS.CALL1,pattern:"1001 010k kkkk 111k kkkk kkkk kkkk kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CBI]={opcode:o.Atmega.IS.CBI,pattern:"1001 1000 AAAA Abbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.COM]={opcode:o.Atmega.IS.COM,pattern:"1001 010d dddd 0000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CP]={opcode:o.Atmega.IS.CP,pattern:"0001 01rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CPC]={opcode:o.Atmega.IS.CPC,pattern:"0000 01rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CPI]={opcode:o.Atmega.IS.CPI,pattern:"0011 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.CPSE]={opcode:o.Atmega.IS.CPSE,pattern:"0001 00rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.DEC]={opcode:o.Atmega.IS.DEC,pattern:"1001 010d dddd 1010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.EOR]={opcode:o.Atmega.IS.EOR,pattern:"0010 01rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.FMUL]={opcode:o.Atmega.IS.FMUL,pattern:"0000 0011 0ddd 1rrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.FMULS]={opcode:o.Atmega.IS.FMULS,pattern:"0000 0011 1ddd 0rrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.FMULSU]={opcode:o.Atmega.IS.FMULSU,pattern:"0000 0011 1ddd 1rrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ICALL]={opcode:o.Atmega.IS.ICALL,pattern:"1001 0101 0000 1001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.IJMP]={opcode:o.Atmega.IS.IJMP,pattern:"1001 0100 0000 1001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.IN]={opcode:o.Atmega.IS.IN,pattern:"1011 0AAd dddd AAAA"},o.Atmega.IS_decode_patterns[o.Atmega.IS.INC]={opcode:o.Atmega.IS.INC,pattern:"1001 010d dddd 0011"},o.Atmega.IS_decode_patterns[o.Atmega.IS.JMP]={opcode:o.Atmega.IS.JMP,pattern:"1001 010k kkkk 110k kkkk kkkk kkkk kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LAC]={opcode:o.Atmega.IS.LAC,pattern:"1001 001r rrrr 0110"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LAS]={opcode:o.Atmega.IS.LAS,pattern:"1001 001r rrrr 0101"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LAT]={opcode:o.Atmega.IS.LAT,pattern:"1001 001r rrrr 0111"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDI]={opcode:o.Atmega.IS.LDI,pattern:"1110 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDS1]={opcode:o.Atmega.IS.LDS1,pattern:"1001 000d dddd 0000 kkkk kkkk kkkk kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDX1]={opcode:o.Atmega.IS.LDX1,pattern:"1001 000d dddd 1100"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDX2]={opcode:o.Atmega.IS.LDX2,pattern:"1001 000d dddd 1101"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDX3]={opcode:o.Atmega.IS.LDX3,pattern:"1001 000d dddd 1110"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDY1]={opcode:o.Atmega.IS.LDY1,pattern:"1000 000d dddd 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDY2]={opcode:o.Atmega.IS.LDY2,pattern:"1001 000d dddd 1001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDY3]={opcode:o.Atmega.IS.LDY3,pattern:"1001 000d dddd 1010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDY4]={opcode:o.Atmega.IS.LDY4,pattern:"10q0 qq0d dddd 1qqq"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDZ1]={opcode:o.Atmega.IS.LDZ1,pattern:"1000 000d dddd 0000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDZ2]={opcode:o.Atmega.IS.LDZ2,pattern:"1001 000d dddd 0001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDZ3]={opcode:o.Atmega.IS.LDZ3,pattern:"1001 000d dddd 0010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LDZ4]={opcode:o.Atmega.IS.LDZ4,pattern:"10q0 qq0d dddd 0qqq"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LPM1]={opcode:o.Atmega.IS.LPM1,pattern:"1001 0101 1100 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LPM2]={opcode:o.Atmega.IS.LPM2,pattern:"1001 000d dddd 0100"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LPM3]={opcode:o.Atmega.IS.LPM3,pattern:"1001 000d dddd 0101"},o.Atmega.IS_decode_patterns[o.Atmega.IS.LSR]={opcode:o.Atmega.IS.LSR,pattern:"1001 010d dddd 0110"},o.Atmega.IS_decode_patterns[o.Atmega.IS.MOV]={opcode:o.Atmega.IS.MOV,pattern:"0010 11rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.MOVW]={opcode:o.Atmega.IS.MOVW,pattern:"0000 0001 dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.MUL]={opcode:o.Atmega.IS.MUL,pattern:"1001 11rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.MULS]={opcode:o.Atmega.IS.MULS,pattern:"0000 0010 dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.MULSU]={opcode:o.Atmega.IS.MULSU,pattern:"0000 0011 0ddd 0rrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.NEG]={opcode:o.Atmega.IS.NEG,pattern:"1001 010d dddd 0001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.NOP]={opcode:o.Atmega.IS.NOP,pattern:"0000 0000 0000 0000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.OR]={opcode:o.Atmega.IS.OR,pattern:"0010 10rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ORI]={opcode:o.Atmega.IS.ORI,pattern:"0110 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.OUT]={opcode:o.Atmega.IS.OUT,pattern:"1011 1AAr rrrr AAAA"},o.Atmega.IS_decode_patterns[o.Atmega.IS.POP]={opcode:o.Atmega.IS.POP,pattern:"1001 000d dddd 1111"},o.Atmega.IS_decode_patterns[o.Atmega.IS.PUSH]={opcode:o.Atmega.IS.PUSH,pattern:"1001 001d dddd 1111"},o.Atmega.IS_decode_patterns[o.Atmega.IS.RCALL]={opcode:o.Atmega.IS.RCALL,pattern:"1101 tttt tttt tttt"},o.Atmega.IS_decode_patterns[o.Atmega.IS.RET]={opcode:o.Atmega.IS.RET,pattern:"1001 0101 0000 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.RETI]={opcode:o.Atmega.IS.RETI,pattern:"1001 0101 0001 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.RJMP]={opcode:o.Atmega.IS.RJMP,pattern:"1100 tttt tttt tttt"},o.Atmega.IS_decode_patterns[o.Atmega.IS.ROR]={opcode:o.Atmega.IS.ROR,pattern:"1001 010d dddd 0111"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBC]={opcode:o.Atmega.IS.SBC,pattern:"0000 10rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBCI]={opcode:o.Atmega.IS.SBCI,pattern:"0100 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBI]={opcode:o.Atmega.IS.SBI,pattern:"1001 1010 aaaa abbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBIC]={opcode:o.Atmega.IS.SBIC,pattern:"1001 1001 aaaa abbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBIS]={opcode:o.Atmega.IS.SBIS,pattern:"1001 1011 aaaa abbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBIW]={opcode:o.Atmega.IS.SBIW,pattern:"1001 0111 kkdd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBR]={opcode:o.Atmega.IS.SBR,pattern:"0110 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBRC]={opcode:o.Atmega.IS.SBRC,pattern:"1111 110r rrrr 0bbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SBRS]={opcode:o.Atmega.IS.SBRS,pattern:"1111 111r rrrr 0bbb"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SLEEP]={opcode:o.Atmega.IS.SLEEP,pattern:"1001 0101 1000 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SPM1]={opcode:o.Atmega.IS.SPM1,pattern:"1001 0101 1110 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SPM2]={opcode:o.Atmega.IS.SPM2,pattern:"1001 0101 1111 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STS1]={opcode:o.Atmega.IS.STS1,pattern:"1001 001d dddd 0000 kkkk kkkk kkkk kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STX1]={opcode:o.Atmega.IS.STX1,pattern:"1001 001r rrrr 1100"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STX2]={opcode:o.Atmega.IS.STX2,pattern:"1001 001r rrrr 1101"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STX3]={opcode:o.Atmega.IS.STX3,pattern:"1001 001r rrrr 1110"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STY1]={opcode:o.Atmega.IS.STY1,pattern:"1000 001r rrrr 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STY2]={opcode:o.Atmega.IS.STY2,pattern:"1001 001r rrrr 1001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STY3]={opcode:o.Atmega.IS.STY3,pattern:"1001 001r rrrr 1010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STY4]={opcode:o.Atmega.IS.STY4,pattern:"10q0 qq1r rrrr 1qqq"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STZ1]={opcode:o.Atmega.IS.STZ1,pattern:"1000 001r rrrr 0000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STZ2]={opcode:o.Atmega.IS.STZ2,pattern:"1001 001r rrrr 0001"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STZ3]={opcode:o.Atmega.IS.STZ3,pattern:"1001 001r rrrr 0010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.STZ4]={opcode:o.Atmega.IS.STZ4,pattern:"10q0 qq1r rrrr 0qqq"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SUB]={opcode:o.Atmega.IS.SUB,pattern:"0001 10rd dddd rrrr"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SUBI]={opcode:o.Atmega.IS.SUBI,pattern:"0101 kkkk dddd kkkk"},o.Atmega.IS_decode_patterns[o.Atmega.IS.SWAP]={opcode:o.Atmega.IS.SWAP,pattern:"1001 010d dddd 0010"},o.Atmega.IS_decode_patterns[o.Atmega.IS.WDR]={opcode:o.Atmega.IS.WDR,pattern:"1001 0101 1010 1000"},o.Atmega.IS_decode_patterns[o.Atmega.IS.XCH]={opcode:o.Atmega.IS.XCH,pattern:"1001 001r rrrr 0100"},o.Atmega.generate_is_test=function(e,t){for(var i in o.Atmega.IS_decode_patterns){var n=o.Atmega.IS_decode_patterns[i];n.pattern=n.pattern.replace(/\s+/g,"");var r=n.pattern.substring(0,16),a=parseInt(r.replace(/[01]/g,"1").replace(/[^1]/g,"0"),2),s=parseInt(r.replace(/[^01]/g,"0"),2);n.test_mask=a,n.test_data=s;var c=n.pattern.split("");n.arguments={};for(var l=[];0!==c.length;){var d=c.shift();"0"!==d&&"1"!==d&&(void 0==n.arguments[d]&&(l.push(d),n.arguments[d]=0),n.arguments[d]+=1)}}},o.Atmega.generate_is_test()},function(e,t,i){var n=i(433);n.Atmega_tools={},n.Atmega_tools.createReference=function(e,t){var i=function(i){return void 0!==i?(e[t]=i,i):e[t]};return i.address=t,i},n.Atmega_tools.createReferenceROM=function(e,t,i){var n=function(n,o){return void 0!==n?(o?e[t]=e[t]&i|n&~i:e[t]=n,e[t]):e[t]};return n.address=t,n},n.Atmega_tools.createTempHighWordReference=function(e,t,i){var n=0,o=function(i){return void 0!==i?(e[t]=i,i):n};return o.address=t,o.loadHighWord=function(o){void 0!==o?(n=o,e[t]=o&&255):n=e[t]+(e[i]<<8)},o},n.Atmega_tools.createWordReference=function(e,t){var i=function(i){return void 0!==i?(e[t]=255&i,e[t+1]=i>>8&255,i):e[t]+(e[t+1]<<8)};return i.address=t,i},n.Atmega_tools.createWordReferenceView=function(e,t){return function(i){return void 0!==i?(e.setUint16(t,i,!0),i):e.getUint16(t,!0)}},n.Atmega_tools.readBit=function(e,t){return e()>>t&1},n.Atmega_tools.writeBit=function(e,t,i){var n=1<<t;e(~n&e()|n&i<<t)},n.Atmega_tools.createBitReference=function(e,t){return function(i){if(void 0===i){for(var n=e(),o=0,r=0;r<t.length;r++)o<<=1,o|=(n&1<<t[r])>>t[r];return o}for(var n=0,a=0,r=t.length-1;r>=0;r--)n|=(1&i)<<t[r],a|=1<<t[r],i>>=1;e(~a&e()|a&n)}},n.Atmega_tools.createSingleBitReference=function(e,t){return function(i){if(void 0===i)return e()>>t&1;var n=i<<t,o=1<<t;e(~o&e()|o&n)}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_hardwareBlock=function(e){e.hardwareBlocks&&e.hardwareBlocks.add(this),this.atmega=e,this.sim=e.sim,this.address_map=e.address_map,this.memory=e.data_memory,this.signalMap=e.signalMap,this.def=e.def,this.registers={}},n.Atmega_hardwareBlock.prototype.assignRegister=function(e,t,i,n,o){this.memory[t]=i||0,this.address_map[t]={name:e,address:t,obj:this,initValue:i||0,timeAccurateRead:n||!1,timeAccurateWrite:o||!1},this.registers[e]=this.address_map[t]},n.Atmega_hardwareBlock.prototype.read=function(e,t){return this.memory[t]},n.Atmega_hardwareBlock.prototype.write=function(e,t,i){this.memory[t]=i},n.Atmega_hardwareBlock.prototype.reset=function(e){for(name in this.registers){var t=this.registers[name];this.write(e,t.address,t.initValue)}},n.Atmega_hardwareBlock.portMode={INPUT:0,OUTPUT:1,OPENDRAIN:2},n.Atmega_hardwareBlock.prototype.createPort=function(e,t,i,o){var r=this;this.atmega.hardwareBlockPins.put(e,o);var a={value:function(){return 1},setValue:function(e,t){},falling_edge:function(){},rising_edge:function(){},init:function(e){},reset:function(e){}},s=r.signalMap.get("PIN"+e),c=r.signalMap.get("DDR"+e),l=r.signalMap.get("PORT"+e);if(s){r.DEBUG&&(s.debug=!0),r.DEBUG&&(l.debug=!0);var d=r.atmega.getRegisterByName("PORT"+e.split("_")[0]).address,u=n.Atmega_tools.createSingleBitReference(n.Atmega_tools.createReference(r.memory,d),e.split("_")[1]),d=r.atmega.getRegisterByName("DDR"+e.split("_")[0]).address,h=n.Atmega_tools.createSingleBitReference(n.Atmega_tools.createReference(r.memory,d),e.split("_")[1]);switch(t){case n.Atmega_hardwareBlock.portMode.INPUT:a.init=function(e){c.setValue(e||0,0)};break;case n.Atmega_hardwareBlock.portMode.OUTPUT:a.setValue=function(e,t){l.setValue(e||0,t)},a.init=function(e){c.setValue(e||0,1)};break;case n.Atmega_hardwareBlock.portMode.OPENDRAIN:a.setValue=function(e,t){1==t?(c.setValue(e||0,0),l.setValue(e||0,u())):(c.setValue(e||0,1),l.setValue(e||0,0)),r.DEBUG&&console.log(r.sim.time.time,l.name,t)},a.init=function(e){c.setValue(e||0,0),l.setValue(e||0,u())}}a.value=function(){return s.value()},a.falling_edge=function(){return s.falling_edge()},a.rising_edge=function(){return s.rising_edge()},a.reset=function(e){c.setValue(e||0,h()),l.setValue(e||0,u())},i&&s.add_process(i)}return a},n.Atmega_singleRegister=function(e,t,i,o){n.Atmega_hardwareBlock.call(this,e),this.assignRegister(t,i),o&&(o.read&&(this.read=o.read),o.write&&(this.write=o.write),o.reset&&(this.reset=o.reset))},n.Atmega_singleRegister.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_singleRegister.prototype.constructor=n.Atmega_singleRegister},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_port=function(e,t,i,o,r){var a=this;a.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),a.assignRegister("PIN"+r,t,0,!0,!0),a.assignRegister("DDR"+r,i,0,!0,!0),a.assignRegister("PORT"+r,o,0,!0,!0),a.PIN=n.Atmega_tools.createReference(a.memory,t),a.portName="PIN"+r;for(var s in[0,1,2,3,4,5,6,7]){var c=a.portName+"_"+s,l=a.signalMap.get(c);l&&l.processes.add([this,this.updatePortBit,[c,l,s]])}},n.Atmega_port.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_port.prototype.constructor=n.Atmega_port,n.Atmega_port.prototype.write=function(e,t,i){var o=this,r=o.memory[t]^i;if(o.DEBUG&&console.log(o.atmega.currentSimTime(),"s PORT: ",o.address_map[t].name,i),o.memory[t]=i,r&&t!=o.PIN.address)for(var a=0;0!=r;){if(0!=(1&r)){var s=o.signalMap.get(o.address_map[t].name+"_"+a),c=o.atmega.hardwareBlockPins.get(o.address_map[t].name.substr(-1)+"_"+a);!s||c&&c()||s.setValueAbsolute(new n.Time(o.atmega.currentSimTime(),1),1&i)}r>>=1,i>>=1,a++}},n.Atmega_port.prototype.updatePortBit=function(e,t,i){this.DEBUG&&console.log(this.atmega.currentSimTime(),"receiving input, updating memory",e,t.value()),t.value()>.5?this.PIN(this.PIN()|1<<i):this.PIN(this.PIN()&(255^1<<i))},n.Atmega_port.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments);for(var t in[0,1,2,3,4,5,6,7]){var i=this.portName+"_"+t,o=this.signalMap.get(i);o&&this.updatePortBit(i,o,t)}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_externalInterrupt=function(e,t,i,o,r){var a=this;a.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),a.assignRegister("EICRA",e.def.EICRA),e.def.EICRB&&a.assignRegister("EICRB",e.def.EICRB),a.assignRegister("EIMSK",e.def.EIMSK),a.assignRegister("EIFR",e.def.EIFR),a.assignRegister("PCICR",e.def.PCICR),a.assignRegister("PCIFR",e.def.PCIFR),e.def.PCMSK2&&a.assignRegister("PCMSK2",e.def.PCMSK2),e.def.PCMSK1&&a.assignRegister("PCMSK1",e.def.PCMSK1),a.assignRegister("PCMSK0",e.def.PCMSK0),a.EICRA=n.Atmega_tools.createReference(a.memory,e.def.EICRA),a.ISC3=n.Atmega_tools.createBitReference(a.EICRA,[7,6]),a.ISC2=n.Atmega_tools.createBitReference(a.EICRA,[5,4]),a.ISC1=n.Atmega_tools.createBitReference(a.EICRA,[3,2]),a.ISC0=n.Atmega_tools.createBitReference(a.EICRA,[1,0]),a.ISC=[a.ISC0,a.ISC1,a.ISC2,a.ISC3],e.def.EICRB&&(a.EICRB=n.Atmega_tools.createReference(a.memory,e.def.EICRB),a.ISC6=n.Atmega_tools.createBitReference(a.EICRB,[5,4]),a.ISC[6]=a.ISC6),a.EIMSK=n.Atmega_tools.createReference(a.memory,e.def.EIMSK),a.INT6=n.Atmega_tools.createSingleBitReference(a.EIMSK,6),a.INT3=n.Atmega_tools.createSingleBitReference(a.EIMSK,3),a.INT2=n.Atmega_tools.createSingleBitReference(a.EIMSK,2),a.INT1=n.Atmega_tools.createSingleBitReference(a.EIMSK,1),a.INT0=n.Atmega_tools.createSingleBitReference(a.EIMSK,0),a.INT=[a.INT0,a.INT1,a.INT2,a.INT3,null,null,a.INT6],a.EIFR=n.Atmega_tools.createReference(a.memory,e.def.EIFR),a.INTF6=n.Atmega_tools.createSingleBitReference(a.EIFR,6),a.INTF3=n.Atmega_tools.createSingleBitReference(a.EIFR,3),a.INTF2=n.Atmega_tools.createSingleBitReference(a.EIFR,2),a.INTF1=n.Atmega_tools.createSingleBitReference(a.EIFR,1),a.INTF0=n.Atmega_tools.createSingleBitReference(a.EIFR,0),a.INTF=[a.INTF0,a.INTF1,a.INTF2,a.INTF3,null,null,a.INTF6],a.PCICR=n.Atmega_tools.createReference(a.memory,e.def.PCICR),a.PCIE2=n.Atmega_tools.createSingleBitReference(a.PCICR,2),a.PCIE1=n.Atmega_tools.createSingleBitReference(a.PCICR,1),a.PCIE0=n.Atmega_tools.createSingleBitReference(a.PCICR,0),a.PCIE=[a.PCIE0,a.PCIE1,a.PCIE2],a.PCIFR=n.Atmega_tools.createReference(a.memory,e.def.PCIFR),a.PCIF2=n.Atmega_tools.createSingleBitReference(a.PCIFR,2),a.PCIF1=n.Atmega_tools.createSingleBitReference(a.PCIFR,1),a.PCIF0=n.Atmega_tools.createSingleBitReference(a.PCIFR,0),a.PCIF=[a.PCIF0,a.PCIF1,a.PCIF2],a.PCMSK0=n.Atmega_tools.createReference(a.memory,e.def.PCMSK0),a.PCINT7=n.Atmega_tools.createSingleBitReference(a.PCMSK0,7),a.PCINT6=n.Atmega_tools.createSingleBitReference(a.PCMSK0,6),a.PCINT5=n.Atmega_tools.createSingleBitReference(a.PCMSK0,5),a.PCINT4=n.Atmega_tools.createSingleBitReference(a.PCMSK0,4),a.PCINT3=n.Atmega_tools.createSingleBitReference(a.PCMSK0,3),a.PCINT2=n.Atmega_tools.createSingleBitReference(a.PCMSK0,2),a.PCINT1=n.Atmega_tools.createSingleBitReference(a.PCMSK0,1),a.PCINT0=n.Atmega_tools.createSingleBitReference(a.PCMSK0,0),a.PCINT=[a.PCINT0,a.PCINT1,a.PCINT2,a.PCINT3,a.PCINT4,a.PCINT5,a.PCINT6,a.PCINT7],e.def.PCMSK1&&(a.PCMSK1=n.Atmega_tools.createReference(a.memory,e.def.PCMSK1),a.PCINT14=n.Atmega_tools.createSingleBitReference(a.PCMSK1,6),a.PCINT13=n.Atmega_tools.createSingleBitReference(a.PCMSK1,5),a.PCINT12=n.Atmega_tools.createSingleBitReference(a.PCMSK1,4),a.PCINT11=n.Atmega_tools.createSingleBitReference(a.PCMSK1,3),a.PCINT10=n.Atmega_tools.createSingleBitReference(a.PCMSK1,2),a.PCINT9=n.Atmega_tools.createSingleBitReference(a.PCMSK1,1),a.PCINT8=n.Atmega_tools.createSingleBitReference(a.PCMSK1,0),a.PCINT=a.PCINT.concat([a.PCINT8,a.PCINT9,a.PCINT10,a.PCINT11,a.PCINT12,a.PCINT13,a.PCINT14,null])),e.def.PCMSK2&&(a.PCMSK2=n.Atmega_tools.createReference(a.memory,e.def.PCMSK2),a.PCINT23=n.Atmega_tools.createSingleBitReference(a.PCMSK2,7),a.PCINT22=n.Atmega_tools.createSingleBitReference(a.PCMSK2,6),a.PCINT21=n.Atmega_tools.createSingleBitReference(a.PCMSK2,5),a.PCINT20=n.Atmega_tools.createSingleBitReference(a.PCMSK2,4),a.PCINT19=n.Atmega_tools.createSingleBitReference(a.PCMSK2,3),a.PCINT18=n.Atmega_tools.createSingleBitReference(a.PCMSK2,2),a.PCINT17=n.Atmega_tools.createSingleBitReference(a.PCMSK2,1),a.PCINT16=n.Atmega_tools.createSingleBitReference(a.PCMSK2,0),a.PCINT=a.PCINT.concat([a.PCINT16,a.PCINT17,a.PCINT18,a.PCINT19,a.PCINT20,a.PCINT21,a.PCINT22,a.PCINT23])),a.INT2port=i,a.PCINT2port=r,a.assignInterrupts(t,o)},n.Atmega_externalInterrupt.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_externalInterrupt.prototype.constructor=n.Atmega_externalInterrupt,n.Atmega_externalInterrupt.prototype.write=function(e,t,i){t==this.EIFR.address||t==this.PCIFR.address?this.memory[t]&=~i:this.memory[t]=i},n.Atmega_externalInterrupt.prototype.assignInterrupts=function(e,t){var i=this;i.INT_interrupt_creators={};for(var n in e)i.INT_interrupt_creators[n]=i.atmega.interruptHandler.registerInterrupt(e[n],i.INT[n],i.INTF[n]);for(var o in i.INT2port){var r="PIN"+i.INT2port[o],a=i.signalMap.get(r);a&&a.add_process([this,function(e,t,n){switch(i.DEBUG&&console.log("getting external interrupt on pin ",e.name,n()),n()){case 0:break;case 1:(e.rising_edge()||e.falling_edge())&&t.scheduleFromSim();break;case 2:e.falling_edge()&&t.scheduleFromSim();break;case 3:e.rising_edge()&&t.scheduleFromSim()}},[a,i.INT_interrupt_creators[o],i.ISC[o]]])}i.PCINT_interrupt_creators={};for(var n in t)i.PCINT_interrupt_creators[n]=i.atmega.interruptHandler.registerInterrupt(t[n],i.PCIE[n],i.PCIF[n]);for(var s in i.PCINT2port){var r="PIN"+i.PCINT2port[s],a=i.signalMap.get(r);a&&a.processes.add([this,function(e,t,i){t.enableFlag()&&i()&&(e.rising_edge()||e.falling_edge())&&t.scheduleFromSim()},[a,i.PCINT_interrupt_creators[s>>3],i.PCINT[s]]])}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_adc=function(e,t,i,o,r,a,s,c){var l=this;l.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),l.assignRegister("ADMUX",t),l.assignRegister("ADCSRA",i,0,!0,!1),l.assignRegister("ADCL",o),l.assignRegister("ADCH",r),l.assignRegister("ADCSRB",a),l.assignRegister("DIDR0",s),l.ADCSRA_address=i,l.ADMUX=n.Atmega_tools.createReference(l.memory,t),l.REFS=n.Atmega_tools.createBitReference(l.ADMUX,[7,6]),l.ADLAR=n.Atmega_tools.createSingleBitReference(l.ADMUX,5),l.MUX=n.Atmega_tools.createBitReference(l.ADMUX,[4,3,2,1,0]),l.ADCSRA=n.Atmega_tools.createReference(l.memory,i),l.ADEN=n.Atmega_tools.createSingleBitReference(l.ADCSRA,7),l.ADSC=n.Atmega_tools.createSingleBitReference(l.ADCSRA,6),l.ADATE=n.Atmega_tools.createSingleBitReference(l.ADCSRA,5),l.ADIF=n.Atmega_tools.createSingleBitReference(l.ADCSRA,4),l.ADIE=n.Atmega_tools.createSingleBitReference(l.ADCSRA,3),l.ADPS=n.Atmega_tools.createBitReference(l.ADCSRA,[2,1,0]),l.ADCL=n.Atmega_tools.createReference(l.memory,o),l.ADCH=n.Atmega_tools.createReference(l.memory,r),l.ADCSRB=n.Atmega_tools.createReference(l.memory,a),l.ADHSM=n.Atmega_tools.createSingleBitReference(l.ADCSRB,7),l.ACME=n.Atmega_tools.createSingleBitReference(l.ADCSRB,6),l.MUX5=n.Atmega_tools.createSingleBitReference(l.ADCSRB,5),l.ADTS=n.Atmega_tools.createBitReference(l.ADCSRB,[3,2,1,0]),l.DIDR0=n.Atmega_tools.createReference(l.memory,s),l.ADC_interrupt_creator=e.interruptHandler.registerInterrupt(c,l.ADIE,l.ADIF),l.clock_divider=function(){return e.def.ADC_prescaler[l.ADPS()]},l.signal=new n.Signal(this.atmega.sim,"Atmega ADC"),l.signal.processes.add([this,this.doADConversion])},n.Atmega_adc.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_adc.prototype.constructor=n.Atmega_adc,n.Atmega_adc.prototype.doADConversion=function(){var e=this,t=this.getRefVoltage(),i=e.def.ADC_mux2port[((e.MUX5&&e.MUX5())<<5)+e.MUX()],n=e.signalMap.get("PORT"+i+"_A"),o=0;o="_1V1"==i?1.1:"_gnd"==i?0:"_temp"==i?0:n?n.value():Math.random()*t;var r=0;r=o>=t?1023:Math.round(o/t*1023),e.DEBUG&&console.log(e.atmega.sim.getTime(),"reading ADC PORT"+i+"_A which returned "+r),e.ADLAR()&&(r<<=6),e.ADCL(255&r),e.ADCH(r>>8&255),e.ADSC(0),e.ADC_interrupt_creator.scheduleFromSim()},n.Atmega_adc.prototype.getRefVoltage=function(){var e=0;switch(this.REFS()){case 0:var t=this.signalMap.get("AREF");t&&(e=t.value());break;case 1:var t=this.signalMap.get("AVCC");t&&(e=t.value());break;case 3:e=this.def.ADC_refVoltage}return e},n.Atmega_adc.prototype.read=function(e,t){var i=this;return i.DEBUG&&console.log(i.atmega.currentSimTime(),"s ADC READ: ",i.address_map[t].name),i.memory[t]},n.Atmega_adc.prototype.write=function(e,t,i){var o=this;o.DEBUG&&console.log(o.atmega.currentSimTime(),"s write ADC: ",o.address_map[t].name,i);var r=o.ADEN(),a=o.ADSC();if(o.memory[t]=i,t==o.ADCSRA_address){if(o.ADEN())if(o.ADSC()&&!a){var s=this.atmega.cycle_counter+1.5*o.clock_divider();this.signal.setValueAbsolute(new n.Time(this.atmega.cycles2SimTime(s),1),!0)}else o.ADSC(a);else!o.ADEN()&&r&&this.signal.removeEventsAfter(new n.Time(this.atmega.cycles2SimTime(this.atmega.cycle_counter),0));0!=(16&i)&&o.ADIF(0)}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_timer_8bit=function(e,t,i,o,r,a,s,c,l,d,u,h){var p=this;p.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),p.assignRegister("TCCRA",t),p.assignRegister("TCCRB",i),p.assignRegister("TCNT",o),p.assignRegister("OCRA",r),p.assignRegister("OCRB",a),p.assignRegister("TIMSK",s),p.assignRegister("TIFR",c),p.TCCRA=n.Atmega_tools.createReference(p.memory,t),p.COMA=n.Atmega_tools.createBitReference(p.TCCRA,[7,6]),p.COMB=n.Atmega_tools.createBitReference(p.TCCRA,[5,4]),p.WGM=n.Atmega_tools.createBitReference(p.TCCRA,[1,0]),p.TCCRB=n.Atmega_tools.createReference(p.memory,i),
p.FOCA=n.Atmega_tools.createSingleBitReference(p.TCCRB,7),p.FOCB=n.Atmega_tools.createSingleBitReference(p.TCCRB,6),p.WGM2=n.Atmega_tools.createSingleBitReference(p.TCCRB,3),p.CS=n.Atmega_tools.createBitReference(p.TCCRB,[2,1,0]),p.TCNT=n.Atmega_tools.createReference(p.memory,o),p.OCRA=n.Atmega_tools.createReference(p.memory,r),p.OCRB=n.Atmega_tools.createReference(p.memory,a),p.TIMSK=n.Atmega_tools.createReference(p.memory,s),p.OCIEB=n.Atmega_tools.createSingleBitReference(p.TIMSK,2),p.OCIEA=n.Atmega_tools.createSingleBitReference(p.TIMSK,1),p.TOIE=n.Atmega_tools.createSingleBitReference(p.TIMSK,0),p.TIFR=n.Atmega_tools.createReference(p.memory,c),p.OCFB=n.Atmega_tools.createSingleBitReference(p.TIFR,2),p.OCFA=n.Atmega_tools.createSingleBitReference(p.TIFR,1),p.TOV=n.Atmega_tools.createSingleBitReference(p.TIFR,0),p.TOV_interrupt_creator=e.interruptHandler.registerInterrupt(l,p.TOIE,p.TOV),p.OCFA_interrupt_creator=e.interruptHandler.registerInterrupt(d,p.OCIEA,p.OCFA),p.OCFB_interrupt_creator=e.interruptHandler.registerInterrupt(u,p.OCIEB,p.OCFB),p.direction=1,p.state_time=0,p.clock_divider=0,p.id=h,p.signalMap.get("TIMER_"+h+"A")&&(this.oca=new n.PWMSignal(this.sim,p.signalMap.get("TIMER_"+h+"A"),p.signalMap.get("TIMERCTL_"+h+"A"))),p.signalMap.get("TIMER_"+h+"B")&&(this.ocb=new n.PWMSignal(this.sim,p.signalMap.get("TIMER_"+h+"B"),p.signalMap.get("TIMERCTL_"+h+"B")))},n.Atmega_timer_8bit.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_timer_8bit.prototype.constructor=n.Atmega_timer_8bit,n.Atmega_timer_8bit.prototype.update_state=function(e){var t=this;if(t.clock_divider>0&&e-t.state_time>t.clock_divider){var i=Math.floor((e-t.state_time)/t.clock_divider);if(t.state_time+=i*t.clock_divider,0==t.WGM()&&0==t.WGM2())t.TCNT(t.TCNT()+i&255);else if(2==t.WGM()&&0==t.WGM2())t.TCNT((t.TCNT()+i)%t.OCRA());else if(3==t.WGM()){var n=t.WGM2()?t.OCRA():256;t.TCNT((t.TCNT()+i)%n)}else if(1==t.WGM()){var n=t.WGM2()?2*t.OCRA():510,o=(t.TCNT()+i)%n;o>n/2?(o=n-o,t.direction=-1):t.direction=1,t.TCNT(o)}}t.FOCA(0),t.FOCB(0)},n.Atmega_timer_8bit.prototype.update_cs=function(){switch(this.CS()){case 0:this.clock_divider=0;break;case 1:this.clock_divider=1;break;case 2:this.clock_divider=8;break;case 3:2==this.id?this.clock_divider=32:this.clock_divider=64;break;case 4:2==this.id?this.clock_divider=64:this.clock_divider=256;break;case 5:2==this.id?this.clock_divider=128:this.clock_divider=1024;break;case 6:2==this.id?this.clock_divider=256:this.clock_divider=0;break;case 7:2==this.id?this.clock_divider=1024:this.clock_divider=0}},n.Atmega_timer_8bit.prototype.predict_events=function(e){var t=this,i=t.TCNT();if(t.update_cs(),t.TOV_interrupt_creator.cancel(),t.OCFA_interrupt_creator.cancel(),t.OCFB_interrupt_creator.cancel(),0==t.WGM()&&0==t.WGM2()||2==t.WGM()&&0==t.WGM2()){if(0==t.WGM()&&0==t.WGM2())var n=256;else var n=t.OCRA();t.TOIE()&&t.TOV_interrupt_creator.scheduleFromAtmega((n-1-i)*t.clock_divider,n*t.clock_divider),t.OCIEA()&&t.OCFA_interrupt_creator.scheduleFromAtmega((n+t.OCRA()-1-i)%n*t.clock_divider,n*t.clock_divider),t.OCIEB()&&t.OCFB_interrupt_creator.scheduleFromAtmega((n+t.OCRB()-1-i)%n*t.clock_divider,n*t.clock_divider);var o=t.atmega.currentSimTime(),r=n*t.clock_divider/t.atmega.clockFreq,a=0;1==t.COMA()&&this.oca&&this.oca.start(o,2*r,r,a),1==t.COMB()&&this.ocb&&this.ocb.start(o,2*r,r,a)}else if(3==t.WGM()){var n=t.WGM2()?t.OCRA():256;t.TOIE()&&t.TOV_interrupt_creator.scheduleFromAtmega((n-1-i)*t.clock_divider,n*t.clock_divider),t.OCIEA()&&t.OCFA_interrupt_creator.scheduleFromAtmega((n+t.OCRA()-1-i)%n*t.clock_divider,n*t.clock_divider),t.OCIEB()&&t.OCFB_interrupt_creator.scheduleFromAtmega((n+t.OCRB()-1-i)%n*t.clock_divider,n*t.clock_divider);var o=t.atmega.currentSimTime(),r=n*t.clock_divider/t.atmega.clockFreq,s=t.OCRA()*t.clock_divider/t.atmega.clockFreq,a=0;1==t.COMA()&&this.oca?0==t.WGM2()?this.oca.stop(t.atmega.currentSimTime()):this.oca.start(o,2*r,r,a):2==t.COMA()&&this.oca?this.oca.start(o,r,s,a):3==t.COMA()&&this.oca&&this.oca.start(o,r,r-s,a),s=t.OCRB()*t.clock_divider/t.atmega.clockFreq,2==t.COMB()&&this.ocb?this.ocb.start(o,r,s,a):3==t.COMB()&&this.ocb&&this.ocb.start(o,r,r-s,a)}else if(1==t.WGM()){var n=t.WGM2()?2*t.OCRA():510;i=-1==t.direction?n-i:i,t.TOIE()&&t.TOV_interrupt_creator.scheduleFromAtmega((n-1-i)*t.clock_divider,n*t.clock_divider),t.OCIEA()&&t.OCFA_interrupt_creator.scheduleFromAtmega((n+t.OCRA()-1-i)%n*t.clock_divider,n*t.clock_divider),t.OCIEA()&&t.OCFA_interrupt_creator.scheduleFromAtmega((n+n-(t.OCRA()-1)-i)%n*t.clock_divider,n*t.clock_divider),t.OCIEB()&&t.OCFB_interrupt_creator.scheduleFromAtmega((n+t.OCRB()-1-i)%n*t.clock_divider,n*t.clock_divider),t.OCIEB()&&t.OCFB_interrupt_creator.scheduleFromAtmega((n+n-(t.OCRB()-1)-i)%n*t.clock_divider,n*t.clock_divider);var o=t.atmega.currentSimTime(),r=n*t.clock_divider/t.atmega.clockFreq,s=2*t.OCRA()*t.clock_divider/t.atmega.clockFreq,a=0;1==t.COMA()&&this.oca?0==t.WGM2()?this.oca.stop(t.atmega.currentSimTime()):this.oca.start(o,r,s,a):2==t.COMA()&&this.oca?this.oca.start(o,r,s,a):3==t.COMA()&&this.oca&&this.oca.start(o,r,r-s,a),s=2*t.OCRB()*t.clock_divider/t.atmega.clockFreq,2==t.COMB()&&this.ocb?this.ocb.start(o,r,s,a):3==t.COMB()&&this.ocb&&this.ocb.start(o,r,r-s,a)}0==t.COMA()&&this.oca&&this.oca.stop(t.atmega.currentSimTime()),0==t.COMB()&&this.ocb&&this.ocb.stop(t.atmega.currentSimTime())},n.Atmega_timer_8bit.prototype.read=function(e,t){var i=this;return i.update_state(e),i.DEBUG&&console.log(i.atmega.currentSimTime(),"s TIMER "+i.id+" READ: ",i.address_map[t].name,i.memory[t]),i.memory[t]},n.Atmega_timer_8bit.prototype.write=function(e,t,i){var n=this;n.DEBUG&&console.log(n.atmega.currentSimTime(),"s TIMER  "+n.id+" WRITE: ",n.address_map[t].name,i),n.update_state(e),t==n.TIFR.address?n.memory[t]&=~i:n.memory[t]=i,n.memory[t]=i,n.predict_events(e)},n.Atmega_timer_8bit.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments),this.direction=1,this.state_time=0,this.clock_divider=0}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_timer_16bit=function(e,t,i,o,r,a,s,c,l,d,u,h,p,g,m){var f=this;f.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),f.assignRegister("TCCRA",t),f.assignRegister("TCCRB",i),f.assignRegister("TCCRC",o),f.assignRegister("TCNTL",r),f.assignRegister("TCNTH",r+1),f.assignRegister("ICRL",a),f.assignRegister("ICRH",a+1),f.assignRegister("OCRAL",s),f.assignRegister("OCRAH",s+1),f.assignRegister("OCRBL",c),f.assignRegister("OCRBH",c+1),f.assignRegister("TIMSK",l),f.assignRegister("TIFR",d),f.TCCRA=n.Atmega_tools.createReference(f.memory,t),f.COMA=n.Atmega_tools.createBitReference(f.TCCRA,[7,6]),f.COMB=n.Atmega_tools.createBitReference(f.TCCRA,[5,4]),f.COMC=n.Atmega_tools.createBitReference(f.TCCRA,[3,2]),f.WGM=n.Atmega_tools.createBitReference(f.TCCRA,[1,0]),f.TCCRB=n.Atmega_tools.createReference(f.memory,i),f.ICNC=n.Atmega_tools.createSingleBitReference(f.TCCRB,7),f.ICES=n.Atmega_tools.createSingleBitReference(f.TCCRB,6),f.WGM3=n.Atmega_tools.createSingleBitReference(f.TCCRB,4),f.WGM2=n.Atmega_tools.createSingleBitReference(f.TCCRB,3),f.CS=n.Atmega_tools.createBitReference(f.TCCRB,[2,1,0]),f.TCCRC=n.Atmega_tools.createReference(f.memory,o),f.FOCA=n.Atmega_tools.createSingleBitReference(f.TCCRC,7),f.FOCB=n.Atmega_tools.createSingleBitReference(f.TCCRC,6),f.FOCC=n.Atmega_tools.createSingleBitReference(f.TCCRC,6),f.TCNT=n.Atmega_tools.createWordReference(f.memory,r),f.ICR=n.Atmega_tools.createWordReference(f.memory,a),f.OCRA=n.Atmega_tools.createWordReference(f.memory,s),f.OCRB=n.Atmega_tools.createWordReference(f.memory,c),f.TIMSK=n.Atmega_tools.createReference(f.memory,l),f.ICIE=n.Atmega_tools.createSingleBitReference(f.TIMSK,5),f.OCIEC=n.Atmega_tools.createSingleBitReference(f.TIMSK,3),f.OCIEB=n.Atmega_tools.createSingleBitReference(f.TIMSK,2),f.OCIEA=n.Atmega_tools.createSingleBitReference(f.TIMSK,1),f.TOIE=n.Atmega_tools.createSingleBitReference(f.TIMSK,0),f.TIFR=n.Atmega_tools.createReference(f.memory,d),f.ICF=n.Atmega_tools.createSingleBitReference(f.TIFR,5),f.OCFC=n.Atmega_tools.createSingleBitReference(f.TIFR,3),f.OCFB=n.Atmega_tools.createSingleBitReference(f.TIFR,2),f.OCFA=n.Atmega_tools.createSingleBitReference(f.TIFR,1),f.TOV=n.Atmega_tools.createSingleBitReference(f.TIFR,0),f.TOV_interrupt_creator=e.interruptHandler.registerInterrupt(u,f.TOIE,f.TOV),f.OCFA_interrupt_creator=e.interruptHandler.registerInterrupt(h,f.OCIEA,f.OCFA),f.OCFB_interrupt_creator=e.interruptHandler.registerInterrupt(p,f.OCIEB,f.OCFB),f.CAPT_interrupt_creator=e.interruptHandler.registerInterrupt(g,f.ICIE,f.ICF),f.direction=1,f.state_time=0,f.clock_divider=0,f.update_cs=function(){switch(f.CS()){case 0:f.clock_divider=0;break;case 1:f.clock_divider=1;break;case 2:f.clock_divider=8;break;case 3:f.clock_divider=64;break;case 4:f.clock_divider=256;break;case 5:f.clock_divider=1024;break;case 6:f.clock_divider=0;break;case 7:f.clock_divider=0}},f.id=m,f.signalMap.get("TIMER_"+m+"A")&&(this.oca=new n.PWMSignal(this.sim,f.signalMap.get("TIMER_"+m+"A"),f.signalMap.get("TIMERCTL_"+m+"A"))),f.signalMap.get("TIMER_"+m+"B")&&(this.ocb=new n.PWMSignal(this.sim,f.signalMap.get("TIMER_"+m+"B"),f.signalMap.get("TIMERCTL_"+m+"B")))},n.Atmega_timer_16bit.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_timer_16bit.prototype.constructor=n.Atmega_timer_16bit,n.Atmega_timer_16bit.prototype.get_top=function(){var e=this;if(0==e.WGM()&&0==e.WGM2()&&0==e.WGM3())return 65535;if(0==e.WGM2()){var t;return t=e.WGM3()?1&e.WGM()?e.OCRA():e.ICR():(1<<e.WGM()+7)-1}if(0==e.WGM()&&1==e.WGM2())return e.WGM3()?e.ICR():e.OCRA();if(0!=e.WGM()&&1==e.WGM2()){var t;return t=e.WGM3()?1&e.WGM()?e.OCRA():e.ICR():(1<<e.WGM()+7)-1}},n.Atmega_timer_16bit.prototype.update_state=function(e){var t=this;if(t.clock_divider>0&&e-t.state_time>t.clock_divider){var i=Math.floor((e-t.state_time)/t.clock_divider);t.state_time+=i*t.clock_divider;var n=2*t.get_top(),o=(t.TCNT()+i)%n;0==t.WGM2()&&(o>n/2?(o=n-o,t.direction=-1):t.direction=1),t.TCNT(o)}t.FOCA(0),t.FOCB(0)},n.Atmega_timer_16bit.prototype.predict_events=function(e){var t=this,i=t.TCNT();t.update_cs(),t.TOV_interrupt_creator.cancel(),t.OCFA_interrupt_creator.cancel(),t.OCFB_interrupt_creator.cancel();var n=0!=t.WGM2()||0==t.WGM()&&0==t.WGM3()?1:2,o=t.get_top()*n;t.TOIE()&&t.TOV_interrupt_creator.scheduleFromAtmega((o-1-i)*t.clock_divider,o*t.clock_divider),t.OCIEA()&&t.OCFA_interrupt_creator.scheduleFromAtmega((o+t.OCRA()*n-1-i)%o*t.clock_divider,o*t.clock_divider),t.OCIEB()&&t.OCFB_interrupt_creator.scheduleFromAtmega((o+t.OCRB()*n-1-i)%o*t.clock_divider,o*t.clock_divider);var r=t.atmega.currentSimTime(),a=o*t.clock_divider/t.atmega.clockFreq,s=(t.OCRA()*n&o)*t.clock_divider/t.atmega.clockFreq,c=0;1==t.COMA()&&this.oca?0!=t.WGM()||0==t.WGM2()&&1==t.WGM3?1==t.WGM3()&&1==t.WGM2()&&t.WGM()>1?this.oca.start(r,2*a,a,c):1!=t.WGM3()||0!=t.WGM2()||1!=t.WGM()&&3!=t.WGM()?this.oca.stop(t.atmega.currentSimTime()):this.oca.start(r,a,s,c):this.oca.start(r,2*a,a,c):2==t.COMA()&&this.oca?(t.DEBUG&&console.log(t.atmega.currentSimTime(),"OCA",a,s,c),this.oca.start(r,a,s,c)):3==t.COMA()&&this.oca&&(t.DEBUG&&console.log(t.atmega.currentSimTime(),"OCA",a,a-s,c),this.oca.start(r,a,a-s,c)),s=(t.OCRB()*n&o)*t.clock_divider/t.atmega.clockFreq,1==t.COMB()&&this.ocb?0!=t.WGM()||0==t.WGM2()&&1==t.WGM3?this.ocb.stop(t.atmega.currentSimTime()):this.ocb.start(r,2*a,a,c):2==t.COMB()&&this.ocb?(t.DEBUG&&console.log(t.atmega.currentSimTime(),"OCB",a,s,c),this.ocb.start(r,a,s,c)):3==t.COMB()&&this.ocb&&(t.DEBUG&&console.log(t.atmega.currentSimTime(),"OCB",a,a-s,c),this.ocb.start(r,a,a-s,c)),0==t.COMA()&&this.oca&&this.oca.stop(t.atmega.currentSimTime()),0==t.COMB()&&this.ocb&&this.ocb.stop(t.atmega.currentSimTime())},n.Atmega_timer_16bit.prototype.read=function(e,t){var i=this;return i.update_state(e),i.DEBUG&&console.log(i.atmega.currentSimTime(),"s TIMER  "+i.id+" READ: ",i.address_map[t].name,i.memory[t]),i.memory[t]},n.Atmega_timer_16bit.prototype.write=function(e,t,i){var n=this;n.DEBUG&&console.log(n.atmega.currentSimTime(),"s TIMER "+n.id+" WRITE: ",n.address_map[t].name,i),n.update_state(e),t==n.TIFR.address?n.memory[t]&=~i:n.memory[t]=i,n.predict_events(e)},n.Atmega_timer_8bit.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments),this.direction=1,this.state_time=0,this.clock_divider=0}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_usart=function(e,t,i,o,r,a,s,c,l,d){var u=this;u.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),u.assignRegister("UCSRA",t,32,!0,!1),u.assignRegister("UCSRB",i,0,!0,!0),u.assignRegister("UCSRC",o,6),u.assignRegister("UBRRL",r),u.assignRegister("UBRRH",a),u.assignRegister("UDR",s,0,!0,!0),u.UCSRA=n.Atmega_tools.createReferenceROM(u.memory,t,188),u.RXC=n.Atmega_tools.createSingleBitReference(u.UCSRA,7),u.TXC=n.Atmega_tools.createSingleBitReference(u.UCSRA,6),u.UDRE=n.Atmega_tools.createSingleBitReference(u.UCSRA,5),u.FE=n.Atmega_tools.createSingleBitReference(u.UCSRA,4),u.DOR=n.Atmega_tools.createSingleBitReference(u.UCSRA,3),u.UPE=n.Atmega_tools.createSingleBitReference(u.UCSRA,2),u.U2X=n.Atmega_tools.createSingleBitReference(u.UCSRA,1),u.MPCM=n.Atmega_tools.createSingleBitReference(u.UCSRA,0),u.UCSRB=n.Atmega_tools.createReferenceROM(u.memory,i,2),u.RXCIE=n.Atmega_tools.createSingleBitReference(u.UCSRB,7),u.TXCIE=n.Atmega_tools.createSingleBitReference(u.UCSRB,6),u.UDRIE=n.Atmega_tools.createSingleBitReference(u.UCSRB,5),u.RXEN=n.Atmega_tools.createSingleBitReference(u.UCSRB,4),u.TXEN=n.Atmega_tools.createSingleBitReference(u.UCSRB,3),u.UCSZ2=n.Atmega_tools.createSingleBitReference(u.UCSRB,2),u.RXB8=n.Atmega_tools.createSingleBitReference(u.UCSRB,1),u.TXB8=n.Atmega_tools.createSingleBitReference(u.UCSRB,0),u.UCSRC=n.Atmega_tools.createReference(u.memory,o),u.UMSEL=n.Atmega_tools.createBitReference(u.UCSRC,[7,6]),u.UPM=n.Atmega_tools.createBitReference(u.UCSRC,[5,4]),u.USBS=n.Atmega_tools.createSingleBitReference(u.UCSRC,3),u.UCSZ=n.Atmega_tools.createBitReference(u.UCSRC,[2,1]),u.UCPOL=n.Atmega_tools.createSingleBitReference(u.UCSRC,0),u.UBRR=n.Atmega_tools.createWordReference(u.memory,r),u.UDR=n.Atmega_tools.createReference(u.memory,s),u.USART_RX_interrupt_creator=e.interruptHandler.registerInterrupt(c,u.RXCIE,u.RXC,!0),u.USART_UDRE_interrupt_creator=e.interruptHandler.registerInterrupt(l,u.UDRIE,u.UDRE,!0),u.USART_TX_interrupt_creator=e.interruptHandler.registerInterrupt(d,u.TXCIE,u.TXC,!1),this.baudPeriod=0,this.updateBaudRate(),this.getBaudPeriod=function(){return u.baudPeriod},this.readBuffer=[],u.actions=u.getActions(),u.TX=u.createPort(e.def.USART2port.TX,n.Atmega_hardwareBlock.portMode.OUTPUT,null,u.TXEN),u.TXstatemachine=new n.UARTTranmitterStatemachine(u.sim,u.TX,u.getBaudPeriod,u.actions);var h=[u,function(){u.RXEN()&&u.RXstatemachine.handle("portAcitivity")}];u.RX=u.createPort(e.def.USART2port.RX,n.Atmega_hardwareBlock.portMode.INPUT,h,u.RXEN),u.RXstatemachine=new n.UARTReceiverStatemachine(u.sim,u.RX,u.getBaudPeriod,u.actions)},n.Atmega_usart.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_usart.prototype.constructor=n.Atmega_usart,n.Atmega_usart.prototype.updateBaudRate=function(){var e=1;e=0==this.UMSEL()?0==this.U2X()?16:8:2,this.baudPeriod=e*(this.UBRR()+1)/this.atmega.clockFreq},n.Atmega_usart.prototype.read=function(e,t){var i=this,n=null;if(t==i.UDR.address){var o=i.readBuffer.splice(0,1)[0];i.DOR(0),0==i.readBuffer.length?(i.RXC(0),i.FE(0),i.UPE(0),i.RXB8(0)):(i.FE(i.readBuffer[0].frameError?1:0),i.UPE(i.readBuffer[0].parityError?1:0),i.UCSZ2()&&i.RXB8(i.readBuffer[0].data>>8)),n=o?255&o.data:0}else n=i.memory[t];return i.DEBUG&&console.log(i.atmega.currentSimTime(),"s "+i.atmega.deviceName+" USART read: ",i.address_map[t].name,n),n},n.Atmega_usart.prototype.write=function(e,t,i){var n=this;switch(n.DEBUG&&console.log(n.atmega.currentSimTime(),"s "+n.atmega.deviceName+" USART write: ",n.address_map[t].name,i),t){case n.UCSRA.address:n.UCSRA(i,!0),64&i&&n.TXC(0),n.updateBaudRate();break;case n.UCSRB.address:var o=n.TXEN(),r=n.RXEN();n.UCSRB(i,!0),n.TXEN()&&!o?(n.TX.init(),n.TX.setValue(0,1)):!n.TXEN()&&o&&1==n.UDRE()&&"idle"==n.TXstatemachine.state()&&(n.TX.reset(),n.TXstatemachine.handle("reset"),n.UDRE(1)),n.RXEN()&&!r?n.RX.init():!n.RXEN()&&r&&(n.RX.reset(),n.RXstatemachine.handle("reset"),n.readBuffer=[],n.RXC(0),n.FE(0),n.DOR(0),n.UPE(0),n.RXB8(0)),n.UDRIE()&&n.UDRE()&&n.USART_UDRE_interrupt_creator.scheduleFromAtmega(0),n.TXCIE()&&n.TXC()&&n.USART_TX_interrupt_creator.scheduleFromAtmega(0);break;case n.UCSRC.address:n.UCSRC(i),n.updateBaudRate();break;case n.UBRR.address:case n.UBRR.address+1:n.memory[t]=i,n.updateBaudRate();break;case n.UDR.address:n.UDRE()&&(n.UDR(i),n.TXEN()&&("idle"==n.TXstatemachine.state()?n.sendByte():n.UDRE(0)));break;default:n.memory[t]=i}},n.Atmega_usart.prototype.sendByte=function(e){var t=new Circuits.GuiEvent("sendData").data("dataByte",this.UDR()|(this.UCSZ2()&this.TXB8())<<8);this.TXstatemachine.handle(t),this.UDRIE()?this.USART_UDRE_interrupt_creator.scheduleFromSim():this.UDRE(1)},n.Atmega_usart.prototype.getActions=function(){var e=this;return{getFrameFormat:function(){switch(e.UPM()){case 0:var t=n.UARTParity.NO;break;case 2:var t=n.UARTParity.EVEN;break;case 3:var t=n.UARTParity.ODD}return{dataBits:e.UCSZ2()?9:5+e.UCSZ(),parity:t,stopBits:e.USBS()+1}},dataSend:function(t){0==e.UDRE()?e.sendByte():(e.TXCIE()?e.USART_TX_interrupt_creator.scheduleFromSim():e.TXC(1),0==e.TXEN()&&e.TX.reset())},startBitReceived:function(){3==e.readBuffer.length&&e.DOR(1)},dataReceived:function(t,i,n){e.USART_RX_interrupt_creator.scheduleFromSim(),e.readBuffer.length<3&&e.readBuffer.push({data:t,parityError:i,frameError:n}),1==e.readBuffer.length&&(e.FE(n?1:0),e.UPE(i?1:0),e.UCSZ2()&&e.RXB8(t>>8))}}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.USBPacketType={SETUP:0,IN:1,OUT:2},n.Atmega_usb=function(e,t,i){var o=this;o.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),o.assignRegister("UHWCON",o.def.UHWCON),o.assignRegister("USBCON",o.def.USBCON,32),o.assignRegister("USBSTA",o.def.USBSTA,2),o.assignRegister("USBINT",o.def.USBINT),o.assignRegister("UDCON",o.def.UDCON,1),o.assignRegister("UDINT",o.def.UDINT),o.assignRegister("UDIEN",o.def.UDIEN),o.assignRegister("UDADDR",o.def.UDADDR),o.assignRegister("UDFNUMH",o.def.UDFNUMH),o.assignRegister("UDFNUML",o.def.UDFNUML),o.assignRegister("UDMFN",o.def.UDMFN),o.assignRegister("UENUM",o.def.UENUM),o.assignRegister("UERST",o.def.UERST),o.assignRegister("UECONX",o.def.UECONX),o.assignRegister("UECFG0X",o.def.UECFG0X),o.assignRegister("UECFG1X",o.def.UECFG1X),o.assignRegister("UESTA0X",o.def.UESTA0X),o.assignRegister("UESTA1X",o.def.UESTA1X),o.assignRegister("UEINTX",o.def.UEINTX),o.assignRegister("UEIENX",o.def.UEIENX),o.assignRegister("UEDATX",o.def.UEDATX),o.assignRegister("UEBCHX",o.def.UEBCHX),o.assignRegister("UEBCLX",o.def.UEBCLX),o.assignRegister("UEINT",o.def.UEINT),o.UHWCON=n.Atmega_tools.createReference(o.memory,o.def.UHWCON),o.UVREGE=n.Atmega_tools.createSingleBitReference(o.UHWCON,0),o.USBCON=n.Atmega_tools.createReference(o.memory,o.def.USBCON),o.USBE=n.Atmega_tools.createSingleBitReference(o.USBCON,7),o.FRZCLK=n.Atmega_tools.createSingleBitReference(o.USBCON,5),o.OTGPADE=n.Atmega_tools.createSingleBitReference(o.USBCON,4),o.VBUSTE=n.Atmega_tools.createSingleBitReference(o.USBCON,0),o.USBSTA=n.Atmega_tools.createReferenceROM(o.memory,o.def.USBSTA,255),o.ID=n.Atmega_tools.createSingleBitReference(o.USBSTA,1),o.VBUS=n.Atmega_tools.createSingleBitReference(o.USBSTA,0),o.USBINT=n.Atmega_tools.createReference(o.memory,o.def.USBINT),o.VBUSTI=n.Atmega_tools.createSingleBitReference(o.USBINT,0),o.UDCON=n.Atmega_tools.createReference(o.memory,o.def.UDCON),o.RSTCPU=n.Atmega_tools.createSingleBitReference(o.UDCON,3),o.LSM=n.Atmega_tools.createSingleBitReference(o.UDCON,2),o.RMWKUP=n.Atmega_tools.createSingleBitReference(o.UDCON,1),o.DETACH=n.Atmega_tools.createSingleBitReference(o.UDCON,0),o.UDINT=n.Atmega_tools.createReference(o.memory,o.def.UDINT),o.UPRSMI=n.Atmega_tools.createSingleBitReference(o.UDINT,6),o.EORSMI=n.Atmega_tools.createSingleBitReference(o.UDINT,5),o.WAKEUPI=n.Atmega_tools.createSingleBitReference(o.UDINT,4),o.EORSTI=n.Atmega_tools.createSingleBitReference(o.UDINT,3),o.SOFI=n.Atmega_tools.createSingleBitReference(o.UDINT,2),o.SUSPI=n.Atmega_tools.createSingleBitReference(o.UDINT,0),o.UDIEN=n.Atmega_tools.createReference(o.memory,o.def.UDIEN),o.UPRSME=n.Atmega_tools.createSingleBitReference(o.UDINT,6),o.EORSME=n.Atmega_tools.createSingleBitReference(o.UDINT,5),o.WAKEUPE=n.Atmega_tools.createSingleBitReference(o.UDINT,4),o.EORSTE=n.Atmega_tools.createSingleBitReference(o.UDINT,3),o.SOFE=n.Atmega_tools.createSingleBitReference(o.UDINT,2),o.SUSPE=n.Atmega_tools.createSingleBitReference(o.UDINT,0),o.UENUM=n.Atmega_tools.createReference(o.memory,o.def.UENUM),o.UERST=n.Atmega_tools.createReference(o.memory,o.def.UERST),o.UEINT=n.Atmega_tools.createReference(o.memory,o.def.UEINT),o.UECONX=n.Atmega_tools.createReference(o.memory,o.def.UECONX),o.UECFG0X=n.Atmega_tools.createReference(o.memory,o.def.UECFG0X),o.UECFG1X=n.Atmega_tools.createReference(o.memory,o.def.UECFG1X),o.UESTA0X=n.Atmega_tools.createReference(o.memory,o.def.UESTA0X),o.UESTA1X=n.Atmega_tools.createReference(o.memory,o.def.UESTA1X),o.UEINTX=n.Atmega_tools.createReference(o.memory,o.def.UEINTX),o.UEIENX=n.Atmega_tools.createReference(o.memory,o.def.UEIENX),o.UEDATX=n.Atmega_tools.createReference(o.memory,o.def.UEDATX),o.UEBCLX=n.Atmega_tools.createReference(o.memory,o.def.UEBCLX),o.UEBCHX=n.Atmega_tools.createReference(o.memory,o.def.UEBCHX),o.USB_EOR_interrupt_creator=e.interruptHandler.registerInterrupt(t,o.EORSTE,o.EORSTI,!0),o.USB_SOF_interrupt_creator=e.interruptHandler.registerInterrupt(t,o.SOFE,o.SOFI,!0),o.initialized=!1,o.endpoints=[];for(var r=0;7>r;r++)o.endpoints[r]=new n.Atmega_usb.EndPoint(this,r,i);o.directTXSignal=o.signalMap.get("directTX"),o.directTXSignal&&o.directTXSignal.add_process([o,function(){o.endpoints[2].sendPacket(n.USBPacketType.OUT,[o.directTXSignal.value()])}]),o.directRXSignal=o.signalMap.get("directRX"),o.directRXSignal&&(o.endpoints[3].writtenCallback=function(e){o.directRXSignal.setValueAbsolute(new n.Time(o.atmega.currentSimTime(),0),e)})},n.Atmega_usb.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_usb.prototype.constructor=n.Atmega_usb,n.Atmega_usb.prototype.read=function(e,t){var i=this;switch(t){case i.UECONX.address:case i.UECFG0X.address:case i.UECFG1X.address:case i.UESTA0X.address:case i.UESTA1X.address:case i.UEINTX.address:case i.UEIENX.address:case i.UEDATX.address:case i.UEBCLX.address:case i.UEBCHX.address:i.memory[t]=i.endpoints[i.UENUM()].read(e,t)}return i.DEBUG&&console.log(i.atmega.currentSimTime(),"s read USB PORT: ",i.address_map[t].name,i.memory[t]),i.memory[t]},n.Atmega_usb.prototype.write=function(e,t,i){var n=this;switch(n.DEBUG&&console.log(n.atmega.currentSimTime(),"s write USB PORT: ",n.address_map[t].name,i),t){case n.USBCON.address:n.USBCON(i),n.initController();break;case n.UDCON.address:n.UDCON(i),n.initController();break;case n.UENUM.address:i!=n.UENUM()&&(n.endpoints[n.UENUM()].selected=!1,n.UENUM(i),n.endpoints[n.UENUM()].select());break;case n.UERST.address:n.UERST(i);for(var o=0;7>o;o++)i&1<<o&&n.endpoints[o].reset();break;case n.UECONX.address:case n.UECFG0X.address:case n.UECFG1X.address:case n.UESTA0X.address:case n.UESTA1X.address:case n.UEINTX.address:case n.UEIENX.address:case n.UEDATX.address:case n.UEBCLX.address:case n.UEBCHX.address:n.endpoints[n.UENUM()].write(e,t,i);break;default:n.memory[t]=i}},n.Atmega_usb.prototype.initController=function(){!this.USBE()||this.FRZCLK()||this.DETACH()?this.initialized=!1:this.initialized||(this.endpoints[0].EPEN(1),this.endpoints[0].select(),this.USB_EOR_interrupt_creator.scheduleFromAtmega(0),this.initialized=!0,this.endpoints[0].sendPacket(n.USBPacketType.SETUP,[0,9,1,0,0,0,0,0],0),this.endpoints[0].sendPacket(n.USBPacketType.SETUP,[33,34,1,0,0,0,0,0],1e3))},n.Atmega_usb.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments);for(var t=0;7>t;t++)this.endpoints[t].init()},n.Atmega_usb.EndPoint=function(e,t,i){this.usbController=e,this.id=t,this.selected=!1,this.FIFO=[],this.FIFOSize=0,this.regMemory=[],this.UECON=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UECONX),this.EPEN=n.Atmega_tools.createSingleBitReference(this.UECON,0),this.UECFG0=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UECFG0X),this.EPTYPE=n.Atmega_tools.createBitReference(this.UECFG0,[7,6]),this.EPDIR=n.Atmega_tools.createSingleBitReference(this.UECFG0,0),this.UECFG1=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UECFG1X),this.EPSIZE=n.Atmega_tools.createBitReference(this.UECFG1,[6,5,4]),this.EPBK=n.Atmega_tools.createBitReference(this.UECFG1,[3,2]),this.ALLOC=n.Atmega_tools.createSingleBitReference(this.UECFG1,1),this.UESTA0=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UESTA0X),this.CFGOK=n.Atmega_tools.createSingleBitReference(this.UESTA0,7),this.UESTA1=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UESTA1X),this.UEINT=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UEINTX),this.FIFOCON=n.Atmega_tools.createSingleBitReference(this.UEINT,7),this.NAKINI=n.Atmega_tools.createSingleBitReference(this.UEINT,6),this.RWAL=n.Atmega_tools.createSingleBitReference(this.UEINT,5),this.NAKOUTI=n.Atmega_tools.createSingleBitReference(this.UEINT,4),this.RXSTPI=n.Atmega_tools.createSingleBitReference(this.UEINT,3),this.RXOUTI=n.Atmega_tools.createSingleBitReference(this.UEINT,2),this.STALLEDI=n.Atmega_tools.createSingleBitReference(this.UEINT,1),this.TXINI=n.Atmega_tools.createSingleBitReference(this.UEINT,0),this.UEIEN=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UEIENX),this.FLERRE=n.Atmega_tools.createSingleBitReference(this.UEIEN,7),this.NAKINE=n.Atmega_tools.createSingleBitReference(this.UEIEN,6),this.NAKOUTE=n.Atmega_tools.createSingleBitReference(this.UEIEN,4),this.RXSTPE=n.Atmega_tools.createSingleBitReference(this.UEIEN,3),this.RXOUTE=n.Atmega_tools.createSingleBitReference(this.UEIEN,2),this.STALLEDE=n.Atmega_tools.createSingleBitReference(this.UEIEN,1),this.TXINE=n.Atmega_tools.createSingleBitReference(this.UEIEN,0),this.UEDAT=n.Atmega_tools.createReference(this.regMemory,this.usbController.def.UEDATX),this.UEBC=n.Atmega_tools.createWordReference(this.regMemory,this.usbController.def.UEBCLX),this.EP_RXSTP_interrupt_creator=this.usbController.atmega.interruptHandler.registerInterrupt(i,this.RXSTPE,this.RXSTPI,!0),this.init()},n.Atmega_usb.EndPoint.prototype.init=function(){this.FIFO=[],this.FIFOSize=0,this.UECON(0),this.UECFG0(0),this.UECFG1(0),this.UESTA0(0),this.UESTA1(0),this.UEINT(0),this.UEIEN(0),this.UEDAT(0),this.UEBC(0),0==this.id&&(this.EPSIZE(3),this.FIFOSize=(8<<this.EPSIZE())*(1+this.EPBK()),this.ALLOC(1),this.CFGOK(1))},n.Atmega_usb.EndPoint.prototype.reset=function(){this.FIFO=[],this.UEINT(0),this.UESTA0(128&this.UESTA0()),this.UESTA1(0),this.updateState()},n.Atmega_usb.EndPoint.prototype.select=function(){this.selected=!0;for(var e in this.regMemory)this.usbController.memory[e]=this.regMemory[e]},n.Atmega_usb.EndPoint.prototype.read=function(e,t){return t==this.UEDAT.address&&(this.EPEN()&&this.CFGOK()?1==this.EPDIR()?this.UEDAT(this.FIFO[0]):(this.UEDAT(this.FIFO.pop()),this.updateState()):this.UEDAT(0)),this.regMemory[t]},n.Atmega_usb.EndPoint.prototype.write=function(e,t,i){switch(t){case this.UECFG1.address:if(this.UECFG1(i),this.ALLOC()){this.FIFOSize=(8<<this.EPSIZE())*(1+this.EPBK());var n=this.usbController.endpoints.reduce(function(e,t){return e+t.FIFOSize},0);this.CFGOK(832>=n?1:0)}else this.FIFO=[],this.FIFOSize=0;this.updateState();break;case this.UEINT.address:i=this.UEINT()&i,this.UEINT(i);break;case this.UEDAT.address:this.UEDAT(i),this.EPEN()&&this.CFGOK()&&this.writtenCallback(i);break;default:this.regMemory[t]=i}this.selected&&(this.usbController.memory[t]=i)},n.Atmega_usb.EndPoint.prototype.updateState=function(){0==this.EPTYPE()?this.RWAL(0):1==this.EPDIR()?this.RWAL(this.FIFO.length<this.FIFOSize?1:0):this.RWAL(this.FIFO.length>0?1:0),this.UEBC(this.FIFO.length)},n.Atmega_usb.EndPoint.prototype.writtenCallback=function(e){},n.Atmega_usb.EndPoint.prototype.sendPacket=function(e,t,i){if(this.EPEN()&&this.CFGOK()){switch(e){case n.USBPacketType.SETUP:if(0!=this.EPTYPE())return;this.EP_RXSTP_interrupt_creator.scheduleFromAtmega(i);break;case n.USBPacketType.OUT:this.RXOUTI(1),this.FIFOCON(1);break;case n.USBPacketType.IN:this.TXINI(1),this.FIFOCON(1)}for(var o in t)this.FIFO.unshift(t[o]);this.updateState()}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_spi=function(e){var t=this;t.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),t.assignRegister("",address)},n.Atmega_spi.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_spi.prototype.constructor=n.Atmega_spi,n.Atmega_spi.prototype.read=function(e,t){},n.Atmega_spi.prototype.write=function(e,t,i){}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_2wire=function(e,t,i,o,r,a,s,c){var l=this;l.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),l.assignRegister("TWBR",t),l.assignRegister("TWCR",i,0,!0,!0),l.assignRegister("TWSR",o,248),l.assignRegister("TWDR",r,255),l.assignRegister("TWAR",a,254),l.assignRegister("TWAMR",s),l.TWBR=n.Atmega_tools.createReference(l.memory,t),l.TWCR=n.Atmega_tools.createReferenceROM(l.memory,i,10),l.TWINT=n.Atmega_tools.createSingleBitReference(l.TWCR,7),l.TWEA=n.Atmega_tools.createSingleBitReference(l.TWCR,6),l.TWSTA=n.Atmega_tools.createSingleBitReference(l.TWCR,5),l.TWSTO=n.Atmega_tools.createSingleBitReference(l.TWCR,4),l.TWWC=n.Atmega_tools.createSingleBitReference(l.TWCR,3),l.TWEN=n.Atmega_tools.createSingleBitReference(l.TWCR,2),l.TWIE=n.Atmega_tools.createSingleBitReference(l.TWCR,0),l.TWSR=n.Atmega_tools.createReferenceROM(l.memory,o,251),l.TWS=n.Atmega_tools.createBitReference(l.TWSR,[7,6,5,4,3]),l.TWPS=n.Atmega_tools.createBitReference(l.TWSR,[1,0]),l.TWDR=n.Atmega_tools.createReference(l.memory,r),l.TWAR=n.Atmega_tools.createReference(l.memory,a),l.TWA=n.Atmega_tools.createBitReference(l.TWAR,[7,6,5,4,3,2,1]),l.TWGCE=n.Atmega_tools.createSingleBitReference(l.TWAR,0),l.TWAMR=n.Atmega_tools.createReferenceROM(l.memory,s,1),l.TWAM=n.Atmega_tools.createBitReference(l.TWAMR,[7,6,5,4,3,2,1]),l.TWI_interrupt_creator=e.interruptHandler.registerInterrupt(c,l.TWIE,l.TWINT,!0),this.TWIperiod=0,this.updateTWIclock(),this.getTWIperiod=function(){return l.TWIperiod},l.DEBUG&&(l.name=l.atmega.deviceName,window.TWIwaveforms||(TWIwaveforms={}),TWIwaveforms[l.name+"_Obj"]=l,TWIwaveforms[l.name]="Time,SDA,SCL\n",l.waveformPoint="1,1\n");var d=[l,function(){l.DEBUG&&TWIwaveforms[l.name].length<1e5&&(TWIwaveforms[l.name]+=l.sim.time.time-1/l.atmega.clockFreq+","+l.waveformPoint,l.waveformPoint=l.SDA.value()+","+l.SCL.value()+"\n",TWIwaveforms[l.name]+=l.sim.time.time+","+l.waveformPoint),l.TWEN()&&l.I2CStatemachine.handle("portAcitivity")}];l.SDA=l.createPort(e.def.TWI2port.SDA,n.Atmega_hardwareBlock.portMode.OPENDRAIN,d,l.TWEN),l.SCL=l.createPort(e.def.TWI2port.SCL,n.Atmega_hardwareBlock.portMode.OPENDRAIN,d,l.TWEN),this.getTWIactions(),l.I2CStatemachine=new n.I2CStatemachine(l.sim,l.SDA,l.SCL,l.getTWIperiod,l.actions)},n.Atmega_2wire.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_2wire.prototype.constructor=n.Atmega_2wire,n.Atmega_2wire.prototype.read=function(e,t){var i=this,n=this.memory[t];return i.DEBUG&&console.log(i.atmega.currentSimTime(),"s "+i.name+" TWI read: ",i.address_map[t].name,n,"0b"+("00000000"+n.toString(2)).substr(-8),"0x"+n.toString(16).toUpperCase()),this.memory[t]},n.Atmega_2wire.prototype.write=function(e,t,i){var n=this;switch(n.DEBUG&&console.log(n.atmega.currentSimTime(),"s "+n.name+" TWI write: ",n.address_map[t].name,i,"0b"+("00000000"+i.toString(2)).substr(-8),"0x"+i.toString(16).toUpperCase()),t){case n.TWBR.address:n.TWBR(i),
n.updateTWIclock();break;case n.TWCR.address:var o=n.TWEN();n.TWCR(i,!0),n.TWEN()?(o||(n.SDA.init(),n.SCL.init(),n.I2CStatemachine.init()),i>>7&&(n.TWINT(0),n.runTWI())):(n.SDA.reset(),n.SCL.reset());break;case n.TWSR.address:n.TWSR(i,!0),n.updateTWIclock();break;case n.TWDR.address:n.TWINT()?(n.TWDR(i),n.TWWC(0)):n.TWWC(1);break;case n.TWAR.address:case n.TWAMR.address:default:n.memory[t]=i}},n.Atmega_2wire.prototype.updateTWIclock=function(){var e=1;switch(this.TWPS()){case 0:e=1;break;case 1:e=4;break;case 2:e=16;break;case 3:e=64}this.TWIperiod=(16+2*this.TWBR()*e)/this.atmega.clockFreq},n.Atmega_2wire.prototype.getTWIactions=function(){var e=this,t=1,i=2,n=3,o=4,r=5,a=6,s=7,c=7,l=8,d=9,u=10,h=11,p=21,g=22,m=23,f=24,_=25,v=12,y=13,C=14,b=15,w=16,M=17,S=18,x=19,T=20,E=31,A=0;e.runTWI=function(){if(e.TWSTO())e.TWS()>=t&&e.TWS()<=h?e.I2CStatemachine.handle("sendStopCondition"):(e.SCL.setValue(0,1),e.SDA.setValue(0,1),e.TWSTO(0));else if(e.TWSTA())e.I2CStatemachine.handle("sendStartCondition");else if(e.TWS()>=t&&e.TWS()<=h){var i=new Circuits.GuiEvent("sendData").data("dataByte",e.TWDR());e.I2CStatemachine.handle(i)}else if(e.TWS()==p||e.TWS()==m||e.TWS()==g){var i=new Circuits.GuiEvent("loadData").data("dataByte",e.TWDR());e.I2CStatemachine.handle(i),e.SCL.setValue(1e-6,1)}else e.SCL.setValue(0,1);e.TWS(E)},e.slaveAddressMode="NA",e.actions={busBecomesFree:function(){e.TWSTA()&&e.I2CStatemachine.handle("sendStartCondition")},busError:function(){e.TWS(A),e.TWI_interrupt_creator.scheduleFromSim()},startConditionSend:function(){e.SCL.setValue(0,0),e.TWS(t),e.TWI_interrupt_creator.scheduleFromSim()},repeastedStartConditionSend:function(){e.SCL.setValue(0,0),e.TWS(i),e.TWI_interrupt_creator.scheduleFromSim()},stopConditionSend:function(){e.TWS(E),e.TWSTO(0)},SlA_WSend:function(t,i){0==t?i?e.TWS(n):e.TWS(o):e.TWS(s),e.TWI_interrupt_creator.scheduleFromSim()},MT_dataSend:function(t,i){0==t?i?e.TWS(r):e.TWS(a):e.TWS(c),e.TWI_interrupt_creator.scheduleFromSim()},SlA_RSend:function(t,i){0==t?i?e.TWS(l):e.TWS(d):e.TWS(c),e.TWI_interrupt_creator.scheduleFromSim()},MR_dataReceived:function(t,i){e.SCL.setValue(0,0),i?e.TWS(u):e.TWS(h),e.TWDR(t),e.TWI_interrupt_creator.scheduleFromSim()},validateSLA:function(t){var i=t>>1;if(e.TWEA()){if(0==i&&e.TWGCE())return e.slaveAddressMode="GCALL",!0;if(0!=i&&(i|e.TWAM())==(e.TWA()|e.TWAM()))return e.slaveAddressMode="OwnSLA",!0}return e.slaveAddressMode="NA",!1},SlA_WReceived:function(t){e.SCL.setValue(0,0),0==t?"OwnSLA"==e.slaveAddressMode?e.TWS(v):"GCALL"==e.slaveAddressMode&&e.TWS(C):"OwnSLA"==e.slaveAddressMode?e.TWS(y):"GCALL"==e.slaveAddressMode&&e.TWS(b),e.TWI_interrupt_creator.scheduleFromSim()},validateData:function(t){return!!e.TWEA()},SR_dataReceived:function(t,i){e.SCL.setValue(0,0),i?"OwnSLA"==e.slaveAddressMode?e.TWS(w):"GCALL"==e.slaveAddressMode&&e.TWS(S):"OwnSLA"==e.slaveAddressMode?e.TWS(M):"GCALL"==e.slaveAddressMode&&e.TWS(x),e.TWDR(t),e.TWI_interrupt_creator.scheduleFromSim()},SR_stopConditionReceived:function(){e.SCL.setValue(0,0),e.TWS(T),e.TWI_interrupt_creator.scheduleFromSim()},SR_repeatedStartConditionReceived:function(){e.SCL.setValue(0,0),e.TWS(T),e.TWI_interrupt_creator.scheduleFromSim()},SlA_RReceived:function(t){e.SCL.setValue(0,0),0==t?e.TWS(p):e.TWS(g),e.TWI_interrupt_creator.scheduleFromSim()},ST_dataSet:function(t){e.SCL.setValue(0,0),t?e.TWEA()?e.TWS(m):e.TWS(_):e.TWS(f),e.TWI_interrupt_creator.scheduleFromSim()}}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Atmega_eeprom=function(e,t,i,o,r,a,s){var c=this;c.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),c.EEPROM_arraybuffer=new ArrayBuffer(t),c.EEPROM_memory=new Uint8Array(c.EEPROM_arraybuffer),c.assignRegister("EEARL",i),c.assignRegister("EEARH",o),c.assignRegister("EEDR",r),c.assignRegister("EECR",a),c.EEAR=n.Atmega_tools.createWordReference(c.memory,i),c.EEDR=n.Atmega_tools.createReference(c.memory,r),c.EECR=n.Atmega_tools.createReference(c.memory,a),c.EEPM=n.Atmega_tools.createBitReference(c.EECR,[5,4]),c.EERIE=n.Atmega_tools.createSingleBitReference(c.EECR,3),c.EEMPE=n.Atmega_tools.createSingleBitReference(c.EECR,2),c.EEPE=n.Atmega_tools.createSingleBitReference(c.EECR,1),c.EERE=n.Atmega_tools.createSingleBitReference(c.EECR,0),c.EEPROM_interrupt_creator=e.interruptHandler.registerInterrupt(s,c.EERIE,null,!0),c.EEMPE_clearTime=1/0,c.EEPE_clearTime=1/0},n.Atmega_eeprom.prototype=o(n.Atmega_hardwareBlock.prototype),n.Atmega_eeprom.prototype.constructor=n.Atmega_eeprom,n.Atmega_eeprom.prototype.update_state=function(e){var t=this;e>t.EEMPE_clearTime&&(t.EEMPE(0),t.EEMPE_clearTime=1/0),e>t.EEPE_clearTime&&(t.EEPE(0),t.EEPE_clearTime=1/0)},n.Atmega_eeprom.prototype.read=function(e,t){var i=this;return i.update_state(e),i.DEBUG&&console.log(i.atmega.currentSimTime(),"s EEPROM READ: ",i.address_map[t].name,i.memory[t]),i.memory[t]},n.Atmega_eeprom.prototype.write=function(e,t,i){var n=this;n.update_state(e),n.DEBUG&&console.log(n.atmega.currentSimTime(),"s write EEPROM: ",n.address_map[t].name,i);var o=n.EEPM(),r=n.EEMPE(),a=n.EEPE();if(n.memory[t]=i,t==n.EECR.address){if(n.EEMPE()&&(n.EEMPE_clearTime=e+4),!a&&n.EEPE())if(r&&n.EEMPE()){switch(n.EEPROM_interrupt_creator.intFlag(0),n.EEPM()){case 0:n.EEPROM_memory[n.EEAR()]=n.EEDR(),n.EEPE_clearTime=e+.0034*this.atmega.clockFreq,n.EERIE()&&n.EEPROM_interrupt_creator.scheduleFromAtmega(.0034*this.atmega.clockFreq);break;case 1:n.EEPROM_memory[n.EEAR()]=0,n.EEPE_clearTime=e+.0018*this.atmega.clockFreq,n.EERIE()&&n.EEPROM_interrupt_creator.scheduleFromAtmega(.0018*this.atmega.clockFreq);break;case 2:n.EEPROM_memory[n.EEAR()]=n.EEDR(),n.EEPE_clearTime=e+.0018*this.atmega.clockFreq,n.EERIE()&&n.EEPROM_interrupt_creator.scheduleFromAtmega(.0018*this.atmega.clockFreq);break;case 3:n.EEPE(0)}n.atmega.cycle_counter+=2}else n.EEPE(0);else n.EEPE(a);n.EEPE()&&n.EEPM(o),n.EERE()&&(n.EEPE()||(n.EEDR(n.EEPROM_memory[n.EEAR()]),n.atmega.cycle_counter+=4),n.EERE(0))}},n.Atmega_eeprom.prototype.reset=function(e){n.Atmega_hardwareBlock.prototype.reset.apply(this,arguments),self.EEMPE_clearTime=1/0,self.EEPE_clearTime=1/0}},function(e,t,i){var n=i(433),o=i(170).inherit;n.ATtiny=function(e,t,i,o,r){var a=this;n.Atmega.call(this,e,n.ATtiny.Mcu_definitions,t,i,o),a.deviceName=r,a.portB=new n.Atmega_port(a,a.def.PINB,a.def.DDRB,a.def.PORTB,"B"),a.timer0=new n.ATtiny_timer_8bit(a,a.def.TCCR0A,a.def.TCCR0B,a.def.TCNT0,a.def.OCR0A,a.def.OCR0B,a.def.TIMSK,a.def.TIFR,a.def.Timer0_OVF,a.def.Timer0_COMPA,a.def.Timer0_COMPB,0),a.adc=new n.ATtiny_adc(a,a.def.ADMUX,a.def.ADCSRA,a.def.ADCL,a.def.ADCH,a.def.ADCSRB,a.def.DIDR0,a.def.ADC),a.interrupt=new n.ATtiny_externalInterrupt(a,a.def.INT2int,a.def.INT2port,a.def.PCINT2int,a.def.PCINT2port);new n.Atmega_singleRegister(a,"MCUCR",a.def.MCUCR,{write:function(e,t,i){var o=i>>6&1,r=this.signalMap.get("PUD");r&&r.setValueAbsolute(new n.Time(a.currentSimTime(),1),o),this.memory[t]=i}}),new n.Atmega_singleRegister(a,"PLLCSR",a.def.PLLCSR,{write:function(e,t,i){2&i&&(i=1|i),this.memory[t]=i}}),new n.Atmega_singleRegister(a,"SREG",a.def.SREG),new n.Atmega_singleRegister(a,"SPH",a.def.SPH),new n.Atmega_singleRegister(a,"SPL",a.def.SPL),new n.Atmega_singleRegister(a,"GPIOR2",a.def.GPIOR2),new n.Atmega_singleRegister(a,"GPIOR1",a.def.GPIOR1),new n.Atmega_singleRegister(a,"GPIOR0",a.def.GPIOR0)},n.ATtiny.prototype=o(n.Atmega.prototype),n.ATtiny.prototype.constructor=n.ATtiny,n.ATtiny.Mcu_definitions={program_memory_size:4096,data_memory_size:608,pc_mask:4095,IOmax:95,X_reg:26,Y_reg:28,Z_reg:30,SPL:93,SPH:94,SREG:95,MCUSR:84,MCUCR:85,GPIOR0:49,GPIOR1:50,GPIOR2:51,PINB:54,DDRB:55,PORTB:56,GTCCR:76,TIMSK:89,TIFR:88,PLLCSR:71,TCCR0A:74,TCCR0B:83,TCNT0:82,OCR0A:73,OCR0B:72,TCCR1:80,TCNT1:79,OCR1A:78,OCR1B:75,OCR1C:77,USICR:45,USISR:46,USIDR:47,USIBR:48,ADCL:36,ADCH:37,ADCSRA:38,ADCSRB:35,ADMUX:39,DIDR0:52,GIMSK:91,GIFR:90,PCMSK:53,Timer0_OVF:5,Timer0_COMPA:10,Timer0_COMPB:11,Timer1_OVF:4,Timer1_COMPA:3,Timer1_COMPB:9,USI_START:13,USI_OVF:14,ADC:8,INT2int:{0:1},INT2port:{0:"B_2"},PCINT2int:{0:2},PCINT2port:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5"},ADC_prescaler:[2,2,4,8,16,32,64,128],ADC_mux2port:{0:"B_5",1:"B_2",2:"B_4",3:"B_3",12:"_1V1",13:"_gnd",15:"_temp"}}},function(e,t,i){var n=i(433),o=i(170).inherit;n.ATtiny_timer_8bit=function(e,t,i,o,r,a,s,c,l,d,u,h){var p=this;p.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),p.assignRegister("TCCRA",t),p.assignRegister("TCCRB",i),p.assignRegister("TCNT",o),p.assignRegister("OCRA",r),p.assignRegister("OCRB",a),p.assignRegister("TIMSK",s),p.assignRegister("TIFR",c),p.TCCRA=n.Atmega_tools.createReference(p.memory,t),p.COMA=n.Atmega_tools.createBitReference(p.TCCRA,[7,6]),p.COMB=n.Atmega_tools.createBitReference(p.TCCRA,[5,4]),p.WGM=n.Atmega_tools.createBitReference(p.TCCRA,[1,0]),p.TCCRB=n.Atmega_tools.createReference(p.memory,i),p.FOCA=n.Atmega_tools.createSingleBitReference(p.TCCRB,7),p.FOCB=n.Atmega_tools.createSingleBitReference(p.TCCRB,6),p.WGM2=n.Atmega_tools.createSingleBitReference(p.TCCRB,3),p.CS=n.Atmega_tools.createBitReference(p.TCCRB,[2,1,0]),p.TCNT=n.Atmega_tools.createReference(p.memory,o),p.OCRA=n.Atmega_tools.createReference(p.memory,r),p.OCRB=n.Atmega_tools.createReference(p.memory,a),p.TIMSK=n.Atmega_tools.createReference(p.memory,s),p.OCIEA=n.Atmega_tools.createSingleBitReference(p.TIMSK,4),p.OCIEB=n.Atmega_tools.createSingleBitReference(p.TIMSK,3),p.TOIE=n.Atmega_tools.createSingleBitReference(p.TIMSK,1),p.TIFR=n.Atmega_tools.createReference(p.memory,c),p.OCFA=n.Atmega_tools.createSingleBitReference(p.TIFR,4),p.OCFB=n.Atmega_tools.createSingleBitReference(p.TIFR,3),p.TOV=n.Atmega_tools.createSingleBitReference(p.TIFR,1),p.TOV_interrupt_creator=e.interruptHandler.registerInterrupt(l,p.TOIE,p.TOV),p.OCFA_interrupt_creator=e.interruptHandler.registerInterrupt(d,p.OCIEA,p.OCFA),p.OCFB_interrupt_creator=e.interruptHandler.registerInterrupt(u,p.OCIEB,p.OCFB),p.direction=1,p.state_time=0,p.clock_divider=0,p.id=h,p.signalMap.get("TIMER_"+h+"A")&&(this.oca=new n.PWMSignal(this.sim,p.signalMap.get("TIMER_"+h+"A"),p.signalMap.get("TIMERCTL_"+h+"A"))),p.signalMap.get("TIMER_"+h+"B")&&(this.ocb=new n.PWMSignal(this.sim,p.signalMap.get("TIMER_"+h+"B"),p.signalMap.get("TIMERCTL_"+h+"B")))},n.ATtiny_timer_8bit.prototype=o(n.Atmega_timer_8bit.prototype),n.ATtiny_timer_8bit.prototype.constructor=n.ATtiny_timer_8bit},function(e,t,i){var n=i(433),o=i(170).inherit;n.ATtiny_adc=function(e,t,i,o,r,a,s,c){var l=this;l.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),l.assignRegister("ADMUX",t),l.assignRegister("ADCSRA",i,0,!0,!1),l.assignRegister("ADCL",o),l.assignRegister("ADCH",r),l.assignRegister("ADCSRB",a),l.assignRegister("DIDR0",s),l.ADCSRA_address=i,l.ADMUX=n.Atmega_tools.createReference(l.memory,t),l.REFS=n.Atmega_tools.createBitReference(l.ADMUX,[7,6]),l.ADLAR=n.Atmega_tools.createSingleBitReference(l.ADMUX,5),l.REFS2=n.Atmega_tools.createSingleBitReference(l.ADMUX,4),l.MUX=n.Atmega_tools.createBitReference(l.ADMUX,[3,2,1,0]),l.ADCSRA=n.Atmega_tools.createReference(l.memory,i),l.ADEN=n.Atmega_tools.createSingleBitReference(l.ADCSRA,7),l.ADSC=n.Atmega_tools.createSingleBitReference(l.ADCSRA,6),l.ADATE=n.Atmega_tools.createSingleBitReference(l.ADCSRA,5),l.ADIF=n.Atmega_tools.createSingleBitReference(l.ADCSRA,4),l.ADIE=n.Atmega_tools.createSingleBitReference(l.ADCSRA,3),l.ADPS=n.Atmega_tools.createBitReference(l.ADCSRA,[2,1,0]),l.ADCL=n.Atmega_tools.createReference(l.memory,o),l.ADCH=n.Atmega_tools.createReference(l.memory,r),l.ADCSRB=n.Atmega_tools.createReference(l.memory,a),l.BIN=n.Atmega_tools.createSingleBitReference(l.ADCSRB,7),l.ACME=n.Atmega_tools.createSingleBitReference(l.ADCSRB,6),l.IPR=n.Atmega_tools.createSingleBitReference(l.ADCSRB,5),l.ADTS=n.Atmega_tools.createBitReference(l.ADCSRB,[3,2,1,0]),l.DIDR0=n.Atmega_tools.createReference(l.memory,s),l.ADC_interrupt_creator=e.interruptHandler.registerInterrupt(c,l.ADIE,l.ADIF),l.clock_divider=function(){return e.def.ADC_prescaler[l.ADPS()]},l.signal=new n.Signal(this.atmega.sim,"Atmega ADC"),l.signal.processes.add([this,this.doADConversion])},n.ATtiny_adc.prototype=o(n.Atmega_adc.prototype),n.ATtiny_adc.prototype.constructor=n.ATtiny_adc,n.ATtiny_adc.prototype.getRefVoltage=function(){var e=0;switch(this.REFS()){case 0:var t=this.signalMap.get("VCC");t&&(e=t.value());break;case 1:var t=this.signalMap.get("PORTB_0_A");t&&(e=t.value());break;case 2:e=this.REFS2()?2.56:1.1;break;case 3:this.REFS2()&&(e=2.56)}return e}},function(e,t,i){var n=i(433),o=i(170).inherit;n.ATtiny_externalInterrupt=function(e,t,i,o,r){var a=this;a.DEBUG=!1,n.Atmega_hardwareBlock.call(this,e),a.assignRegister("GIMSK",e.def.GIMSK),a.assignRegister("GIFR",e.def.GIFR),a.assignRegister("PCMSK",e.def.PCMSK),a.MCUCR=n.Atmega_tools.createReference(a.memory,e.def.MCUCR),a.ISC0=n.Atmega_tools.createBitReference(a.MCUCR,[1,0]),a.ISC=[a.ISC0],a.GIMSK=n.Atmega_tools.createReference(a.memory,e.def.GIMSK),a.INT0=n.Atmega_tools.createSingleBitReference(a.GIMSK,6),a.PCIE0=n.Atmega_tools.createSingleBitReference(a.GIMSK,5),a.INT=[a.INT0],a.PCIE=[a.PCIE0],a.GIFR=n.Atmega_tools.createReference(a.memory,e.def.GIFR),a.INTF0=n.Atmega_tools.createSingleBitReference(a.GIFR,6),a.PCIF0=n.Atmega_tools.createSingleBitReference(a.GIFR,5),a.INTF=[a.INTF0],a.PCIF=[a.PCIF0],a.PCMSK=n.Atmega_tools.createReference(a.memory,e.def.PCMSK),a.PCINT5=n.Atmega_tools.createSingleBitReference(a.PCMSK,5),a.PCINT4=n.Atmega_tools.createSingleBitReference(a.PCMSK,4),a.PCINT3=n.Atmega_tools.createSingleBitReference(a.PCMSK,3),a.PCINT2=n.Atmega_tools.createSingleBitReference(a.PCMSK,2),a.PCINT1=n.Atmega_tools.createSingleBitReference(a.PCMSK,1),a.PCINT0=n.Atmega_tools.createSingleBitReference(a.PCMSK,0),a.PCINT=[a.PCINT0,a.PCINT1,a.PCINT2,a.PCINT3,a.PCINT4,a.PCINT5],a.INT2port=i,a.PCINT2port=r,a.assignInterrupts(t,o)},n.ATtiny_externalInterrupt.prototype=o(n.Atmega_externalInterrupt.prototype),n.ATtiny_externalInterrupt.prototype.constructor=n.ATtiny_externalInterrupt,n.ATtiny_externalInterrupt.prototype.write=function(e,t,i){t==this.GIFR.address?this.memory[t]&=~i:this.memory[t]=i}},function(e,t,i){i(478),i(479),i(480),i(477),i(481),i(482)},function(e,t,i){var n=i(433);n.Atmega_debugger.StackMachine=function(e,t,i){this.atmegaDebugger=e,this.cu=t,this.framebase=i,this.stack=[],this.pieces=[],this.implicitData=null,this.error=!1},n.Atmega_debugger.StackMachine.prototype.execute=function(e){function t(e){return e>>>0}for(var i=n.Atmega_debugger.DwarfDefinitions,o=new DataView(new Uint8Array(e).buffer),r=0;r<e.length;){var a=e[r++];switch(a){case i.DW_OP_addr:this.stack.push(o.getUint16(r,!0)),r+=4;break;case i.DW_OP_const1u:this.stack.push(o.getUint8(r,!0)),r+=1;break;case i.DW_OP_const1s:this.stack.push(o.getInt8(r,!0)),r+=1;break;case i.DW_OP_const2u:this.stack.push(o.getUint16(r,!0)),r+=2;break;case i.DW_OP_const2s:this.stack.push(o.getInt16(r,!0)),r+=2;break;case i.DW_OP_const4u:this.stack.push(o.getUint32(r,!0)),r+=4;break;case i.DW_OP_const4s:this.stack.push(o.getInt32(r,!0)),r+=4;break;case i.DW_OP_constu:var s=n.Atmega_debugger.readLEB128(!1,e,r);this.stack.push(s.value),r+=s.bytes;break;case i.DW_OP_consts:var s=n.Atmega_debugger.readLEB128(!0,e,r);this.stack.push(s.value),r+=s.bytes;break;case i.DW_OP_fbreg:var s=n.Atmega_debugger.readLEB128(!0,e,r);this.stack.push(this.framebase+s.value),r+=s.bytes;break;case i.DW_OP_bregx:var c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var l=this.atmegaDebugger.getRegAddress(c.value),d=this.atmegaDebugger.readMemory(l,i.DW_ATE_address),u=n.Atmega_debugger.readLEB128(!0,e,r);this.stack.push(d+u.value),r+=u.bytes;break;case i.DW_OP_regx:var c=n.Atmega_debugger.readLEB128(!1,description,1);r+=c.bytes;var l=this.atmegaDebugger.getRegAddress(c.value);this.stack.push(l);break;case i.DW_OP_dup:this.stack.push(this.stack[this.stack.length-1]);break;case i.DW_OP_drop:this.stack.pop();break;case i.DW_OP_pick:this.stack.push(this.stack[this.stack.length-1-e[r++]]);break;case i.DW_OP_over:this.stack.push(this.stack[this.stack.length-2]);break;case i.DW_OP_swap:var h=this.stack.pop(),p=this.stack.pop();this.stack.push(h),this.stack.push(p);break;case i.DW_OP_rot:var g=this.stack.pop();this.stack.splice(this.stack.length-2,0,g);break;case i.DW_OP_deref:var m=this.stack.pop(),f=this.atmegaDebugger.readMemory(m,i.DW_ATE_address);this.stack.push(f);break;case i.DW_OP_deref_size:var _=e[r++],m=this.stack.pop(),f=this.atmegaDebugger.readMemory(m,i.DW_ATE_unsigned,_);this.stack.push(f);break;case i.DW_OP_abs:var g=this.stack.pop();isNaN(g)?this.stack.push(g.abs()):this.stack.push(Math.abs(g));break;case i.DW_OP_and:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.and(h)):this.stack.push(t(p&h));break;case i.DW_OP_div:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.div(h)):this.stack.push(t(Math.floor(p/h)));break;case i.DW_OP_minus:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.minus(h)):this.stack.push(t(p-h));break;case i.DW_OP_mod:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.mod(h)):this.stack.push(t(p%h));break;case i.DW_OP_mul:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.mul(h)):this.stack.push(t(p*h));break;case i.DW_OP_neg:var g=this.stack.pop();isNaN(g)?this.stack.push(g.neg()):this.stack.push(t(-g));break;case i.DW_OP_not:var g=this.stack.pop();isNaN(g)?this.stack.push(g.not()):this.stack.push(t(~g));break;case i.DW_OP_or:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.or(h)):this.stack.push(t(p|h));break;case i.DW_OP_plus:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.plus(h)):this.stack.push(t(p+h));break;case i.DW_OP_plus_uconst:var g=this.stack.pop(),c=n.Atmega_debugger.readLEB128(!1,e,r);isNaN(g)?this.stack.push(g.plus(c.value)):this.stack.push(t(g+c.value)),r+=c.bytes;break;case i.DW_OP_shl:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.shl(h)):this.stack.push(t(p<<h));break;case i.DW_OP_shr:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.shr(h)):this.stack.push(t(p>>h));break;case i.DW_OP_shra:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.shra(h)):this.stack.push(t(p>>>h));break;case i.DW_OP_xor:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.xor(h)):this.stack.push(t(p^h));break;case i.DW_OP_le:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.le(h)?1:0):this.stack.push(h>=p?1:0);break;case i.DW_OP_ge:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.ge(h)?1:0):this.stack.push(p>=h?1:0);break;case i.DW_OP_eq:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.eq(h)?1:0):this.stack.push(p==h?1:0);break;case i.DW_OP_lt:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.lt(h)?1:0):this.stack.push(h>p?1:0);break;case i.DW_OP_gt:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.gt(h)?1:0):this.stack.push(p>h?1:0);break;case i.DW_OP_ne:var h=this.stack.pop(),p=this.stack.pop();isNaN(p)?this.stack.push(p.ne(h)?1:0):this.stack.push(p!=h?1:0);break;case i.DW_OP_skip:var s=o.getInt16(r,!0);r+=2+s;break;case i.DW_OP_bra:var s=o.getInt16(r,!0);r+=2;var h=this.stack.pop();0!=h&&(r+=s);break;case i.DW_OP_call2:var s=o.getUint16(r,!0);r+=2;var v=this.cu.getDie(s.value).attributes.DW_AT_location;v&&this.execute(v);break;case i.DW_OP_call4:var s=o.getUint32(r,!0);r+=4;var v=this.cu.getDie(s.value).attributes.DW_AT_location;v&&this.execute(v);break;case i.DW_OP_nop:break;case i.DW_OP_piece:var c=n.Atmega_debugger.readLEB128(!1,e,r),y=c.value;if(r+=c.bytes,this.implicitData)for(var C=0;y>C;C++)this.pieces.push(this.implicitData.bufferView[C]);else{var m=this.stack.pop();if(void 0!=m)for(var C=0;y>C;C++)this.pieces.push(this.atmegaDebugger.atmega.data_memory[m+C]);else this.error=!0,console.error("Atmega debugger: not able to handle composite location expressions with unavailable parts")}this.stack=[],this.implicitData=null;break;case i.DW_OP_bit_piece:var c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var u=n.Atmega_debugger.readLEB128(!1,e,r);r+=u.bytes,this.error=!0,console.error("Atmega debugger: not able to handle composite location expressions with bit offsets"),this.stack=[],this.implicitData=null;break;case i.DW_OP_implicit_value:var c=n.Atmega_debugger.readLEB128(!1,e,r),y=c.value;r+=c.bytes,this.implicitData=new n.Atmega_debugger.TypedData(e.slice(r,r+y),i.DW_ATE_address),r+=y;break;case i.DW_OP_stack_value:var g=this.stack[this.stack.length-1];g.constructor==n.Atmega_debugger.TypedData?this.implicitData=g:this.implicitData=new n.Atmega_debugger.TypedData(g,i.DW_ATE_address);break;case i.DW_OP_implicit_pointer:case i.DW_OP_GNU_implicit_pointer:var b=o.getUint32(r,!0);r+=4;var u=n.Atmega_debugger.readLEB128(!0,e,r);r+=u.bytes;var w=(u.value,this.cu.getDie(b));if(void 0!=w){var M=this.atmegaDebugger.getVar(w,this.framebase),f=M.getValue(!0);this.implicitData=new n.Atmega_debugger.TypedData(f,i.DW_ATE_address)}console.warn("Atmega debugger: found DW_OP_implicit_pointer in location expression, current implementation can contain errors"),this.error=!0;break;case i.DW_OP_entry_value:case i.DW_OP_GNU_entry_value:var c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var S=c.value,x=e.slice(r,r+S);r+=S;this.atmegaDebugger.getLocation(this.cu,x,this.framebase);this.stack.push(f),console.warn("Atmega debugger: found DW_OP_entry_value in location expression, current implementation will contain errors"),this.error=!0;break;case i.DW_OP_const_type:case i.DW_OP_GNU_const_type:var c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var T=this.cu.getDie(c.value),_=e[r++],E=new n.Atmega_debugger.TypedData(e.slice(r,r+_),T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size);this.stack.push(E),r+=_;break;case i.DW_OP_regval_type:case i.DW_OP_GNU_regval_type:var c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var l=this.atmegaDebugger.getRegAddress(c.value),u=n.Atmega_debugger.readLEB128(!1,e,r);r+=u.bytes;var T=this.cu.getDie(u.value),E=new n.Atmega_debugger.TypedData(this.atmegaDebugger.atmega.data_memory,T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size,l);this.stack.push(E);break;case i.DW_OP_deref_type:case i.DW_OP_GNU_deref_type:var m=this.stack.pop(),_=e[r++],u=n.Atmega_debugger.readLEB128(!1,e,r);r+=u.bytes;var T=this.cu.getDie(u.value),E=new n.Atmega_debugger.TypedData(this.atmegaDebugger.atmega.data_memory,T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size,m);this.stack.push(E);break;case i.DW_OP_convert:case i.DW_OP_GNU_convert:case i.DW_OP_reinterpret:case i.DW_OP_GNU_reinterpret:var g=this.stack.pop(),c=n.Atmega_debugger.readLEB128(!1,e,r);r+=c.bytes;var T=this.cu.getDie(c.value);if(T&&"DW_TAG_base_type"==T.tag)if(g.constructor==n.Atmega_debugger.TypedData)if(a==i.DW_OP_convert||i.DW_OP_GNU_convert)var E=g.convert(T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size);else var E=g.changeType(T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size);else var E=new n.Atmega_debugger.TypedData(g,T.attributes.DW_AT_encoding,T.attributes.DW_AT_byte_size);else var E=g;this.stack.push(E);break;default:if(a<=i.DW_OP_lit31&&a>=i.DW_OP_lit0)this.stack.push(a-i.DW_OP_lit0);else if(a<=i.DW_OP_breg31&&a>=i.DW_OP_breg0){var m=this.atmegaDebugger.getRegAddress(a-i.DW_OP_breg0),d=this.atmegaDebugger.readMemory(m,i.DW_ATE_address),s=n.Atmega_debugger.readLEB128(!0,e,r);this.stack.push(d+s.value),r+=s.bytes}else{if(!(a<=i.DW_OP_reg31&&a>=i.DW_OP_reg0))return this.error=!0,void console.assert(!1,"Atmega debugger: location expression not recognized");var m=this.atmegaDebugger.getRegAddress(a-i.DW_OP_reg0);this.stack.push(m)}}}},n.Atmega_debugger.StackMachine.prototype.getResult=function(){return this.error?null:this.implicitData?this.implicitData:this.pieces.length>0?new n.Atmega_debugger.TypedData(this.pieces):this.stack[this.stack.length-1]},n.Atmega_debugger.readLEB128=function(e,t,i){i=i||0;for(var n=0,o=0;n+i<t.length&&(o|=(127&t[n+i])<<7*n,128&t[n+i]);)n++;return n++,e&&64&t[n-1+i]&&(o|=-(1<<7*n)),{value:o,bytes:n}},n.Atmega_debugger.testbench=function(){var e=(n.Atmega_debugger.readLEB128(!1,[127]),n.Atmega_debugger.readLEB128(!1,[130,1]),n.Atmega_debugger.readLEB128(!1,[229,142,38]),n.Atmega_debugger.readLEB128(!0,[126]),n.Atmega_debugger.readLEB128(!0,[255,0]),n.Atmega_debugger.readLEB128(!0,[129,127]),n.Atmega_debugger.readLEB128(!0,[155,241,89]),new n.Atmega_debugger.StackMachine);e.execute([3,170,187]),e.execute([8,170]),e.execute([9,170]),e.execute([10,170,187]),e.execute([11,170,187]),e.execute([12,170,187,204,221]),e.execute([13,170,187,204,221]),e.execute([16,229,142,38]),e.execute([17,155,241,89]),e.execute([58]),e.execute([18]),e.execute([21,9]),e.execute([20]),e.execute([79]),e.execute([22]),e.execute([23]),e.execute([19]),e.execute([54]),e.execute([31]),e.execute([25]),e.execute([32]);e.getResult()}},function(e,t,i){var n=i(173),o=i(433);o.Atmega_debugger=function(e){this.atmega=e,this.pc2LineEntry=new n.HashMap,this.allBreakpoints=[],this.userBreakpoints=[],this.breakpoints=this.userBreakpoints},o.Atmega_debugger.prototype.loadDwarf=function(e){this.info=new o.Atmega_debugger.DwarfInfo(e.info),this.lineTable=new n.HashMap;for(var t in e.line)for(var i in e.line[t]){var r=e.line[t][i];if(0==r.End&&r.Address>0&&"sketch.ino"==r.File){var a=this.lineTable.get(r.File);a||(a=[],this.lineTable.put(r.File,a));var s=a[r.Line];s||(s=new n.HashMap,a[r.Line]=s),s.put(r.Address/2,r),this.pc2LineEntry.put(r.Address/2,r),this.allBreakpoints.push(r.Address/2)}}this.locationLists=e.loc,this.rangeLists=e.ranges},o.Atmega_debugger.prototype.breakAt=function(e){return this.breakpoints.indexOf(e)>-1},o.Atmega_debugger.prototype.setBreakpoint=function(e,t){var i=this,n=this.lineTable.get(e);if(!n)return-1;for(t;t<n.length;t++)if(n[t])return n[t].forEach(function(e,t){i.userBreakpoints.push(e)}),t;return-1},o.Atmega_debugger.prototype.setBreakpointList=function(e){var t=this;return e.copy().forEach(function(i){var n=i.split(":"),o=t.setBreakpoint(n[0],parseInt(n[1])),r=n[0]+":"+o;r!=i&&(e.remove(i),o>-1&&!e.contains(r)&&e.add(r))}),e},o.Atmega_debugger.prototype.removeBreakpoint=function(e,t){var i=this,n=this.lineTable.get(e);n&&n[t]&&n[t].forEach(function(e,t){i.userBreakpoints.splice(i.userBreakpoints.indexOf(e),1)})},o.Atmega_debugger.prototype.removeAllBreakpoints=function(){this.userBreakpoints=[],this.breakpoints=this.userBreakpoints},o.Atmega_debugger.prototype.play=function(){this.breakpoints=this.userBreakpoints},o.Atmega_debugger.prototype.step=function(){this.breakpoints=this.allBreakpoints},o.Atmega_debugger.prototype.getCurrentLine=function(){var e=this.pc2LineEntry.get(this.atmega.pc);return e?{breakpointReached:this.breakAt(this.atmega.pc),file:e.File,line:e.Line}:null},o.Atmega_debugger.prototype.getCurrentVars=function(){var e=new n.HashMap,t=this.getCurrentDIE();if(t){e.putAll(this.getVarsInDie(t.cu));var i=this.getLocation(t.cu,t.getAttribute("DW_AT_frame_base"));if(e.putAll(this.getVarsInDie(t,i)),void 0!=t.getAttribute("DW_AT_object_pointer")){var o=this.getVar(t.getAttribute("DW_AT_object_pointer"),i);if(null!=o){e.put(o.name,o);var r=o.dereference()&&o.dereference().getValue(!0);for(var a in r)e.put(r[a].name,r[a])}}}return e},o.Atmega_debugger.prototype.getCurrentDIE=function(){for(var e in this.info.cu){var t=this.info.cu[e];for(var i in t.children){var n=t.children[i];if(("DW_TAG_subprogram"==n.tag||"DW_TAG_inlined_subroutine"==n.tag)&&this.dieIsInRange(n))return n}}},o.Atmega_debugger.prototype.dieIsInRange=function(e){var t=2*this.atmega.pc;if(void 0!=e.attributes.DW_AT_high_pc)return e.attributes.DW_AT_low_pc<=t&&t<e.attributes.DW_AT_high_pc;if(void 0!=e.attributes.DW_AT_low_pc)return e.attributes.DW_AT_low_pc==t;if(void 0!=e.attributes.DW_AT_ranges){var i=e.cu.attributes.DW_AT_low_pc,n=this.rangeLists[e.attributes.DW_AT_ranges];for(var o in n)if(i+n[o].begin<=t&&t<i+n[o].end)return!0;return!1}return!1},o.Atmega_debugger.prototype.getVarsInDie=function(e,t){var i=new n.HashMap,o=null;for(var r in e.children){var a=e.children[r];if("DW_TAG_variable"==a.tag||"DW_TAG_formal_parameter"==a.tag){if(!(a.getAttribute("DW_AT_artificial")||a.getAttribute("DW_AT_specification")&&"DW_TAG_member"==a.getAttribute("DW_AT_specification").tag)){var s=this.getVar(a,t);null!=s&&i.put(s.name,s)}}else"DW_TAG_lexical_block"==a.tag&&this.dieIsInRange(a)&&(o=this.getVarsInDie(a,t))}return o&&i.putAll(o),i},o.Atmega_debugger.prototype.getLocation=function(e,t,i){var n;o.Atmega_debugger.DwarfDefinitions;if(t.constructor==Array)n=this.evaluateDwarfExpr(e,t,i);else{var r=this.locationLists[t],a=2*this.atmega.pc,s=e.attributes.DW_AT_low_pc;for(var c in r)if(s+r[c].begin<=a&&a<s+r[c].end){n=this.evaluateDwarfExpr(e,r[c].expr,i);break}}return n},o.Atmega_debugger.prototype.evaluateDwarfExpr=function(e,t,i){var n=new o.Atmega_debugger.StackMachine(this,e,i);return n.execute(t),n.getResult()},o.Atmega_debugger.prototype.getVar=function(e,t){var i=(o.Atmega_debugger.DwarfDefinitions,null),n=null;if(void 0!=e.getAttribute("DW_AT_location")){if(i=this.atmega.data_memory,n=this.getLocation(e.cu,e.getAttribute("DW_AT_location"),t),null==n||0==n||n>this.atmega.data_memory_size)return null;n&&n.constructor==o.Atmega_debugger.TypedData&&(i=n,n=0)}else if(void 0!=e.getAttribute("DW_AT_const_value"))i=e.getAttribute("DW_AT_const_value"),n=0;else if(e.getAttribute("DW_AT_declaration"))return null;var r=e.getAttribute("DW_AT_type");return r.attributes.DW_AT_declaration&&(r=this.info.getGlobalSpecification(r)),null==r?null:new o.Atmega_debugger.Variable(this,e.getAttribute("DW_AT_name"),i,n,r)},o.Atmega_debugger.prototype.getRegAddress=function(e){var t=null;switch(e){case 32:t=this.atmega.def.SPL;break;default:31>e&&(t=e)}return console.assert(null!=t,"Atmega debugger: Unknown register name"),t},o.Atmega_debugger.prototype.readMemory=function(e,t,i){var n=new o.Atmega_debugger.TypedData(this.atmega.data_memory,t,i,e);return n.getValue()}},function(e,t,i){var n=i(173),o=i(170).clone,r=i(433);r.Atmega_debugger.DwarfInfo=function(e){this.cu=[],this.dieList=[],this.globalTypes=new n.HashMap;var t=null,i=[];for(var o in e)"_CUHeader"==e[o].tag?t=e[o]:t?(this.dieList[o]=new r.Atmega_debugger.Cu(this,t,e[o].tag,e[o].attr),this.cu.push(this.dieList[o]),i=[this.dieList[o]],t=null):null!=e[o].tag?(this.dieList[o]=new r.Atmega_debugger.Die(i[0],i[i.length-1],e[o].tag,e[o].attr),e[o].hasChild&&i.push(this.dieList[o])):i.pop();var a=["DW_AT_type","DW_AT_abstract_origin","DW_AT_object_pointer"];for(var o in this.dieList){var s=this.dieList[o];if(s.constructor==r.Atmega_debugger.Die){for(var c in a)void 0!=s.attributes[a[c]]&&(s.attributes[a[c]]=s.cu.getDie(s.attributes[a[c]]));if(void 0!=s.attributes.DW_AT_specification){var l=s.cu.getDie(s.attributes.DW_AT_specification);s.attributes.DW_AT_specification=l,l.specification=s}s.parent.constructor==r.Atmega_debugger.Cu&&["DW_TAG_enumeration_type","DW_TAG_structure_type","DW_TAG_union_type","DW_TAG_class_type"].indexOf(s.tag)>-1&&void 0==s.attributes.DW_AT_declaration&&s.attributes.DW_AT_name&&this.globalTypes.put(s.tag+s.attributes.DW_AT_name)}}},r.Atmega_debugger.DwarfInfo.prototype.getDie=function(e){return this.dieList[e]},r.Atmega_debugger.DwarfInfo.prototype.getGlobalSpecification=function(e){return this.globalTypes.get(e.tag+e.attributes.DW_AT_name)},r.Atmega_debugger.Cu=function(e,t,i,n){this.dwarfInfo=e,this.header=t,this.tag=i,this.cu_offset=t.offset,this.attributes=o(n),this.children=[]},r.Atmega_debugger.Cu.prototype.getDie=function(e){return this.dwarfInfo.getDie(this.cu_offset+e)},r.Atmega_debugger.Die=function(e,t,i,n){this.cu=e,this.parent=t,t.children.push(this),this.children=[],this.tag=i,this.attributes=o(n)},r.Atmega_debugger.Die.prototype.getAttribute=function(e){if(void 0!=this.attributes[e])return this.attributes[e];if(void 0!=this.attributes.DW_AT_abstract_origin||void 0!=this.attributes.DW_AT_specification){var t=this.attributes.DW_AT_abstract_origin||this.attributes.DW_AT_specification;return t.getAttribute(e);
}return void 0}},function(e,t,i){var n=i(433);n.Atmega_debugger.DwarfDefinitions={DW_ATE_address:1,DW_ATE_boolean:2,DW_ATE_complex_float:3,DW_ATE_float:4,DW_ATE_signed:5,DW_ATE_signed_char:6,DW_ATE_unsigned:7,DW_ATE_unsigned_char:8,DW_OP_addr:3,DW_OP_deref:6,DW_OP_const1u:8,DW_OP_const1s:9,DW_OP_const2u:10,DW_OP_const2s:11,DW_OP_const4u:12,DW_OP_const4s:13,DW_OP_const8u:14,DW_OP_const8s:15,DW_OP_constu:16,DW_OP_consts:17,DW_OP_dup:18,DW_OP_drop:19,DW_OP_over:20,DW_OP_pick:21,DW_OP_swap:22,DW_OP_rot:23,DW_OP_xderef:24,DW_OP_abs:25,DW_OP_and:26,DW_OP_div:27,DW_OP_minus:28,DW_OP_mod:29,DW_OP_mul:30,DW_OP_neg:31,DW_OP_not:32,DW_OP_or:33,DW_OP_plus:34,DW_OP_plus_uconst:35,DW_OP_shl:36,DW_OP_shr:37,DW_OP_shra:38,DW_OP_xor:39,DW_OP_bra:40,DW_OP_eq:41,DW_OP_ge:42,DW_OP_gt:43,DW_OP_le:44,DW_OP_lt:45,DW_OP_ne:46,DW_OP_skip:47,DW_OP_lit0:48,DW_OP_lit31:79,DW_OP_reg0:80,DW_OP_reg31:111,DW_OP_breg0:112,DW_OP_breg31:143,DW_OP_regx:144,DW_OP_fbreg:145,DW_OP_bregx:146,DW_OP_piece:147,DW_OP_deref_size:148,DW_OP_xderef_size:149,DW_OP_nop:150,DW_OP_push_object_address:151,DW_OP_call2:152,DW_OP_call4:153,DW_OP_call_ref:154,DW_OP_form_tls_address:155,DW_OP_call_frame_cfa:156,DW_OP_bit_piece:157,DW_OP_implicit_value:158,DW_OP_stack_value:159,DW_OP_implicit_pointer:160,DW_OP_addrx:161,DW_OP_constx:162,DW_OP_entry_value:163,DW_OP_const_type:164,DW_OP_regval_type:165,DW_OP_deref_type:166,DW_OP_xderef_type:167,DW_OP_convert:168,DW_OP_reinterpret:169,DW_OP_GNU_push_tls_address:224,DW_OP_lo_user:224,DW_OP_GNU_uninit:240,DW_OP_GNU_encoded_addr:241,DW_OP_GNU_implicit_pointer:242,DW_OP_GNU_entry_value:243,DW_OP_GNU_const_type:244,DW_OP_GNU_regval_type:245,DW_OP_GNU_deref_type:246,DW_OP_GNU_convert:247,DW_OP_GNU_reinterpret:249,DW_OP_GNU_parameter_ref:250,DW_OP_GNU_addr_index:251,DW_OP_GNU_const_index:252}},function(e,t,i){var n=i(433);n.Atmega_debugger.TypedData=function(e,t,i,o){var r=n.Atmega_debugger.DwarfDefinitions;if(this.encoding=t||r.DW_ATE_address,this.bytes=i||2,this.buffer=new ArrayBuffer(8),this.bufferView=new Uint8Array(this.buffer),this.dataView=new DataView(this.buffer),void 0!=e)if(e.constructor==n.Atmega_debugger.TypedData)void 0==t&&(this.encoding=e.encoding),void 0==i&&(this.bytes=e.bytes),this.bufferView.set(e.bufferView);else if(ArrayBuffer.isView(e))if(o&&void 0!=o.bitOffset){for(var a=Math.ceil((o.bitOffset+o.bitSize)/8),s=0,c=0;a>c;c++)s|=e[o.byteAddress+c]<<8*c;s=s>>o.bitOffset&(1<<o.bitSize)-1,(t==r.DW_ATE_signed||t==r.DW_ATE_signed_char)&&s&1<<o.bitSize-1&&(s|=-(1<<o.bitSize)),this.dataView.setInt32(0,s,!0)}else o=o||0,this.bufferView.set(e.subarray(o,o+this.bytes));else e.constructor==Array?this.bufferView.set(e):isNaN(e)||(e==e>>0?this.dataView.setInt32(0,e,!0):this.dataView.setFloat32(0,e,!0))},n.Atmega_debugger.TypedData.prototype.clone=function(){return new n.Atmega_debugger.TypedData(this)},n.Atmega_debugger.TypedData.prototype.convert=function(e,t){var i=this.getValue();return this.encoding=e,this.bytes=t,this.setValue(i)},n.Atmega_debugger.TypedData.prototype.changeType=function(e,t){return this.encoding=e,this.bytes=t,this},n.Atmega_debugger.TypedData.prototype.getValue=function(e,t){e=e||this.encoding,t=t||this.bytes;var i=null,o=n.Atmega_debugger.DwarfDefinitions;switch(e){case o.DW_ATE_address:i=this.dataView.getUint16(0,!0);break;case o.DW_ATE_boolean:i=!(0==this.dataView.getUint8(0,!0));break;case o.DW_ATE_unsigned:switch(t){case 1:i=this.dataView.getUint8(0,!0);break;case 2:i=this.dataView.getUint16(0,!0);break;case 4:i=this.dataView.getUint32(0,!0)}break;case o.DW_ATE_signed:switch(t){case 1:i=this.dataView.getInt8(0,!0);break;case 2:i=this.dataView.getInt16(0,!0);break;case 4:i=this.dataView.getInt32(0,!0)}break;case o.DW_ATE_float:switch(t){case 4:i=this.dataView.getFloat32(0,!0);break;case 8:i=this.dataView.getFloat64(0,!0)}break;case o.DW_ATE_unsigned_char:i=this.dataView.getUint8(0,!0);break;case o.DW_ATE_signed_char:i=this.dataView.getInt8(0,!0);break;default:console.error("Atmega debugger: Unknown variable type")}return i},n.Atmega_debugger.TypedData.prototype.setValue=function(e,t,i){t=t||this.encoding,i=i||this.bytes;var o=n.Atmega_debugger.DwarfDefinitions;switch(t){case o.DW_ATE_address:this.dataView.setUint16(0,e,!0);break;case o.DW_ATE_boolean:this.dataView.setUint8(0,e?1:0,!0);break;case o.DW_ATE_unsigned:switch(i){case 1:this.dataView.setUint8(0,e,!0);break;case 2:this.dataView.setUint16(0,e,!0);break;case 4:this.dataView.setUint32(0,e,!0)}break;case o.DW_ATE_signed:switch(i){case 1:this.dataView.setInt8(0,e,!0);break;case 2:this.dataView.setInt16(0,e,!0);break;case 4:this.dataView.setInt32(0,e,!0)}break;case o.DW_ATE_float:switch(i){case 4:this.dataView.setFloat32(0,e,!0);break;case 8:this.dataView.setFloat64(0,e,!0)}break;case o.DW_ATE_unsigned_char:this.dataView.setUint8(0,e,!0);break;case o.DW_ATE_signed_char:this.dataView.setInt8(0,e,!0);break;default:console.error("Atmega debugger: Unknown variable type")}return this},n.Atmega_debugger.TypedData.prototype.plus=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()+(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.minus=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()-(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.mul=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()*(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.div=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()/(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.mod=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()%(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.abs=function(){var e=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return e.setValue(Math.abs(this.getValue()))},n.Atmega_debugger.TypedData.prototype.neg=function(){var e=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return e.setValue(Math.abs(-this.getValue()))},n.Atmega_debugger.TypedData.prototype.and=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()&(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.or=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()|(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.xor=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()^(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.shl=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()<<(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.shr=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()>>(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.shra=function(e){var t=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return t.setValue(this.getValue()>>>(e.getValue?e.getValue():e))},n.Atmega_debugger.TypedData.prototype.not=function(){var e=new n.Atmega_debugger.TypedData(null,this.encoding,this.bytes);return e.setValue(Math.abs(~this.getValue()))},n.Atmega_debugger.TypedData.prototype.lt=function(e){return this.getValue()<(e.getValue?e.getValue():e)},n.Atmega_debugger.TypedData.prototype.gt=function(e){return this.getValue()>(e.getValue?e.getValue():e)},n.Atmega_debugger.TypedData.prototype.le=function(e){return this.getValue()<=(e.getValue?e.getValue():e)},n.Atmega_debugger.TypedData.prototype.ge=function(e){return this.getValue()>=(e.getValue?e.getValue():e)},n.Atmega_debugger.TypedData.prototype.eq=function(e){return this.getValue()==(e.getValue?e.getValue():e)},n.Atmega_debugger.TypedData.prototype.ne=function(e){return this.getValue()!=(e.getValue?e.getValue():e)}},function(e,t,i){var n=i(433);n.Atmega_debugger.Variable=function(e,t,i,o,r){this.atmegaDebugger=e,this.name=void 0!=t?t:"",this.data=i,this.address=o,this.value=null,r&&r.constructor!=n.Atmega_debugger.Die?(this.typeDie=r.typeDie,this.typeInfo=r):(this.typeDie=r,this.typeInfo=null)},n.Atmega_debugger.Variable.prototype.getName=function(){return this.name},n.Atmega_debugger.Variable.prototype.getValue=function(e){var t=n.Atmega_debugger.DwarfDefinitions;this.decodeValue();var i=this.value;if(!e&&null!=i)if(this.isPointer()||this.isReference())i="0x"+("0000"+this.value.toString(16).toUpperCase()).substr(-4);else if(this.typeInfo.enumerators)i+=" ("+this.typeInfo.enumerators[this.value]+")";else if(this.typeInfo.encoding==t.DW_ATE_unsigned_char||this.typeInfo.encoding==t.DW_ATE_signed_char)i+=" ('"+String.fromCharCode(this.value)+"')";else if(this.isArray()&&(this.typeInfo.elementType.encoding==t.DW_ATE_unsigned_char||this.typeInfo.elementType.encoding==t.DW_ATE_signed_char)){var o=this.value.map(function(e){return e.getValue(!0)}),r=o.indexOf(0);r>0&&(i=String.fromCharCode.apply(null,o.slice(0,r)))}return i},n.Atmega_debugger.Variable.prototype.getType=function(){return this.typeInfo||(this.typeInfo=this.decodeType(this.typeDie)),this.typeInfo.typeName},n.Atmega_debugger.Variable.prototype.isArray=function(){return this.typeInfo||(this.typeInfo=this.decodeType(this.typeDie)),void 0!=this.typeInfo.arrayDimensions},n.Atmega_debugger.Variable.prototype.isObject=function(){return this.typeInfo||(this.typeInfo=this.decodeType(this.typeDie)),void 0!=this.typeInfo.isObject},n.Atmega_debugger.Variable.prototype.isPointer=function(){return this.typeInfo||(this.typeInfo=this.decodeType(this.typeDie)),void 0!=this.typeInfo.pointerType},n.Atmega_debugger.Variable.prototype.isReference=function(){return this.typeInfo||(this.typeInfo=this.decodeType(this.typeDie)),void 0!=this.typeInfo.referenceType},n.Atmega_debugger.Variable.prototype.dereference=function(){return(this.isPointer()||this.isReference())&&this.getValue(!0)?(this.pointsTo||(this.pointsTo=new n.Atmega_debugger.Variable(this.atmegaDebugger,"",this.atmegaDebugger.atmega.data_memory,this.value,this.typeInfo.pointerType||this.typeInfo.referenceType)),this.pointsTo):null},n.Atmega_debugger.Variable.prototype.decodeType=function(e){var t=n.Atmega_debugger.DwarfDefinitions,i={typeDie:e};switch(e.tag){case"DW_TAG_base_type":i.encoding=e.attributes.DW_AT_encoding,i.byteSize=e.attributes.DW_AT_byte_size,i.typeName=e.attributes.DW_AT_name;break;case"DW_TAG_const_type":i=this.decodeType(e.attributes.DW_AT_type),"const"!=i.typeName.substr(0,5)&&(i.typeName="const "+i.typeName);break;case"DW_TAG_volatile_type":i=this.decodeType(e.attributes.DW_AT_type),i.typeName="volatile "+i.typeName;break;case"DW_TAG_typedef":i=this.decodeType(e.attributes.DW_AT_type);break;case"DW_TAG_enumeration_type":i.encoding=e.attributes.DW_AT_encoding||t.DW_ATE_address,i.byteSize=e.attributes.DW_AT_byte_size||2,i.typeName=e.attributes.DW_AT_name||"anonymous enum",i.enumerators=[];for(var o in e.children){var r=e.children[o];"DW_TAG_enumerator"==r.tag&&(i.enumerators[r.attributes.DW_AT_const_value]=r.attributes.DW_AT_name)}break;case"DW_TAG_pointer_type":i.pointerType=this.decodeType(e.attributes.DW_AT_type),i.encoding=t.DW_ATE_address,i.byteSize=e.attributes.DW_AT_byte_size||2,i.typeName=i.pointerType.typeName+"*";break;case"DW_TAG_reference_type":i.referenceType=this.decodeType(e.attributes.DW_AT_type),i.encoding=t.DW_ATE_address,i.byteSize=e.attributes.DW_AT_byte_size||2,i.typeName=i.referenceType.typeName+"&";break;case"DW_TAG_array_type":i.elementType=this.decodeType(e.attributes.DW_AT_type),i.elementCount=1,i.arrayDimensions=[];for(var o in e.children){var a=e.children[o];if("DW_TAG_subrange_type"==a.tag||"DW_TAG_enumeration_type"==a.tag){var s=a.attributes.DW_AT_upper_bound;isNaN(s)&&(s=this.atmegaDebugger.evaluateDwarfExpr(a.cu,s));var c=a.attributes.DW_AT_lower_bound||0;isNaN(c)&&(c=this.atmegaDebugger.evaluateDwarfExpr(a.cu,c)),i.arrayDimensions.push(s-c+1),i.elementCount*=s-c+1}}i.typeName=i.elementType.typeName+"["+i.arrayDimensions.join("][")+"]",i.byteSize=i.elementType.byteSize*i.elementCount;break;case"DW_TAG_structure_type":i.isObject=!0,i.typeName="struct "+e.attributes.DW_AT_name,i.byteSize=e.attributes.DW_AT_byte_size||1;break;case"DW_TAG_union_type":i.isObject=!0,i.typeName="union "+e.attributes.DW_AT_name,i.byteSize=e.attributes.DW_AT_byte_size||1;break;case"DW_TAG_class_type":i.isObject=!0,i.typeName=e.attributes.DW_AT_name,i.byteSize=e.attributes.DW_AT_byte_size||1;break;default:i.typeName="error",console.assert(!1,"Atmega debugger: Unknown variable type: ",e.tag)}return i},n.Atmega_debugger.Variable.prototype.decodeValue=function(){if(null==this.value)if(null==this.data)this.value=null;else if(this.isArray()){this.value=[];for(var e=this.typeInfo.elementType,t=0;t<this.typeInfo.elementCount&&!(this.address+t*e.byteSize>this.atmegaDebugger.data_memory_size);t++)this.value.push(new n.Atmega_debugger.Variable(this.atmegaDebugger,t,this.data,this.address+t*e.byteSize,e));for(var t=this.typeInfo.arrayDimensions.length-1;t>0;t--){for(var i=this.typeInfo.arrayDimensions[t],o=[],r={elementType:this.typeInfo.elementType,arrayDimensions:this.typeInfo.arrayDimensions.slice(t),typeName:this.typeInfo.elementType.typeName+"["+this.typeInfo.arrayDimensions.slice(t).join("][")+"]"},a=0;a<this.value.length;a+=i){var s=new n.Atmega_debugger.Variable(this.atmegaDebugger,a/i);s.value=this.value.slice(a,a+i),s.typeInfo=r,o.push(s)}this.value=o}}else if(this.isObject()){this.value={};var c=0;for(var t in this.typeInfo.typeDie.children){var l=this.typeInfo.typeDie.children[t];if("DW_TAG_member"==l.tag){var d,u=l.attributes.DW_AT_name||"<m"+c++ +">";if(void 0!=l.attributes.DW_AT_data_member_location){var h=l.attributes.DW_AT_data_member_location;if(isNaN(h)){var p=new n.Atmega_debugger.StackMachine(this.atmegaDebugger,l.cu);p.stack.push(this.address),p.execute(h),d=p.getResult()}else d=address+h;if(void 0!=l.attributes.DW_AT_bit_offset){var g=l.attributes.DW_AT_byte_size||this.decodeType(l.attributes.DW_AT_type).byteSize,m=l.attributes.DW_AT_bit_size;d={byteAddress:d,bitOffset:8*g-l.attributes.DW_AT_bit_offset-m,bitSize:m}}}else if(void 0!=l.attributes.DW_AT_data_bit_offset)d={byteAddress:this.address,bitOffset:l.attributes.DW_AT_data_bit_offset,bitSize:l.attributes.DW_AT_bit_size||8*l.attributes.DW_AT_byte_size||8*this.decodeType(l.attributes.DW_AT_type).byteSize};else{if(void 0!=l.attributes.DW_AT_declaration){l.specification?this.value[u]=this.atmegaDebugger.getVar(l.specification):console.assert(!1,"Atmega debugger: specification for static member was not found in dwarf info ",u);continue}d=this.address}this.value[u]=new n.Atmega_debugger.Variable(this.atmegaDebugger,u,this.data,d,l.attributes.DW_AT_type)}}}else{var f=new n.Atmega_debugger.TypedData(this.data,this.typeInfo.encoding,this.typeInfo.byteSize,this.address);this.value=f.getValue()}}},function(e,t,i){i(504),i(514),i(515),i(484),i(616),i(641)},function(e,t,i){i(485),i(486),i(487),i(488),i(489),i(490),i(491),i(492),i(493),i(494),i(495),i(496),i(497),i(498),i(499),i(500),i(501),i(502),i(503)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_battery9v={},n.model_map.put("circuitScribe_battery9v",n.Model.circuitScribe_battery9v),n.Model.circuitScribe_battery9v.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=9,a=4,s=.12,c=new n.Signal(this.simulator,"battery 9 V switchSignal",!1),l=new n.ProcessedSignal(c,function(e){return e?a:1e10}),d=new n.ProcessedSignal(c,function(e){return e?r:0}),u=this.getNetbyTerminalName("+"),h=this.getNetbyTerminalName("-"),p=e.analogCircuit.addVoltageSource(u,h,d,l);i.position.onChange("simulator",function(e,t,i){c.setValue(0,i)},10),o.dynamicModel.position(!0);var g=!0,m=function(e){var t=e.value();if(g)return void(g=!1);var n=Math.abs(p.getCurrent(t));s>=n?i.shortCircuit(!1):i.shortCircuit(!0)};this.simulator.update_ui.add_process([this,m,[e.update_ui]])},extend(n.Model.circuitScribe_battery9v.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_battery9v.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){var o=n?1:0;cGraphics.updateCs9VBattery(e.group,{powerledBrightness:o,isOn:n})},10),i.shortCircuit.onChange("view",function(t,i,n){var o=n?1:0;cGraphics.updateCs9VBattery(e.group,{shortledBrightness:o})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateCs9VBattery(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateCs9VBattery(e.group,{inactive:!0})},extend(n.Model.circuitScribe_battery9v.View,n.Model.View),n.Model.circuitScribe_battery9v.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0),this.shortCircuit=this.value("shortCircuit",!1,!1,!0)},extend(n.Model.circuitScribe_battery9v.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_USBpower={},n.model_map.put("circuitScribe_USBpower",n.Model.circuitScribe_USBpower),n.Model.circuitScribe_USBpower.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=5,r=4,a=.12,s=this.getNetbyTerminalName("Pos"),c=this.getNetbyTerminalName("Neg"),l=e.analogCircuit.addVoltageSource(s,c,o,r),d=!0,u=function(e){var t=e.value();if(d)return void(d=!1);var n=Math.abs(l.getCurrent(t));a>=n?i.shortCircuit(!1):i.shortCircuit(!0)};this.simulator.update_ui.add_process([this,u,[e.update_ui]]),n.dynamicModel.power(!0)},extend(n.Model.circuitScribe_USBpower.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_USBpower.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.power.onChange("view",function(t,i,n){var o=n?1:0;cGraphics.updateCs9VBattery(e.group,{powerledBrightness:o,isOn:n})},10),i.shortCircuit.onChange("view",function(t,i,n){var o=n?1:0;cGraphics.updateCsUSBPower(e.group,{shortledBrightness:o})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateCsUSBPower(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateCsUSBPower(e.group,{inactive:!0})},extend(n.Model.circuitScribe_USBpower.View,n.Model.View),n.Model.circuitScribe_USBpower.Model=function(e,t){this.makeVersioned(e),this.power=this.value("power",!1,!1,!0),this.shortCircuit=this.value("shortCircuit",!1,!1,!0)},extend(n.Model.circuitScribe_USBpower.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_biLed={},n.Model.circuitScribe_biLed.simulationModelName="circuitScribe_biLed",n.model_map.put(n.Model.circuitScribe_biLed.simulationModelName,n.Model.circuitScribe_biLed),n.Model.circuitScribe_biLed.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.004,r=1e-19,a=1.9,s=2200,c=1e-22,l=2.25,d=3300,u=this.getNetbyTerminalName("anode"),h=this.getNetbyTerminalName("cathode"),p={net:"red led cathode net"},g={net:"red blue cathode net"},m=e.analogCircuit.addDiode(u,p,r,a),s=e.analogCircuit.addResistor(p,h,s),f=e.analogCircuit.addDiode(h,g,c,l),d=e.analogCircuit.addResistor(g,u,d),_=function(e){var t=e.value(),r=!1,a="Bi-led broke because of: ",s=m.getCurrent(t),c=f.getCurrent(t);s>o&&(a+="current through the red led is "+n.printValueUnit(s,"A")+", ",r=!0),c>o&&(a+="current through the blue led is "+n.printValueUnit(c,"A")+", ",r=!0),a+="while maximum is "+n.printValueUnit(o,"A"),i.brightness([s/o,c/o]),i.breakdown({breakdown:r,reason:a})};e.update_ui.add_process([this,_,[e.update_ui]])},extend(n.Model.circuitScribe_biLed.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_biLed.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=n[0]<.001?0:n[0]>1?1:n[0],r=n[1]<.001?0:n[1]>1?1:n[1];o=Math.pow(o,1/3),r=Math.pow(r,1/3),o>0?cGraphics.updateCsBiled(e.group,{redledBrightness:o}):cGraphics.updateCsBiled(e.group,{blueledBrightness:r})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateCsBiled(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.circuitScribe_biLed.View,n.Model.View),n.Model.circuitScribe_biLed.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0],!1,!0)},extend(n.Model.circuitScribe_biLed.Model,o)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.circuitScribe_RGBLED={},o.model_map.put("circuitScribe_RGBLED",o.Model.circuitScribe_RGBLED),o.Model.circuitScribe_RGBLED.leds=[{name:"Red",Is:1e-19,n:1.9,R:3300,max_curr:.002603},{name:"Green",Is:1e-21,n:2.15,R:12e3,max_curr:673e-6},{name:"Blue",Is:1e-22,n:2.3,R:2200,max_curr:.003458}],o.Model.circuitScribe_RGBLED.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=new n.HashMap,s=this.getNetbyTerminalName("Cathode");o.Model.circuitScribe_RGBLED.leds.forEach(function(t){var i=r.getNetbyTerminalName(t.name),n={net:"RGB anode Net - "+t.name},o=(e.analogCircuit.addResistor(i,n,t.R),e.analogCircuit.addDiode(n,s,t.Is,t.n));a.put(t,o)});var c=function(e){var t=e.value(),n=!1,o="RGB Led broke because of: ",s=[];a.forEach(function(e,i){var a=i.getCurrent(t);s.push(a/e.max_curr),a>e.max_curr&&(n=!0,o+=" current through Led "+e.name+" is "+r.printValueUnit(a,"A")+", while maximum current is "+r.printValueUnit(e.max_curr,"A")+".")}),i.breakdown({breakdown:n,reason:o}),i.brightness(s)};this.simulator.update_ui.add_process([this,c,[e.update_ui]])},extend(o.Model.circuitScribe_RGBLED.SimulationModel,o.Model.SimulationModel),o.Model.circuitScribe_RGBLED.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=[];for(var r in n){var a=n[r]<.001?0:n[r]>1?1:n[r];a=Math.round(100*Math.pow(a,1/3))/100,o.push(a)}cGraphics.updateCsRGBled(e.group,{rgb:o})},10),n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateCsRGBled(e.group,{inactive:n==o.states.IDLE})})},extend(o.Model.circuitScribe_RGBLED.View,o.Model.View),o.Model.circuitScribe_RGBLED.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0,0],!1,!0)},extend(o.Model.circuitScribe_RGBLED.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.circuitScribe_potentiometer={},o.model_map.put("circuitScribe_potentiometer",o.Model.circuitScribe_potentiometer),o.Model.circuitScribe_potentiometer.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=1e4,a=.5,s=this.getNetbyTerminalName("term0"),c=this.getNetbyTerminalName("term1"),l=this.getNetbyTerminalName("wiper"),d=new o.Signal(this.simulator,"circuitScribe_potentiometer position",0),u=new o.ProcessedSignal(d,function(e){return r*e+a}),h=(this.simulator.analogCircuit.addResistor(s,l,u),new o.ProcessedSignal(d,function(e){return r*(1-e)+a}));this.simulator.analogCircuit.addResistor(c,l,h);i.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50;d.setValue(0,n)},10)},extend(o.Model.circuitScribe_potentiometer.SimulationModel,o.Model.SimulationModel),o.Model.circuitScribe_potentiometer.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","potentiometer"),i.position.onChange("view",function(t,i,n){cGraphics.updateCsPotentiometer(e.group,{position:n})},10),i.position(0)},extend(o.Model.circuitScribe_potentiometer.View,o.Model.View),o.Model.circuitScribe_potentiometer.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction",i),r=new n.Coord(parseFloat(o.attr("cx")),parseFloat(o.attr("cy"))),a=new n.Coord(0,1),s=SvgHelpers.getParentTransformation(o[0]);this.knobCenter=r.svgTransform(s),this.knobAngle=a.svgTransform(s).angleDegrees()},extend(o.Model.circuitScribe_potentiometer.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_switch={},n.model_map.put("circuitScribe_switch",n.Model.circuitScribe_switch),n.Model.circuitScribe_switch.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=.001,a=1e10,s=this.getNetbyTerminalName("S1"),c=this.getNetbyTerminalName("S2"),l=new n.Signal(this.simulator,"switchSignal",!1),d=new n.ProcessedSignal(l,function(e){return e?r:a});e.analogCircuit.addResistor(s,c,d);i.position.onChange("simulator",function(e,t,i){l.setValue(0,i)},10)},extend(n.Model.circuitScribe_switch.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_switch.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){cGraphics.updateCsSwitchSPST(e.group,{on:n})},10),cGraphics.updateCsSwitchSPST(e.group,{on:!1})},extend(n.Model.circuitScribe_switch.View,n.Model.View),n.Model.circuitScribe_switch.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0)},extend(n.Model.circuitScribe_switch.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_doubleSwitch={},n.model_map.put("circuitScribe_doubleSwitch",n.Model.circuitScribe_doubleSwitch),n.Model.circuitScribe_doubleSwitch.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=.001,a=1e10,s=this.getNetbyTerminalName("S1T1"),c=this.getNetbyTerminalName("S1T2"),l=this.getNetbyTerminalName("S1T3"),d=this.getNetbyTerminalName("S2T1"),u=this.getNetbyTerminalName("S2T2"),h=this.getNetbyTerminalName("S2T3"),p=new n.Signal(this.simulator,this.name,!1),g=new n.ProcessedSignal(p,function(e){return e?r:a}),m=new n.ProcessedSignal(p,function(e){return e?a:r});e.analogCircuit.addResistor(s,c,g),e.analogCircuit.addResistor(s,l,m),e.analogCircuit.addResistor(d,u,g),e.analogCircuit.addResistor(d,h,m);i.position.onChange("simulator",function(e,t,i){p.setValue(0,i)},10)},extend(n.Model.circuitScribe_doubleSwitch.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_doubleSwitch.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){cGraphics.updateCsSwitchDPDT(e.group,{on:n})},10),cGraphics.updateCsSwitchDPDT(e.group,{on:!1})},extend(n.Model.circuitScribe_doubleSwitch.View,n.Model.View),n.Model.circuitScribe_doubleSwitch.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0)},extend(n.Model.circuitScribe_doubleSwitch.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_DCmotor={},n.model_map.put("circuitScribe_DCmotor",n.Model.circuitScribe_DCmotor),n.Model.circuitScribe_DCmotor.SimulationModel=function(e,t,i){function o(){var e=r.device.getPropertyValue("load")/100;isNaN(e)||0>e?e=0:e>1&&(e=1);var t=(c-l*a)/(s*c/h),i=d*t*u,n=(e*(f-m)+m)/((1-e)*(s*c/h))*u;y.setValue(0,t),C.setValue(0,i),b.setValue(0,n)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=16,s=94,c=6,l=.048,d=.5,u=1e3,h=9.5493,p=(c-l*a)/(s*c/h),g=d*p*u,m=g*l/u,f=g*c/a/u,_=0,v=(_*(f-m)+m)/((1-_)*(s*c/h))*u,y=new n.Signal(r.simulator,"Motor speed constant signal",p),C=new n.Signal(r.simulator,"Motor torque constant signal",g),b=new n.Signal(r.simulator,"Motor friction signal",v);o(),t.properties.onPut("simulator",o,10);var w=this.getNetbyTerminalName("term11"),M=this.getNetbyTerminalName("term12"),S=this.getNetbyTerminalName("term22"),x=this.getNetbyTerminalName("term21");e.analogCircuit.mergeNets(w,M),e.analogCircuit.mergeNets(S,x);var T={net:"Motor_net_between_sense-backEMF_"},E={net:"Motor_net_between_backEMF-Rs_"},A={net:"Motor_mechanical_net_between_sense-friction_"},D={net:"Motor_mechanical_net_between_friction-inertia_"},L=(this.simulator.analogCircuit.addResistor(S,E,a),this.simulator.analogCircuit.addCurrentControlledVoltageSource(A,w,E,T,1e-4,1e-4,y),this.simulator.analogCircuit.addCurrentControlledVoltageSource(T,w,D,w,1e-4,1e-4,C),this.simulator.analogCircuit.addResistor(D,A,b)),B=function(e){var t=e.value(),n=L.getCurrent(t)*h;i.avgSpeed(n)};this.simulator.update_ui.add_process([this,B,[e.update_ui]]),i.enableAnimation(!0)},extend(n.Model.circuitScribe_DCmotor.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_DCmotor.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;o?i.animationTimer=setInterval(function(){var t=i.avgSpeed();i.gearPosition=(i.gearPosition+t/60*r/1e3*360)%360,cGraphics.updateCsMotor(e.group,{rotation:i.gearPosition})},r):clearInterval(i.animationTimer)},10)},n.Model.circuitScribe_DCmotor.Model=function(e,t){this.makeVersioned(e),this.avgSpeed=this.value("speed",0,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0)},extend(n.Model.circuitScribe_DCmotor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_NPN={},n.model_map.put("circuitScribe_NPN",n.Model.circuitScribe_NPN),n.Model.circuitScribe_NPN.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e3,r=2e-5,a=1.1,s=this.getNetbyTerminalName("E"),c=this.getNetbyTerminalName("B"),l=this.getNetbyTerminalName("C"),d={net:"circuitScribe_NPN_basenet"};e.analogCircuit.addNPN(d,s,l),e.analogCircuit.addResistor(c,d,o),e.analogCircuit.addDiode(s,l,r,a),e.analogCircuit.addDiode(s,d,r,a)},extend(n.Model.circuitScribe_NPN.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_NPN.View=function(e,t,i,n){},n.Model.circuitScribe_NPN.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.circuitScribe_NPN.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_buzzer={},n.model_map.put("circuitScribe_buzzer",n.Model.circuitScribe_buzzer),n.Model.circuitScribe_buzzer.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=2200,r=this.getNetbyTerminalName("pos"),a=this.getNetbyTerminalName("neg"),s={net:"internal buzzer net"},c=(e.analogCircuit.addDiode(r,s,1e-16,1.1),e.analogCircuit.addResistor(s,a,o)),l=function(e){var t=e.value(),n=c.getVoltage(t);.001>n&&(n=0);var o=85*Math.pow(n/15,1/3);i.sound(o)};this.simulator.update_ui.add_process([this,l,[e.update_ui]])},extend(n.Model.circuitScribe_buzzer.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_buzzer.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.sound.onChange("view",function(t,i,n){cGraphics.updateCsBuzzer(e.group,{volume:n/85})},10)},extend(n.Model.circuitScribe_buzzer.View,n.Model.View),n.Model.circuitScribe_buzzer.Model=function(e,t){this.makeVersioned(e),this.sound=this.value("sound",0,!1,!0)},extend(n.Model.circuitScribe_buzzer.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.circuitScribe_blinker={},o.model_map.put("circuitScribe_blinker",o.Model.circuitScribe_blinker),o.Model.circuitScribe_blinker.SimulationModel=function(e,t,i){function n(){v.value()?v.setValue(C,!1):v.setValue(b,!0)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=1e-5,s=1e3,c=5e3,l=5e5,d=.004,u=this.getNetbyTerminalName("vcc"),h=this.getNetbyTerminalName("gnd"),p=this.getNetbyTerminalName("out"),g={net:"protected vcc net"},m={net:"protected gnd net"},f={net:"red Led anode net"},_={net:"green Led cathode net"},v=new o.Signal(this.simulator,"555 Timer FlipFlop output signal",!1),y=(e.analogCircuit.addDiode(u,g,2e-5,1.1),e.analogCircuit.addDiode(m,h,2e-5,1.1),e.analogCircuit.addDiode(f,u,1e-19,1.9)),C=(e.analogCircuit.addResistor(h,f,1e4),
.693*(s+c)*a),b=.693*c*a;v.add_process([null,n]),v.setValue(0,!0),i.position.onChange("simulator",function(e,t,i){var o=Math.round(50*i)/50,r=c+o*l;C=.693*(s+r)*a,b=.693*r*a,n()},10);var w=15,M=new o.ProcessedSignal(v,function(e){return 1==e?w:1e8}),S=(this.simulator.analogCircuit.addResistor(g,p,M),new o.ProcessedSignal(v,function(e){return 0==e?w:1e8})),x=(this.simulator.analogCircuit.addResistor(p,m,S),e.analogCircuit.addDiode(p,_,1e-19,1.9)),T=(e.analogCircuit.addResistor(_,h,1e4),function(e){var t=e.value(),n=y.getCurrent(t)/d,o=x.getCurrent(t)/d;i.brightness_red(n),i.brightness_green(o)});e.update_ui.add_process([this,T,[e.update_ui]])},extend(o.Model.circuitScribe_blinker.SimulationModel,o.Model.SimulationModel),o.Model.circuitScribe_blinker.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","potentiometer"),i.position.onChange("view",function(t,i,n){cGraphics.updateCsBlinker(e.group,{potentiometerPosition:n})},10),i.brightness_red.onChange("view",function(t,i,n){var o=.001>n?0:n>1?1:n;o=Math.pow(o,1/3),cGraphics.updateCsBlinker(e.group,{vccledBrightness:o})},10),i.brightness_green.onChange("view",function(t,i,n){var o=.001>n?0:n>1?1:n;o=Math.pow(o,1/3),cGraphics.updateCsBlinker(e.group,{outputledBrightness:o})},10)},extend(o.Model.circuitScribe_blinker.View,o.Model.View),o.Model.circuitScribe_blinker.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0),this.brightness_red=this.value("brightness_red",0,!1,!0),this.brightness_green=this.value("brightness_green",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction",i),r=new n.Coord(parseFloat(o.attr("cx")),parseFloat(o.attr("cy"))),a=new n.Coord(0,1),s=SvgHelpers.getParentTransformation(o[0]);this.knobCenter=r.svgTransform(s),this.knobAngle=a.svgTransform(s).angleDegrees()},extend(o.Model.circuitScribe_blinker.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_resistor={},n.model_map.put("circuitScribe_resistor",n.Model.circuitScribe_resistor),n.Model.circuitScribe_resistor.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=parseFloat(t.getPropertyValue("Resistance"));r||(r=0);var a=new n.Signal(o.simulator,"resistor_control",r),s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(s,c,a);t.properties.onPut("simulator",function(){var e=parseFloat(t.getPropertyValue("Resistance"));e||(e=0),a.setValue(0,e)},10)},extend(n.Model.circuitScribe_resistor.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_resistor.View=function(e,t,i,n){function o(){var i=parseFloat(t.getPropertyValue("Resistance"));i||(i=0),cGraphics.updateCs2PinResistor(e.group,{resistance:i})}this.breadboardElement=e,this.device=t,this.dynamicModel=i,t.properties.onPut("view",function(){o()},10),o()},n.Model.circuitScribe_resistor.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.circuitScribe_resistor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_capacitor={},n.model_map.put("circuitScribe_capacitor",n.Model.circuitScribe_capacitor),n.Model.circuitScribe_capacitor.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=parseFloat(t.getPropertyValue("Capacitance"));r||(r=0);var a=new n.Signal(o.simulator,"capacitance_control",r),s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2");e.analogCircuit.addCapacitor(s,c,a);t.properties.onPut("simulator",function(){var e=parseFloat(t.getPropertyValue("Capacitance"));e||(e=0),a.setValue(0,e)},10)},extend(n.Model.circuitScribe_capacitor.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_capacitor.View=function(e,t,i,n){},n.Model.circuitScribe_capacitor.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.circuitScribe_capacitor.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.circuitScribe_LDR={},o.model_map.put("circuitScribe_LDR",o.Model.circuitScribe_LDR),o.Model.circuitScribe_LDR.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=5e5,a=.85,s=1e3,c=1,l=this.getNetbyTerminalName("1"),d=this.getNetbyTerminalName("2"),u=new o.Signal(this.simulator,this.name,c),h=new o.ProcessedSignal(u,function(e){return Math.exp(Math.log(r)-(Math.log(e)-Math.log(.3))*a)});this.simulator.analogCircuit.addResistor(l,d,h);n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50,o=n*(s-c)+c;u.setValue(0,o)},10)},extend(o.Model.circuitScribe_LDR.SimulationModel,o.Model.SimulationModel),o.Model.circuitScribe_LDR.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateCs2PinLDR({view:e.group,control:e.interactionControlGroup},{incominglight:n})},10)},extend(o.Model.circuitScribe_LDR.View,o.Model.View),o.Model.circuitScribe_LDR.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.circuitScribe_LDR.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.circuitScribe_photosensor={},o.model_map.put("circuitScribe_photosensor",o.Model.circuitScribe_photosensor),o.Model.circuitScribe_photosensor.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=294,a=5e-7,s=1e3,c=1e4,l=this.getNetbyTerminalName("vcc"),d=this.getNetbyTerminalName("gnd"),u=this.getNetbyTerminalName("signal"),h={net:"base net"},p=new o.Signal(this.simulator,"photosensor lux signal",0),g=new o.ProcessedSignal(p,function(e){return a*e*s/r});e.analogCircuit.addNPN(h,u,l),e.analogCircuit.addResistor(u,d,c),e.analogCircuit.addCurrentSource(h,u,g),n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50;p.setValue(0,n)},10)},extend(o.Model.circuitScribe_photosensor.SimulationModel,o.Model.SimulationModel),o.Model.circuitScribe_photosensor.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateCsSensorPhoto({view:e.group,control:e.interactionControlGroup},{incominglight:n})},10)},extend(o.Model.circuitScribe_photosensor.View,o.Model.View),o.Model.circuitScribe_photosensor.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.circuitScribe_photosensor.Model,r)},function(e,t,i){var n=i(433);n.Model.circuitScribe_logic={},n.Model.circuitScribe_logic.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=3,a=12,s=3.14/6,c=.001,l=1e10,d=1e4,u=.004,h=1e-19,p=1.9,g=2200,m=1e-22,f=2.25,_=3300,v=this.getNetbyTerminalName("gnd"),y=this.getNetbyTerminalName("vcc"),C=this.getNetbyTerminalName("ina"),b=this.getNetbyTerminalName("inb"),w=this.getNetbyTerminalName("out"),M={net:"red cathode net"},S={net:"blue cathode net"};o.process=function(e,t,i,n){console.log("Process:",e)};var x=new n.Signal(o.simulator,"power",0);o.simulator.analogCircuit.addTrigger(x,y,v,function(e,t){var i=e-t;return i>r&&a>i?1:0});var T=new n.Signal(this.simulator,this.name,o.dynamicModel.position()),E=(e.analogCircuit.addDiode(v,M,h,p),e.analogCircuit.addResistor(M,y,g)),A=(e.analogCircuit.addDiode(y,S,m,f),e.analogCircuit.addResistor(S,v,_)),D=(e.analogCircuit.addResistor(C,v,d),e.analogCircuit.addResistor(b,v,d),function(e,t){var i=new n.Signal(o.simulator,t+" schmidt trigger",0);return o.simulator.analogCircuit.addTrigger(i,e,y,v,function(e,t,i){return e-i>(t-i)*s?1:0}),i}),L=D(C,"ina"),B=D(b,"inb"),k=new n.ProcessedSignal(x,L,B,T,function(e,t,i,n){return e&&o.dynamicModel.logicFunction(t,i)^!n?1:0}),R=new n.ProcessedSignal(x,L,B,T,function(e,t,i,n){return e?o.dynamicModel.logicFunction(t,i)^!n?c:l:c}),I=(e.analogCircuit.addResistor(y,w,R),new n.ProcessedSignal(x,L,B,T,function(e,t,i,n){return e?o.dynamicModel.logicFunction(t,i)^!n?l:c:l}));e.analogCircuit.addResistor(v,w,I);i.position.onChange("simulator",function(e,t,i){T.setValue(0,i)},10);var P=function(e){var t=e.value(),n=!1,r="Device broke because of: ",a=E.getCurrent(t),s=A.getCurrent(t);a>u&&(r+="current through the red led is "+o.printValueUnit(a,"A")+", ",n=!0),s>u&&(r+="current through the blue led is "+o.printValueUnit(s,"A")+", ",n=!0),r+="while maximum is "+o.printValueUnit(u,"A"),i.ledBrightness([a/u,s/u,L.value()*x.value(),B.value()*x.value(),k.value()]),i.breakdown({breakdown:n,reason:r})};e.update_ui.add_process([this,P,[e.update_ui]])},n.Model.circuitScribe_logic.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){r.updateView(e.group,{position:n})},10),r.updateView(e.group,{position:i.position}),i.ledBrightness.onChange("view",function(t,i,n){var o=function(e){return Math.pow(.001>e?0:e>1?1:e,1/3)},a=o(n[0]),s=o(n[1]),c=o(n[2]),l=o(n[3]),d=o(n[4]);r.updateView(e.group,{groundBrightness:a,vccBrightness:s,inaBrightness:c,inbBrightness:l,outBrightness:d})},10),o.simulatorState.onChange(r,function(t,i,o){o==n.states.IDLE&&r.updateView(e.group,{groundBrightness:0,vccBrightness:0,inaBrightness:0,inbBrightness:0,outBrightness:0,position:!0})})},n.Model.circuitScribe_logic.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.ledBrightness=this.value("ledBrightness",[0,0],!1,!0),this.position=this.value("position",!0,!1,!0)}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_and={},n.model_map.put("circuitScribe_and",n.Model.circuitScribe_and),n.Model.circuitScribe_and.SimulationModel=function(e,t,i){n.Model.circuitScribe_logic.SimulationModel.apply(this,arguments)},extend(n.Model.circuitScribe_and.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_and.View=function(e,t,i,o){this.updateView=function(e,t){void 0!==t.position&&(t.and=t.position),cGraphics.updateCsLogicgateANDNAND(e,t)},n.Model.circuitScribe_logic.View.apply(this,arguments)},extend(n.Model.circuitScribe_and.View,n.Model.View),n.Model.circuitScribe_and.Model=function(e,t){this.logicFunction=function(e,t){return!(!e||!t)},n.Model.circuitScribe_logic.Model.apply(this,arguments)},extend(n.Model.circuitScribe_and.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_or={},n.model_map.put("circuitScribe_or",n.Model.circuitScribe_or),n.Model.circuitScribe_or.SimulationModel=function(e,t,i){n.Model.circuitScribe_logic.SimulationModel.apply(this,arguments)},extend(n.Model.circuitScribe_or.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_or.View=function(e,t,i,o){this.updateView=function(e,t){void 0!==t.position&&(t.or=t.position),cGraphics.updateCsLogicgateORNOR(e,t)},n.Model.circuitScribe_logic.View.apply(this,arguments)},extend(n.Model.circuitScribe_or.View,n.Model.View),n.Model.circuitScribe_or.Model=function(e,t){this.logicFunction=function(e,t){return!(!e&&!t)},n.Model.circuitScribe_logic.Model.apply(this,arguments)},extend(n.Model.circuitScribe_or.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.circuitScribe_xor={},n.model_map.put("circuitScribe_xor",n.Model.circuitScribe_xor),n.Model.circuitScribe_xor.SimulationModel=function(e,t,i){n.Model.circuitScribe_logic.SimulationModel.apply(this,arguments)},extend(n.Model.circuitScribe_xor.SimulationModel,n.Model.SimulationModel),n.Model.circuitScribe_xor.View=function(e,t,i,o){this.updateView=function(e,t){void 0!==t.position&&(t.xor=t.position),cGraphics.updateCsLogicgateXORXNOR(e,t)},n.Model.circuitScribe_logic.View.apply(this,arguments)},extend(n.Model.circuitScribe_xor.View,n.Model.View),n.Model.circuitScribe_xor.Model=function(e,t){this.logicFunction=function(e,t){return!e!=!t},n.Model.circuitScribe_logic.Model.apply(this,arguments)},extend(n.Model.circuitScribe_xor.Model,o)},function(e,t,i){i(505),i(506),i(507),i(508),i(509),i(510),i(511),i(512),i(513)},function(e,t,i){var n=i(433),o=i(170).inherit;n.Model.ClickStatemachine=function(e,t,i){this.editorModel=t,Circuits.StateMachine.call(this),this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element().dynamicModel,i=t.subElementMap?t.subElementMap.get(e.data("subelement")):t;i.position(!i.position())})},n.Model.ClickStatemachine.prototype=o(Circuits.StateMachine.prototype),n.Model.ClickStatemachine.prototype.constructor=n.Model.ClickStatemachine,n.simulationStateMachines.put("click",n.Model.ClickStatemachine)},function(e,t,i){var n=(i(191),i(433)),o=i(170).inherit;n.Model.sliderStatemachine=function(e,t,i){var n=this;this.editorModel=t,Circuits.StateMachine.call(this),this.addTransition("idle","sliding",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element(),i=e.element().dynamicModel,o=i.subElementMap?i.subElementMap.get(e.data("subelement")):i;n.stateInfo={position:o.position,begin:t.pos().add(o.sliderBegin.rotate(t.angle())),end:t.pos().add(o.sliderEnd.rotate(t.angle()))};var r=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.position(r)}),this.addTransition("sliding","sliding",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.position(t)}),this.addTransition("sliding","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.stateInfo=null})},n.Model.sliderStatemachine.prototype=o(Circuits.StateMachine.prototype),n.Model.sliderStatemachine.prototype.constructor=n.Model.sliderStatemachine,n.simulationStateMachines.put("slider",n.Model.sliderStatemachine),n.Model.sliderStatemachine.prototype.calcPosition=function(e,t){var i=this.editorModel.toRealCoord(e),n=i.sub(t.begin),o=t.end.sub(t.begin),r=n.dot(o)/o.dot(o);return r=0>r?0:r>1?1:r}},function(e,t,i){var n=(i(191),i(433)),o=i(170).inherit;n.Model.PotentiometerStatemachine=function(e,t,i){var n=this;n.editorModel=t,Circuits.StateMachine.call(this);var o=45,r=360-o;this.addTransition("idle","rotating",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element(),i=e.element().dynamicModel,a=i.subElementMap?i.subElementMap.get(e.data("subelement")):i;n.stateInfo={position:a.position,center:a.knobCenter.rotate(t.angle()).add(t.pos()),deviceAngle:t.angle()+a.knobAngle};var s=n.calcAngle(e.data("mouseCoord"),n.stateInfo),c=n.stateInfo.position()*(r-o)+o;if(s>o&&r>s){var l=(s-o)/(r-o);n.knobstate="middle"}else if(180>c){var l=0;n.knobstate="begin"}else{var l=1;n.knobstate="end"}n.stateInfo.position(l),n.prevAngle=s}),this.addTransition("rotating","rotating",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=n.calcAngle(e.data("mouseCoord"),n.stateInfo),i=n.crossBorder(t,n.prevAngle,o,r);switch(n.knobstate){case"begin":i.crossMinCW&&(n.knobstate="middle");break;case"middle":if(i.crossMinCCW){var a=0;n.knobstate="begin"}else if(i.crossMaxCW){var a=1;n.knobstate="end"}else var a=(t-o)/(r-o);n.stateInfo.position(a);break;case"end":i.crossMaxCCW&&(n.knobstate="middle")}n.prevAngle=t}),this.addTransition("rotating","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.stateInfo=null})},n.Model.PotentiometerStatemachine.prototype=o(Circuits.StateMachine.prototype),n.Model.PotentiometerStatemachine.prototype.constructor=n.Model.PotentiometerStatemachine,n.simulationStateMachines.put("potentiometer",n.Model.PotentiometerStatemachine),n.Model.PotentiometerStatemachine.prototype.calcAngle=function(e,t){var i=this.editorModel.toRealCoord(e),n=i.sub(t.center).angleDegrees(),o=(n-t.deviceAngle+360+360)%360;return o},n.Model.PotentiometerStatemachine.prototype.crossBorder=function(e,t,i,n){function o(e,t){var i=e-t;return 180>i&&i>-180?i:-i}var r={crossMinCW:!1,crossMinCCW:!1,crossMaxCW:!1,crossMaxCCW:!1},a=o(e,t);return a>0?(o(i,t)>0&&o(e,i)>0&&(r.crossMinCW=!0),o(n,t)>0&&o(e,n)>0&&(r.crossMaxCW=!0)):(o(i,t)<0&&o(e,i)<0&&(r.crossMinCCW=!0),o(n,t)<0&&o(e,n)<0&&(r.crossMaxCCW=!0)),r}},function(e,t,i){var n=i(433),o=i(170).inherit;n.Model.ButtonStatemachine=function(e,t,i){this.editorModel=t,Circuits.StateMachine.call(this);var n=null;this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i&&e.data("shiftKey")},function(e){var t=e.element().dynamicModel;n=t.subElementMap?t.subElementMap.get(e.data("subelement")):t,n.pushed(!0)}),this.addTransition("idle","mouse_down",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i&&!e.data("shiftKey")},function(e){var t=e.element().dynamicModel;n=t.subElementMap?t.subElementMap.get(e.data("subelement")):t,n.pushed(!0)}),this.addTransition("mouse_down","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.pushed(!1)})},n.Model.ButtonStatemachine.prototype=o(Circuits.StateMachine.prototype),n.Model.ButtonStatemachine.prototype.constructor=n.Model.ButtonStatemachine,n.simulationStateMachines.put("button",n.Model.ButtonStatemachine)},function(e,t,i){var n=i(433),o=i(170).inherit;n.Model.ArduinoStatemachine=function(e,t){this.editorModel=t,Circuits.StateMachine.call(this),this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.POST_SERIAL_MESSAGE},function(e){e.element().dynamicModel.stdin(e.data("msg"))})},n.Model.ArduinoStatemachine.prototype=o(Circuits.StateMachine.prototype),n.Model.ArduinoStatemachine.prototype.constructor=n.Model.ArduinoStatemachine,n.simulationStateMachines.put("arduino",n.Model.ArduinoStatemachine)},function(e,t,i){var n=i(433),o=i(170).inherit;n.I2CStatemachine=function(e,t,i,o,r){var a=this;Circuits.StateMachine.call(this),a.DEBUG=!1,a.sim=e,a.SDA=t,a.SCL=i,a.clockPeriod=o,a.actions=r,a.timer=new n.Signal(e,"I2C_timing_signal",0),a.timer.add_process([a,a.handle,["I2Ctimer"]]);var s=1,c=0;a.ack=!1,a.arbitrationLost=!1,a.data=0,this.init(),a.addTransition("idle","Slave",function(){return a.SDA.falling_edge()&&a.SCL.value()},null),a.addTransition("idle","busBusyClock",function(){return a.SCL.falling_edge()},null),a.addTransition("busBusyClock","idleBuffer",function(e){return"portAcitivity"==e.type()&&a.SDA.value()&&a.SCL.value()},function(){a.timer.setValue(47e-7,!0)}),a.addTransition("idleBuffer","idle",function(e){return"I2Ctimer"==e.type()},function(){a.actions.busBecomesFree&&a.actions.busBecomesFree()}),a.addTransition("idleBuffer","Slave",function(){return a.SDA.falling_edge()&&a.SCL.value()},function(){a.timer.removeEventsAfter(a.sim.time)}),a.addTransition("idleBuffer","busBusyClock",function(){return a.SCL.falling_edge()},function(){a.timer.removeEventsAfter(a.sim.time)}),a.addTransition("idle","sendStart",function(e){return"sendStartCondition"==e.type()},function(){a.SDA.setValue(0,0),a.timer.setValue(4e-6,!0)}),a.addTransition("sendStart","Master",function(e){return"I2Ctimer"==e.type()},function(){a.actions.startConditionSend&&a.actions.startConditionSend()});var l=new n.I2CStatemachine.SendByte(a);a.append("SendSLA",l,"Master",null,"Master",null),l.endTransition.remove(),a.addTransition(l.lastState,"MasterTransmitter",function(){return a.SCL.falling_edge()&&(1&a.data)==c},function(){a.actions.SlA_WSend&&a.actions.SlA_WSend(a.arbitrationLost,a.ack)});var d=new n.I2CStatemachine.SendByte(a);a.append("MT",d,"MasterTransmitter",null,"MasterTransmitter",function(){a.actions.MT_dataSend&&a.actions.MT_dataSend(a.arbitrationLost,a.ack)}),a.addTransition(l.lastState,"MasterReceiver",function(){return a.SCL.falling_edge()&&(1&a.data)==s},function(){a.actions.SlA_RSend&&a.actions.SlA_RSend(a.arbitrationLost,a.ack)});var u=new n.I2CStatemachine.GetByte(a,a.actions.validateData||function(){return!1});a.append("MR",u,"MasterReceiver",null,"MasterReceiver",function(){a.actions.MR_dataReceived&&a.actions.MR_dataReceived(a.data,a.ack)}),["Master","MasterTransmitter","MasterReceiver"].forEach(function(e){a.addTransition(e,"sendRepeatedStart_step1",function(e){return"sendStartCondition"==e.type()},function(){a.SCL.setValue(a.clockPeriod()/2,1)}),a.addTransition(e,"sendStop_step1",function(e){return"sendStopCondition"==e.type()},function(){a.SDA.setValue(a.clockPeriod()/4,0),a.SCL.setValue(a.clockPeriod()/2,1)})}),a.addTransition("sendRepeatedStart_step1","sendRepeatedStart_step2",function(){return a.SCL.rising_edge()},function(){a.SDA.setValue(1e-6,0),a.timer.setValue(5e-6,!0)}),a.addTransition("sendRepeatedStart_step2","Master",function(e){return"I2Ctimer"==e.type()},function(e){a.actions.repeastedStartConditionSend&&a.actions.repeastedStartConditionSend()}),a.addTransition("sendStop_step1","sendStop_step2",function(){return a.SCL.rising_edge()},function(){a.SDA.setValue(4e-6,1)}),a.addTransition("sendStop_step2","idleBuffer",function(){return a.SDA.rising_edge()&&a.SCL.value()},function(){a.actions.stopConditionSend&&a.actions.stopConditionSend(),a.timer.setValue(47e-7,!0)});var h=new n.I2CStatemachine.ReadByte(a,a.actions.validateSLA||function(){return!1});a.append("ReceiveSLA",h,"Slave",null,"Slave",null),h.endTransition.remove(),a.addTransition(h.lastState,"busBusyTransmission",function(){return a.SCL.falling_edge()&&!a.ack},function(){a.SDA.setValue(0,1)}),a.addTransition("busBusyTransmission","Slave",function(){return a.SDA.falling_edge()&&a.SCL.value()},null),a.addTransition("busBusyTransmission","idleBuffer",function(){return a.SDA.rising_edge()&&a.SCL.value()},function(){a.timer.setValue(47e-7,!0)}),a.addTransition(h.lastState,"SlaveReceiver",function(){return a.SCL.falling_edge()&&a.ack&&(1&a.data)==c},function(){a.SDA.setValue(0,1),a.actions.SlA_WReceived&&a.actions.SlA_WReceived(a.arbitrationLost)});var p=new n.I2CStatemachine.ReadByte(a,a.actions.validateData||function(){return!1});a.append("SR",p,"SlaveReceiver",null,"SlaveReceiver",null),p.endTransition.remove(),a.addTransition(p.lastState,"SlaveReceiver",function(){return a.SCL.falling_edge()&&a.ack},function(){a.SDA.setValue(0,1),a.actions.SR_dataReceived&&a.actions.SR_dataReceived(a.data,a.ack)}),a.addTransition(p.lastState,"busBusyTransmission",function(){return a.SCL.falling_edge()&&!a.ack},function(){a.SDA.setValue(0,1),a.actions.SR_dataReceived&&a.actions.SR_dataReceived(a.data,a.ack)}),a.addTransition(p.firstState,"idleBuffer",function(){return a.SDA.rising_edge()&&a.SCL.value()},function(){a.actions.SR_stopConditionReceived&&a.actions.SR_stopConditionReceived(),a.timer.setValue(47e-7,!0)}),a.addTransition(p.firstState,"SlaveBuffer",function(){return a.SDA.falling_edge()&&a.SCL.value()},function(){a.timer.setValue(4e-6,!0)}),a.addTransition("SlaveBuffer","Slave",function(e){return"I2Ctimer"==e.type()},function(e){a.actions.SR_repeatedStartConditionReceived&&a.actions.SR_repeatedStartConditionReceived()}),a.addTransition(h.lastState,"SlaveTransmitter",function(){return a.SCL.falling_edge()&&a.ack&&(1&a.data)==s},function(){a.SDA.setValue(0,1),a.actions.SlA_RReceived&&a.actions.SlA_RReceived(a.arbitrationLost)});var g=new n.I2CStatemachine.SetByte(a);a.append("ST",g,"SlaveTransmitter",null,"SlaveTransmitter",null),g.endTransition.remove(),a.addTransition(g.lastState,"SlaveTransmitter",function(){return a.SCL.falling_edge()&&a.ack},function(){a.actions.ST_dataSet&&a.actions.ST_dataSet(a.ack)}),a.addTransition(g.lastState,"busBusyTransmission",function(){return a.SCL.falling_edge()&&!a.ack},function(){a.actions.ST_dataSet&&a.actions.ST_dataSet(a.ack)}),a.addTransition("SlaveTransmitter","busBusyTransmission",function(){return a.SCL.rising_edge()},null)},n.I2CStatemachine.prototype=o(Circuits.StateMachine.prototype),n.I2CStatemachine.prototype.constructor=n.I2CStatemachine,n.I2CStatemachine.prototype.init=function(){this.SDA.value()&&this.SCL.value()?this.setState("idle"):this.setState("busBusyClock")},n.I2CStatemachine.SendByte=function(e){var t=this;Circuits.StateMachine.call(this),t.DEBUG=e.DEBUG,t.SDA=e.SDA,t.SCL=e.SCL,t.clockPeriod=e.clockPeriod,t.addTransition("idle","sendBit_7",function(e){return"sendData"==e.type()},function(i){e.data=i.data("dataByte"),t.SCL.setValue(0,0),t.SDA.setValue(0,e.data>>7&1,t.clockPeriod()/4),t.SCL.setValue(t.clockPeriod()/2,1)}),[6,5,4,3,2,1,0,-1].forEach(function(i){t.addTransition("sendBit_"+(i+1),"sendBit_"+i,function(){return t.SCL.rising_edge()},function(){t.SCL.setValue(t.clockPeriod()/2,0);var n=i>=0?e.data>>i&1:1;t.SDA.setValue(3*t.clockPeriod()/4,n),t.SCL.setValue(t.clockPeriod(),1)})}),t.addTransition("sendBit_-1","getAckNack",function(){return t.SCL.rising_edge()},function(){e.ack=0==t.SDA.value(),t.SCL.setValue(t.clockPeriod()/2,0)}),t.lastState=t.getStateObj("getAckNack"),t.endTransition=t.addTransition("getAckNack","idle",function(){return t.SCL.falling_edge()},null)},n.I2CStatemachine.SendByte.prototype=o(Circuits.StateMachine.prototype),n.I2CStatemachine.SendByte.prototype.constructor=n.I2CStatemachine.SendByte,n.I2CStatemachine.ReadByte=function(e,t){var i=this;Circuits.StateMachine.call(this),i.DEBUG=e.DEBUG,i.SDA=e.SDA,i.SCL=e.SCL,i.addTransition("idle","receiveBit_7",function(){return i.SCL.rising_edge()},function(){e.data=i.SDA.value()<<7}),i.firstState=i.getStateObj("receiveBit_7"),[6,5,4,3,2,1,0].forEach(function(t){i.addTransition("receiveBit_"+(t+1),"receiveBit_"+t,function(){return i.SCL.rising_edge()},function(){e.data|=i.SDA.value()<<t})}),i.addTransition("receiveBit_0","sendAckNack",function(){return i.SCL.falling_edge()},function(){e.ack=t(e.data),e.ack&&i.SDA.setValue(1e-6,0)}),i.lastState=i.getStateObj("sendAckNack"),i.endTransition=i.endTransition=i.addTransition("sendAckNack","idle",function(){return i.SCL.falling_edge()},function(){i.SDA.setValue(0,1)})},n.I2CStatemachine.ReadByte.prototype=o(Circuits.StateMachine.prototype),n.I2CStatemachine.ReadByte.prototype.constructor=n.I2CStatemachine.ReadByte,n.I2CStatemachine.GetByte=function(e,t){var i=this;Circuits.StateMachine.call(this),i.DEBUG=e.DEBUG,i.SDA=e.SDA,i.SCL=e.SCL,i.clockPeriod=e.clockPeriod,i.addTransition("idle","getBit_8",function(e){return"sendData"==e.type()},function(t){e.data=0,i.SCL.setValue(0,0),i.SDA.setValue(0,1),i.SCL.setValue(i.clockPeriod()/2,1)}),[7,6,5,4,3,2,1].forEach(function(t){i.addTransition("getBit_"+(t+1),"getBit_"+t,function(){return i.SCL.rising_edge()},function(){e.data|=i.SDA.value()<<t,i.SCL.setValue(i.clockPeriod()/2,0),i.SCL.setValue(i.clockPeriod(),1)})}),i.addTransition("getBit_1","getBit_0",function(){return i.SCL.rising_edge()},function(){e.data|=i.SDA.value(),i.SCL.setValue(i.clockPeriod()/2,0),e.ack=t(e.data),e.ack&&i.SDA.setValue(3*i.clockPeriod()/4,0),i.SCL.setValue(i.clockPeriod(),1)}),i.addTransition("getBit_0","sendAckNack",function(){return i.SCL.rising_edge()},function(){i.SCL.setValue(i.clockPeriod()/2,0)}),i.lastState=i.getStateObj("sendAckNack"),i.endTransition=i.addTransition("sendAckNack","idle",function(){return i.SCL.falling_edge()},null)},n.I2CStatemachine.GetByte.prototype=o(Circuits.StateMachine.prototype),n.I2CStatemachine.GetByte.prototype.constructor=n.I2CStatemachine.GetByte,n.I2CStatemachine.SetByte=function(e){var t=this;Circuits.StateMachine.call(this),t.DEBUG=e.DEBUG,t.SDA=e.SDA,t.SCL=e.SCL,t.clockPeriod=e.clockPeriod,t.addTransition("idle","setBit_7",function(e){return"loadData"==e.type()},function(i){e.data=i.data("dataByte"),t.SDA.setValue(0,e.data>>7&1),t.SCL.setValue(1e-6,1)}),[6,5,4,3,2,1,0,-1].forEach(function(i){t.addTransition("setBit_"+(i+1),"setBit_"+i,function(){return t.SCL.falling_edge()},function(){var n=i>=0?e.data>>i&1:1;t.SDA.setValue(1e-6,n)})}),t.addTransition("setBit_-1","getAckNack",function(){return t.SCL.rising_edge()},function(){e.ack=0==t.SDA.value()}),t.lastState=t.getStateObj("getAckNack"),t.endTransition=t.addTransition("getAckNack","idle",function(){return t.SCL.falling_edge()},null)},n.I2CStatemachine.SetByte.prototype=o(Circuits.StateMachine.prototype),n.I2CStatemachine.SetByte.prototype.constructor=n.I2CStatemachine.SetByte},function(e,t,i){var n=i(433),o=i(170).inherit;n.UARTParity={NO:0,EVEN:1,ODD:2},n.UARTTranmitterStatemachine=function(e,t,i,o){var r=this;Circuits.StateMachine.call(this),r.DEBUG=!1,r.sim=e,r.TX=t,r.clockPeriod=i,r.actions=o,r.timer=new n.Signal(e,"UART_TX_timing_signal",0),r.timer.add_process([r,r.handle,["uartTXtimer"]]),r.data=0,r.addTransition("idle","sendingData",function(e){return"sendData"==e.type()},function(e){r.data=e.data("dataByte");var t=r.actions.getFrameFormat(),i=0;r.TX.setValue(0,0);for(var o=1,a=0;a<t.dataBits;a++){var s=r.data>>a&1;i^=s,r.TX.setValue(r.clockPeriod()*o,s),o++}t.parity>0&&(t.parity==n.UARTParity.ODD&&(i^=1),r.TX.setValue(r.clockPeriod()*o,i),o++),r.TX.setValue(r.clockPeriod()*o,1),o+=t.stopBits,r.timer.setValue(r.clockPeriod()*o,!0)}),r.addTransition("sendingData","idle",function(e){return"uartTXtimer"==e.type()},function(e){r.actions.dataSend&&r.actions.dataSend(r.data)}),r.addTransition(/.*/,"idle",function(e){return"reset"==e.type()},null)},n.UARTTranmitterStatemachine.prototype=o(Circuits.StateMachine.prototype),n.UARTTranmitterStatemachine.prototype.constructor=n.UARTTranmitterStatemachine,n.UARTReceiverStatemachine=function(e,t,i,o){var r=this;Circuits.StateMachine.call(this),r.DEBUG=!1,r.sim=e,r.RX=t,r.clockPeriod=i,r.actions=o,r.timer=new n.Signal(e,"UART_RX_timing_signal",0),r.timer.add_process([r,r.handle,["uartRXtimer"]]),r.receivedBits=[],r.frameFormat=null,r.addTransition("idle","startBit",function(){return r.RX.falling_edge()},function(e){r.timer.setValue(.5*r.clockPeriod(),!0)}),r.addTransition("startBit","idle",function(e){return"UARTtimer"==e.type()&&1==r.RX.value()},null),r.addTransition("startBit","receiveBits",function(e){return"uartRXtimer"==e.type()&&0==r.RX.value()},function(e){r.frameFormat=r.actions.getFrameFormat(),r.receivedBits=[],r.numberOfBits=r.frameFormat.dataBits+(r.frameFormat.parity>0?1:0),r.actions.startBitReceived&&r.actions.startBitReceived(),r.timer.setValue(r.clockPeriod(),!0)}),r.addTransition("receiveBits","receiveBits",function(e){return"uartRXtimer"==e.type()&&r.receivedBits.length<r.numberOfBits},function(e){r.receivedBits.push(r.RX.value()),r.timer.setValue(r.clockPeriod(),!0)}),r.addTransition("receiveBits","idle",function(e){return"uartRXtimer"==e.type()&&r.receivedBits.length==r.numberOfBits},function(e){for(var t=r.RX.value(),i=0,o=0,a=0;a<r.frameFormat.dataBits;a++)i|=r.receivedBits[a]<<a,o^=r.receivedBits[a];var s=!1;r.frameFormat.parity>0&&(r.frameFormat.parity==n.UARTParity.ODD&&(o^=1),o!=r.receivedBits[a]&&(s=!0)),r.actions.dataReceived&&r.actions.dataReceived(i,s,1!=t)}),r.addTransition(/.*/,"idle",function(e){return"reset"==e.type()},function(){r.receivedBits=[],r.frameFormat=null})},n.UARTReceiverStatemachine.prototype=o(Circuits.StateMachine.prototype),n.UARTReceiverStatemachine.prototype.constructor=n.UARTReceiverStatemachine},function(e,t,i){var n=i(433),o=i(170).inherit;n.NeopixelTransmitStateMachine=function(e,t,i,o){var r=this;Circuits.StateMachine.call(this),r.simulator=e,r.DOUT=t,r.clockPeriod=i,r.highPeriod0Bit=.2*i,r.highPeriod1Bit=.7*i,r.actions=o;var a=5e-5;
r.timer=new n.Signal(e,"neopixel_transmit_timing_signal",0),r.timer.add_process([r,r.handle,["neopixelTxTimer"]]),r.addTransition("idle","sendingData",function(e){return"sendData"==e.type()},function(e){var t,i,n=e.data("data"),o=0,s=0,c=0;if(n.length){for(var l=0;l<n.length;++l)if(t=n[l],0>t)c=a;else if(256>t)for(var d=0;8>d;++d,++o)s=r.clockPeriod*o,i=128&t?1:0,r.DOUT.setValue(s,1),r.DOUT.setValue(s+(i?r.highPeriod1Bit:r.highPeriod0Bit),0),t<<=1;r.timer.setValue(r.clockPeriod*n.length*8+c,!0)}}),r.addTransition("sendingData","idle",function(e){return"neopixelTxTimer"==e.type()},function(e){r.actions.dataSent&&r.actions.dataSent()})},n.NeopixelTransmitStateMachine.prototype=o(Circuits.StateMachine.prototype),n.NeopixelTransmitStateMachine.prototype.constructor=n.NeopixelTransmitStateMachine,n.NeopixelReceiveStateMachine=function(e,t,i,o,r,a){var s=this;Circuits.StateMachine.call(this),s.simulator=e,s.DIN=t,s.DOUT=i,s.pixelCount=r,s.clockPeriod=o,s.actions=a,s.lastHighToLowTime=0,s.pixelIndex=0,s.receivedBits=[],s.timer=new n.Signal(e,"neopixel_receive_timing_signal",0),s.timer.add_process([s,s.handle,["neopixelRxTimer"]]);var c=5e-5,l=3e-7*r;s.receiveBit=function(e){if(s.pixelIndex<s.pixelCount&&(s.receivedBits.push(e),24===s.receivedBits.length)){if(s.actions.rgbReceived){for(var t=0,i=0,n=0,o=0;8>o;++o)i<<=1,i|=s.receivedBits[o],t<<=1,t|=s.receivedBits[o+8],n<<=1,n|=s.receivedBits[o+16];s.actions.rgbReceived(s.pixelIndex,t,i,n)}++s.pixelIndex,s.receivedBits=[]}},s.addTransition("idle","sample",function(){return s.DIN.rising_edge()},function(e){s.simulator.time.time-s.lastHighToLowTime>c?(s.lastHighToLowTime=s.simulator.time.time,s.receivedBits=[],s.pixelIndex=0,s.DOUT&&s.DOUT.setValue(l,0),s.actions.reset&&s.actions.reset()):s.pixelIndex>=s.pixelCount&&s.DOUT&&s.DOUT.setValue(l,1),s.timer.setValue(.5*s.clockPeriod,!0)}),s.addTransition("sample","sample",function(e){return s.DIN.falling_edge()},function(e){s.lastHighToLowTime=s.simulator.time.time,s.pixelIndex>=s.pixelCount&&s.DOUT&&s.DOUT.setValue(l,0)}),s.addTransition("sample","idle",function(e){return"neopixelRxTimer"==e.type()&&!s.DIN.value()},function(e){s.receiveBit(0)}),s.addTransition("sample","waitForLow",function(e){return"neopixelRxTimer"==e.type()&&s.DIN.value()},function(e){s.receiveBit(1)}),s.addTransition("waitForLow","idle",function(e){return s.DIN.falling_edge()},function(e){s.pixelIndex>=s.pixelCount&&s.DOUT&&s.DOUT.setValue(l,0)})},n.NeopixelReceiveStateMachine.prototype=o(Circuits.StateMachine.prototype),n.NeopixelReceiveStateMachine.prototype.constructor=n.NeopixelReceiveStateMachine},function(e,t,i){var n=i(433),o=i(170).inherit;n.SensorUltrasonicPingStateMachine=function(e,t,i,o){var r=this;Circuits.StateMachine.call(this),r.simulator=e,r.sig_in=t,r.sig_out=i,r.actions=o,r.triggerStartTime=0;var a=2e-6;r.timer=new n.Signal(e,"ping_timing_signal",0),r.timer.add_process([r,r.handle,["pingTimer"]]),r.addTransition("idle","trigger",function(e){return r.sig_in.rising_edge()},function(e){r.triggerStartTime=r.simulator.time.time}),r.addTransition("trigger","idle",function(e){return r.sig_in.falling_edge()&&r.simulator.time.time-r.triggerStartTime<a},function(e){}),r.addTransition("trigger","transmit",function(e){return r.sig_in.falling_edge()&&r.simulator.time.time-r.triggerStartTime>=a},function(e){r.triggerGood=!1,r.actions.active(1);var t=r.actions.echoPulseWidth(),i=r.actions.echoHoldoffTime();r.sig_out.setValue(i,1),r.sig_out.setValue(i+t,0),r.timer.setValue(i+t,!0),r.timer.setValue(.15,!1)}),r.addTransition("transmit","idle",function(e){return"pingTimer"==e.type()&&1==r.timer.value()},function(e){}),["idle","trigger","transmit"].forEach(function(e){r.addTransition(e,e,function(e){return"pingTimer"==e.type()&&0==r.timer.value()},function(e){r.actions.active(0)})})},n.SensorUltrasonicPingStateMachine.prototype=o(Circuits.StateMachine.prototype),n.SensorUltrasonicPingStateMachine.prototype.constructor=n.SensorUltrasonicPingStateMachine},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Default={},n.model_map.put("Default",n.Model.Default),n.Model.Default.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i,i.grayout(!0)},n.Model.Default.View=function(e,t,i){i.grayout.onChange("view",function(t,i,n){n?($(e.controlGroup).tipsy({gravity:"n",offset:3,text:"There is no simulation model available for this component"}),$(e.symbolGroup).css({stroke:"red","stroke-width":"2","stroke-dasharray":"3",opacity:"0.5"})):($(e.controlGroup).removeTipsy(),$(e.symbolGroup).css({stroke:"","stroke-width":"","stroke-dasharray":"",opacity:""}))},10)},n.Model.Default.Model=function(e,t){this.makeVersioned(e),this.grayout=this.value("grayout",!1,!1,!0)},extend(n.Model.Default.Model,o)},function(e,t,i){i(517),i(518),i(519),i(520),i(521),i(522),i(523),i(524),i(525),i(526),i(527),i(528),i(529),i(530),i(531),i(532),i(533),i(534),i(535),i(536),i(537),i(538),i(539),i(540),i(541),i(542),i(543),i(544),i(545),i(546),i(547),i(548),i(549),i(550),i(551),i(552),i(553),i(554),i(555),i(556),i(557),i(558),i(559),i(560),i(561),i(562),i(563),i(564),i(565),i(566),i(516),i(567),i(568),i(569),i(570),i(571),i(572),i(573),i(574),i(575),i(576),i(577),i(578),i(579),i(580),i(581),i(582),i(583),i(584),i(585),i(586),i(587),i(588),i(589),i(590),i(591),i(592),i(593),i(594),i(595),i(596),i(597),i(598),i(599),i(600),i(601),i(602),i(603),i(604),i(605),i(606),i(607),i(608),i(609),i(610),i(611),i(612),i(613),i(614),i(615)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC595={},n.model_map.put("74HC595",n.Model.DD_74HC595),n.Model.DD_74HC595.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["MR","SHCP","STCP","OE","DS"],outputs:["Q0","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q7S"]},a=1.4e-8,s=[0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0],l=function(e){var t=e.get("MR").value();if(0==t&&(s=[0,0,0,0,0,0,0,0],e.get("Q7S").setValue(a,0)),e.get("STCP").rising_edge()&&(c=s.slice(),0==e.get("OE").value()))for(var i=0;8>i;i++)e.get("Q"+i).setValue(a,c[i]);if(1==t&&e.get("SHCP").rising_edge()&&(s.unshift(e.get("DS").value()),s.pop(),e.get("Q7S").setValue(a,s[7])),e.get("OE").rising_edge())for(var i=0;8>i;i++)e.get("Q"+i).setValue(a,2);else if(e.get("OE").falling_edge())for(var i=0;8>i;i++)e.get("Q"+i).setValue(a,c[i])},t=new n.digitalDevice(o,r,l)},extend(n.Model.DD_74HC595.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC595.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC595",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC595.View,n.Model.View),n.Model.DD_74HC595.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC595.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor={},n.model_map.put("resistor",n.Model.Resistor),n.Model.Resistor.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=t.getPropertyValue("resistance");r||(r=0);var a=new n.Signal(o.simulator,"resistor_control",r),s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(s,c,a);t.properties.onPut("simulator",function(){var e=t.getPropertyValue("resistance");e||(e=0),a.setValue(0,e)},10)},extend(n.Model.Resistor.SimulationModel,n.Model.SimulationModel),n.Model.Resistor.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,t.properties.onPut("view",function(){cGraphics.updateResistor(e.group,{resistance:t.getPropertyValue("resistance")})},10),cGraphics.updateResistor(e.group,{resistance:t.getPropertyValue("resistance")})},extend(n.Model.Resistor.View,n.Model.View),n.Model.Resistor.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.ArduinoUno={},n.model_map.put("arduinoUno",n.Model.ArduinoUno),n.Model.ArduinoUno.programmable=!0,n.Model.ArduinoUno.hardwareDefinition={mcu:"atmega328p",f_cpu:16e6,variant:"uno",voltage:5},n.Model.ArduinoUno.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND","GND1","GND2"],power_5V:["5V"],power_3V3:["3V"],selfPowered:!0,reset:["/RESET"],aref:"AREF"},a=[{terminal:"D0",port:"D_0",isAnalog:!1,timer:!1},{terminal:"D1",port:"D_1",isAnalog:!1,timer:!1},{terminal:"D2",port:"D_2",isAnalog:!1,timer:!1},{terminal:"D3",port:"D_3",isAnalog:!1,timer:"2B"},{terminal:"D4",port:"D_4",isAnalog:!1,timer:!1},{terminal:"D5",port:"D_5",isAnalog:!1,timer:"0B"},{terminal:"D6",port:"D_6",isAnalog:!1,timer:"0A"},{terminal:"D7",port:"D_7",isAnalog:!1,timer:!1},{terminal:"D8",port:"B_0",isAnalog:!1,timer:!1},{terminal:"D9",port:"B_1",isAnalog:!1,timer:"1A"},{terminal:"D10",port:"B_2",isAnalog:!1,timer:"1B"},{terminal:"D11",port:"B_3",isAnalog:!1,timer:"2A"},{terminal:"D12",port:"B_4",isAnalog:!1,timer:!1},{terminal:"D13",port:"B_5",isAnalog:!1,timer:!1},{terminal:"A0",port:"C_0",isAnalog:!0,timer:!1},{terminal:"A1",port:"C_1",isAnalog:!0,timer:!1},{terminal:"A2",port:"C_2",isAnalog:!0,timer:!1},{terminal:"A3",port:"C_3",isAnalog:!0,timer:!1},{terminal:"A4",port:"C_4",isAnalog:!0,timer:!1},{terminal:"A5",port:"C_5",isAnalog:!0,timer:!1}];this.hardware=n.Model.ArduinoUno.hardwareDefinition,this.analogArduino=new n.abstractArduino(this,this.hardware,r,a),this.analogArduino.addOnBoardLed(a[13],i.D13_Led),this.analogArduino.addOnBoardResetButton(i.pushed),this.analogArduino.addOnboardUARTSerialMonitor(a[0],a[1],i.stdin,i.stdout),this.atmega=new n.atmega328(e,this.analogArduino.signalMap.copy(),this.hardware.f_cpu,t.compiled_elf,t.name()),i["debugger"]=this.atmega["debugger"],this.atmega["debugger"].setBreakpointList(i.breakpoints),i.power(!0)},extend(n.Model.ArduinoUno.SimulationModel,n.Model.SimulationModel),n.Model.ArduinoUno.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction.cgfx__resetbutton","button"),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateArduinoUno(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateArduinoUno(e.group,{inactive:!0}),i.power.onChange("view",function(t,i,n){cGraphics.updateArduinoUno(e.group,{ledonBrightness:n?1:0})},10),i.D13_Led.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{led13Brightness:o})},10),i.rx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{ledtxBrightness:o})},10),i.tx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{ledrxBrightness:o})},10),i.pushed.onChange("view",function(t,i,n){cGraphics.updateArduinoUno(e.group,{resetIsPressed:n})},10),i.stdout.onAdd("simulation",function(t,i,n){t.size()>250&&t.remove(0),e.gui.circuitEditor.code_editor.refreshSerialMonitor()},10)},extend(n.Model.ArduinoUno.View,n.Model.View),n.Model.ArduinoUno.Model=function(e,t){this.makeVersioned(e),this.power=this.value("power",!1,!1,!0),this.rx=this.value("rx",!1,!1,!0),this.tx=this.value("tx",!1,!1,!0),this.D13_Led=this.value("D13_Led",0,!1,!0),this.pushed=this.value("reset pushed",!1,!1,!0),this.stdout=this.list("stdout",!1,!0),this.stdin=this.value("stdin",!1,!1,!0),this["debugger"]=null,this.breakpoints=this.set("breakpoints",!1,!0)},extend(n.Model.ArduinoUno.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.ArduinoUnoRev3={},n.model_map.put("arduinoUnoRev3",n.Model.ArduinoUnoRev3),n.Model.ArduinoUnoRev3.programmable=!0,n.Model.ArduinoUnoRev3.hardwareDefinition={mcu:"atmega328p",f_cpu:16e6,variant:"uno",voltage:5},n.Model.ArduinoUnoRev3.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND1","GND2","GND3"],power_5V:["5V"],power_3V3:["3V3"],selfPowered:!0,reset:["RESET"],aref:"AREF"},a=[{terminal:"D0",port:"D_0",isAnalog:!1,timer:!1},{terminal:"D1",port:"D_1",isAnalog:!1,timer:!1},{terminal:"D2",port:"D_2",isAnalog:!1,timer:!1},{terminal:"D3",port:"D_3",isAnalog:!1,timer:"2B"},{terminal:"D4",port:"D_4",isAnalog:!1,timer:!1},{terminal:"D5",port:"D_5",isAnalog:!1,timer:"0B"},{terminal:"D6",port:"D_6",isAnalog:!1,timer:"0A"},{terminal:"D7",port:"D_7",isAnalog:!1,timer:!1},{terminal:"D8",port:"B_0",isAnalog:!1,timer:!1},{terminal:"D9",port:"B_1",isAnalog:!1,timer:"1A"},{terminal:"D10",port:"B_2",isAnalog:!1,timer:"1B"},{terminal:"D11",port:"B_3",isAnalog:!1,timer:"2A"},{terminal:"D12",port:"B_4",isAnalog:!1,timer:!1},{terminal:"D13",port:"B_5",isAnalog:!1,timer:!1},{terminal:"A0",port:"C_0",isAnalog:!0,timer:!1},{terminal:"A1",port:"C_1",isAnalog:!0,timer:!1},{terminal:"A2",port:"C_2",isAnalog:!0,timer:!1},{terminal:"A3",port:"C_3",isAnalog:!0,timer:!1},{terminal:"A4",port:"C_4",isAnalog:!0,timer:!1,required:!0},{terminal:"A5",port:"C_5",isAnalog:!0,timer:!1,required:!0}];this.hardware=n.Model.ArduinoUnoRev3.hardwareDefinition,this.analogArduino=new n.abstractArduino(this,this.hardware,r,a),this.analogArduino.addOnBoardLed(a[13],i.D13_Led),this.analogArduino.addOnBoardResetButton(i.pushed),this.analogArduino.addOnboardUARTSerialMonitor(a[0],a[1],i.stdin,i.stdout),e.analogCircuit.mergeNets(this.getNetbyTerminalName("IOREF"),this.getNetbyTerminalName("5V")),e.analogCircuit.mergeNets(this.getNetbyTerminalName("SCL"),this.getNetbyTerminalName("A5")),e.analogCircuit.mergeNets(this.getNetbyTerminalName("SDA"),this.getNetbyTerminalName("A4"));this.getNetbyTerminalName("VIN");this.atmega=new n.atmega328(e,this.analogArduino.signalMap.copy(),this.hardware.f_cpu,t.compiled_elf,t.name()),i["debugger"]=this.atmega["debugger"],this.atmega["debugger"].setBreakpointList(i.breakpoints),i.power(!0)},extend(n.Model.ArduinoUnoRev3.SimulationModel,n.Model.SimulationModel),n.Model.ArduinoUnoRev3.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction.cgfx__resetbutton","button"),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateArduinoUno(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateArduinoUno(e.group,{inactive:!0}),i.power.onChange("view",function(t,i,n){cGraphics.updateArduinoUno(e.group,{ledonBrightness:n?1:0})},10),i.D13_Led.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{led13Brightness:o})},10),i.rx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{ledtxBrightness:o})},10),i.tx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoUno(e.group,{ledrxBrightness:o})},10),i.pushed.onChange("view",function(t,i,n){cGraphics.updateArduinoUno(e.group,{resetIsPressed:n})},10),i.stdout.onAdd("simulation",function(t,i,n){t.size()>250&&t.remove(0),e.gui.circuitEditor.code_editor.refreshSerialMonitor()},10)},extend(n.Model.ArduinoUnoRev3.View,n.Model.View),n.Model.ArduinoUnoRev3.Model=function(e,t){this.makeVersioned(e),this.power=this.value("power",!1,!1,!0),this.rx=this.value("rx",!1,!1,!0),this.tx=this.value("tx",!1,!1,!0),this.D13_Led=this.value("D13_Led",0,!1,!0),this.pushed=this.value("reset pushed",!1,!1,!0),this.stdout=this.list("stdout",!1,!0),this.stdin=this.value("stdin",!1,!1,!0),this["debugger"]=null,this.breakpoints=this.set("breakpoints",!1,!0)},extend(n.Model.ArduinoUnoRev3.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.ArduinoMicro={},n.model_map.put("arduinoMicro",n.Model.ArduinoMicro),n.Model.ArduinoMicro.programmable=!0,n.Model.ArduinoMicro.hardwareDefinition={mcu:"atmega32u4",f_cpu:16e6,variant:"micro",voltage:5},n.Model.ArduinoMicro.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND","GND1"],power_5V:["5V"],power_3V3:["3.3V"],selfPowered:!0,reset:["RESET","RESET1"],aref:"AREF"},a=[{terminal:"D1 / TX",port:"D_3",isAnalog:!1,timer:!1},{terminal:"D0 / RX",port:"D_2",isAnalog:!1,timer:!1},{terminal:"D2 / SDA",port:"D_1",isAnalog:!1,timer:!1},{terminal:"D3 / SCL",port:"D_0",isAnalog:!1,timer:"0B"},{terminal:"D4 / A6",port:"D_4",isAnalog:!0,timer:!1},{terminal:"D5",port:"C_6",isAnalog:!1,timer:"3A"},{terminal:"D6 / A7",port:"D_7",isAnalog:!0,timer:"4D"},{terminal:"D7",port:"E_6",isAnalog:!1,timer:!1},{terminal:"D8 / A8",port:"B_4",isAnalog:!0,timer:!1},{terminal:"D9 / A9",port:"B_5",isAnalog:!0,timer:"1A"},{terminal:"D10 / A10",port:"B_6",isAnalog:!0,timer:"1B"},{terminal:"D11",port:"B_7",isAnalog:!1,timer:"0A"},{terminal:"D12 / A11",port:"D_6",isAnalog:!0,timer:!1},{terminal:"D13",port:"C_7",isAnalog:!1,timer:"4A"},{terminal:"SS",port:"B_0",isAnalog:!1,timer:!1},{terminal:"SCK",port:"B_1",isAnalog:!1,timer:!1},{terminal:"MOSI",port:"B_2",isAnalog:!1,timer:!1},{terminal:"MISO",port:"B_3",isAnalog:!1,timer:!1},{terminal:"A0",port:"F_7",isAnalog:!0,timer:!1},{terminal:"A1",port:"F_6",isAnalog:!0,timer:!1},{terminal:"A2",port:"F_5",isAnalog:!0,timer:!1},{terminal:"A3",port:"F_4",isAnalog:!0,timer:!1},{terminal:"A4",port:"F_1",isAnalog:!0,timer:!1},{terminal:"A5",port:"F_0",isAnalog:!0,timer:!1}];this.hardware=n.Model.ArduinoMicro.hardwareDefinition,this.analogArduino=new n.abstractArduino(this,this.hardware,r,a),this.analogArduino.addOnBoardLed(a[13],i.D13_Led),this.analogArduino.addOnBoardResetButton(i.pushed),this.analogArduino.addDirectSerialMonitor(i.stdin,i.stdout),this.atmega=new n.atmega32u4(e,this.analogArduino.signalMap.copy(),this.hardware.f_cpu,t.compiled_elf,t.name()),i["debugger"]=this.atmega["debugger"],this.atmega["debugger"].setBreakpointList(i.breakpoints),i.power(!0)},extend(n.Model.ArduinoMicro.SimulationModel,n.Model.SimulationModel),n.Model.ArduinoMicro.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","button"),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateArduinoMicro(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateArduinoMicro(e.group,{inactive:!0}),i.D13_Led.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoMicro(e.group,{led13Brightness:o})},10),i.rx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoMicro(e.group,{ledtxBrightness:o})},10),i.tx.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateArduinoMicro(e.group,{ledrxBrightness:o})},10),i.pushed.onChange("view",function(t,i,n){cGraphics.updateArduinoMicro(e.group,{resetIsPressed:n})},10),i.stdout.onAdd("simulation",function(t,i,n){t.size()>250&&t.remove(0),e.gui.circuitEditor.code_editor.refreshSerialMonitor()},10)},extend(n.Model.ArduinoMicro.View,n.Model.View),n.Model.ArduinoMicro.Model=function(e,t){this.makeVersioned(e),this.rx=this.value("rx",!1,!1,!0),this.tx=this.value("tx",!1,!1,!0),this.power=this.value("power",!1,!1,!0),this.D13_Led=this.value("D13_Led",0,!1,!0),this.pushed=this.value("reset pushed",!1,!1,!0),this.stdout=this.list("stdout",!1,!0),this.stdin=this.value("stdin",!1,!1,!0),this["debugger"]=null,this.breakpoints=this.set("breakpoints",!1,!0)},extend(n.Model.ArduinoMicro.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.ATtiny={},n.model_map.put("ATtiny",n.Model.ATtiny),n.Model.ATtiny.programmable=!0,n.Model.ATtiny.hardwareDefinition={mcu:"attiny85",f_cpu:8e6,variant:"attiny.cpu.attiny85.clock.internal8",voltage:5},n.Model.ATtiny.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=625,a={ground:["GND"],power_5V:["Vcc"],selfPowered:!1},s=[{terminal:"PB0",port:"B_0",isAnalog:!0,timer:"0A"},{terminal:"PB1",port:"B_1",isAnalog:!1,timer:"0B"},{terminal:"PB2",port:"B_2",isAnalog:!0,timer:!1},{terminal:"PB3",port:"B_3",isAnalog:!0,timer:!1},{terminal:"PB4",port:"B_4",isAnalog:!0,timer:!1},{terminal:"PB5",port:"B_5",isAnalog:!0,timer:!1}];this.hardware=n.Model.ATtiny.hardwareDefinition,this.analogATtiny=new n.abstractArduino(this,this.hardware,a,s);var c=e.analogCircuit.addResistor(this.analogATtiny.netList.power,this.analogATtiny.netList.gnd,r);e.analogCircuit.addTrigger(this.analogATtiny.signalMap.get("RESET"),this.analogATtiny.netList.power,this.analogATtiny.netList.gnd,function(e,t){return 2.7>e-t});var l=6,d=function(e){var t=e.value(),n=c.getVoltage(t);if(n>l){var r="Voltage at Vcc pin is "+o.printValueUnit(n,"V")+", while maximum is "+o.printValueUnit(l,"V");i.breakdown({breakdown:!0,reason:r})}else i.breakdown({breakdown:!1,reason:""})};e.update_ui.add_process([this,d,[e.update_ui]]),this.ATtinyMCU=new n.ATtiny(e,this.analogATtiny.signalMap.copy(),this.hardware.f_cpu,t.compiled_elf,t.name()),i["debugger"]=this.ATtinyMCU["debugger"],this.ATtinyMCU["debugger"].setBreakpointList(i.breakpoints)},extend(n.Model.ATtiny.SimulationModel,n.Model.SimulationModel),n.Model.ATtiny.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.ATtiny.View,n.Model.View),n.Model.ATtiny.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this["debugger"]=null,this.breakpoints=this.set("breakpoints",!1,!0)},extend(n.Model.ATtiny.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Servo={},n.model_map.put("servo",n.Model.Servo),n.Model.Servo_v2={},n.model_map.put("servo_v2",n.Model.Servo_v2),n.Model.Servo.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e6,a=1e3,s=35,c=4.5,l=.001,d=.002,u=this.getNetbyTerminalName("terminal-ground"),h=this.getNetbyTerminalName("terminal-power"),p=this.getNetbyTerminalName("terminal-signal"),g=new n.Signal(this.simulator,"switchSignal",!1),m=new n.ProcessedSignal(g,function(e){return e?s:a}),f=(this.simulator.analogCircuit.addResistor(h,u,m),this.simulator.analogCircuit.addResistor(p,u,r),new n.Signal(e,"servo logic power",!1));e.analogCircuit.addTrigger(f,h,u,function(e,t){return e-t>c});var _=new n.Signal(o.simulator,"signal",0);o.simulator.analogCircuit.addTrigger(_,p,u,function(e,t){return e-t>2.5});var v=0,y=180,C=function(){if(f.value()){var e=o.simulator.time.time;if(_.rising_edge()&&(v=e),_.falling_edge()){var t=e-v;t>d&&(t=d),l>t&&(t=l);var i=(t-l)/(d-l)*180,n=i-y,r=.5*n;r>3&&(r=3),-3>r&&(r=-3),y+=r,Math.abs(r)>.1&&(g.setValue(0,!0),g.setValue(.025,!1))}}};_.add_process([null,C]),f.add_process([null,C]);var b=function(){i.position(y)};this.simulator.update_ui.add_process([this,b,[e.update_ui]])},extend(n.Model.Servo.SimulationModel,n.Model.SimulationModel),n.Model.Servo.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i;var n=$("#animate-arm",e.group).attr("transform-origin");i.position.onChange("view",function(t,i,o){var r=o-180;$("#animate-arm",e.group).attr("transform","rotate("+r+","+n+")")},10)},n.Model.Servo.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",180,!1,!0)},extend(n.Model.Servo.Model,o),n.Model.Servo_v2.SimulationModel=n.Model.Servo.SimulationModel,n.Model.Servo_v2.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.position.onChange("view",function(t,i,n){cGraphics.updateMotorServo(e.group,{rotation:n-180})},10)},n.Model.Servo_v2.Model=n.Model.Servo.Model},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Battery9V={},n.model_map.put("battery9V",n.Model.Battery9V),n.Model.Battery9V.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=9,r=1.5,a=this.getNetbyTerminalName("+"),s=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(a,s,o,r)},extend(n.Model.Battery9V.SimulationModel,n.Model.SimulationModel),n.Model.Battery9V.View=function(e,t,i){},n.Model.Battery9V.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Battery9V.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led={},n.model_map.put("led",n.Model.Led),n.Model.Led.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e-18,r=1.8,a=3.3,s=.02,c=this.getNetbyTerminalName("anode"),l=this.getNetbyTerminalName("cathode"),d={};e.analogCircuit.addResistor(c,d,a);var u=e.analogCircuit.addDiode(d,l,o,r),h=function(e){var t=e.value(),o=u.getCurrent(t);if(s>=o)i.brightness(o/s),i.breakdown(!1);else{"Current through the led is "+n.printValueUnit(o,"A")+", while maximum is "+n.printValueUnit(s,"A");i.brightness(1),i.breakdown(!0)}};this.simulator.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led.SimulationModel,n.Model.SimulationModel),n.Model.Led.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,n.changeColor(),i.brightness.onChange("view",function(){n.changeColor()},10),i.breakdown.onChange("view",function(e,t,i){i?$("#animate-breakdown",n.breadboardElement.group).attr("display","true"):$("#animate-breakdown",n.breadboardElement.group).attr("display","none")},10)},n.Model.Led.View.prototype.changeColor=function(){var e=this,t=e.device.getPropertyValue("color"),i=e.dynamicModel.brightness(),n=Math.round(75*i)+25;n=isNaN(n)?25:n>100?100:n;var o=12e8*(-t+6.5e-7),r="hsl("+o+","+n+"%,55%)";$("#animate-ledcolor",e.breadboardElement.group).attr("fill",r)},n.Model.Led.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Button={},n.model_map.put("button",n.Model.Button),n.Model.Button.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=.001,a=1e10,s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2"),l=this.getNetbyTerminalName("3"),d=this.getNetbyTerminalName("4");e.analogCircuit.mergeNets(s,c),e.analogCircuit.mergeNets(l,d);var u=new n.Signal(this.simulator,"switchSignal",!1),h=new n.ProcessedSignal(u,function(e){return e?r:a});e.analogCircuit.addResistor(s,l,h);i.pushed.onChange("simulator",function(e,t,i){u.setValue(0,i)},10)},extend(n.Model.Button.SimulationModel,n.Model.SimulationModel),n.Model.Button.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","button"),i.pushed.onChange("view",function(t,i,n){cGraphics.updateSwitchPushbutton(e.group,{isPressed:n})},10)},extend(n.Model.Button.View,n.Model.View),n.Model.Button.Model=function(e,t){this.makeVersioned(e),this.pushed=this.value("pushed",!1,!1,!0)},extend(n.Model.Button.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.Potentiometer={},o.model_map.put("potentiometer",o.Model.Potentiometer),o.Model.Potentiometer_v2={},o.model_map.put("potentiometer_v2",o.Model.Potentiometer_v2),o.Model.Potentiometer.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=t.getPropertyValue("resistance");r||(r=1e4);var a=.5,s=this.getNetbyTerminalName("term0"),c=this.getNetbyTerminalName("term1"),l=this.getNetbyTerminalName("wiper"),d=t.getPropertyValue("Position")||0,u=new o.Signal(this.simulator,"potentiometer value",r),h=new o.Signal(this.simulator,"potentiometer position",d),p=new o.ProcessedSignal(u,h,function(e,t){return e*t+a}),g=(this.simulator.analogCircuit.addResistor(s,l,p),new o.ProcessedSignal(u,h,function(e,t){return e*(1-t)+a}));this.simulator.analogCircuit.addResistor(c,l,g);t.properties.onPut("simulator",function(){r=t.getPropertyValue("resistance"),r||(r=500),u.setValue(0,r)},10),i.position.onChange("simulator",function(e,t,i){if(i>=0){var o=Math.round(50*(0>i?0:i))/50;h.setValue(0,o)}else if(n.dynamicModel.editMode==Circuits.GuiMode.EDIT&&t!=d){var o=Math.round(50*t)/50;n.device.root.rec(),n.device.setProperty("Position",!1,o,""),n.device.root.stopRec()}},10),i.position(d)},extend(o.Model.Potentiometer.SimulationModel,o.Model.SimulationModel),o.Model.Potentiometer.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent('#knob_body circle[fill="#2C4656"]',"potentiometer");var o=45,r=360-o;i.position.onChange("view",function(t,i,a){var s=!1;if(0>a)a=0,s=!0;else{var c=a*(r-o)+o;$("#animate-knob",e.group).attr("transform","rotate("+c+")")}var l=Math.round(50*a)/50;s||null===n.device.getPropertyValue("Position")||n.breadboardElement.gui.mode==Circuits.GuiMode.EDIT&&(n.device.root.rec(),n.device.setProperty("Position",!1,l,""),n.device.root.stopRec())},10),i.position(t.getPropertyValue("Position")||0)},extend(o.Model.Potentiometer.View,o.Model.View),o.Model.Potentiometer.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",-1,!1,!0),this.knobCenter=new n.Coord(0,0),this.knobAngle=90},extend(o.Model.Potentiometer.Model,r),o.Model.Potentiometer_v2.SimulationModel=o.Model.Potentiometer.SimulationModel,o.Model.Potentiometer_v2.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.dynamicModel.editMode=n.breadboardElement.gui.mode,this.addEvent(".cgfx__hitarea-interaction","potentiometer"),i.position.onChange("view",function(t,i,n){n>=0&&cGraphics.updatePotentiometerRotaryLinear(e.group,{position:n})},10),i.position(t.getPropertyValue("Position")||0)},extend(o.Model.Potentiometer_v2.View,o.Model.View),o.Model.Potentiometer_v2.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",-1,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction",i),r=SvgHelpers.getParentTransformation(o[0]),a=new n.Coord(parseFloat(o.attr("cx")),parseFloat(o.attr("cy"))),s=a.add(new n.Coord(0,1));this.knobCenter=a.svgTransform(r),this.knobAngle=s.svgTransform(r).sub(a.svgTransform(r)).angleDegrees()},extend(o.Model.Potentiometer_v2.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.Multimeter={},n.model_map.put("multimeter",n.Model.Multimeter),n.Model.multimeter_v2={},n.model_map.put("multimeter_v2",n.Model.multimeter_v2),n.Model.Multimeter.SimulationModel=function(e,t,i){function o(){a=t.getPropertyValue("Mode (0 = Amp, 1 = Volt)");var e=1==a?c:s;l.setValue(0,e)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a,s=1e-4,c=1e8,l=new n.Signal(r.simulator,"resistor_control",c),d=this.getNetbyTerminalName("terminal-pos"),u=this.getNetbyTerminalName("terminal-neg"),h=e.analogCircuit.addResistor(d,u,l);t.properties.onPut("simulator",o,10),o();var p=function(e){var t=e.value();if(1==a){var n=h.getVoltage(t);Math.abs(n)<.001&&(n=0);var o=r.printValueUnit(n,"V")}else{var s=h.getCurrent(t);Math.abs(s)<1e-5&&(s=0);var o=r.printValueUnit(s,"A")}i.text(o)};this.simulator.update_ui.add_process([this,p,[e.update_ui]])},extend(n.Model.Multimeter.SimulationModel,n.Model.SimulationModel),n.Model.Multimeter.View=function(e,t,i){function n(){var i=t.getPropertyValue("Mode (0 = Amp, 1 = Volt)");1==i?($("#animate-voltmeter",e.group).attr("display","true"),$("#animate-amperemeter",e.group).attr("display","none")):($("#animate-amperemeter",e.group).attr("display","true"),$("#animate-voltmeter",e.group).attr("display","none"))}this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent('#animate-voltmeter circle[fill="#F2AE16"]',"multimeter_v1",1),this.addEvent('#animate-amperemeter circle[fill="#F2AE16"]',"multimeter_v1",0),i.text.onChange("view",function(t,i,n){$("#animate-metervalue",e.group).text(n)},10),$("#animate-metervalue",e.group).attr("text-anchor","end"),$("#animate-metervalue",e.group).attr("transform","matrix(1 0 0 1 45 -7.4217)"),t.properties.onPut("view",n,10),n()},extend(n.Model.Multimeter.View,n.Model.View),n.Model.Multimeter.Statemachine=function(e,t,i){Circuits.StateMachine.call(this),this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element().parent(),i=e.data("subelement");t.setProperty("Mode (0 = Amp, 1 = Volt)",!1,i,"none")})},n.Model.Multimeter.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.Multimeter.Statemachine.prototype.constructor=n.Model.Multimeter.Statemachine,
n.simulationStateMachines.put("multimeter_v1",n.Model.Multimeter.Statemachine),n.Model.Multimeter.Model=function(e,t){this.makeVersioned(e),this.text=this.value("text","0.0",!1,!0)},extend(n.Model.Multimeter.Model,o),n.Model.multimeter_v2.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e-4,a=1e8,s=1,c=parseInt(t.getPropertyValue("Mode")),l=new n.Signal(o.simulator,"multimeter signal",c),d=this.getNetbyTerminalName("terminal-pos"),u=this.getNetbyTerminalName("terminal-neg"),h=new n.ProcessedSignal(l,function(e){return 2==e?s:0}),p=new n.ProcessedSignal(l,function(e){return 1==e?a:r}),g=e.analogCircuit.addVoltageSource(d,u,h,p,!1);t.properties.onPut("simulator",function(){c=parseInt(t.getPropertyValue("Mode")),l.setValue(0,c)},10);var m=function(e){var t=e.value();switch(c){case 1:var n=g.getVoltage(t);Math.abs(n)<.001&&(n=0);var a=o.printValueUnit(n,"V");break;case 0:var l=-g.getCurrent(t);Math.abs(l)<1e-5&&(l=0);var a=o.printValueUnit(l,"A");break;case 2:var l=g.getCurrent(t);if(Math.abs(l)<s/2e7)var a="MΩ";else{var d=s/l-r;if(0>d)var a="Error";else{.99>d&&(d=0);var a=o.printValueUnit(d,"Ω")}}}i.text(a)};this.simulator.update_ui.add_process([this,m,[e.update_ui]])},extend(n.Model.multimeter_v2.SimulationModel,n.Model.SimulationModel),n.Model.multimeter_v2.View=function(e,t,i,o){function r(){var i=parseInt(t.getPropertyValue("Mode")),n={};switch(i){case 1:n.volt=!0;break;case 0:n.ampere=!0;break;case 2:n.resistance=!0}cGraphics.updateMultimeter(e.group,n)}var a=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction.cgfx__button-ampere","multimeter_v2",0),this.addEvent(".cgfx__hitarea-interaction.cgfx__button-volt","multimeter_v2",1),this.addEvent(".cgfx__hitarea-interaction.cgfx__button-resistance","multimeter_v2",2),o.simulatorState.onChange(a,function(t,i,o){cGraphics.updateMultimeter(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateMultimeter(e.group,{inactive:!0}),i.text.onChange("view",function(t,i,n){cGraphics.updateMultimeter(e.group,{text:n})},10),t.properties.onPut("view",r,10),r()},extend(n.Model.multimeter_v2.View,n.Model.View),n.Model.multimeter_v2.Statemachine=function(e,t,i){Circuits.StateMachine.call(this),this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element().parent(),i=e.data("subelement");t.root.rec(),t.setProperty("Mode",!1,i,"none"),t.root.stopRec()})},n.Model.multimeter_v2.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.multimeter_v2.Statemachine.prototype.constructor=n.Model.multimeter_v2.Statemachine,n.simulationStateMachines.put("multimeter_v2",n.Model.multimeter_v2.Statemachine),n.Model.multimeter_v2.Model=function(e,t){this.makeVersioned(e),this.text=this.value("text","",!1,!0)},extend(n.Model.multimeter_v2.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Diode={},n.model_map.put("diode",n.Model.Diode),n.Model.Diode.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=(this.device.getPropertyValue("forward voltage"),1e-12),r=1,a=this.getNetbyTerminalName("anode"),s=this.getNetbyTerminalName("cathode");this.simulator.analogCircuit.addDiode(a,s,o,r)},extend(n.Model.Diode.SimulationModel,n.Model.SimulationModel),n.Model.Diode.View=function(e,t,i){},n.Model.Diode.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Diode.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Capacitor={},n.model_map.put("capacitor",n.Model.Capacitor),n.Model.Capacitor.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=t.getPropertyValue("capacitance");r||(r=0);var a=new n.Signal(o.simulator,"capacitance_control",r),s=.01,c=this.getNetbyTerminalName("1"),l=this.getNetbyTerminalName("2"),d={};e.analogCircuit.addCapacitor(c,d,r);e.analogCircuit.addResistor(d,l,s),t.properties.onPut("simulator",function(){var e=t.getPropertyValue("capacitance");e||(e=0),a.setValue(0,e)},10)},extend(n.Model.Capacitor.SimulationModel,n.Model.SimulationModel),n.Model.Capacitor.View=function(e,t,i){},n.Model.Capacitor.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Capacitor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.CapacitorPolarized={},n.model_map.put("capacitor_polarized",n.Model.CapacitorPolarized),n.Model.CapacitorPolarized.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=t.getPropertyValue("capacitance");r||(r=0);var a=new n.Signal(o.simulator,"capacitance_control",r),s=.01,c=this.getNetbyTerminalName("+"),l=this.getNetbyTerminalName("-"),d={},u=e.analogCircuit.addCapacitor(c,d,r);e.analogCircuit.addResistor(d,l,s);var h=t.getPropertyValue("voltage rating");t.properties.onPut("simulator",function(){var e=t.getPropertyValue("capacitance");e||(e=0),a.setValue(0,e)},10);var p=function(e){var t=e.value(),n=u.getVoltage(t);if(n>h){var o="Capacitor picked up "+this.printValueUnit(n,"V")+", while maximum voltage rating is "+this.printValueUnit(h,"V");i.breakdown({breakdown:!0,reason:o})}else if(0>n){var o="Capacitor is inversely polarized with "+this.printValueUnit(n,"V");i.breakdown({breakdown:!0,reason:o})}else i.breakdown({breakdown:!1,reason:""})};e.update_ui.add_process([this,p,[e.update_ui]])},extend(n.Model.CapacitorPolarized.SimulationModel,n.Model.SimulationModel),n.Model.CapacitorPolarized.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.CapacitorPolarized.View,n.Model.View),n.Model.CapacitorPolarized.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.CapacitorPolarized.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Inductor={},n.model_map.put("inductor",n.Model.Inductor),n.Model.Inductor.SimulationModel=function(e,t,i){function o(){var e=r.device.getPropertyValue("inductance");e||(e=0),a.setValue(0,e)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=new n.Signal(this.simulator,"inductor_control",.01),s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2");this.simulator.analogCircuit.addInductor(s,c,a);r.device.properties.onPut("simulator",o,10),o()},extend(n.Model.Inductor.SimulationModel,n.Model.SimulationModel),n.Model.Inductor.View=function(e,t,i){},n.Model.Inductor.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Inductor.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.Ldr={},o.model_map.put("ldr",o.Model.Ldr),o.Model.ldr_v2={},o.model_map.put("ldr_v2",o.Model.ldr_v2),o.Model.Ldr.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=5e5,a=.85,s=100,c=1,l=this.getNetbyTerminalName("terminal-1"),d=this.getNetbyTerminalName("terminal-2"),u=new o.Signal(this.simulator,this.name,!1),h=new o.ProcessedSignal(u,function(e){var t=e?s:c;return Math.exp(Math.log(r)-(Math.log(t)-Math.log(.3))*a)});this.simulator.analogCircuit.addResistor(l,d,h);n.dynamicModel.position.onChange("simulator",function(){var e=i.position();u.setValue(0,e)},10)},extend(o.Model.Ldr.SimulationModel,o.Model.SimulationModel),o.Model.Ldr.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".led","click"),i.position.onChange("view",function(t,i,n){n?$("#ldr ellipse[rx='10.366']",e.group).attr("fill","yellow"):$("#ldr ellipse[rx='10.366']",e.group).attr("fill","#DBDDAF")},10)},extend(o.Model.Ldr.View,o.Model.View),o.Model.Ldr.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0)},extend(o.Model.Ldr.Model,r),o.Model.ldr_v2.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=5e5,a=.85,s=1e3,c=1,l=this.getNetbyTerminalName("terminal-1"),d=this.getNetbyTerminalName("terminal-2"),u=new o.Signal(this.simulator,"lux signal",c),h=new o.ProcessedSignal(u,function(e){return Math.exp(Math.log(r)-(Math.log(e)-Math.log(.3))*a)});this.simulator.analogCircuit.addResistor(l,d,h);n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50,o=n*(s-c)+c;u.setValue(0,o)},10)},extend(o.Model.ldr_v2.SimulationModel,o.Model.SimulationModel),o.Model.ldr_v2.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateResistorLDR({view:e.group,control:e.interactionControlGroup},{incominglight:n})},10)},extend(o.Model.ldr_v2.View,o.Model.View),o.Model.ldr_v2.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.ldr_v2.Model,r)},function(e,t,i){var n=i(173),o=i(191),r=i(433),a=i(176).Versioned,s=i(170).inherit;r.Model.MMA7361={},r.model_map.put("sparkfun_mma7361",r.Model.MMA7361),r.Model.MMA7361.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var a=this.getNetbyTerminalName("1"),s=this.getNetbyTerminalName("2"),c=this.getNetbyTerminalName("3"),l=this.getNetbyTerminalName("4"),d=this.getNetbyTerminalName("5"),u=this.getNetbyTerminalName("6"),h=this.getNetbyTerminalName("7"),p=this.getNetbyTerminalName("8"),g=this.getNetbyTerminalName("9"),m=new n.HashMap,f=new r.Signal(o.simulator,"MMA7361_zgd",0);m.put("zgd",f);var _=new r.ProcessedSignal(f,function(e){return 5*e}),v=(o.simulator.analogCircuit.addVoltageSource(c,p,_,50),new r.Signal(o.simulator,"MMA7361_xout",0));m.put("xout",v);var y=new r.ProcessedSignal(v,function(e){return e}),C=(o.simulator.analogCircuit.addVoltageSource(d,p,y,32e3),new r.Signal(o.simulator,"MMA7361_yout",0));m.put("yout",C);var b=new r.ProcessedSignal(C,function(e){return e}),w=(o.simulator.analogCircuit.addVoltageSource(u,p,b,32e3),new r.Signal(o.simulator,"MMA7361_zout",0));m.put("zout",w);var M=new r.ProcessedSignal(w,function(e){return e}),S=(o.simulator.analogCircuit.addVoltageSource(h,p,M,32e3),this.simulator.analogCircuit.addResistor(a,p,1e7),new r.Signal(o.simulator,"MMA7361_st",0));o.simulator.analogCircuit.addTrigger(S,a,p,function(e,t){return e-t>2.5?1:0}),m.put("st",S);var x=(this.simulator.analogCircuit.addResistor(s,p,1e7),new r.Signal(o.simulator,"MMA7361_gsel",0));o.simulator.analogCircuit.addTrigger(x,s,p,function(e,t){return e-t>2.5?1:0}),m.put("gsel",x);var T=(this.simulator.analogCircuit.addResistor(l,p,1e7),new r.Signal(o.simulator,"MMA7361_slp",0));o.simulator.analogCircuit.addTrigger(T,l,p,function(e,t){return e-t>2.5?1:0}),m.put("slp",T);var E=(this.simulator.analogCircuit.addResistor(g,p,1e6),new r.Signal(o.simulator,"MMA7361_power",0));o.simulator.analogCircuit.addTrigger(E,g,p,function(e,t){var i=e-t;return i>2.2&&3.6>i?1:0}),m.put("power",E);var A=new r.Signal(o.simulator,"MMA7361_g",{x:0,y:0,z:1});m.put("g",A),i.shake.onChange("simulator",function(){i.shake()&&(A.setValue(0,{x:1,y:0,z:1}),A.setValue(.3,{x:-1,y:0,z:1}),A.setValue(.6,{x:1,y:0,z:1}),A.setValue(.9,{x:-1,y:0,z:1}),A.setValue(1.2,{x:1,y:0,z:1}),A.setValue(1.5,{x:-1,y:0,z:1}),A.setValue(1.8,{x:0,y:0,z:1}))},10);var D=function(){i.g(A.value())};this.simulator.update_ui.add_process([this,D]);new r.MMA7361(this.simulator,m)},extend(r.Model.MMA7361.SimulationModel,r.Model.SimulationModel),r.Model.MMA7361.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent("#SP_MMA7361_breakout","mma7361"),this.addEvent(".cgfx__hitarea","mma7361"),i.g.onChange("view",function(t,i,n){var o=n,r=10*o.x,a=10*o.y;$(e.group).attr({transform:"scale(1,1) translate("+r+","+a+")"})},10)},extend(r.Model.MMA7361.View,r.Model.View),r.Model.MMA7361.Statemachine=function(e,t,i){Circuits.StateMachine.call(this),this.addTransition("idle","idle",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element().dynamicModel;t.shake(!0),t.shake(!1)})},r.Model.MMA7361.Statemachine.prototype=s(Circuits.StateMachine.prototype),r.Model.MMA7361.Statemachine.prototype.constructor=r.Model.MMA7361.Statemachine,r.simulationStateMachines.put("mma7361",r.Model.MMA7361.Statemachine),r.Model.MMA7361.Model=function(e,t){this.makeVersioned(e),this.g=this.value("g",new o.Coord(0,0),!1,!0),this.shake=this.value("shake",!1,!1,!0)},extend(r.Model.MMA7361.Model,a),r.MMA7361=function(e,t){var i=this;i.sim=e,this.signalMap=t;var n=[this,this.run];this.power=this.signalMap.get("power"),this.power.add_process(n),this.st=this.signalMap.get("st"),this.st.add_process(n),this.gsel=this.signalMap.get("gsel"),this.gsel.add_process(n),this.slp=this.signalMap.get("slp"),this.slp.add_process(n),this.g=this.signalMap.get("g"),this.g.add_process(n),this.zgd=this.signalMap.get("zgd"),this.xout=this.signalMap.get("xout"),this.yout=this.signalMap.get("yout"),this.zout=this.signalMap.get("zout")},r.MMA7361.prototype.run=function(){if(1==this.power.value())if(1==this.slp.value()){if(1==this.gsel.value())var e=.206;else var e=.8;this.xout.setValue(0,1.65+e*this.g.value().x),this.yout.setValue(0,1.65+e*this.g.value().y),this.zout.setValue(0,1.65+e*this.g.value().z),Math.abs(this.g.value().x)<.1&&Math.abs(this.g.value().y)<.1&&Math.abs(this.g.value().z)<.1?this.zgd.setValue(0,1):this.zgd.setValue(0,0)}else this.zgd.setValue(0,0),this.xout.setValue(0,0),this.yout.setValue(0,0),this.zout.setValue(0,0);else this.zgd.setValue(0,0),this.xout.setValue(0,0),this.yout.setValue(0,0),this.zout.setValue(0,0)},r.MMA7361.testbench=function(e){var t=new r.Simulator,i=new n.HashMap;t.run(100,e);var o=i.get("D_7_in");o.setValue(.5,5)}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Motor={},n.model_map.put("dc_motor",n.Model.Motor),n.Model.Motor_v2={},n.model_map.put("dc_motor_v2",n.Model.Motor_v2),n.Model.Motor.SimulationModel=function(e,t,i){function o(){var e=r.device.getPropertyValue("speed constant");(isNaN(e)||0>e)&&(e=0);var t=r.device.getPropertyValue("load")/100;t>1&&(t=1),(isNaN(t)||0>t)&&(t=0);var i=(c-l*a)/(e*c/h),n=s*a/c*u,o=(t*(s-m)+m)/((1-t)*(d/h))*u;v.setValue(0,i),y.setValue(0,n),C.setValue(0,o)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=5,s=.432,c=9,l=.08,d=220,u=1e3,h=9.5493,p=(c-l*a)/(d/h),g=s*a/c*u,m=g/u*l,f=0,_=(f*(s-m)+m)/((1-f)*(d/h))*u,v=new n.Signal(r.simulator,"Motor speed constant signal",p),y=new n.Signal(r.simulator,"Motor torque constant signal",g),C=new n.Signal(r.simulator,"Motor friction signal",_);o(),t.properties.onPut("simulator",o,10);var b=this.getNetbyTerminalName("terminal-1"),w=this.getNetbyTerminalName("terminal-2"),M={net:"Motor_net_between_sense-backEMF_"},S={net:"Motor_net_between_backEMF-Rs_"},x={net:"Motor_mechanical_net_between_sense-friction_"},T={net:"Motor_mechanical_net_between_friction-inertia_"},E=(this.simulator.analogCircuit.addResistor(w,S,a),this.simulator.analogCircuit.addCurrentControlledVoltageSource(x,b,S,M,1e-4,1e-4,v),this.simulator.analogCircuit.addCurrentControlledVoltageSource(M,b,T,b,1e-4,1e-4,y),this.simulator.analogCircuit.addResistor(T,x,C)),A=function(e){var t=e.value(),n=E.getCurrent(t)*h;i.avgSpeed(n)};this.simulator.update_ui.add_process([this,A,[e.update_ui]]),i.enableAnimation(!0)},extend(n.Model.Motor.SimulationModel,n.Model.SimulationModel),n.Model.Motor.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;if(o){var a="0, 0";i.animationTimer=setInterval(function(){var t=i.avgSpeed();i.gearPosition=(i.gearPosition+t/60*r/1e3*360)%360,$("#animate-gear",e.group).attr("transform","rotate("+i.gearPosition+","+a+")")},r)}else clearInterval(i.animationTimer)},10)},n.Model.Motor.Model=function(e,t){this.makeVersioned(e),this.avgSpeed=this.value("speed",0,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0)},extend(n.Model.Motor.Model,o),n.Model.Motor_v2.SimulationModel=n.Model.Motor.SimulationModel,n.Model.Motor_v2.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;o?i.animationTimer=setInterval(function(){var t=i.avgSpeed();i.gearPosition=(i.gearPosition+t/60*r/1e3*360)%360,cGraphics.updateMotorDC(e.group,{rotation:i.gearPosition})},r):clearInterval(i.animationTimer)},10)},n.Model.Motor_v2.Model=n.Model.Motor.Model},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Npn={},n.model_map.put("npn",n.Model.Npn),n.Model.Npn.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("emitter"),r=this.getNetbyTerminalName("base"),a=this.getNetbyTerminalName("collector");this.simulator.analogCircuit.addNPN(r,o,a)},extend(n.Model.Npn.SimulationModel,n.Model.SimulationModel),n.Model.Npn.View=function(e,t,i){},n.Model.Npn.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Npn.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Pnp={},n.model_map.put("pnp",n.Model.Pnp),n.Model.Pnp.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("emitter"),r=this.getNetbyTerminalName("base"),a=this.getNetbyTerminalName("collector");this.simulator.analogCircuit.addPNP(r,o,a)},extend(n.Model.Pnp.SimulationModel,n.Model.SimulationModel),n.Model.Pnp.View=function(e,t,i){},n.Model.Pnp.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Pnp.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Nmos={},n.model_map.put("nmos",n.Model.Nmos),n.Model.Nmos.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("gate"),r=this.getNetbyTerminalName("source"),a=this.getNetbyTerminalName("drain");this.simulator.analogCircuit.addNMOS(o,r,a,.7,.006)},extend(n.Model.Nmos.SimulationModel,n.Model.SimulationModel),n.Model.Nmos.View=function(e,t,i){},n.Model.Nmos.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Nmos.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Pmos={},n.model_map.put("pmos",n.Model.Pmos),n.Model.Pmos.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("gate"),r=this.getNetbyTerminalName("source"),a=this.getNetbyTerminalName("drain");this.simulator.analogCircuit.addPMOS(o,r,a,-.7,.00192)},extend(n.Model.Pmos.SimulationModel,n.Model.SimulationModel),n.Model.Pmos.View=function(e,t,i){},n.Model.Pmos.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Pmos.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.PowerNmos={},n.model_map.put("power_nmos",n.Model.PowerNmos),n.Model.PowerNmos.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("gate"),r=this.getNetbyTerminalName("source"),a=this.getNetbyTerminalName("drain");this.simulator.analogCircuit.addNMOS(o,r,a,2,1.1)},extend(n.Model.PowerNmos.SimulationModel,n.Model.SimulationModel),n.Model.PowerNmos.View=function(e,t,i){},n.Model.PowerNmos.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.PowerNmos.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.PowerPmos={},n.model_map.put("power_pmos",n.Model.PowerPmos),n.Model.PowerPmos.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("gate"),r=this.getNetbyTerminalName("source"),a=this.getNetbyTerminalName("drain");this.simulator.analogCircuit.addPMOS(o,r,a,-2,1.1*.32)},extend(n.Model.PowerPmos.SimulationModel,n.Model.SimulationModel),n.Model.PowerPmos.View=function(e,t,i){},n.Model.PowerPmos.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.PowerPmos.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.SensorTiltSW200D={},o.model_map.put("sensor_tilt_sw200d",o.Model.SensorTiltSW200D),o.Model.SensorTiltSW200D.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=10,a=1e10,s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2"),l=new o.Signal(this.simulator,"tilt Signal",!1),d=new o.ProcessedSignal(l,function(e){return e?r:a});e.analogCircuit.addResistor(s,c,d);n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=i>.75;l.setValue(0,n)},10)},extend(o.Model.SensorTiltSW200D.SimulationModel,o.Model.SimulationModel),o.Model.SensorTiltSW200D.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateSensorTilt({view:e.group,control:e.interactionControlGroup},{tilt:n})},10)},extend(o.Model.SensorTiltSW200D.View,o.Model.View),o.Model.SensorTiltSW200D.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.SensorTiltSW200D.Model,r)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.SevenSegment={},o.model_map.put("seven_segment_digit",o.Model.SevenSegment),o.Model.SevenSegment.segments=["a","b","c","d","e","f","g","dp"],o.Model.SevenSegment.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=.02,s=1e-18,c=1.8,l=this.getNetbyTerminalName("terminal-com1"),d=this.getNetbyTerminalName("terminal-com2");this.simulator.analogCircuit.mergeNets(l,d);var u=new n.HashMap;o.Model.SevenSegment.segments.forEach(function(e){var t=r.getNetbyTerminalName("terminal-"+e),i=r.simulator.analogCircuit.addDiode(t,l,s,c);u.put(e,i)});var h=function(e){var t=e.value(),n=!1,s=[],c="";o.Model.SevenSegment.segments.forEach(function(e){var i=u.get(e),o=i.getCurrent(t);s.push(o/a),o>a&&(n=!0,c+="Current through led "+e+" is "+r.printValueUnit(o,"A")+", ")}),c+="while maximum is "+r.printValueUnit(a,"A"),i.brightness(s),i.breakdown({breakdown:n,reason:c})};this.simulator.update_ui.add_process([this,h,[e.update_ui]])},extend(o.Model.SevenSegment.SimulationModel,o.Model.SimulationModel),o.Model.SevenSegment.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("simulator",function(t,i,n){var o=[];for(var r in n){var a=n[r]<.001?0:n[r]>1?1:n[r];o.push(Math.pow(a,1/3))}cGraphics.updateDisplaySevenSegment(e.group,{ledsBrightness:o})},10),n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateDisplaySevenSegment(e.group,{inactive:n==o.states.IDLE})}),cGraphics.updateDisplaySevenSegment(e.group,{ledsBrightness:[0,0,0,0,0,0,0,0],inactive:!0})},extend(o.Model.SevenSegment.View,o.Model.View),o.Model.SevenSegment.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0,0,0,0,0,0,0],!1,!0)},extend(o.Model.SevenSegment.Model,r)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.SevenSegment5011BH={},o.model_map.put("seven_segment_digit_5011bh",o.Model.SevenSegment5011BH),o.Model.SevenSegment5011BH.segments=["a","b","c","d","e","f","g","dp"],o.Model.SevenSegment5011BH.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=.02,s=1e-18,c=1.8,l=this.getNetbyTerminalName("com1"),d=this.getNetbyTerminalName("com2");this.simulator.analogCircuit.mergeNets(l,d);var u=new n.HashMap;o.Model.SevenSegment5011BH.segments.forEach(function(e){var t=r.getNetbyTerminalName(e),i=r.simulator.analogCircuit.addDiode(l,t,s,c);u.put(e,i)});var h=function(){var e=!1,t=[],n="";o.Model.SevenSegment5011BH.segments.forEach(function(i){var o=u.get(i),s=o.getCurrent();t.push(s/a),s>a&&(e=!0,n+="Current through led "+i+" is "+r.printValueUnit(s,"A")+", ")}),n+="while maximum is "+r.printValueUnit(a,"A"),i.brightness(t),i.breakdown({breakdown:e,reason:n})};this.simulator.update_ui.add_process([this,h])},extend(o.Model.SevenSegment5011BH.SimulationModel,o.Model.SimulationModel),o.Model.SevenSegment5011BH.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("simulator",function(t,i,n){var o=[];for(var r in n){var a=n[r]<.001?0:n[r]>1?1:n[r];o.push(Math.pow(a,1/3))}cGraphics.updateDisplaySevenSegment(e.group,{ledsBrightness:o})},10),n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateDisplaySevenSegment(e.group,{inactive:n==o.states.IDLE})}),cGraphics.updateDisplaySevenSegment(e.group,{ledsBrightness:[0,0,0,0,0,0,0,0],inactive:!0})},extend(o.Model.SevenSegment5011BH.View,o.Model.View),o.Model.SevenSegment5011BH.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0,0,0,0,0,0,0],!1,!0)},extend(o.Model.SevenSegment5011BH.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.SlideSwitch={},n.model_map.put("slide_switch",n.Model.SlideSwitch),n.Model.SlideSwitch_v2={},n.model_map.put("slide_switch_v2",n.Model.SlideSwitch_v2),n.Model.SlideSwitch.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e-6,a=1e10,s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2"),l=this.getNetbyTerminalName("3"),d=new n.Signal(this.simulator,this.name,!1),u=new n.ProcessedSignal(d,function(e){return e?a:r}),h=(this.simulator.analogCircuit.addResistor(s,l,u),new n.ProcessedSignal(d,function(e){return e?r:a}));this.simulator.analogCircuit.addResistor(c,l,h);i.position.onChange("simulator",function(e,t,i){d.setValue(0,i)},10),d.setValue(0,i.position())},extend(n.Model.SlideSwitch.SimulationModel,n.Model.SimulationModel),n.Model.SlideSwitch.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent("#slideswitch","click"),i.position.onChange("view",function(t,i,n){n?$("#animate-switch",e.group).attr("transform","translate(0,0)"):$("#animate-switch",e.group).attr("transform","translate(-10,0)")},10)},extend(n.Model.SlideSwitch.View,n.Model.View),n.Model.SlideSwitch.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!0,!1,!0)},extend(n.Model.SlideSwitch.Model,o),n.Model.SlideSwitch_v2.SimulationModel=n.Model.SlideSwitch.SimulationModel,n.Model.SlideSwitch_v2.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){cGraphics.updateSwitchSPSTSlide(e.group,{on:n})},10)},extend(n.Model.SlideSwitch_v2.View,n.Model.View),n.Model.SlideSwitch_v2.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0)},extend(n.Model.SlideSwitch_v2.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Tip120={},n.model_map.put("tip120",n.Model.Tip120),n.Model.Tip120.SimulationModel=function(e,t,i){var n=this;this.simulator=e,this.device=t,this.dynamicModel=i;var o=this.getNetbyTerminalName("emitter"),r=this.getNetbyTerminalName("base"),a=this.getNetbyTerminalName("collector"),s={net:"TIP120_net_between_NPNs"},c=8e3,l=120,d=1e-12,u=1,h=60,p=60,g=5;this.simulator.analogCircuit.addNPN(r,s,a),this.simulator.analogCircuit.addNPN(s,o,a),this.simulator.analogCircuit.addResistor(r,s,c),this.simulator.analogCircuit.addResistor(s,o,l),this.simulator.analogCircuit.addDiode(o,a,d,u);var m=function(e){var t=!1,i="This device broke because of:",s=n.simulator;collectorBaseVoltage=s.analog_model.measure(s.time.time,a,r),collectorEmitterVoltage=s.analog_model.measure(s.time.time,a,o),baseEmitterVoltage=s.analog_model.measure(s.time.time,r,o),collectorBaseVoltage>h&&(i+=" Collector-base voltage is "+n.printValueUnit(collectorBaseVoltage,"V")+" while permitted maximum is "+n.printValueUnit(h,"V")+".",t=!0),collectorEmitterVoltage>p&&(i+=" Collector-emitter voltage is "+n.printValueUnit(collectorEmitterVoltage,"V")+" while permitted maximum is "+n.printValueUnit(p,"V")+".",t=!0),baseEmitterVoltage>g&&(i+=" Collector-emitter voltage is "+n.printValueUnit(baseEmitterVoltage,"V")+" while permitted maximum is "+n.printValueUnit(g,"V")+".",t=!0),n.dynamicModel.breakdown({breakdown:t,reason:i})};this.simulator.update_ui.add_process([this,m,[e.update_ui]])},extend(n.Model.Tip120.SimulationModel,n.Model.SimulationModel),n.Model.Tip120.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.Tip120.View,n.Model.View),n.Model.Tip120.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Tip120.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.USBstandard={},n.model_map.put("USBstandard",n.Model.USBstandard),n.Model.USBstandard.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=5,r=.5,a=this.getNetbyTerminalName("5V"),s=this.getNetbyTerminalName("GND"),c=(this.getNetbyTerminalName("D+"),this.getNetbyTerminalName("D-"),this.simulator.analogCircuit.addVoltageSource(a,s,o,.001,!0)),l=function(e){var t=e.value(),o=Math.abs(c.getCurrent(t));if(r>=o)i.breakdown({breakdown:!1,reason:""});else{var a="Current sourced by USB port is "+n.printValueUnit(o,"A")+", while maximum is "+n.printValueUnit(r,"A");i.breakdown({breakdown:!0,reason:a})}};this.simulator.update_ui.add_process([this,l,[e.update_ui]])},extend(n.Model.USBstandard.SimulationModel,n.Model.SimulationModel),n.Model.USBstandard.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.USBstandard.View,n.Model.View),n.Model.USBstandard.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.USBstandard.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.ZenerDiode={},n.model_map.put("zenerDiode",n.Model.ZenerDiode),n.Model.ZenerDiode.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=this.device.getPropertyValue("zener voltage")||5.1,a=new n.Signal(o.simulator,"zener_control",r);t.properties.onPut("simulator",function(){var e=t.getPropertyValue("zener voltage")||5.1;a.setValue(0,e)},10);var s=1e-12,c=1,l=this.getNetbyTerminalName("A"),d=this.getNetbyTerminalName("C");this.simulator.analogCircuit.addDiode(l,d,s,c);var u=1e-12,h=1,p=.48,g=55,m=new n.ProcessedSignal(a,function(e){return e-p}),f={net:"reverse_inner_net_"};this.simulator.analogCircuit.addVoltageSource(d,f,m,g),this.simulator.analogCircuit.addDiode(f,l,u,h)},extend(n.Model.ZenerDiode.SimulationModel,n.Model.SimulationModel),n.Model.ZenerDiode.View=function(e,t,i){},n.Model.ZenerDiode.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.ZenerDiode.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led2={},n.model_map.put("led2",n.Model.Led2),n.Model.Led2.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.02,r=.12,a=1e-20,s=1.8,c=6,l=this.getNetbyTerminalName("anode"),d=this.getNetbyTerminalName("cathode"),u={};e.analogCircuit.addResistor(l,u,c);var h=e.analogCircuit.addDiode(u,d,a,s),p=function(e){var t=e.value(),a=h.getCurrent(t);if(o>=a)i.brightness(a/o),i.warning({warning:!1,reason:""}),i.breakdown({breakdown:!1,reason:""});else if(r>a){var s="Current through the led is "+n.printValueUnit(a,"A")+", while recommended maximum is "+n.printValueUnit(o,"A. The usable lifetime of the LED may be reduced.");
i.brightness(1),i.breakdown({breakdown:!1,warning:!0,reason:""}),i.warning({warning:!0,reason:s})}else{var s="Current through the led is "+n.printValueUnit(a,"A")+", while absolute maximum is "+n.printValueUnit(r,"A");i.brightness(1),i.warning({warning:!1,breakdown:!0,reason:""}),i.breakdown({breakdown:!0,reason:s})}};e.update_ui.add_process([this,p,[e.update_ui]])},extend(n.Model.Led2.SimulationModel,n.Model.SimulationModel),n.Model.Led2.View=function(e,t,i){function n(){var i=t.getPropertyValue("color");i&&"n"!=i||(i="red"),cGraphics.updateLed(e.group,{color:i})}this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addWarning(),this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(n,1/3);cGraphics.updateLed(e.group,{brightness:o})},10),t.properties.onPut("view",n,10),n()},extend(n.Model.Led2.View,n.Model.View),n.Model.Led2.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0),this.warning=this.value("warning",!1,!1,!0)},extend(n.Model.Led2.Model,o)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.LedRGB={},o.model_map.put("ledRGB",o.Model.LedRGB),o.Model.LedRGB.leds=["red","green","blue"],o.Model.LedRGB.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=.02,s=1e-18,c=1.8,l=new n.HashMap,d=this.getNetbyTerminalName("terminal-cathode");o.Model.LedRGB.leds.forEach(function(e){var t=r.getNetbyTerminalName("terminal-"+e),i=r.simulator.analogCircuit.addDiode(t,d,s,c);l.put(e,i)});var u=function(e){var t=e.value(),n=!1,s=[],c="LED broke because of:";o.Model.LedRGB.leds.forEach(function(e){var i=l.get(e),o=i.getCurrent(t);s.push(o/a),o>a&&(n=!0,c+=" Led "+e+" is driven by "+r.printValueUnit(o,"A")+" while maximum current is "+r.printValueUnit(a,"A")+".")}),i.breakdown({breakdown:n,reason:c}),i.brightness(s)};this.simulator.update_ui.add_process([this,u,[e.update_ui]])},extend(o.Model.LedRGB.SimulationModel,o.Model.SimulationModel),o.Model.LedRGB.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=[];for(var r in n){var a=n[r]<.001?0:n[r]>1?1:n[r];a=Math.round(100*Math.pow(a,1/3))/100,o.push(a)}cGraphics.updateLedRGB(e.group,{rgb:o})},10),cGraphics.updateLedRGB(e.group,{rgb:i.brightness()})},extend(o.Model.LedRGB.View,o.Model.View),o.Model.LedRGB.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0,0],!1,!0)},extend(o.Model.LedRGB.Model,r)},function(e,t,i){var n=i(433),o=i(173);n.digitalDeviceCMOSParams={powerQuiescentCurrent:2e-5,powerMaxCurrent:.05,powerInputResistance:3e5,powerVccMin:-.5,powerVccMax:7,powerVccMinOperating:2,powerVccMaxOperating:6,inputResistance:5e6,inputCapacitance:3.5e-12,inputPositiveVoltageThreshold:3.14/6,inputNegativeVoltageThreshold:2.26/6,outputResistanceLowImpedance:45,outputResistanceHighImpedance:1e8,outputMaxCurrent:.025,outputDiodeIdeality:0},n.digitalDevice=function(e,t,i,r){this.deviceModel=e,this.signalMap=new o.HashMap,this.evaluateSignals=i,this.process=[this,this.evaluateSignals,[this.signalMap]],"object"!=typeof r&&(r={}),r=$.extend({},n.digitalDeviceCMOSParams,r),this.powerQuiescentCurrent=r.powerQuiescentCurrent,this.powerMaxCurrent=r.powerMaxCurrent,this.powerInputResistance=r.powerInputResistance,this.powerVccMin=r.powerVccMin,this.powerVccMax=r.powerVccMax,this.powerVccMinOperating=r.powerVccMinOperating,this.powerVccMaxOperating=r.powerVccMaxOperating,this.inputResistance=r.inputResistance,this.inputCapacitance=r.inputCapacitance,this.inputPositiveVoltageThreshold=r.inputPositiveVoltageThreshold,this.inputNegativeVoltageThreshold=r.inputNegativeVoltageThreshold,this.outputResistanceLowImpedance=r.outputResistanceLowImpedance,this.outputResistanceHighImpedance=r.outputResistanceHighImpedance,this.outputMaxCurrent=r.outputMaxCurrent,this.outputDiodeIdeality=r.outputDiodeIdeality,this.netList={gnd:null,vcc:null,inputs:new o.HashMap,outputs:new o.HashMap},this._setPowerSupply(t.ground,t.power,t.STinputs),this._addInputs(t.inputs,!1),this._addInputs(t.STinputs,!0),this._addOutputs(t.outputs),this.evaluateSignals(this.signalMap),this.deviceModel.simulator.update_ui.add_process([this,this.update_Ui,[this.deviceModel.simulator.update_ui]])},n.digitalDevice.prototype._setPowerSupply=function(e,t){var i=this,o=this.deviceModel.getNetbyTerminalName(e[0]),r=this.deviceModel.getNetbyTerminalName(t[0]);if(o&&r){this.netList.gnd=o,this.netList.vcc=r;this.deviceModel.simulator.analogCircuit.addResistor(r,o,this.powerInputResistance);i.powerSignal=new n.Signal(i.deviceModel.simulator,"Digitaldevice power",0),i.signalMap.put("power",i.powerSignal),i.powerSignal.add_process(i.process),i.deviceModel.simulator.analogCircuit.addTrigger(i.powerSignal,r,o,function(e,t){var n=e-t;return n>i.powerVccMinOperating&&n<i.powerVccMaxOperating?1:0})}},n.digitalDevice.prototype._addInputs=function(e,t){var i=this,o=this.netList.gnd,r=this.netList.vcc;this.powerSignal&&e&&e.forEach(function(e){var a=new n.Signal(i.deviceModel.simulator,"Digitaldevice input "+e,0);i.signalMap.put(e,a),a.add_process(i.process);var s=i.deviceModel.getNetbyTerminalName(e);i.netList.inputs.put(e,s);i.deviceModel.simulator.analogCircuit.addResistor(s,i.netList.gnd,i.inputResistance);if(t){var c=new n.Signal(i.deviceModel.simulator,"Digitaldevice input schmith trigger pos "+e,0);i.deviceModel.simulator.analogCircuit.addTrigger(c,s,r,o,function(e,t,n){return e-n>(t-n)*i.inputPositiveVoltageThreshold?1:0}),c.add_process([null,function(){c.rising_edge()&&a.setValue(0,1)}]);var l=new n.Signal(i.deviceModel.simulator,"Digitaldevice input schmith trigger neg "+e,0);i.deviceModel.simulator.analogCircuit.addTrigger(l,s,r,o,function(e,t,n){return e-n<(t-n)*i.inputNegativeVoltageThreshold?1:0}),l.add_process([null,function(){l.rising_edge()&&a.setValue(0,0)}])}else i.deviceModel.simulator.analogCircuit.addTrigger(a,s,r,o,function(e,t,i){return e-i>(t-i)/2?1:0})})},n.digitalDevice.prototype._addOutputs=function(e){var t=this;this.powerSignal&&e&&e.forEach(function(e){var i=new n.Signal(t.deviceModel.simulator,"DigitaldeviceModel output "+e,0);t.signalMap.put(e,i);var o=t.deviceModel.getNetbyTerminalName(e);t.netList.outputs.put(e,o);var r=new n.ProcessedSignal(i,function(e){return 1==e?t.outputResistanceLowImpedance:t.outputResistanceHighImpedance});if(0==t.outputDiodeIdeality){t.deviceModel.simulator.analogCircuit.addResistor(o,t.netList.vcc,r)}else{var a=[];t.deviceModel.simulator.analogCircuit.addDiode(t.netList.vcc,a,1e-23,t.outputDiodeIdeality),t.deviceModel.simulator.analogCircuit.addResistor(o,a,r)}var s=new n.ProcessedSignal(i,function(e){return 0==e?t.outputResistanceLowImpedance:t.outputResistanceHighImpedance});t.deviceModel.simulator.analogCircuit.addResistor(o,t.netList.gnd,s)})},n.digitalDevice.prototype.update_Ui=function(e){var t=this,i=this.deviceModel.simulator,n=(e.value(),0),o=0,r=!1,a="This device broke because of:";this.netList.vcc&&(o=i.analog_model.measure(i.time.time,this.netList.vcc,this.netList.gnd),(o>this.powerVccMax||o<this.powerVccMin)&&(a+=" Supply voltage is "+t.deviceModel.printValueUnit(o,"V")+" while permitted range is between "+t.deviceModel.printValueUnit(this.powerVccMin,"V")+" and "+t.deviceModel.printValueUnit(this.powerVccMax,"V")+".",r=!0)),this.netList.inputs.forEach(function(e,n){var s=i.analog_model.measure(i.time.time,n,t.netList.gnd);s>o+.5&&(a+=" Voltage at pin "+e+" is "+t.deviceModel.printValueUnit(s,"V")+" while max is Vcc = "+t.deviceModel.printValueUnit(o,"V")+".",r=!0)}),this.netList.outputs.forEach(function(e,s){var c=t.signalMap.get(e).value(),l=0==c?t.outputResistanceLowImpedance:t.outputResistanceHighImpedance,d=1==c?t.outputResistanceLowImpedance:t.outputResistanceHighImpedance,u=i.analog_model.measure(i.time.time,s,t.netList.gnd),h=-u/l+(o-u)/d;h>t.outputMaxCurrent&&(a+=" Current through pin "+e+" is "+t.deviceModel.printValueUnit(h,"A")+" while max is "+t.deviceModel.printValueUnit(t.outputMaxCurrent,"A")+".",r=!0),n+=Math.abs(h)}),n>this.powerMaxCurrent&&(a+=" Total current through powerpins is "+t.deviceModel.printValueUnit(n,"A")+" while max is "+t.deviceModel.printValueUnit(this.powerMaxCurrent,"A")+".",r=!0),this.deviceModel.dynamicModel.breakdown({breakdown:r,reason:a})}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC00={},n.model_map.put("74HC00",n.Model.DD_74HC00),n.Model.DD_74HC00.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=7e-9,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC00.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC00.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC00",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC00.View,n.Model.View),n.Model.DD_74HC00.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC00.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC02={},n.model_map.put("74HC02",n.Model.DD_74HC02),n.Model.DD_74HC02.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=7e-9,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()||e.get(t+"B").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC02.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC02.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC02",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC02.View,n.Model.View),n.Model.DD_74HC02.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC02.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC04={},n.model_map.put("74HC04",n.Model.DD_74HC04),n.Model.DD_74HC04.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","2A","3A","4A","5A","6A"],outputs:["1Y","2Y","3Y","4Y","5Y","6Y"]},a=7e-9,s=function(e){for(var t=1;6>=t;t++){var i=e.get(t+"A").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC04.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC04.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC04",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC04.View,n.Model.View),n.Model.DD_74HC04.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC04.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC08={},n.model_map.put("74HC08",n.Model.DD_74HC08),n.Model.DD_74HC08.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=7e-9,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()?1:0;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC08.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC08.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC08",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC08.View,n.Model.View),n.Model.DD_74HC08.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC08.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC10={},n.model_map.put("74HC10",n.Model.DD_74HC10),n.Model.DD_74HC10.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","1C","2A","2B","2C","3A","3B","3C"],outputs:["1Y","2Y","3Y"]},a=9e-9,s=function(e){for(var t=1;3>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()&&e.get(t+"C").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC10.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC10.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC10",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC10.View,n.Model.View),n.Model.DD_74HC10.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC10.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC11={},n.model_map.put("74HC11",n.Model.DD_74HC11),n.Model.DD_74HC11.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","1C","2A","2B","2C","3A","3B","3C"],outputs:["1Y","2Y","3Y"]},a=9e-9,s=function(e){for(var t=1;3>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()&&e.get(t+"C").value()?1:0;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC11.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC11.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC11",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC11.View,n.Model.View),n.Model.DD_74HC11.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC11.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC14={},n.model_map.put("74HC14",n.Model.DD_74HC14),n.Model.DD_74HC14.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],STinputs:["1A","2A","3A","4A","5A","6A"],outputs:["1Y","2Y","3Y","4Y","5Y","6Y"]},a=7e-9,s=function(e){for(var t=1;6>=t;t++){var i=e.get(t+"A").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC14.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC14.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC14",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC14.View,n.Model.View),n.Model.DD_74HC14.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC14.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC20={},n.model_map.put("74HC20",n.Model.DD_74HC20),n.Model.DD_74HC20.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","1C","1D","2A","2B","2C","2D"],outputs:["1Y","2Y"]},a=9e-9,s=function(e){for(var t=1;2>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()&&e.get(t+"C").value()&&e.get(t+"D").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC20.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC20.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC20",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC20.View,n.Model.View),n.Model.DD_74HC20.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC20.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC21={},n.model_map.put("74HC21",n.Model.DD_74HC21),n.Model.DD_74HC21.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","1C","1D","2A","2B","2C","2D"],outputs:["1Y","2Y"]},a=9e-9,s=function(e){for(var t=1;2>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()&&e.get(t+"C").value()&&e.get(t+"D").value()?1:0;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC21.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC21.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC21",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC21.View,n.Model.View),n.Model.DD_74HC21.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC21.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC27={},n.model_map.put("74HC27",n.Model.DD_74HC27),n.Model.DD_74HC27.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","1C","2A","2B","2C","3A","3B","3C"],outputs:["1Y","2Y","3Y"]},a=9e-9,s=function(e){for(var t=1;3>=t;t++){var i=e.get(t+"A").value()||e.get(t+"B").value()||e.get(t+"C").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC27.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC27.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC27",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC27.View,n.Model.View),n.Model.DD_74HC27.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC27.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC32={},n.model_map.put("74HC32",n.Model.DD_74HC32),n.Model.DD_74HC32.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=7e-9,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()||e.get(t+"B").value()?1:0;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC32.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC32.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC32",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC32.View,n.Model.View),n.Model.DD_74HC32.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC32.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC86={},n.model_map.put("74HC86",n.Model.DD_74HC86),n.Model.DD_74HC86.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=1.1e-8,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()==e.get(t+"B").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC86.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC86.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC86",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC86.View,n.Model.View),n.Model.DD_74HC86.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC86.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC132={},n.model_map.put("74HC132",n.Model.DD_74HC132),n.Model.DD_74HC132.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],STinputs:["1A","1B","2A","2B","3A","3B","4A","4B"],outputs:["1Y","2Y","3Y","4Y"]},a=7e-9,s=function(e){for(var t=1;4>=t;t++){var i=e.get(t+"A").value()&&e.get(t+"B").value()?0:1;e.get(t+"Y").setValue(a,i)}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC132.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC132.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC132",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC132.View,n.Model.View),n.Model.DD_74HC132.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC132.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC73={},n.model_map.put("74HC73",n.Model.DD_74HC73),n.Model.DD_74HC73.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1CP","1R","1K","1J","2CP","2R","2K","2J"],outputs:["1Q","1NQ","2Q","2NQ"]},a=1.4e-8,s=function(e){for(var t=1;2>=t;t++){var i=e.get(t+"R").value(),n=e.get(t+"J").value(),o=e.get(t+"K").value();if(0==i)e.get(t+"Q").setValue(a,0),e.get(t+"NQ").setValue(a,1);else if(e.get(t+"CP").falling_edge())if(1==n&&1==o){var r=e.get(t+"NQ").value();e.get(t+"Q").setValue(a,r),e.get(t+"NQ").setValue(a,r?0:1)}else 0==n&&1==o?(e.get(t+"Q").setValue(a,0),e.get(t+"NQ").setValue(a,1)):1==n&&0==o&&(e.get(t+"Q").setValue(a,1),e.get(t+"NQ").setValue(a,0))}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC73.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC73.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC73",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC73.View,n.Model.View),n.Model.DD_74HC73.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC73.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC74={},n.model_map.put("74HC74",n.Model.DD_74HC74),n.Model.DD_74HC74.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["1RD","1D","1CP","1SD","2RD","2D","2CP","2SD"],outputs:["1Q","1NQ","2Q","2NQ"]},a=1.4e-8,s=function(e){for(var t=1;2>=t;t++){var i=e.get(t+"SD").value(),n=e.get(t+"RD").value(),o=e.get(t+"D").value();0==i&&1==n?(e.get(t+"Q").setValue(a,1),e.get(t+"NQ").setValue(a,0)):1==i&&0==n?(e.get(t+"Q").setValue(a,0),e.get(t+"NQ").setValue(a,1)):0==i&&0==n?(e.get(t+"Q").setValue(a,1),e.get(t+"NQ").setValue(a,1)):e.get(t+"CP").rising_edge()&&(e.get(t+"Q").setValue(a,o),e.get(t+"NQ").setValue(a,o?0:1))}},t=new n.digitalDevice(o,r,s)},extend(n.Model.DD_74HC74.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC74.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC74",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC74.View,n.Model.View),n.Model.DD_74HC74.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC74.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC93={},n.model_map.put("74HC93",n.Model.DD_74HC93),n.Model.DD_74HC93.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["CP0","CP1","MR1","MR2"],outputs:["Q0","Q1","Q2","Q3"]},a=1.5e-8,s=0,c=0,l=function(e){var t=e.get("MR1").value(),i=e.get("MR2").value();if(1==t&&1==i){s=0,c=0;for(var n=0;4>n;n++)e.get("Q"+n).setValue(a,0)}else e.get("CP0").falling_edge()&&(s=s?0:1,e.get("Q0").setValue(a,s)),e.get("CP1").falling_edge()&&(c++,c>7&&(c=0),e.get("Q1").setValue(a,Math.floor(c%2)),e.get("Q2").setValue(a,Math.floor(c/2%2)),e.get("Q3").setValue(a,Math.floor(c/4%2)))},t=new n.digitalDevice(o,r,l)},extend(n.Model.DD_74HC93.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC93.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC93",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC93.View,n.Model.View),n.Model.DD_74HC93.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC93.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_74HC4017={},n.model_map.put("74HC4017",n.Model.DD_74HC4017),n.Model.DD_74HC4017.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={ground:["GND"],power:["Vcc"],inputs:["MR","CP1n","CP0"],outputs:["Q0","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","Q9","Q5-9n"]},a=2e-8,s=0,c=function(e){var t=e.get("MR").value();1==t?s=0:(e.get("CP0").rising_edge()&&!e.get("CP1n").value()||e.get("CP1n").falling_edge()&&e.get("CP0").value())&&(s=9==s?0:s+1);for(var i=0;10>i;i++)e.get("Q"+i).setValue(a,s==i?1:0);e.get("Q5-9n").setValue(a,5>s?1:0)},t=new n.digitalDevice(o,r,c)},extend(n.Model.DD_74HC4017.SimulationModel,n.Model.SimulationModel),n.Model.DD_74HC4017.View=function(e,t,i){if(this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".packagepin",e.group).length>0){var n=cGraphics.eg_Label({text:"74HC4017",style:{align:"middle",size:10}}).svg;e.gui.svg.add(e.group,n)}this.addBreakdown()},extend(n.Model.DD_74HC4017.View,n.Model.View),n.Model.DD_74HC4017.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_74HC4017.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DD_CD4511={},n.model_map.put("CD4511",n.Model.DD_CD4511),n.Model.DD_CD4511.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i,o.lut=[[1,1,1,1,1,1,0],[0,1,1,0,0,0,0],[1,1,0,1,1,0,1],[1,1,1,1,0,0,1],[0,1,1,0,0,1,1],[1,0,1,1,0,1,1],[0,0,1,1,1,1,1],[1,1,1,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,0,0,1,1],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];var r={ground:["GND"],power:["Vcc"],inputs:["AIN","BIN","CIN","DIN","LT","BI","LE"],outputs:["A","B","C","D","E","F","G"]},a=7.2e-7,s=[0,0,0,0,0,0,0,0],c=function(e){var t=e.get("LT").value(),i=e.get("BI").value(),n=e.get("LE").value(),r=(e.get("AIN").value()?1:0)|(e.get("BIN").value()?2:0)|(e.get("CIN").value()?4:0)|(e.get("DIN").value()?8:0);n||(s=o.lut[r]);for(var c=0;7>c;++c)e.get(["A","B","C","D","E","F","G"][c]).setValue(a,0==t?1:0==i?0:s[c])},l={powerQuiescentCurrent:4e-8,powerMaxCurrent:.175,powerInputResistance:8e6,powerVccMin:-.5,powerVccMax:18,powerVccMinOperating:3,powerVccMaxOperating:15,inputResistance:8e6,inputCapacitance:5e-12,inputPositiveVoltageThreshold:.6,inputNegativeVoltageThreshold:.4,outputResistanceLowImpedance:45,outputResistanceHighImpedance:1e8,outputMaxCurrent:.025,outputDiodeIdeality:.35},t=new n.digitalDevice(o,r,c,l)},extend(n.Model.DD_CD4511.SimulationModel,n.Model.SimulationModel),n.Model.DD_CD4511.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.DD_CD4511.View,n.Model.View),n.Model.DD_CD4511.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.DD_CD4511.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Scope={},n.model_map.put("oscilloscope",n.Model.Scope),n.Model.Scope.SimulationModel=function(e,t,i){function o(){var e=t.getPropertyValue("Time per division"),i=t.getPropertyValue("Volt per division");h=10*e,p=i/2*10,d.setValue(.1,!0),u.setValue(0,!1)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=1e8,s=this.getNetbyTerminalName("pos"),c=this.getNetbyTerminalName("neg"),l=(this.simulator.analogCircuit.addResistor(s,c,a),new n.Signal(r.simulator,"Scope trigger",0)),d=new n.Signal(r.simulator,"Scope trigger enable",!0),u=new n.Signal(r.simulator,"Scope draw",!1);l.setValue(0,1),r.simulator.analogCircuit.addDynamicTrigger(l,d,s,c,function(e,t){return e-t>f?1:0});var h,p;t.properties.onPut("simulator",o,10),o();var g,m;l.add_process([null,function(){l.rising_edge()&&(g=Date.now(),m=r.simulator.time.time,d.setValue(0,!1),u.setValue(h/2,!0))}]),u.add_process([null,function(){if(u.rising_edge()){if(i.autoscale())var e=h,t=-1;else var e=h,t=p;var n=r.simulator.analog_model.svg_data(s,c,m-e/2,m+e/2,1e3,t);i.data(n.data),i.xscale(n.xscale),i.yscale(n.yscale),l.setValue(0,0),d.setValue(0,!0),u.setValue(0,!1)}}]),r.simulator.keep_history(r.breadboardElement,5*h);var f=0,_=function(e){var t=(e.value(),r.simulator.analog_model.minmax(r.simulator.time.time,2*h,s,c));f=(t.min+t.max)/2,r.simulator.keep_history(r.breadboardElement,2*h),Date.now()-g>3e3&&l.setValue(0,1)};this.simulator.update_ui.add_process([this,_,[e.update_ui]])},extend(n.Model.Scope.SimulationModel,n.Model.SimulationModel),n.Model.Scope.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateOscilloscope(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateOscilloscope(e.group,{inactive:!0}),i.data.onChange("view",function(t,i,n){cGraphics.updateOscilloscope(e.group,{graph:n})},10),i.xscale.onChange("view",function(t,i,o){cGraphics.updateOscilloscope(e.group,{xscale:n.Model.SimulationModel.printValueUnit(o,"s")})},10),i.yscale.onChange("view",function(t,i,o){cGraphics.updateOscilloscope(e.group,{yscale:n.Model.SimulationModel.printValueUnit(2*o,"V")})},10)},n.Model.Scope.Model=function(e,t){this.makeVersioned(e),this.data=this.value("data","M 0 0",!1,!0),this.xscale=this.value("xscale",10,!1,!0),this.yscale=this.value("yscale",5,!1,!0),this.autoscale=this.value("autoscale",!0,!1,!0)},extend(n.Model.Scope.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Timer555={},n.model_map.put("Timer555",n.Model.Timer555),n.Model.Timer555.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=this.getNetbyTerminalName("Vcc"),a=this.getNetbyTerminalName("GND"),s=this.getNetbyTerminalName("CTRL"),c=this.getNetbyTerminalName("TRIG"),l=this.getNetbyTerminalName("THR"),d=this.getNetbyTerminalName("Reset"),u=this.getNetbyTerminalName("DIS"),h=this.getNetbyTerminalName("OUT"),p={name:"Trigger_Compare_Net_"},g={name:"Discharge_NPN_base_Net_"},m=(this.simulator.analogCircuit.addResistor(r,s,5e3),this.simulator.analogCircuit.addResistor(s,p,5e3),this.simulator.analogCircuit.addResistor(p,a,5e3),this.simulator.analogCircuit.addResistor(c,r,1e7),this.simulator.analogCircuit.addResistor(l,a,5e7),this.simulator.analogCircuit.addResistor(d,r,4e4),new n.Signal(this.simulator,"555 Timer reset signal",0));this.simulator.analogCircuit.addTrigger(m,d,a,function(e,t){return 1>e-t});var f=new n.Signal(this.simulator,"555 Timer Threshold signal",0);this.simulator.analogCircuit.addTrigger(f,l,s,function(e,t){return e>t});var _=new n.Signal(this.simulator,"555 Timer Trigger signal",0);this.simulator.analogCircuit.addTrigger(_,c,p,function(e,t){
return t>e});var v=5e-7,y=new n.Signal(this.simulator,"555 Timer FlipFlop output signal",1),C=function(){var e=_.value(),t=f.value()||m.value();t?y.setValue(v,0):e&&y.setValue(v,1)};f.add_process([this,C]),_.add_process([this,C]),m.add_process([this,C]);var b=3e4,w=new n.ProcessedSignal(y,function(e){return 0==e?b:1e8}),M=(this.simulator.analogCircuit.addResistor(r,g,w),new n.ProcessedSignal(y,function(e){return 1==e?1:1e8})),S=(this.simulator.analogCircuit.addResistor(g,a,M),this.simulator.analogCircuit.addNPN(g,a,u),15),w=new n.ProcessedSignal(y,function(e){return 1==e?S:1e8}),M=(this.simulator.analogCircuit.addResistor(r,h,w),new n.ProcessedSignal(y,function(e){return 0==e?S:1e8}));this.simulator.analogCircuit.addResistor(h,a,M)},extend(n.Model.Timer555.SimulationModel,n.Model.SimulationModel),n.Model.Timer555.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.Timer555.View,n.Model.View),n.Model.Timer555.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Timer555.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Timer556={},n.model_map.put("timer556",n.Model.Timer556),n.Model.Timer556.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=this.getNetbyTerminalName("vcc"),a=this.getNetbyTerminalName("gnd"),s=function(e,t,i,o,r,a,s,c,l,d){var u={name:"Trigger_Compare_Net_"+t+"_"},h={name:"Discharge_NPN_base_Net_"+t+"_"},p=(e.simulator.analogCircuit.addResistor(i,r,5e3),e.simulator.analogCircuit.addResistor(r,u,5e3),e.simulator.analogCircuit.addResistor(u,o,5e3),e.simulator.analogCircuit.addResistor(a,i,1e7),e.simulator.analogCircuit.addResistor(s,o,5e7),e.simulator.analogCircuit.addResistor(c,i,4e4),new n.Signal(e.simulator,"556 Timer reset signal "+t,0));e.simulator.analogCircuit.addTrigger(p,c,o,function(e,t){return 1>e-t});var g=new n.Signal(e.simulator,"556 Timer Threshold signal "+t,0);e.simulator.analogCircuit.addTrigger(g,s,r,function(e,t){return e>t});var m=new n.Signal(e.simulator,"556 Timer Trigger signal "+t,0);e.simulator.analogCircuit.addTrigger(m,a,u,function(e,t){return t>e});var f=5e-7,_=new n.Signal(e.simulator,"556 Timer FlipFlop output signal "+t,1),v=function(){var e=m.value(),t=g.value()||p.value();t?_.setValue(f,0):e&&_.setValue(f,1)};g.add_process([e,v]),m.add_process([e,v]),p.add_process([e,v]);var y=3e4,C=new n.ProcessedSignal(_,function(e){return 0==e?y:1e8}),b=(e.simulator.analogCircuit.addResistor(i,h,C),new n.ProcessedSignal(_,function(e){return 1==e?1:1e8})),w=(e.simulator.analogCircuit.addResistor(h,o,b),e.simulator.analogCircuit.addNPN(h,o,l),15),C=new n.ProcessedSignal(_,function(e){return 1==e?w:1e8}),b=(e.simulator.analogCircuit.addResistor(i,d,C),new n.ProcessedSignal(_,function(e){return 0==e?w:1e8}));e.simulator.analogCircuit.addResistor(d,o,b)};s(o,"A",r,a,this.getNetbyTerminalName("control_a"),this.getNetbyTerminalName("trigger_a"),this.getNetbyTerminalName("threshold_a"),this.getNetbyTerminalName("reset_a"),this.getNetbyTerminalName("discharge_a"),this.getNetbyTerminalName("output_a")),s(o,"B",r,a,this.getNetbyTerminalName("control_b"),this.getNetbyTerminalName("trigger_b"),this.getNetbyTerminalName("threshold_b"),this.getNetbyTerminalName("reset_b"),this.getNetbyTerminalName("discharge_b"),this.getNetbyTerminalName("output_b"))},extend(n.Model.Timer556.SimulationModel,n.Model.SimulationModel),n.Model.Timer556.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.Timer556.View,n.Model.View),n.Model.Timer556.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Timer556.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.opAmp741={},n.model_map.put("opAmp_UA741",n.Model.opAmp741),n.Model.opAmp741.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("Vcc"),r=this.getNetbyTerminalName("Gnd"),a=this.getNetbyTerminalName("V+"),s=this.getNetbyTerminalName("V-"),c=(this.getNetbyTerminalName("Offset1"),this.getNetbyTerminalName("Offset2"),this.getNetbyTerminalName("OUT")),l=(this.getNetbyTerminalName("Nc"),30/.0033),d=2e6,u=75,h=2e5;this.simulator.analogCircuit.addOpAmp(a,s,o,r,c,d,u,h),this.simulator.analogCircuit.addResistor(o,r,l)},extend(n.Model.opAmp741.SimulationModel,n.Model.SimulationModel),n.Model.opAmp741.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.opAmp741.View,n.Model.View),n.Model.opAmp741.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.opAmp741.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.PhotoDiode={},o.model_map.put("photodiode",o.Model.PhotoDiode),o.Model.photodiode_v2={},o.model_map.put("photodiode_v2",o.Model.photodiode_v2),o.Model.PhotoDiode.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=5e5,a=.85,s=100,c=1,l=this.getNetbyTerminalName("terminal-1"),d=this.getNetbyTerminalName("terminal-2"),u=new o.Signal(this.simulator,this.name,!1),h=new o.ProcessedSignal(u,function(e){var t=e?s:c;return Math.exp(Math.log(r)-(Math.log(t)-Math.log(.3))*a)});this.simulator.analogCircuit.addResistor(l,d,h);i.position.onChange("simulator",function(e,t,i){u.setValue(0,i)},10)},extend(o.Model.PhotoDiode.SimulationModel,o.Model.SimulationModel),o.Model.PhotoDiode.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".led","click"),i.position.onChange("view",function(e,t,i){i?$("#PhotoDiode ellipse[rx='10.366']",n.parent.group).attr("fill","yellow"):$("#PhotoDiode ellipse[rx='10.366']",n.parent.group).attr("fill","#DBDDAF")},10)},o.Model.PhotoDiode.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",!1,!1,!0)},extend(o.Model.PhotoDiode.Model,r),o.Model.photodiode_v2.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=1e-7,a=1e3,s=1e6,c=1e-11,l=1,d=this.getNetbyTerminalName("anode"),u=this.getNetbyTerminalName("cathode"),h=new o.Signal(this.simulator,"photodiode lux signal",0),p=new o.ProcessedSignal(h,function(e){return r*e*a});e.analogCircuit.addCurrentSource(d,u,p),e.analogCircuit.addDiode(d,u,c,l),e.analogCircuit.addResistor(d,u,s),i.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50;h.setValue(0,n)},10)},extend(o.Model.photodiode_v2.SimulationModel,o.Model.SimulationModel),o.Model.photodiode_v2.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateDiodePhoto({view:e.group,control:e.interactionControlGroup},{incominglight:n})},10)},extend(o.Model.photodiode_v2.View,o.Model.View),o.Model.photodiode_v2.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.photodiode_v2.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.lightBulb={},n.model_map.put("lightBulb",n.Model.lightBulb),n.Model.lightBulb.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.25,r=48,a=this.getNetbyTerminalName("1"),s=this.getNetbyTerminalName("2"),c=e.analogCircuit.addResistor(a,s,r),l=function(e){var t=e.value(),r=Math.abs(c.getCurrent(t));if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the light bulb is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,l,[e.update_ui]])},extend(n.Model.lightBulb.SimulationModel,n.Model.SimulationModel),n.Model.lightBulb.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=.001>n?0:n>1?1:n;o=Math.pow(o,1/3),cGraphics.updateIncandescentBulb(e.group,{brightness:o})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateIncandescentBulb(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.lightBulb.View,n.Model.View),n.Model.lightBulb.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.lightBulb.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.AABattery={},n.model_map.put("AABattery",n.Model.AABattery),n.Model.AABattery.SimulationModel=function(e,t,i){function o(){var e=parseInt(t.getPropertyValue("count"))||1;l.setValue(0,e)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=1.5,s=.5,c=parseInt(t.getPropertyValue("count"))||1,l=new n.Signal(this.simulator,"battery count",c),d=new n.ProcessedSignal(l,function(e){return s*e}),u=new n.ProcessedSignal(l,function(e){return a*e}),h=this.getNetbyTerminalName("+"),p=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(h,p,u,d);t.properties.onPut("simulate",o,10)},extend(n.Model.AABattery.SimulationModel,n.Model.SimulationModel),n.Model.AABattery.View=function(e,t,i){function n(){var i=parseInt(t.getPropertyValue("count"))||1;cGraphics.updateBatteryAA(e.group,e.controlGroup,{cellCount:i})}t.properties.onPut("view",n,10),n()},n.Model.AABattery.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.AABattery.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.AABattery2={},n.model_map.put("AABattery2",n.Model.AABattery2),n.Model.AABattery2.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=3,r=1,a=this.getNetbyTerminalName("+"),s=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(a,s,o,r)},extend(n.Model.AABattery2.SimulationModel,n.Model.SimulationModel),n.Model.AABattery2.View=function(e,t,i){},n.Model.AABattery2.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.AABattery2.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.AABattery3={},n.model_map.put("AABattery3",n.Model.AABattery3),n.Model.AABattery3.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=4.5,r=1.5,a=this.getNetbyTerminalName("+"),s=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(a,s,o,r)},extend(n.Model.AABattery3.SimulationModel,n.Model.SimulationModel),n.Model.AABattery3.View=function(e,t,i){},n.Model.AABattery3.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.AABattery3.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.AABattery4={},n.model_map.put("AABattery4",n.Model.AABattery4),n.Model.AABattery4.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=6,r=2,a=this.getNetbyTerminalName("+"),s=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(a,s,o,r)},extend(n.Model.AABattery4.SimulationModel,n.Model.SimulationModel),n.Model.AABattery4.View=function(e,t,i){},n.Model.AABattery4.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.AABattery4.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.coinCell={},n.model_map.put("coinCell",n.Model.coinCell),n.Model.coinCell.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=3,r=10,a=this.getNetbyTerminalName("+"),s=this.getNetbyTerminalName("-");e.analogCircuit.addVoltageSource(a,s,o,r)},extend(n.Model.coinCell.SimulationModel,n.Model.SimulationModel),n.Model.coinCell.View=function(e,t,i){},n.Model.coinCell.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.coinCell.Model,o)},function(e,t,i){var n=i(173),o=i(191),r=i(433),a=i(176).Versioned;r.Model.powerSupply={},r.model_map.put("powerSupply",r.Model.powerSupply),r.Model.powerSupply.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e-4,a=1e10,s=this.getNetbyTerminalName("Vcc"),c=this.getNetbyTerminalName("GND"),l=t.getPropertyValue("Voltage")||5,d=t.getPropertyValue("Current")||5,u=new r.Signal(e,"powerPosition",!1),h=new r.Signal(e,"voltagePosition",l),p=new r.Signal(e,"currentPosition",d),g=new r.ProcessedSignal(u,function(e){return e?o:a}),m=new r.ProcessedSignal(u,h,function(e,t){return e?t*i.voltMax:0}),f=new r.ProcessedSignal(u,p,function(e,t){return e?t*i.ampMax:i.ampMax}),_=e.analogCircuit.addCurrentLimitingVoltageSource(s,c,m,g,f);i.power.onChange("simulator",function(e,t,i){u.setValue(0,i)},10),i.power(!0),i.voltPosition.onChange("simulator",function(e,t,i){var n=Math.round(150*(0>i?0:i))/150;h.setValue(0,n)},10),i.voltPosition(l/i.voltMax),i.ampPosition.onChange("simulator",function(e,t,i){var n=Math.round(50*(0>i?0:i))/50;p.setValue(0,n)},10),i.ampPosition(d/i.ampMax);var v=function(e){var t=e.value();if(i.power()){var o=_.getVoltage(t);Math.abs(o)<.001&&(o=0),i.voltText(n.printValueUnit(o,"V"));var r=_.getCurrent(t);Math.abs(r)<1e-5&&(r=0),i.ampText(n.printValueUnit(r,"A")),i.mode(r<f.value()?1:2)}else i.voltText(""),i.ampText(""),i.mode(0)};this.simulator.update_ui.add_process([this,v,[e.update_ui]])},extend(r.Model.powerSupply.SimulationModel,r.Model.SimulationModel),r.Model.powerSupply.View=function(e,t,i,n){var o=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction.cgfx__powerbtn","click","Power"),this.addEvent(".cgfx__hitarea-interaction.cgfx__potentiometer-voltage","potentiometer","Voltage"),this.addEvent(".cgfx__hitarea-interaction.cgfx__potentiometer-current","potentiometer","Current"),n.simulatorState.onChange(o,function(t,i,n){cGraphics.updatePowerSupplyDC(e.group,{inactive:n==r.states.IDLE})}),i.power.onChange("view",function(t,i,n){cGraphics.updatePowerSupplyDC(e.group,{isOn:n}),cGraphics.updatePowerSupplyDC(e.group,{inactive:!n})},10),i.power(!1),i.voltPosition.onChange("view",function(t,n,r){var a=!1;0>r?(r=0,a=!0):cGraphics.updatePowerSupplyDC(e.group,{voltageposition:r});var s=Math.round(150*r)/150;if(!a){var c=o.device.getPropertyValue("Voltage");null!==c&&Math.abs(c-r*i.voltMax)>1e-6&&o.breadboardElement.gui.mode==Circuits.GuiMode.EDIT&&(o.device.root.rec(),o.device.setProperty("Voltage",!1,s*i.voltMax,""),o.device.root.stopRec())}},10);var a=t.getPropertyValue("Voltage")||5;i.voltPosition(a/i.voltMax),i.voltText.onChange("view",function(t,i,n){cGraphics.updatePowerSupplyDC(e.group,{voltagedisplaytext:n})},10),i.ampPosition.onChange("view",function(t,n,r){var a=!1;0>r?(r=0,a=!0):cGraphics.updatePowerSupplyDC(e.group,{currentposition:r});var s=Math.round(50*r)/50;if(!a){var c=o.device.getPropertyValue("Current");null!==c&&Math.abs(c-r*i.ampMax)&&o.breadboardElement.gui.mode==Circuits.GuiMode.EDIT&&(o.device.root.rec(),o.device.setProperty("Current",!1,s*i.ampMax,""),o.device.root.stopRec())}},10);var s=t.getPropertyValue("Current")||5;i.ampPosition(s/i.ampMax),i.ampText.onChange("view",function(t,i,n){cGraphics.updatePowerSupplyDC(e.group,{currentdisplaytext:n})},10),i.mode.onChange("view",function(t,i,n){cGraphics.updatePowerSupplyDC(e.group,{vcledBrightness:1==n?1:0,ccledBrightness:2==n?1:0})},10),t.properties.onPut("view",function(){var e=t.getPropertyValue("Voltage");!e||0>e?e=0:e>i.voltMax&&(e=i.voltMax);var n=t.getPropertyValue("Current");!n||0>n?n=0:n>i.ampMax&&(n=i.ampMax),i.voltPosition(e/i.voltMax),i.ampPosition(n/i.ampMax)},10)},extend(r.Model.powerSupply.View,r.Model.View),r.Model.powerSupply.Model=function(e,t){this.makeVersioned(e);var i=t.getDescription().svg;this.subElementMap=new n.HashMap,this.power=this.value("power",!1,!1,!0),this.voltPosition=this.value("voltPosition",-1,!1,!0),this.voltText=this.value("voltText","",!1,!0),this.ampPosition=this.value("ampPosition",-1,!1,!0),this.ampText=this.value("ampText","",!1,!0),this.mode=this.value("mode",0,!1,!0),this.voltMax=30,this.ampMax=5,this.subElementMap.put("Power",{position:this.power});var r=$(".cgfx__hitarea-interaction.cgfx__potentiometer-voltage",i),a=SvgHelpers.getParentTransformation(r[0]),s=new o.Coord(parseFloat(r.attr("cx")),parseFloat(r.attr("cy"))),c=s.add(new o.Coord(0,1));this.subElementMap.put("Voltage",{position:this.voltPosition,knobCenter:s.svgTransform(a),knobAngle:c.svgTransform(a).sub(s.svgTransform(a)).angleDegrees()});var r=$(".cgfx__hitarea-interaction.cgfx__potentiometer-current",i),a=SvgHelpers.getParentTransformation(r[0]),s=new o.Coord(parseFloat(r.attr("cx")),parseFloat(r.attr("cy"))),c=s.add(new o.Coord(0,1));this.subElementMap.put("Current",{position:this.ampPosition,knobCenter:s.svgTransform(a),knobAngle:c.svgTransform(a).sub(s.svgTransform(a)).angleDegrees()})},extend(r.Model.powerSupply.Model,a)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.L293D={},o.Model.L293D.simulationModelName="L293D",o.model_map.put(o.Model.L293D.simulationModelName,o.Model.L293D),o.Model.L293D.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=5e3,s=1250,c=5e5,l=2,d=25e4,u=36,h=4.5,p=1.9,g=1e-20,m=1,f=this.getNetbyTerminalName("Vss"),_=this.getNetbyTerminalName("Vs"),v=this.getNetbyTerminalName("GND");e.analogCircuit.mergeNets(v,this.getNetbyTerminalName("GND1")),e.analogCircuit.mergeNets(v,this.getNetbyTerminalName("GND2")),e.analogCircuit.mergeNets(v,this.getNetbyTerminalName("GND3"));var y=["Input1","Input2","Input3","Input4"],C=["Output1","Output2","Output3","Output4"],b=["Enable1",-1,"Enable2",-1],w=new n.HashMap,M=new n.HashMap,S=e.analogCircuit.addResistor(_,v,a),x=e.analogCircuit.addResistor(f,v,s),T=new o.Signal(e,"L293D logic power",!1);e.analogCircuit.addTrigger(T,f,v,function(e,t){return e-t>h});for(var E,A=0;A<y.length;A++){var D=this.getNetbyTerminalName(y[A]),L=e.analogCircuit.addResistor(D,v,c),B=new o.Signal(e,"L293D input "+A,!1);if(e.analogCircuit.addTrigger(B,D,v,function(e,t){return e-t>p}),w.put(y[A],L),-1!=b[A]){var k=this.getNetbyTerminalName(b[A]),L=e.analogCircuit.addResistor(k,v,c);E=new o.Signal(e,"L293D enable "+A,!1),e.analogCircuit.addTrigger(E,k,v,function(e,t){return e-t>p}),w.put(b[A],L)}var R=this.getNetbyTerminalName(C[A]),I=new o.ProcessedSignal(T,B,E,function(e,t,i){return e&&i&&t?l:d}),P=e.analogCircuit.addResistor(_,R,I),N=new o.ProcessedSignal(T,B,E,function(e,t,i){return e&&i&&!t?l:d}),O=this.simulator.analogCircuit.addResistor(R,v,N);M.put(C[A]+" sources",P),M.put(C[A]+" sinks",O),e.analogCircuit.addDiode(v,R,g,m),e.analogCircuit.addDiode(R,_,g,m)}var V=function(e){var t=e.value(),n="",o=S.getVoltage(t);o>u&&(n+=" Voltage at Vs pin is "+r.printValueUnit(o,"V")+", while maximum is "+r.printValueUnit(u,"V")+".");var a=x.getVoltage(t);a>u&&(n+=" Voltage at Vcc pin is "+r.printValueUnit(a,"V")+", while maximum is "+r.printValueUnit(u,"V")+"."),w.forEach(function(e,i){var o=i.getVoltage(t);o-a>.1&&(n+=" Voltage at pin "+e+" ("+r.printValueUnit(o,"V")+") is higher than Voltage at Vcc ("+r.printValueUnit(a,"V")+").")}),i.breakdown({breakdown:""!=n,reason:n})};e.update_ui.add_process([this,V,[e.update_ui]])},extend(o.Model.L293D.SimulationModel,o.Model.SimulationModel),o.Model.L293D.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(o.Model.L293D.View,o.Model.View),o.Model.L293D.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(o.Model.L293D.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.lcd={},n.model_map.put("LCD_HD44780",n.Model.lcd),n.Model.lcd.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i,o.DEBUG=!1;var r=.02,a=1e-20,s=1.8,c=4200,l=4e5,d=3.3,u=5,h=12500,p=this.getNetbyTerminalName("GND"),g=this.getNetbyTerminalName("VDD"),m=this.getNetbyTerminalName("VO"),f=this.getNetbyTerminalName("RS"),_=this.getNetbyTerminalName("RW"),v=this.getNetbyTerminalName("E"),y=["DB0","DB1","DB2","DB3","DB4","DB5","DB6","DB7"],C=this.getNetbyTerminalName("LED+"),b=this.getNetbyTerminalName("LED-"),w=(e.analogCircuit.addResistor(g,p,c),new n.Signal(e,"LCD power",0,o.DEBUG));e.analogCircuit.addTrigger(w,g,p,function(e,t){return e-t>4.5?1:0}),e.analogCircuit.addResistor(f,p,l);var M=new n.Signal(e,"LCD RS",0,o.DEBUG);e.analogCircuit.addTrigger(M,f,p,function(e,t){return e-t>2.5?1:0}),e.analogCircuit.addResistor(_,p,l);var S=new n.Signal(e,"LCD RW",0,o.DEBUG);e.analogCircuit.addTrigger(S,_,p,function(e,t){return e-t>2.5?1:0}),e.analogCircuit.addResistor(v,p,l);var x=new n.Signal(e,"LCD Enable",0,o.DEBUG);e.analogCircuit.addTrigger(x,v,p,function(e,t){return e-t>2.5?1:0});var T=[];for(var E in y){var A=this.getNetbyTerminalName(y[E]);e.analogCircuit.addResistor(A,p,l);var D=new n.Signal(e,"LCD Data"+E,0,o.DEBUG);T.push(D),e.analogCircuit.addTrigger(D,A,p,function(e,t){return e-t>2.5?1:0})}var L=new n.HD44780(e,w,M,S,x,T,cGraphics.lcdArrayGenerator.dotMatrixChars),B=e.analogCircuit.addResistor(g,m,h),k=e.analogCircuit.addDiode(C,b,a,s),R=function(e){var t=e.value(),n="";L.needsScreenRefresh()&&i.content(L.render(16,2));var a=(B.getVoltage(t)-d)/(u-d);i.contrast(0>a?0:a>1?1:a);var s=k.getCurrent(t);s>r?(i.brightness(1),n="Current through backlight led is "+o.printValueUnit(s,"A")+", while maximum is "+o.printValueUnit(r,"A")):i.brightness(s/r),i.breakdown({breakdown:""!=n,reason:n})};e.update_ui.add_process([this,R,[e.update_ui]])},extend(n.Model.lcd.SimulationModel,n.Model.SimulationModel),n.Model.lcd.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),this.model={dotarray:i.content(),brightness:i.brightness(),contrast:i.contrast()},i.content.onChange("view",function(t,o,r){1==r.length&&(r[1]=i.content.def()[1]),n.model.dotarray=r,cGraphics.updateLcd16x2Blue(e.group,n.model)},10),i.brightness.onChange("view",function(t,i,o){var r=Math.pow(o,1/3);Math.abs(n.model.brightness-r)>.01&&(n.model.brightness=r,cGraphics.updateLcd16x2Blue(e.group,n.model))},10),i.contrast.onChange("view",function(t,i,o){Math.abs(n.model.contrast-o)>.01&&(n.model.contrast=o,cGraphics.updateLcd16x2Blue(e.group,n.model))},10),cGraphics.updateLcd16x2Blue(e.group,this.model)},extend(n.Model.lcd.View,n.Model.View),n.Model.lcd.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0);var i=[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]];this.content=this.value("content",cGraphics.lcdArrayGenerator.fromDecimalArray(i),!1,!0),this.brightness=this.value("brightness",0,!1,!0),this.contrast=this.value("contrast",0,!1,!0)},extend(n.Model.lcd.Model,o),n.HD44780=function(e,t,i,o,r,a,s){var c=this;this.DEBUG=!1,this.sim=e,this.power=t,this.rs=i,this.rw=o,this.enable=r,this.data=a;var l=[this,this.run];this.power.add_process(l),this.enable.add_process(l),this.busyTimer=new n.Signal(e,"HD44780_busyTimer_signal",0,this.DEBUG),this.busyTimer.add_process([null,function(){c.flags.BF=0}]),this.blinkTimer=new n.Signal(e,"HD44780_blinkTimer_signal",0,this.DEBUG),this.blinkTimer.add_process([null,function(){c.blinkState=!c.blinkState,c.screenRefresh=!0,c.flags.B&&c.blinkTimer.setValue(.4096,!0)}]),this.CGROM=s,this.RAMSize=80,this.line2Offset=24,this.resetDevice()},n.HD44780.prototype.resetDevice=function(){this.DDRAM=new Uint8Array(this.RAMSize),this.CGRAM=new Uint8Array(255);for(var e=0;e<this.CGRAM.length;e++)this.CGRAM[e]=255;this.AC=0,this.IR=[0,0,0,0,0,0,0,0],this.DR=0,this.flags={BF:0,DL:1,N:0,F:0,D:0,C:0,B:0,S:0,ID:1},this.RAMselect=0,this.msb=0,this.displayShift=0,this.blinkState=!1,this.screenRefresh=!0},n.HD44780.prototype.needsScreenRefresh=function(){return this.screenRefresh},n.HD44780.prototype.run=function(){if(this.power.rising_edge())this.resetDevice(),this.flags.BF=1,this.busyTimer.setValue(.01,!0);else if(this.power.value()&&this.enable.falling_edge()){var e=this.rs.value(),t=this.rw.value();if(0==e)if(1==this.flags.DL)for(var i=0;8>i;i++)this.IR[i]=this.data[i].value();else{this.msb=this.msb?0:1;for(var i=0;4>i;i++)this.IR[i+4*this.msb]=this.data[i+4].value()}else if(1==this.flags.DL){this.DR=0;for(var i=0;8>i;i++)this.DR|=this.data[i].value()<<i}else{this.msb=this.msb?0:1,this.msb&&(this.DR=0);for(var i=0;4>i;i++)this.DR|=this.data[i+4].value()<<i+4*this.msb}if(1==this.flags.DL||0==this.msb){var n=0;if(0==e&&0==t){if(this.IR[7]){this.AC=0;for(var i=0;7>i;i++)this.AC|=this.IR[i]<<i;this.flags.N&&this.AC>=64&&(this.AC-=this.line2Offset),this.RAMselect=0,n=37e-6,this.screenRefresh=!0}else if(this.IR[6]){this.AC=0;for(var i=0;6>i;i++)this.AC|=this.IR[i]<<i;this.RAMselect=1,n=37e-6}else if(this.IR[5])this.flags.DL=this.IR[4],this.flags.N=this.IR[3],this.flags.F=this.IR[2],n=37e-6;else if(this.IR[4]){var o=this.IR[2]?1:-1;this.IR[3]?this.displayShift+=o:(this.AC+=o,this.AC<0&&(this.AC=this.RAMSize-1),this.AC>this.RAMSize-1&&(this.AC=0)),n=37e-6,this.screenRefresh=!0}else if(this.IR[3])this.flags.D=this.IR[2],this.flags.C=this.IR[1],this.flags.B=this.IR[0],this.flags.B?this.blinkTimer.setValue(0,!0):this.blinkTimer.removeEventsAfter(this.sim.time),n=37e-6,this.screenRefresh=!0;else if(this.IR[2])this.flags.ID=this.IR[1],this.flags.S=this.IR[0],n=37e-6;else if(this.IR[1])this.RAMselect=0,this.AC=0,this.displayShift=0,n=.00152,this.screenRefresh=!0;else if(this.IR[0]){for(var i=0;i<this.DDRAM.length;i++)this.DDRAM[i]=32;this.RAMselect=0,this.AC=0,this.displayShift=0,this.flags.ID=1,this.screenRefresh=!0}}else if(1==e&&0==t){var o=this.flags.ID?1:-1;0==this.RAMselect?(this.DDRAM[this.AC]=this.DR,this.flags.S&&(this.displayShift-=o),this.screenRefresh=!0):this.CGRAM[this.AC]=this.DR,this.AC+=o,this.AC<0&&(this.AC=0),this.AC>this.RAMSize-1&&(this.AC=this.RAMSize-1),n=41e-6}n&&(this.flags.BF=1,this.busyTimer.setValue(n,!0))}}},n.HD44780.prototype.render=function(e,t){var i=[],n=this.flags.N?40:80;if(this.flags.D){for(i[0]=[],s=0;e>s;s++){var o=(s-this.displayShift+n)%n;i[0][s]=this.renderChar(this.DDRAM[o],o==this.AC)}if(this.flags.N&&t>1)for(i[1]=[],s=0;e>s;s++){var o=40+(s-this.displayShift+n)%n;i[1][s]=this.renderChar(this.DDRAM[o],o==this.AC)}}else for(var r=this.flags.F?11:8,a=0;t>a;a++){i[a]=[];for(var s=0;e>s;s++){i[a][s]=[];for(var c=0;r>c;c++){i[a][s][c]=[];for(var l=0;5>l;l++)i[a][s][c][l]=0}}}return this.screenRefresh=!1,i},n.HD44780.prototype.renderChar=function(e,t){var i=[],n=this.flags.F?11:8;if(16>e)for(var o=this.flags.F?6:7,r=(e&o)<<3,a=0;n>a;a++){i[a]=[];for(var s=this.CGRAM[r+a],c=0;5>c;c++)i[a][4-c]=s&1<<c?1:0}else i=this.CGROM[e];if(t&&this.flags.C&&(i=i.slice(0),i[n-1]=[1,1,1,1,1]),t&&this.flags.B&&this.blinkState){i=[];for(var a=0;n>a;a++)i[a]=[1,1,1,1,1]}return i}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.LM339={},n.model_map.put("lm339",n.Model.LM339),n.Model.LM339.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=2,a=36,s=.02,c=1e10,l=1e-8,d=.001,u=6250,h=this.getNetbyTerminalName("vcc"),p=this.getNetbyTerminalName("gnd"),g=e.analogCircuit.addResistor(h,p,u),m=function(e,t,i,o,a,s,u){var h={net:"output net "+t},p=new n.Signal(e.simulator,"555 Timer Trigger signal "+t,0);e.simulator.analogCircuit.addTrigger(p,a,s,i,o,function(e,t,i,n){return e>t&&i-n>r});var g=new n.ProcessedSignal(p,function(e){return e?c:l}),m=(e.simulator.analogCircuit.addResistor(o,h,g),new n.ProcessedSignal(p,function(e){return e?l:c}));e.simulator.analogCircuit.addResistor(i,h,m);return e.simulator.analogCircuit.addResistor(h,u,d)};this.outputNames=["1","2","3","4"],this.outputResistor={},this.outputNames.forEach(function(e){o.outputResistor[e]=m(o,e,h,p,o.getNetbyTerminalName("input"+e+"_pos"),o.getNetbyTerminalName("input"+e+"_neg"),o.getNetbyTerminalName("output"+e))});var f=function(e){var t=e.value(),n=!1,r=g.getVoltage(t),c="LM339 broke because of:";r>a&&(n=!0,c+=" Supply voltage of "+o.printValueUnit(r,"V")+" exceeds maximum of "+o.printValueUnit(a,"V")+".",n=!0),o.outputNames.forEach(function(e){var i=o.outputResistor[e].getCurrent(t);i>s&&(c+=" Output "+e+" current of "+o.printValueUnit(i,"A")+" exceeds maximum of "+o.printValueUnit(s,"A")+".",n=!0)}),i.breakdown({breakdown:n,reason:c})};this.simulator.update_ui.add_process([this,f,[e.update_ui]])},extend(n.Model.LM339.SimulationModel,n.Model.SimulationModel),n.Model.LM339.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.LM339.View,n.Model.View),n.Model.LM339.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.LM339.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.LM393={},n.model_map.put("lm393",n.Model.LM393),n.Model.LM393.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=2,a=36,s=.02,c=1e10,l=1e-8,d=.001,u=6250,h=1e10,p=this.getNetbyTerminalName("vcc"),g=this.getNetbyTerminalName("gnd"),m=e.analogCircuit.addResistor(p,g,u),f=function(e,t,i,o,a,s,u){var p={net:"output net "+t},g=new n.Signal(e.simulator,"555 Timer Trigger signal "+t,0);e.simulator.analogCircuit.addTrigger(g,a,s,i,o,function(e,t,i,n){return e>t&&i-n>r});var m=new n.ProcessedSignal(g,function(e){return e?c:l}),f=(e.simulator.analogCircuit.addResistor(o,p,m),new n.ProcessedSignal(g,function(e){return e?l:c}));e.simulator.analogCircuit.addResistor(i,p,f),e.simulator.analogCircuit.addResistor(s,i,h),e.simulator.analogCircuit.addResistor(a,i,h);return e.simulator.analogCircuit.addResistor(p,u,d)};this.outputNames=["1","2"],this.outputResistor={},this.outputNames.forEach(function(e){o.outputResistor[e]=f(o,e,p,g,o.getNetbyTerminalName("input"+e+"_pos"),o.getNetbyTerminalName("input"+e+"_neg"),o.getNetbyTerminalName("output"+e))});var _=function(e){var t=e.value(),n=!1,r=m.getVoltage(t),c="LM393 broke because of:";r>a&&(n=!0,c+=" Supply voltage of "+o.printValueUnit(r,"V")+" exceeds maximum of "+o.printValueUnit(a,"V")+".",n=!0),o.outputNames.forEach(function(e){var i=o.outputResistor[e].getCurrent(t);i>s&&(c+=" Output "+e+" current of "+o.printValueUnit(i,"A")+" exceeds maximum of "+o.printValueUnit(s,"A")+".",n=!0)}),i.breakdown({breakdown:n,reason:c})};this.simulator.update_ui.add_process([this,_,[e.update_ui]])},extend(n.Model.LM393.SimulationModel,n.Model.SimulationModel),n.Model.LM393.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.LM393.View,n.Model.View),n.Model.LM393.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.LM393.Model,o)},function(e,t,i){var n=i(433);n.Relay=function(e,t,i,o,r){var a=this;a.device=e,this.switchTime=r.switchTime||.003;var s=r.coilResistance||90;this.coilSwitchOnVoltage=r.coilSwitchOnVoltage||2.25,this.coilSwitchOffVoltage=r.coilSwitchOffVoltage||this.coilSwitchOnVoltage,this.maximumCoilSwitchVoltage=r.maximumCoilSwitchVoltage||9,this.maximumSwitchingVoltage=150,this.latching=r.latching||!1,this.coilPolarity=r.coilPolarity||!1;var c=1e-6,l=1e10;this.coil1Net=t,this.coil2Net=i,this.poles=o;a.device.simulator.analogCircuit.addResistor(this.coil1Net,this.coil2Net,s);a.device.dynamicModel.switchState(2),a.switchDirection=new n.Signal(a.device.simulator,"switch signal",0),a.switchDirectionDelayed=new n.Signal(a.device.simulator,"switch signal delayed",0),a.device.simulator.analogCircuit.addTrigger(a.switchDirection,this.coil1Net,this.coil2Net,function(e,t){var i=t-e;return!a.coilPolarity&&0>i&&(i=-i),i>a.coilSwitchOnVoltage?a.device.dynamicModel.switchState(1):a.latching?i<-a.coilSwitchOnVoltage&&a.device.dynamicModel.switchState(2):i<a.coilSwitchOffVoltage&&a.device.dynamicModel.switchState(2),
a.device.dynamicModel.switchState()}),a.device.dynamicModel.switchState.onChange("simulator",function(e,t,i){a.switchDirectionDelayed.setValue(a.switchTime,i)},10);for(var d=o.length,u=0;d>u;++u){if(pole=o[u],pole[1][0]){var h=new n.ProcessedSignal(a.switchDirectionDelayed,function(e){return 1==e?l:c});a.device.simulator.analogCircuit.addResistor(pole[1][0],pole[0],h)}if(pole[1][1]){var p=new n.ProcessedSignal(a.switchDirectionDelayed,function(e){return 1==e?c:l});a.device.simulator.analogCircuit.addResistor(pole[1][1],pole[0],p)}}},n.Relay.prototype.update_Ui=function(){function e(e,t,n){var o=i.analog_model.measure(i.time.time,e,t);return 0>o&&(o=-o),n>o?n:o}var t=this,i=t.device.simulator,n=!1,o="",r=i.analog_model.measure(i.time.time,t.coil2Net,t.coil1Net);0>r&&(r=-r),r>t.maximumCoilSwitchVoltage&&(o+=" Voltage across the switch coil "+t.device.printValueUnit(r,"V")+" exceeds max of "+t.device.printValueUnit(this.maximumCoilSwitchVoltage,"V")+".",n=!0);for(var a=0,s=t.poles.length,c=0;s>c;++c){var l=t.poles[c];l[1][0]&&(a=e(l[0],l[1][0],a)),l[1][1]&&(a=e(l[0],l[1][1],a))}a>t.maximumSwitchingVoltage&&(o+=" Voltage across the relay "+t.device.printValueUnit(a,"V")+" exceeds max of "+t.device.printValueUnit(this.maximumSwitchingVoltage,"V")+".",n=!0),t.device.dynamicModel.breakdown({breakdown:n,reason:o})}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.RelaySPDT={},n.model_map.put("relay_spdt",n.Model.RelaySPDT),n.Model.RelaySPDT.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={switchTime:.003,coilResistance:125,coilSwitchOffVoltage:2.3,coilSwitchOnVoltage:2.9,maximumCoilSwitchVoltage:24,maximumSwitchingVoltage:28,latching:!1};this.coil1Net=this.getNetbyTerminalName("COIL1"),this.coil2Net=this.getNetbyTerminalName("COIL2"),this.com1Net=this.getNetbyTerminalName("COM1"),this.com2Net=this.getNetbyTerminalName("COM2"),this.r1Net=this.getNetbyTerminalName("R1"),this.r2Net=this.getNetbyTerminalName("R2"),e.analogCircuit.mergeNets(this.com1Net,this.com2Net),this.relay=new n.Relay(this,this.coil2Net,this.coil1Net,[[this.com1Net,[this.r2Net,this.r1Net]]],r);var a=function(){o.relay.update_Ui()};this.simulator.update_ui.add_process([this,a])},extend(n.Model.RelaySPDT.SimulationModel,n.Model.SimulationModel),n.Model.RelaySPDT.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),this.dynamicModel.switchState.onChange("view",function(t,i,n){cGraphics.updateRelaySPST5VLUR(e.group,{switchstate:1==n?"6connected":"7connected"})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateRelaySPST5VLUR(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.RelaySPDT.View,n.Model.View),n.Model.RelaySPDT.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.switchState=this.value("switchState",1,!1,!0)},extend(n.Model.RelaySPDT.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.RelayDPDT={},n.model_map.put("relay_dpdt",n.Model.RelayDPDT),n.Model.RelayDPDT.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={switchTime:.003,coilResistance:125,coilSwitchOffVoltage:1.5,coilSwitchOnVoltage:2.9,maximumCoilSwitchVoltage:24,maximumSwitchingVoltage:28,latching:!1,coilPolarity:!0};this.coil1Net=this.getNetbyTerminalName("COIL1"),this.coil2Net=this.getNetbyTerminalName("COIL2"),this.comANet=this.getNetbyTerminalName("COMA"),this.a1Net=this.getNetbyTerminalName("A1"),this.a2Net=this.getNetbyTerminalName("A2"),this.comBNet=this.getNetbyTerminalName("COMB"),this.b1Net=this.getNetbyTerminalName("B1"),this.b2Net=this.getNetbyTerminalName("B2"),this.relay=new n.Relay(this,this.coil2Net,this.coil1Net,[[this.comANet,[this.a1Net,this.a2Net]],[this.comBNet,[this.b1Net,this.b2Net]]],r);var a=function(){o.relay.update_Ui()};this.simulator.update_ui.add_process([this,a])},extend(n.Model.RelayDPDT.SimulationModel,n.Model.SimulationModel),n.Model.RelayDPDT.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),this.dynamicModel.switchState.onChange("view",function(t,i,n){cGraphics.updateRelayDPDT5VKS2EMDC5(e.group,{switchstate:1==n?"8and9connected":"6and11connected"})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateRelayDPDT5VKS2EMDC5(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.RelayDPDT.View,n.Model.View),n.Model.RelayDPDT.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.switchState=this.value("switchState",1,!1,!0)},extend(n.Model.RelayDPDT.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.RelayDPDTLatching={},n.model_map.put("relay_dpdt_latching",n.Model.RelayDPDTLatching),n.Model.RelayDPDTLatching.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={switchTime:.003,coilResistance:90,coilSwitchOnVoltage:2.25,maximumCoilSwitchVoltage:9,maximumSwitchingVoltage:150,latching:!0,coilPolarity:!0};this.coil1Net=this.getNetbyTerminalName("COIL1"),this.coil2Net=this.getNetbyTerminalName("COIL2"),this.comANet=this.getNetbyTerminalName("COMA"),this.a1Net=this.getNetbyTerminalName("A1"),this.a2Net=this.getNetbyTerminalName("A2"),this.comBNet=this.getNetbyTerminalName("COMB"),this.b1Net=this.getNetbyTerminalName("B1"),this.b2Net=this.getNetbyTerminalName("B2"),this.relay=new n.Relay(this,this.coil1Net,this.coil2Net,[[this.comANet,[this.a1Net,this.a2Net]],[this.comBNet,[this.b1Net,this.b2Net]]],r);var a=function(){o.relay.update_Ui()};this.simulator.update_ui.add_process([this,a])},extend(n.Model.RelayDPDTLatching.SimulationModel,n.Model.SimulationModel),n.Model.RelayDPDTLatching.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),this.dynamicModel.switchState.onChange("view",function(t,i,n){cGraphics.updateRelayDPDT3VLatchingV23042C2108B101(e.group,{switchstate:1==n?"8and9connected":"6and11connected"})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateRelayDPDT3VLatchingV23042C2108B101(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.RelayDPDTLatching.View,n.Model.View),n.Model.RelayDPDTLatching.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.switchState=this.value("switchState",1,!1,!0)},extend(n.Model.RelayDPDTLatching.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.RelaySPDT_HRS1H={},n.model_map.put("relay_spdt_hrs1h",n.Model.RelaySPDT_HRS1H),n.Model.RelaySPDT_HRS1H.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r={switchTime:.005,coilResistance:125,coilSwitchOffVoltage:.9,coilSwitchOnVoltage:2.9,maximumCoilSwitchVoltage:9,maximumSwitchingVoltage:30,latching:!1};this.coil1Net=this.getNetbyTerminalName("COIL1"),this.coil2Net=this.getNetbyTerminalName("COIL2"),this.com1Net=this.getNetbyTerminalName("COM1"),this.com2Net=this.getNetbyTerminalName("COM2"),this.r1Net=this.getNetbyTerminalName("R1"),this.r2Net=this.getNetbyTerminalName("R2"),e.analogCircuit.mergeNets(this.com1Net,this.com2Net),this.relay=new n.Relay(this,this.coil2Net,this.coil1Net,[[this.com1Net,[this.r2Net,this.r1Net]]],r);var a=function(){o.relay.update_Ui()};this.simulator.update_ui.add_process([this,a])},extend(n.Model.RelaySPDT_HRS1H.SimulationModel,n.Model.SimulationModel),n.Model.RelaySPDT_HRS1H.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),this.dynamicModel.switchState.onChange("view",function(t,i,n){cGraphics.updateRelaySPST5VLUR(e.group,{switchstate:1==n?"6connected":"7connected"})},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateRelaySPST5VLUR(e.group,{inactive:o==n.states.IDLE})})},extend(n.Model.RelaySPDT_HRS1H.View,n.Model.View),n.Model.RelaySPDT_HRS1H.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.switchState=this.value("switchState",1,!1,!0)},extend(n.Model.RelaySPDT_HRS1H.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.DipSwitchSPDT={},n.model_map.put("dip_switch_spdt",n.Model.DipSwitchSPDT),n.Model.DipSwitchSPDT.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e-6,a=1e10,s=this.getNetbyTerminalName("1a"),c=this.getNetbyTerminalName("1b"),l=this.getNetbyTerminalName("2a"),d=this.getNetbyTerminalName("2b"),u=new n.Signal(this.simulator,this.name,!1),h=new n.ProcessedSignal(u,function(e){return e?r:a}),p=(this.simulator.analogCircuit.addResistor(s,c,h),this.simulator.analogCircuit.addResistor(l,d,h),t.getPropertyValue("Switch")?!0:!1);i.position.onChange("simulator",function(e,t,i){null!==i?u.setValue(0,i?!0:!1):o.dynamicModel.editMode==Circuits.GuiMode.EDIT&&t!=p&&(o.device.root.rec(),o.device.setProperty("Switch",!1,t?1:0,""),o.device.root.stopRec())}),i.position(p)},extend(n.Model.DipSwitchSPDT.SimulationModel,n.Model.SimulationModel),n.Model.DipSwitchSPDT.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.dynamicModel.editMode=n.breadboardElement.gui.mode;var o=t.getPropertyValue("Switch");o||(o=0),this.addEvent(".cgfx__hitarea-interaction","click"),i.position.onChange("view",function(t,i,n){null!==n&&cGraphics.updateSwitchDIPSlide(e.group,{switch1:{on:n}})},10),i.position(t.getPropertyValue("Switch")?!0:!1)},extend(n.Model.DipSwitchSPDT.View,n.Model.View),n.Model.DipSwitchSPDT.Model=function(e,t){this.makeVersioned(e),this.position=this.value("Switch",null,!1,!0)},extend(n.Model.DipSwitchSPDT.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.DipSwitch={switchCount:1},n.Model.DipSwitch.SimulationModel=function(e,t,i,o){var r=this;r.simulator=t,r.device=i,r.dynamicModel=o;for(var a=1e-6,s=1e8,c=[],l=[],d=1;e>=d;++d){var u=this.getNetbyTerminalName(d.toString()+"a"),h=this.getNetbyTerminalName(d.toString()+"b"),p=new n.Signal(this.simulator,this.name+" switch"+d.toString(),o.switchPosition[d-1]()),g=new n.ProcessedSignal(p,function(e){return e?a:s});this.simulator.analogCircuit.addResistor(u,h,g);p.setValue(0,i.getPropertyValue("Switch"+d.toString())?!0:!1),c.push(p),l[d-1]=i.getPropertyValue("Switch"+d.toString())?!0:!1,o.switchPosition[d-1](l[d-1])}for(var d=1;e>=d;++d)!function(e){o.switchPosition[e-1].onChange("simulator",function(t,i,n){null!=n?c[e-1].setValue(0,n?!0:!1):r.dynamicModel.editMode==Circuits.GuiMode.EDIT&&i!=l[e-1]&&(r.device.root.rec(),r.device.setProperty("Switch"+e,!1,i?1:0,""),r.device.root.stopRec())},10)}(d)},extend(n.Model.DipSwitch.SimulationModel,n.Model.SimulationModel),n.Model.DipSwitch.View=function(e,t,i,n){var o=this;this.breadboardElement=t,this.device=i,this.dynamicModel=n,this.dynamicModel.editMode=o.breadboardElement.gui.mode;for(var r=1;e>=r;++r){var a=i.getPropertyValue("Switch"+r.toString());a||(a=0),function(e){n.switchPosition[e-1].onChange("view",function(i,n,o){if(null!==o){var r={};switch(e){case 1:r.switch1={on:o};break;case 2:r.switch2={on:o};break;case 3:r.switch3={on:o};break;case 4:r.switch4={on:o};break;case 5:r.switch5={on:o};break;case 6:r.switch6={on:o};break;case 7:r.switch7={on:o};break;case 8:r.switch8={on:o};break;case 9:r.switch9={on:o};break;case 10:r.switch10={on:o};break;case 11:r.switch11={on:o};break;case 12:r.switch12={on:o}}cGraphics.updateSwitchDIPSlide(t.group,r)}},10)}(r),n.switchPosition[r-1](i.getPropertyValue("Switch"+r.toString())?!0:!1),this.addEvent(".cgfx__hitarea-interaction.cgfx__switch"+r.toString(),"dip_switch_"+e.toString(),"Switch"+r.toString())}},extend(n.Model.DipSwitch.View,n.Model.View),n.Model.DipSwitch.Statemachine=function(e,t,i,n){Circuits.StateMachine.call(this);var o=null;this.addTransition("idle","buttonPressed",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==n},function(t){var i=t.element().dynamicModel,n=t.data("subelement");if(n&&"Switch"==n.substring(0,6)){var r=parseInt(n.substring(6,20));r>=1&&e>=r&&(o=i.switchPosition[r-1])(!o())}}),this.addTransition("buttonPressed","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},null)},n.Model.DipSwitch.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.DipSwitch.Statemachine.prototype.constructor=n.Model.DipSwitch.Statemachine,n.Model.DipSwitch.Model=function(e,t,i){this.makeVersioned(t),this.switchPosition=[];for(var n=1;e>=n;++n)this.switchPosition.push(this.value("Switch"+n.toString(),null,!1,!0))},extend(n.Model.DipSwitch.Model,o)},function(e,t,i){var n=i(433),o=i(170).inherit;n.Model.DipSwitch4={switchCount:4},n.model_map.put("dip_switch_4",n.Model.DipSwitch4),n.Model.DipSwitch4.SimulationModel=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch4.switchCount),n.Model.DipSwitch.SimulationModel.apply(this,o)},n.Model.DipSwitch4.SimulationModel.prototype=o(n.Model.DipSwitch.SimulationModel.prototype),n.Model.DipSwitch4.SimulationModel.prototype.constructor=n.Model.DipSwitch4.SimulationModel,n.Model.DipSwitch4.View=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch4.switchCount),n.Model.DipSwitch.View.apply(this,o)},n.Model.DipSwitch4.View.prototype=o(n.Model.DipSwitch.View.prototype),n.Model.DipSwitch4.View.prototype.constructor=n.Model.DipSwitch4.View,n.Model.DipSwitch4.Statemachine=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch4.switchCount),n.Model.DipSwitch.Statemachine.apply(this,o)},n.Model.DipSwitch4.Statemachine.prototype=o(n.Model.DipSwitch.Statemachine.prototype),n.Model.DipSwitch4.Statemachine.prototype.constructor=n.Model.DipSwitch4.Statemachine,n.simulationStateMachines.put("dip_switch_4",n.Model.DipSwitch4.Statemachine),n.Model.DipSwitch4.Model=function(e,t){var i=Array.prototype.slice.call(arguments);i.unshift(n.Model.DipSwitch4.switchCount),n.Model.DipSwitch.Model.apply(this,i)},n.Model.DipSwitch4.Model.prototype=o(n.Model.DipSwitch.Model.prototype),n.Model.DipSwitch4.Model.prototype.constructor=n.Model.DipSwitch4.Model},function(e,t,i){var n=i(433),o=i(170).inherit;n.Model.DipSwitch6={switchCount:6},n.model_map.put("dip_switch_6",n.Model.DipSwitch6),n.Model.DipSwitch6.SimulationModel=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch6.switchCount),n.Model.DipSwitch.SimulationModel.apply(this,o)},n.Model.DipSwitch6.SimulationModel.prototype=o(n.Model.DipSwitch.SimulationModel.prototype),n.Model.DipSwitch6.SimulationModel.prototype.constructor=n.Model.DipSwitch6.SimulationModel,n.Model.DipSwitch6.View=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch6.switchCount),n.Model.DipSwitch.View.apply(this,o)},n.Model.DipSwitch6.View.prototype=o(n.Model.DipSwitch.View.prototype),n.Model.DipSwitch6.View.prototype.constructor=n.Model.DipSwitch6.View,n.Model.DipSwitch6.Statemachine=function(e,t,i){var o=Array.prototype.slice.call(arguments);o.unshift(n.Model.DipSwitch6.switchCount),n.Model.DipSwitch.Statemachine.apply(this,o)},n.Model.DipSwitch6.Statemachine.prototype=o(n.Model.DipSwitch.Statemachine.prototype),n.Model.DipSwitch6.Statemachine.prototype.constructor=n.Model.DipSwitch6.Statemachine,n.simulationStateMachines.put("dip_switch_6",n.Model.DipSwitch6.Statemachine),n.Model.DipSwitch6.Model=function(e,t){var i=Array.prototype.slice.call(arguments);i.unshift(n.Model.DipSwitch6.switchCount),n.Model.DipSwitch.Model.apply(this,i)},n.Model.DipSwitch6.Model.prototype=o(n.Model.DipSwitch.Model.prototype),n.Model.DipSwitch6.Model.prototype.constructor=n.Model.DipSwitch6.Model},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.MotorEncoder={},n.model_map.put("dc_motor_encoder",n.Model.MotorEncoder),n.Model.MotorEncoder.SimulationModel=function(e,t,i,o){function r(){var e=o.speedLookup||{0:[12,721],1:[16,516],2:[23,369],3:[32,264],4:[45,189],5:[60,139],6:[84,100],7:[118,71],8:[165,51],9:[313,27],10:[437,19],11:[612,14],12:[1621,5]},i=e[t.getPropertyValue("RPM")],n=i[0]||_,r=i[1]||v;M.setValue(0,(d-u*c)/(n/y)),S.setValue(0,(w*(l-b)+b)/((1-w)*(n/y))*h),x.setValue(0,60/(f*r*4)),T.setValue(0,360/(f*r*4))}function a(){if(W){var e,t,i=z>=g;switch(0>F?(e=-F,t=!1,null!==s.dynamicModel.gearPosition&&(s.dynamicModel.gearPosition-=T.value())):(e=F,t=!0,null!==s.dynamicModel.gearPosition&&(s.dynamicModel.gearPosition+=T.value())),V.value()){case 0:t?(i&&G.setValue(0,!0),V.setValue(e,1)):(i&&U.setValue(0,!0),V.setValue(e,3));break;case 1:t?(i&&U.setValue(0,!0),V.setValue(e,2)):(i&&G.setValue(0,!1),V.setValue(e,0));break;case 2:t?(i&&G.setValue(0,!1),V.setValue(e,3)):(i&&U.setValue(0,!1),V.setValue(e,1));break;default:t?(i&&U.setValue(0,!1),V.setValue(e,0)):(i&&G.setValue(0,!0),V.setValue(e,2))}}else V.setValue(H,V.value())}var s=this;s.simulator=e,s.device=t,s.dynamicModel=i,o||(o={});var c=o.Rs||.6,l=o.Tstall||41,d=o.Vnom||12,u=o.I0||.54,h=o.gain||1e3,p=o.Renc||6e3,g=o.minEncoderSupplyVoltage||2.4,m=o.maxEncoderSupplyVoltage||26,f=o.encoderPositions||12,_=(o.speedLookup||{0:[12,721],1:[16,516],2:[23,369],3:[32,264],4:[45,189],5:[60,139],6:[84,100],7:[118,71],8:[165,51],9:[313,27],10:[437,19],11:[612,14],12:[1621,5]},o.defaultSpeed||16),v=o.gearRatio||516,y=9.5493,C=l*c/d*h,b=C/h*u,w=0,M=new n.Signal(s.simulator,"dc_motor_encoder voltage constant",0),S=new n.Signal(s.simulator,"dc_motor_encoder shaft friction",0),x=new n.Signal(s.simulator,"dc_motor_encoder rpm to phase",0),T=new n.Signal(s.simulator,"dc_motor_encoder rotation step",0);t.properties.onPut("simulator",r,10),r();var E=this.getNetbyTerminalName("motor_neg"),A=this.getNetbyTerminalName("motor_pos"),D=this.getNetbyTerminalName("enc_gnd"),L=this.getNetbyTerminalName("enc_vcc"),B=this.getNetbyTerminalName("enc_a"),k=this.getNetbyTerminalName("enc_b"),R={net:"dc_motor_encoder_net_between_sense-backEMF_"},I={net:"dc_motor_encoder_net_between_backEMF-Rs_"},P={net:"dc_motor_encoder_mechanical_net_between_sense-friction_"},N={net:"dc_motor_encoder_mechanical_net_between_friction-inertia_"},O=(this.simulator.analogCircuit.addResistor(A,I,c),this.simulator.analogCircuit.addCurrentControlledVoltageSource(P,E,I,R,1e-4,1e-4,M),this.simulator.analogCircuit.addCurrentControlledVoltageSource(R,E,N,E,.001,.001,C),this.simulator.analogCircuit.addResistor(N,P,S));this.simulator.analogCircuit.addResistor(L,D,p);var V=new n.Signal(this.simulator,"dc_motor_encoder phase signal",-1),G=new n.Signal(this.simulator,"dc_motor_encoder a signal",!1),U=new n.Signal(this.simulator,"dc_motor_encoder b signal",!1),F=(new n.Signal(this.simulator,"dc_motor_encoder phase signal",-1),1e-4),H=.1,j=x.value()/H,W=!1,z=0;V.add_process([null,a]),V.setValue(F,0);var $=new n.ProcessedSignal(G,function(e){return 1==e?60:1e6}),X=(this.simulator.analogCircuit.addResistor(B,D,$),new n.ProcessedSignal(U,function(e){return 1==e?60:1e6})),Z=(this.simulator.analogCircuit.addResistor(k,D,X),function(e){var t=!1,n="This device broke because of:",o=s.simulator;z=o.analog_model.measure(o.time.time,L,D),z>m&&(n+=" Encoder voltage is "+s.printValueUnit(z,"V")+" while permitted maximum is "+s.printValueUnit(m,"V")+".",t=!0);var r=e.value(),a=-O.getCurrent(r)*y;-j>=a||a>=j?(F=x.value()/a,W=!0):(F=H,W=!1),i.avgSpeed(a),s.dynamicModel.breakdown({breakdown:t,reason:n})});this.simulator.update_ui.add_process([this,Z,[e.update_ui]]),i.enableAnimation(!0)},extend(n.Model.MotorEncoder.SimulationModel,n.Model.SimulationModel),n.Model.MotorEncoder.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;o?i.animationTimer=setInterval(function(){var t=i.avgSpeed();cGraphics.updateMotorDC(e.group,{rotation:i.gearPosition,rpm:Math.round(-t)+" rpm"})},r):clearInterval(i.animationTimer)},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateMotorDC(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateMotorDC(e.group,{inactive:!0}),this.addBreakdown()},extend(n.Model.MotorEncoder.View,n.Model.View),n.Model.MotorEncoder.Model=function(e,t){this.makeVersioned(e),this.avgSpeed=this.value("speed",0,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0),this.breakdown=this.value("breakdown",!1,!1,!0),this.gearPosition=null},extend(n.Model.MotorEncoder.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.MotorEncoderLarge={},n.model_map.put("dc_motor_encoder_large",n.Model.MotorEncoderLarge),n.Model.MotorEncoderLarge.SimulationModel=function(e,t,i){n.Model.MotorEncoder.SimulationModel.apply(this,[e,t,i,{Rs:.6,Tstall:41,Vnom:12,I0:.54,gain:1e3,Renc:6e3,minEncoderSupplyVoltage:2.4,maxEncoderSupplyVoltage:26,rpmToEncoderPhase:60/24768,speedLookup:{0:[12,721],1:[16,516],2:[23,369],3:[32,264],4:[45,189],5:[60,139],6:[84,100],7:[118,71],8:[165,51],9:[313,27],10:[437,19],11:[612,14],12:[1621,5]},defaultSpeed:16}])},n.Model.MotorEncoderLarge.SimulationModel.prototype=r(n.Model.MotorEncoder.prototype),n.Model.MotorEncoderLarge.SimulationModel.prototype.constructor=n.Model.MotorEncoderLarge.SimulationModel,extend(n.Model.MotorEncoderLarge.SimulationModel,n.Model.SimulationModel),n.Model.MotorEncoderLarge.View=function(e,t,i,o){n.Model.MotorEncoder.View.apply(this,arguments)},n.Model.MotorEncoderLarge.View.prototype=r(n.Model.MotorEncoder.View.prototype),n.Model.MotorEncoderLarge.View.prototype.constructor=n.Model.MotorEncoderLarge.View,extend(n.Model.MotorEncoderLarge.View,n.Model.View),n.Model.MotorEncoderLarge.Model=function(e,t){n.Model.MotorEncoder.Model.apply(this,arguments)},n.Model.MotorEncoderLarge.Model.prototype=r(n.Model.MotorEncoder.Model.prototype),n.Model.MotorEncoderLarge.Model.prototype.constructor=n.Model.MotorEncoderLarge.Model,extend(n.Model.MotorEncoderLarge.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.MotorEncoderSmall={},n.model_map.put("dc_motor_encoder_small",n.Model.MotorEncoderSmall),n.Model.MotorEncoderSmall.SimulationModel=function(e,t,i){n.Model.MotorEncoder.SimulationModel.apply(this,[e,t,i,{Rs:.6,Tstall:41,Vnom:12,I0:.54,gain:1e3,Renc:6e3,minEncoderSupplyVoltage:2.4,maxEncoderSupplyVoltage:26,rpmToEncoderPhase:60/24768,speedLookup:{0:[26,455],1:[32,370],2:[38,316],3:[44,270],4:[52,231],5:[116,104],6:[142,84],7:[195,62],8:[280,43],9:[350,43],10:[416,19],11:[520,19],12:[624,19],13:[730,16],14:[2737,4]},defaultSpeed:16}])},n.Model.MotorEncoderSmall.SimulationModel.prototype=r(n.Model.MotorEncoder.prototype),n.Model.MotorEncoderSmall.SimulationModel.prototype.constructor=n.Model.MotorEncoderSmall.SimulationModel,extend(n.Model.MotorEncoderSmall.SimulationModel,n.Model.SimulationModel),n.Model.MotorEncoderSmall.View=function(e,t,i,o){n.Model.MotorEncoder.View.apply(this,arguments)},n.Model.MotorEncoderSmall.View.prototype=r(n.Model.MotorEncoder.View.prototype),n.Model.MotorEncoderSmall.View.prototype.constructor=n.Model.MotorEncoderSmall.View,extend(n.Model.MotorEncoderSmall.View,n.Model.View),n.Model.MotorEncoderSmall.Model=function(e,t){n.Model.MotorEncoder.Model.apply(this,arguments)},n.Model.MotorEncoderSmall.Model.prototype=r(n.Model.MotorEncoder.Model.prototype),n.Model.MotorEncoderSmall.Model.prototype.constructor=n.Model.MotorEncoderSmall.Model,extend(n.Model.MotorEncoderSmall.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.PololuSimpleMotorController18v7={},n.model_map.put("pololu_simple_motor_controller_18v7",n.Model.PololuSimpleMotorController18v7),n.Model.PololuSimpleMotorController18v7.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=5.5,a=544e-6,s=.0024,c=.005,l=36,d=.001,u=this.getNetbyTerminalName("gnd");e.analogCircuit.mergeNets(u,this.getNetbyTerminalName("motor gnd"));var h=this.getNetbyTerminalName("rc1"),p=this.getNetbyTerminalName("vin"),g=this.getNetbyTerminalName("outa"),m=this.getNetbyTerminalName("outb"),f=new n.Signal(e,"power",0);e.analogCircuit.addTrigger(f,p,u,function(e,t){return e-t>r?e-t:0});var _=new n.Signal(o.simulator,"signal",0);o.simulator.analogCircuit.addTrigger(_,h,u,function(e,t){return e-t>2.5});var v=new n.Signal(o.simulator,"motor signal",0),y=(e.analogCircuit.addResistor(p,u,l),new n.ProcessedSignal(f,v,function(e,t){return e?-e+2*e*t:0})),C=(e.analogCircuit.addVoltageSource(m,g,y,1),0),b=function(){if(f.value()>0){var e=o.simulator.time.time;if(_.rising_edge()&&(C=e),_.falling_edge()){var t=e-C;c>t&&(t>s?t=s:a>t&&(t=a),v.setValue(d,(t-a)/(s-a)))}}};_.add_process([null,b]),f.add_process([null,b])},extend(n.Model.PololuSimpleMotorController18v7.SimulationModel,n.Model.SimulationModel),n.Model.PololuSimpleMotorController18v7.View=function(e,t,i,o){n.Model.MotorEncoder.View.apply(this,arguments)},extend(n.Model.PololuSimpleMotorController18v7.View,n.Model.View),n.Model.PololuSimpleMotorController18v7.Model=function(e,t){n.Model.MotorEncoder.Model.apply(this,arguments)},extend(n.Model.PololuSimpleMotorController18v7.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.NullDevice={},n.model_map.put("null_device",n.Model.NullDevice),n.Model.NullDevice.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i},extend(n.Model.NullDevice.SimulationModel,n.Model.SimulationModel),n.Model.NullDevice.View=function(e,t,i,n){var o=this;o.breadboardElement=e,o.device=t,o.dynamicModel=i},extend(n.Model.NullDevice.View,n.Model.View),n.Model.NullDevice.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.NullDevice.Model,o)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.ESP8266_v01={},o.model_map.put("ESP8266_01",o.Model.ESP8266_v01),o.Model.ESP8266_v01.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i,r.DEBUG=!1;var a=3.5,s=33e4,c=220,l=55,d=20,u=50,h=1e10,p=this.getNetbyTerminalName("GND"),g=this.getNetbyTerminalName("VCC"),m=this.getNetbyTerminalName("RX"),f=this.getNetbyTerminalName("TX"),_=(this.getNetbyTerminalName("GPIO0"),this.getNetbyTerminalName("GPIO2"),this.getNetbyTerminalName("RST")),v=this.getNetbyTerminalName("CH_PD"),y=new n.HashMap,C=new o.Signal(e,"ESP8266 load","off",r.DEBUG),b=new o.ProcessedSignal(C,function(e){switch(e){case"off":return s;case"standby":return c;case"receive":return l;case"transmit":return d}}),w=e.analogCircuit.addResistor(g,p,b);y.put("Vcc",w);var M=new o.Signal(e,"ESP8266 power",0,r.DEBUG);e.analogCircuit.addTrigger(M,g,p,function(e,t){return e-t>3.1?1:0});var S=3e-4,x={},T=e.analogCircuit.addDiode(g,x,1e-18,1.8),E=(e.analogCircuit.addResistor(x,p,4700),e.analogCircuit.addResistor(_,p,h));y.put("RST",E);var A=new o.Signal(e,"ESP8266 reset",0,r.DEBUG);e.analogCircuit.addTrigger(A,_,p,function(e,t){return e-t>2.5?1:0});var D=e.analogCircuit.addResistor(v,p,h);y.put("CH_PD",D);var L=new o.Signal(e,"ESP8266 Chip enable",0,r.DEBUG);e.analogCircuit.addTrigger(L,v,p,function(e,t){return e-t>2.5?1:0});var B=e.analogCircuit.addResistor(m,p,h);y.put("RX",B);var k=new o.Signal(e,"ESP8266 RX",0,!1);e.analogCircuit.addTrigger(k,m,g,p,function(e,t,i){return e-i>.45*(t-i)?1:0});var R=new o.Signal(e,"ESP8266 TX",1,!1),I=new o.ProcessedSignal(R,function(e){return 1==e?u:h}),P=(this.simulator.analogCircuit.addResistor(g,f,I),new o.ProcessedSignal(R,function(e){return 0==e?u:h})),N=(this.simulator.analogCircuit.addResistor(f,p,P),new o.ESP8266_AT(e,e.ether.wifi,M,C,A,L,R,k),function(e){var t=e.value(),n="";y.forEach(function(e,i){var o=i.getVoltage(t);o>a&&(n+=" Voltage at "+e+"-pin is "+r.printValueUnit(o,"V")+", while maximum is "+r.printValueUnit(a,"V")+".")});var o=T.getCurrent(t);i.powerLed(o/S),i.breakdown({breakdown:""!=n,reason:n})});e.update_ui.add_process([this,N,[e.update_ui]])},extend(o.Model.ESP8266_v01.SimulationModel,o.Model.SimulationModel),o.Model.ESP8266_v01.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.powerLed.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateESP8266ESP01(e.group,{ledPowerBrightness:o})},10),i.TXLed.onChange("view",function(t,i,n){var o=Math.pow(.01>n?0:n,1/3);cGraphics.updateESP8266ESP01(e.group,{ledStatusBrightness:o})},10)},extend(o.Model.ESP8266_v01.View,o.Model.View),o.Model.ESP8266_v01.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.powerLed=this.value("powerLed",0,!1,!0),this.TXLed=this.value("TXLed",0,!1,!0)},extend(o.Model.ESP8266_v01.Model,r),o.ESP8266_AT=function(e,t,i,n,r,a,s,c){var l=this;this.DEBUG=!1,this.state="off",this.baud=0,this.frameFormat={},this.transmitBuffer=[],this.receiveBuffer="",this.version="00170901",this.MACAddress="18:fe:35:"+Array.apply(null,{length:3}).map(function(){return(255*Math.random()>>0).toString(16)}).join(":"),this.sim=e,this.wifiNetwork=t,this.power=i,this.load=n,this.rst=r,this.chpd=a;var d=[this,this.checkPowerPins];i.add_process(d),r.add_process(d),a.add_process(d);var u=function(){return 1/l.baud},h={getFrameFormat:function(){return l.frameFormat},dataSend:function(){l.sendNextUARTByte()},dataReceived:function(e,t,i){"off"!=l.state&&l.receiveData(e)}};this.TXstatemachine=new o.UARTTranmitterStatemachine(this.sim,s,u,h),this.RXstatemachine=new o.UARTReceiverStatemachine(this.sim,c,u,h),c.add_process([null,function(){l.RXstatemachine.handle("portAcitivity")}]),this.resetDevice()},o.ESP8266_AT.prototype.changeState=function(e){this.state=e,this.load.setValue(0,this.state)},o.ESP8266_AT.prototype.resetDevice=function(){this.changeState("off"),this.transmitBuffer=[],this.receiveBuffer="",this.receiveMode=0,this.onDataReceived=null,this.baud=115200,this.frameFormat={dataBits:8,parity:o.UARTParity.NO,stopBits:1},this.flowControl=0,this.wifiMode=1,this.connectedAP&&this.connectedAP.disconnect(this.MACAddress),this.connectedAP=null,this.IPAddress=null,this.enableMultipleConnections=0;for(var e in this.TCPconnections)this.TCPconnections[e].close();this.TCPconnections=[],this.transferMode=0,this.echo=!1},o.ESP8266_AT.prototype.checkPowerPins=function(){this.power.value()&&this.chpd.value()?(this.rst.falling_edge()&&this.resetDevice(),(this.power.rising_edge()||this.chpd.rising_edge()||!this.rst.rising_edge())&&this.changeState("standby")):this.resetDevice()},o.ESP8266_AT.prototype.sendNextUARTByte=function(){if(this.transmitBuffer.length>0){var e=new Circuits.GuiEvent("sendData").data("dataByte",this.transmitBuffer.pop());this.TXstatemachine.handle(e)}},o.ESP8266_AT.prototype.receiveData=function(e){0==this.receiveMode?10==e?(this.receiveBuffer.length>2&&"\r"==this.receiveBuffer.slice(-1)&&this.executeCommand(this.receiveBuffer.slice(0,-1)),this.receiveBuffer=""):this.receiveBuffer+=String.fromCharCode(e):this.receiveMode>0?(this.receiveBuffer+=String.fromCharCode(e),this.receiveBuffer.length==this.receiveMode&&(this.receiveBuffer=this.receiveBuffer.replace(/\\n|\\r/g,function(e){switch(e){case"\\r":return"\r";case"\\n":return"\n"}}),this.onDataReceived&&this.onDataReceived(this.receiveBuffer),this.receiveBuffer="",this.receiveMode=0)):this.receiveBuffer+=String.fromCharCode(e)},o.ESP8266_AT.prototype.sendData=function(e,t){t||(e+="\r\n");for(var i=0;i<e.length;i++)this.transmitBuffer.unshift(e.charCodeAt(i));"idle"==this.TXstatemachine.state()&&this.sendNextUARTByte()},o.ESP8266_AT.prototype.executeCommand=function(e){var t=this;if("AT"==e||"ATE"==e||"ATE0"==e||"ATE1"==e)this.echo&&this.sendData(e),"E0"==e.slice(-2)?this.echo=!1:"E1"==e.slice(-2)&&(this.echo=!0),this.sendData("OK");else{var i=e.match(/AT\+(\w*)([=?]{0,2})(.*)/);if(i){var n=i[3].split(",").map(function(e){return'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)?e.slice(1,-1):parseInt(e)});switch(i[1]){case"RST":case"RESTORE":this.resetDevice(),this.changeState("standby"),this.echo&&this.sendData(e),this.sendData("OK"),this.sendData("ready");break;case"GMR":this.echo&&this.sendData(e),this.sendData(this.version),this.sendData("OK");break;case"GSLP":if(this.echo&&this.sendData(e),"="==i[2]){parseInt(i[3].split(",")[0]);this.changeState("off"),this.sendData("OK");
}break;case"UART":case"UART_CUR":case"UART_DEF":if(this.echo&&this.sendData(e),"="==i[2])n[0]>=110&&n[0]<=115200&&(this.baud=n[0]),n[1]>=5&&n[1]<=8&&(this.frameFormat.dataBits=n[1]),n[2]>=1&&n[2]<=3&&(this.frameFormat.stopBits=n[2]),n[3]>=0&&n[3]<=2&&(this.frameFormat.parity=0==n[3]?o.UARTParity.NO:1==n[3]?o.UARTParity.ODD:o.UARTParity.EVEN),n[4]>=0&&n[2]<=3&&(this.flowControl=n[4]);else if("?"==i[2]){var r=this.frameFormat.parity==o.UARTParity.NO?0:this.frameFormat.parity==o.UARTParity.ODD?1:2;this.sendData("+"+i[1]+":"+this.baud+","+this.frameFormat.dataBits+","+this.frameFormat.stopBits+","+r+","+this.flowControl)}else"=?"==i[2]&&this.sendData("+"+i[1]+":(110-115200),(5-8),(1-3),(0-2),(0-3)");this.sendData("OK");break;case"CWMODE":case"CWMODE_CUR":case"CWMODE_DEF":this.echo&&this.sendData(e),"="==i[2]?n[0]>=1&&n[0]<=3&&(this.wifiMode=n[0]):"?"==i[2]?this.sendData("+"+i[1]+":"+this.wifiMode):"=?"==i[2]&&this.sendData("+"+i[1]+":(1-3)"),this.sendData("OK");break;case"CWJAP":case"CWJAP_CUR":case"CWJAP_DEF":if(this.echo&&this.sendData(e),"="==i[2])if(2!=this.wifiMode){var a=this.wifiNetwork.get(n[0]);if(a){this.connectedAP&&this.connectedAP.disconnect(this.MACAddress);var s=a.connect(this.MACAddress,n[1]);s?(this.connectedAP=a,this.IPAddress=s,a.onConnectionLost(this.MACAddress,function(){t.connectedAP=null,t.IPAddress=null;for(var e in t.TCPconnections)t.TCPconnections[e].close(),t.TCPconnections[e]=null})):this.sendData("ERROR")}else this.sendData("ERROR")}else this.sendData("ERROR");else"?"==i[2]&&this.sendData("+"+i[1]+":"+(this.connectedAP?this.connectedAP.SSID:""));this.sendData("OK");break;case"CWLAP":if(this.echo&&this.sendData(e),"="==i[2]){var a=this.wifiNetwork.get(n[0]);if(a&&(!n[1]||a.MAC==n[1])&&(isNaN(n[2])||a.channel==n[2])){var c=["OPEN","WEP","WPA_PSK","WPA2_PSK","WPA_WPA2_PSK"].indexOf(a.security);this.sendData("+CWLAP:("+c+',"'+a.SSID+'",-55,"'+a.MAC+'",'+a.channel+")")}}else""==i[2]&&this.wifiNetwork.forEach(function(e,i){var n=["OPEN","WEP","WPA_PSK","WPA2_PSK","WPA_WPA2_PSK"].indexOf(i.security);t.sendData("+CWLAP:("+n+',"'+i.SSID+'",-55,"'+i.MAC+'",'+i.channel+")")});this.sendData("OK");break;case"CIPSTATUS":if(this.echo&&this.sendData(e),""==i[2]){this.sendData(2);for(var l in this.TCPconnections){var d=this.TCPconnections[l];d.isConnected()&&this.sendData("+CIPSTATUS:"+l+","+(d instanceof o.TCPConnection?"TCP":"UDP")+',"'+d.host+'",'+d.port+", ,"+this.wifiMode)}}else"=?"==i[2]&&this.sendData("OK");break;case"CIPSTART":if(this.echo&&this.sendData(e),"="==i[2]){var l=this.enableMultipleConnections?n.shift():0;null==this.TCPconnections[l]||0==this.TCPconnections[l].isConnected()?"TCP"==n[0]?(this.TCPconnections[l]=new o.TCPConnection(this.connectedAP,this.IPAddress),this.TCPconnections[l].onConnect(function(){t.sendData("OK")}),this.TCPconnections[l].onDataReceive(function(e){t.sendData("+IPD,"+e.length+":"+e)}),this.TCPconnections[l].connectTo(n[1],n[2])||this.sendData("ERROR")):"UDP"==n[0]||this.sendData("ERROR"):this.sendData("ALREAY CONNECT")}else"=?"==i[2]&&(this.enableMultipleConnections?this.sendData("+CIPSTART:(id),(type),(IP address),(port)[,(local port),(mode)]"):this.sendData("+CIPSTART:(type),(IP address),(port)[,(local port),(mode)]"),this.sendData("OK"));break;case"CIPSEND":if(this.echo&&this.sendData(e),"="==i[2]){var l=this.enableMultipleConnections?n.shift():0;this.TCPconnections[l]&&this.TCPconnections[l].isConnected()&&n[0]>0&&n[0]<2048?(this.sendData(">",!0),this.receiveMode=n[0],this.onDataReceived=function(e){this.TCPconnections[l]&&this.TCPconnections[l].isConnected()?(this.TCPconnections[l].sendData(e),this.sendData("SEND OK")):this.sendData("ERROR")}):this.sendData("ERROR")}else if(""==i[2]){var l=0;1==this.transferMode&&null!=this.TCPconnections[l]?(this.sendData(">",!0),this.receiveMode=-1,this.onDataReceived=function(e){}):this.sendData("ERROR")}else"=?"==i[2]&&this.sendData("OK");break;case"CIPCLOSE":if(this.echo&&this.sendData(e),"="==i[2])if(n[0]>=5)for(var l in this.TCPconnections)this.TCPconnections[l].close(),this.TCPconnections[l]=null;else this.TCPconnections[n[0]]?(this.TCPconnections[n[0]].close(),this.TCPconnections[n[0]]=null,this.sendData("OK")):this.sendData("Link is not");else""==i[2]?!this.enableMultipleConnections&&this.TCPconnections[0]?(this.TCPconnections[n[0]].close(),this.TCPconnections[n[0]]=null,this.sendData("OK")):this.sendData("ERROR"):"=?"==i[2]&&this.sendData("OK");break;case"CIFSR":this.echo&&this.sendData(e),""==i[2]&&this.IPAddress&&this.sendData("+CIFSR:"+o.IPToString(this.IPAddress)),this.sendData("OK")}}}}},function(e,t,i){var n=i(433);n.Model.WS2812B={},n.Model.WS2812B.SimulationModel=function(e,t,i){var o=this;this.simulator=e,this.device=t,this.dynamicModel=i,this.debugTransmitter=!1;var r=this.getNetbyTerminalName("vcc"),a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("din"),c=this.getNetbyTerminalName("dout"),l=3.2,d=5.5,u=5,h=.001*i.pixelCount,p=.048,g=.25,m=.7,f=1e-6,_=1e10,v=8e5,y=1/v,C=new n.Signal(e,"ws2812b load signal",0),b=new n.ProcessedSignal(C,function(e){var t=e,i=h+p*t/765;return u/i}),w=e.analogCircuit.addResistor(r,a,b),M=new n.Signal(e,"ws2812b power",0);e.analogCircuit.addTrigger(M,r,a,function(e,t){return e-t>=l?1:0});var S;if(!(c instanceof Circuits.TerminalData)||this.debugTransmitter){S=new n.Signal(e,"ws2812b data out signal",0);var x=new n.ProcessedSignal(S,function(e){return e?f:_});this.simulator.analogCircuit.addResistor(r,c,x);var T=new n.ProcessedSignal(S,function(e){return e?_:f});this.simulator.analogCircuit.addResistor(a,c,T)}this.simulator.analogCircuit.addResistor(s,a,1e6);var E=new n.Signal(e,"ws2812b data in signal",0);e.analogCircuit.addTrigger(E,s,r,a,function(e,t,i){return e-i>=m*(t-i)?1:0}),o.neopixelReceiveStateMachine=new n.NeopixelReceiveStateMachine(e,E,o.debugTransmitter?null:S,y,i.pixelCount,{rgbReceived:function(e,t,i,n){o.dynamicModel.rgb[e]({red:t,blue:n,green:i})}}),E.add_process([o,function(){o.neopixelReceiveStateMachine.handle("portActivity")}]);for(var A=0;A<i.pixelCount;++A)!function(e){i.rgb[e].onChange("simulator",function(e,t,i){C.setValue(0,C.value()+(i.red+i.blue+i.green)-(t.red+t.blue+t.green))},10)}(A);if(o.debugTransmitter){o.neopixelTransmitStateMachine=new n.NeopixelTransmitStateMachine(e,S,y,{reset:function(){return!0}}),o.position=0,o.hueColor=function(e){return e%=768,[256>e?255-e:512>e?0:e-512,256>e?e:512>e?511-e:0,256>e?0:512>e?e-256:767-e]},o.dataTemplate=[];for(var D=0;100>D;++D){var L=o.hueColor(32*D);o.dataTemplate=o.dataTemplate.concat(L)}}var B=function(e){var t=e.value(),n=!1,r=w.getVoltage(t),a="LED broke because of:",s=l>r?0:r>d?1:g+(1-g)*(r-l)/(d-l);r>d&&(n=!0,a+=" Supply voltage of "+o.printValueUnit(r,"V")+" exceeds maximum of "+d+" volts."),i.breakdown({breakdown:n,reason:a});for(var c=0;c<o.dynamicModel.pixelCount;++c){var u=o.dynamicModel.rgb[c]();i.brightness[c]({red:s*u.red/255,blue:s*u.blue/255,green:s*u.green/255})}if(o.debugTransmitter){var h=24;if("idle"==o.neopixelTransmitStateMachine.state()){var p=o.position,m=o.dataTemplate.slice(3*p,3*(p+h));m.push(-1);var f=new Circuits.GuiEvent("sendData").data("data",m);o.neopixelTransmitStateMachine.handle(f),++o.position>=2*(h-1)&&(o.position=0)}}};this.simulator.update_ui.add_process([this,B,[e.update_ui]])},n.Model.WS2812B.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown();for(var a=0;a<i.pixelCount;++a)!function(t){i.brightness[t].onChange("view",function(i,n,o){var a=[o.red,o.green,o.blue];for(var s in a){var c=a[s]<.001?0:a[s]>1?1:a[s];c=Math.round(100*Math.pow(c,1/3))/100,a[s]=c}r.updateView(e.group,{index:t,rgb:a})},10)}(a);o.simulatorState.onChange(r,function(t,i,o){r.updateView(e.group,{inactive:o==n.states.IDLE})})},n.Model.WS2812B.Model=function(e,t){var i=this;this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=function(e){for(var t=[],n=0;e>n;++n)t.push(i.value("brightness_"+n,{red:0,blue:0,green:0},!1,!0));return t}(i.pixelCount),this.rgb=function(e){for(var t=[],n=0;e>n;++n)t.push(i.value("brightness_"+n,{red:0,blue:0,green:0},!1,!0));return t}(i.pixelCount)}},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812BSingle={},n.model_map.put("ws2812b",n.Model.WS2812BSingle),n.Model.WS2812BSingle.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments)},extend(n.Model.WS2812BSingle.SimulationModel,n.Model.SimulationModel),n.Model.WS2812BSingle.View=function(e,t,i,o){this.updateView=function(e,t){0===t.index&&t.rgb&&cGraphics.updateLedRGB(e,{rgb:t.rgb})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812BSingle.View,n.Model.View),n.Model.WS2812BSingle.Model=function(e,t){this.pixelCount=1,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812BSingle.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812Breadboard={},n.model_map.put("ws2812_breadboard",n.Model.WS2812Breadboard),n.Model.WS2812Breadboard.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments);var o=this.getNetbyTerminalName("vcc"),r=this.getNetbyTerminalName("vcc2");e.analogCircuit.mergeNets(o,r);var a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("gnd2");e.analogCircuit.mergeNets(a,s)},extend(n.Model.WS2812Breadboard.SimulationModel,n.Model.SimulationModel),n.Model.WS2812Breadboard.View=function(e,t,i,o){this.updateView=function(e,t){"undefined"!=typeof t.inactive&&cGraphics.updateNeoPixelBreadboard(e,{inactive:t.inactive});var i={};i["neopixel"+t.index]={rgb:t.rgb},cGraphics.updateNeoPixelBreadboard(e,{neopixels:i})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812Breadboard.View,n.Model.View),n.Model.WS2812Breadboard.Model=function(e,t){this.pixelCount=1,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812Breadboard.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812BJewel7={},n.model_map.put("ws2812_jewel7",n.Model.WS2812BJewel7),n.Model.WS2812BJewel7.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments);var o=this.getNetbyTerminalName("gnd"),r=this.getNetbyTerminalName("gnd2");e.analogCircuit.mergeNets(o,r)},extend(n.Model.WS2812BJewel7.SimulationModel,n.Model.SimulationModel),n.Model.WS2812BJewel7.View=function(e,t,i,o){this.updateView=function(e,t){"undefined"!=typeof t.inactive&&cGraphics.updateNeoPixelJewel7(e,{inactive:t.inactive});var i={};i["neopixel"+t.index]={rgb:t.rgb},cGraphics.updateNeoPixelJewel7(e,{neopixels:i})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812BJewel7.View,n.Model.View),n.Model.WS2812BJewel7.Model=function(e,t){this.pixelCount=7,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812BJewel7.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812BRing12={},n.model_map.put("ws2812b_ring12",n.Model.WS2812BRing12),n.Model.WS2812BRing12.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments)},extend(n.Model.WS2812BRing12.SimulationModel,n.Model.SimulationModel),n.Model.WS2812BRing12.View=function(e,t,i,o){this.updateView=function(e,t){"undefined"!=typeof t.inactive&&cGraphics.updateNeoPixelRing12(e,{inactive:t.inactive});var i={};i["neopixel"+t.index]={rgb:t.rgb},cGraphics.updateNeoPixelRing12(e,{neopixels:i})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812BRing12.View,n.Model.View),n.Model.WS2812BRing12.Model=function(e,t){this.pixelCount=12,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812BRing12.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812BRing16={},n.model_map.put("ws2812b_ring16",n.Model.WS2812BRing16),n.Model.WS2812BRing16.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments);var o=this.getNetbyTerminalName("vcc"),r=this.getNetbyTerminalName("vcc2");e.analogCircuit.mergeNets(o,r);var a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("gnd2");e.analogCircuit.mergeNets(a,s)},extend(n.Model.WS2812BRing16.SimulationModel,n.Model.SimulationModel),n.Model.WS2812BRing16.View=function(e,t,i,o){this.updateView=function(e,t){"undefined"!=typeof t.inactive&&cGraphics.updateNeoPixelRing16(e,{inactive:t.inactive});var i={};i["neopixel"+t.index]={rgb:t.rgb},cGraphics.updateNeoPixelRing16(e,{neopixels:i})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812BRing16.View,n.Model.View),n.Model.WS2812BRing16.Model=function(e,t){this.pixelCount=16,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812BRing16.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.WS2812BRing24={},n.model_map.put("ws2812b_ring24",n.Model.WS2812BRing24),n.Model.WS2812BRing24.SimulationModel=function(e,t,i){n.Model.WS2812B.SimulationModel.apply(this,arguments);var o=this.getNetbyTerminalName("vcc"),r=this.getNetbyTerminalName("vcc2");e.analogCircuit.mergeNets(o,r);var a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("gnd2");e.analogCircuit.mergeNets(a,s)},extend(n.Model.WS2812BRing24.SimulationModel,n.Model.SimulationModel),n.Model.WS2812BRing24.View=function(e,t,i,o){this.updateView=function(e,t){"undefined"!=typeof t.inactive&&cGraphics.updateNeoPixelRing24(e,{inactive:t.inactive});var i={};i["neopixel"+t.index]={rgb:t.rgb},cGraphics.updateNeoPixelRing24(e,{neopixels:i})},n.Model.WS2812B.View.apply(this,arguments)},extend(n.Model.WS2812BRing24.View,n.Model.View),n.Model.WS2812BRing24.Model=function(e,t){this.pixelCount=24,n.Model.WS2812B.Model.apply(this,arguments)},extend(n.Model.WS2812BRing24.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.Keypad4x4={},n.model_map.put("keypad_4x4",n.Model.Keypad4x4),n.Model.Keypad4x4.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=.001,a=1e10,s=this.getNetbyTerminalName("row1"),c=this.getNetbyTerminalName("row2"),l=this.getNetbyTerminalName("row3"),d=this.getNetbyTerminalName("row4"),u=this.getNetbyTerminalName("column1"),h=this.getNetbyTerminalName("column2"),p=this.getNetbyTerminalName("column3"),g=this.getNetbyTerminalName("column4"),m={net:"keypad_4x4_internal_net_"},f=function(e,t,i){var s=new n.Signal(o.simulator,"switchSignal_"+e,!1),c=new n.ProcessedSignal(s,function(e){return e?r:a});return o.simulator.analogCircuit.addResistor(t,i,c),s},_={1:f("row1",m,s),2:f("row2",m,c),3:f("row3",m,l),4:f("row4",m,d)},v={1:f("column1",m,u),2:f("column2",m,h),3:f("column3",m,p),4:f("column4",m,g)};i.pushed.onChange("simulator",function(e,t,i){i?(_[i[0]].setValue(0,!0),v[i[1]].setValue(0,!0)):["1","2","3","4"].forEach(function(e){_[e].setValue(0,i),v[e].setValue(0,i)})},10)},extend(n.Model.Keypad4x4.SimulationModel,n.Model.SimulationModel),n.Model.Keypad4x4.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".cgfx__hitarea_interaction",n.breadboardElement.group).each(function(){var e=$(this).attr("class").match(/cgfx__button_(\w*)/);e&&n.addEvent(".cgfx__hitarea_interaction."+e[0],"Keypad4x4",e[1])}),i.pushed.onChange("view",function(t,i,n){n?cGraphics.updateKeypadMembraneMatrix4x4(e.group,{isPressed:n,row:n[0],col:n[1]}):cGraphics.updateKeypadMembraneMatrix4x4(e.group,{isPressed:n})},10)},extend(n.Model.Keypad4x4.View,n.Model.View),n.Model.Keypad4x4.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=null;this.addTransition("idle","buttonPressed",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){n=e.element().dynamicModel,n.pushed(e.data("subelement"))}),this.addTransition("buttonPressed","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.pushed(null)})},n.Model.Keypad4x4.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.Keypad4x4.Statemachine.prototype.constructor=n.Model.Keypad4x4.Statemachine,n.simulationStateMachines.put("Keypad4x4",n.Model.Keypad4x4.Statemachine),n.Model.Keypad4x4.Model=function(e,t){this.makeVersioned(e),this.pushed=this.value("pushed",!1,!1,!0)},extend(n.Model.Keypad4x4.Model,o)},function(e,t,i){var n=i(173),o=i(191),r=i(433),a=i(176).Versioned;r.Model.FunctionGenerator={},r.model_map.put("function_generator",r.Model.FunctionGenerator),r.Model.FunctionGenerator.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=50,a=.001,s=1e10,c=!0,l=this.getNetbyTerminalName("pos"),d=this.getNetbyTerminalName("neg"),u={net:"function_generator_dc_offset_net_"};if(n.amplitudeSignal=new r.Signal(e,"amplitudeSignal",0),n.frequencySignal=new r.Signal(e,"frequencySignal",t.getPropertyValue("Frequency")||1e3),n.functionSignal=new r.Signal(e,"functionSignal",t.getPropertyValue("Function")||"square"),n.waveformSignal=new r.Signal(e,"waveformSignal",0),n.dcOffsetSignal=new r.Signal(e,"dcOffsetSignal",0),n.cycleTimer=new r.Signal(e,"cycleSignal",!1),n.filterSignal=new r.Signal(e,"filterSignal",0),n.filterGainSignal=new r.Signal(e,"filterGainSignal",1),n.powerSignal=new r.Signal(e,"powerSignal",!1),n.outputResistanceSignal=new r.ProcessedSignal(n.powerSignal,function(e){return e?a:s}),c){var h={net:"follower_pos_supply_net_"},p={net:"follower_neg_supply_net_"},g={net:"source_pos_net_"};e.analogCircuit.addVoltageSource(h,d,i.amplitudeMax+i.dcOffsetMax,1e-4),e.analogCircuit.addVoltageSource(d,p,i.amplitudeMax+i.dcOffsetMax,1e-4);n.source=e.analogCircuit.addVoltageSource(g,u,n.waveformSignal,o);e.analogCircuit.addOpAmp(g,l,h,p,l,2e6,75,2e5);e.analogCircuit.addCapacitor(g,u,n.filterSignal);this.simulator.analogCircuit.addResistor(g,d,o)}else n.source=e.analogCircuit.addVoltageSource(l,u,n.waveformSignal,o),e.analogCircuit.addCapacitor(l,u,n.filterSignal);n.dcOffsetPowerSignal=new r.ProcessedSignal(n.powerSignal,n.dcOffsetSignal,function(e,t){return e?2*t:0}),n.dcOffset=e.analogCircuit.addVoltageSource(u,d,n.dcOffsetPowerSignal,n.outputResistanceSignal);var m=function(){var e;e="sine"==n.functionSignal.value()?[0,.309016994,.587785252,.809016994,.951056516,1,.951056516,.809016994,.587785252,.309016994,0,-.309016994,-.587785252,-.809016994,-.951056516,-1,-.951056516,-.809016994,-.587785252,-.309016994]:"triangle"==n.functionSignal.value()?[0,.2,.4,.6,.8,1,.8,.6,.4,.2,0,-.2,-.4,-.6,-.8,-1,-.8,-.6,-.4,-.2]:[1,-1];var t=1/(n.frequencySignal.value()*e.length),i=n.amplitudeSignal.value()*n.filterGainSignal.value();e.forEach(function(e,o){n.waveformSignal.setValue(t*o,.5*i*e)})};i.power.onChange("simulation",function(e,t,i){n.powerSignal.setValue(0,i)},10),i.power(!0),n.lastCyclePower=!1,n.cycleTimer.add_process([null,function(){n.powerSignal.value()?(m(),n.lastCyclePower=!0):(n.lastCyclePower&&n.waveformSignal.setValue(0,0),n.lastCyclePower=!1),n.cycleTimer.setValue(1/n.frequencySignal.value(),!0)}]),n.cycleTimer.setValue(0,!0),n.updateFilter=function(e,t){n.functionSignal.setValue(0,e),"sine"==e?(n.filterSignal.setValue(0,.5/(o*t)),n.filterGainSignal.setValue(0,3.65)):"triangle"==e?(n.filterSignal.setValue(0,.1/(o*t)),n.filterGainSignal.setValue(0,2.2)):(n.filterSignal.setValue(0,0),n.filterGainSignal.setValue(0,1.95))},n.updateFilter(n.functionSignal.value(),n.frequencySignal.value()),i.frequency.onChange("simulation",function(e,t,o){null!=o&&(o=i.frequency.map(),o<i.frequencyMin&&(o=i.frequencyMin),n.frequencySignal.setValue(0,o),i.frequencyText(n.printValueUnit(o,"Hz")),n.updateFilter(i.functionType(),o),i.editMode&&null!=t&&Math.abs(o-n.device.getPropertyValue("Frequency"))>.001&&(n.device.root.rec(),n.device.setProperty("Frequency",!1,o,""),n.device.root.stopRec()))},10),i.frequency.map(t.getPropertyValue("Frequency")||1e3),i.amplitude.onChange("simulation",function(e,t,o){null!=o&&(o=i.amplitude.map(),Math.abs(o)<.001&&(o=0),n.amplitudeSignal.setValue(0,o),i.amplitudeText(n.printValueUnit(o,"V")),i.editMode&&null!=t&&Math.abs(o-n.device.getPropertyValue("Amplitude"))>.001&&(n.device.root.rec(),n.device.setProperty("Amplitude",!1,o,""),n.device.root.stopRec()))},10),i.amplitude.map(t.getPropertyValue("Amplitude")||5),i.dcOffset.onChange("simulation",function(e,t,o){null!=o&&(o=i.dcOffset.map(),Math.abs(o)<.001&&(o=0),n.dcOffsetSignal.setValue(0,o),i.dcOffsetText(n.printValueUnit(o,"V")),i.editMode&&null!=t&&Math.abs(o-n.device.getPropertyValue("DC Offset"))>.001&&(n.device.root.rec(),n.device.setProperty("DC Offset",!1,o,""),n.device.root.stopRec()))},10);var f=t.getPropertyValue("DC Offset");i.dcOffset.map(null==f?2.5:f),i.functionType.onChange("simulation",function(e,t,o){null!=o&&(n.updateFilter(i.functionType(),i.frequency.map()),i.editMode&&null!=t&&o!=n.device.getPropertyValue("Function")&&(n.device.root.rec(),n.device.setProperty("Function",!1,o,""),n.device.root.stopRec()))},10),i.functionType(t.getPropertyValue("Function")||"square"),i.square.onChange("simulation",function(e,t,n){n===!0&&i.functionType("square")},10),i.sine.onChange("simulation",function(e,t,n){n===!0&&i.functionType("sine")},10),i.triangle.onChange("simulation",function(e,t,n){n===!0&&i.functionType("triangle")},10),t.properties.onPut("simulation",function(){var e=t.getPropertyValue("Frequency");e<i.frequencyMin?e=i.frequencyMin:e>i.frequencyMax&&(e=i.frequencyMax),i.frequency.map(e);var o=t.getPropertyValue("Amplitude");!o||0>o?o=0:o>i.amplitudeMax&&(o=i.amplitudeMax),i.amplitude.map(o);var r=t.getPropertyValue("DC Offset");r<i.dcOffsetMin?r=i.dcOffsetMin:r>i.dcOffsetMax&&(r=i.dcOffsetMax),i.dcOffset.map(r),i.functionType(t.getPropertyValue("Function")||"square"),n.functionSignal.setValue(0,t.getPropertyValue("Function"))},10)},extend(r.Model.FunctionGenerator.SimulationModel,r.Model.SimulationModel),r.Model.FunctionGenerator.View=function(e,t,i,n){var o=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.editMode=o.breadboardElement.gui.mode==Circuits.GuiMode.EDIT?!0:!1,this.addEvent(".cgfx__hitarea-interaction.cgfx__powerbtn","click","Power"),this.addEvent(".cgfx__hitarea-interaction.cgfx__potentiometer-frequency","potentiometer","Frequency"),this.addEvent(".cgfx__hitarea-interaction.cgfx__potentiometer-amplitude","potentiometer","Amplitude"),this.addEvent(".cgfx__hitarea-interaction.cgfx__potentiometer-dc-offset","potentiometer","DC-Offset"),this.addEvent(".cgfx__hitarea-interaction.cgfx__button-square","button","Square"),this.addEvent(".cgfx__hitarea-interaction.cgfx__button-sine","button","Sine"),this.addEvent(".cgfx__hitarea-interaction.cgfx__button-triangle","button","Triangle"),n.simulatorState.onChange(o,function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{inactive:n==r.states.IDLE})}),i.power.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{isOn:n}),cGraphics.updateFunctionGenerator(e.group,{inactive:!n})},10),i.power(!1),i.frequency.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{frequencyposition:n})},10),i.amplitude.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{amplitudeposition:n})},10),i.dcOffset.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{dcoffsetposition:n})},10),i.frequencyText.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{frequencydisplaytext:n})},10),i.amplitudeText.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{amplitudedisplaytext:n})},10),i.dcOffsetText.onChange("view",function(t,i,n){cGraphics.updateFunctionGenerator(e.group,{dcoffsetdisplaytext:n})},10),i.functionType.onChange("view",function(t,i,n){var o="sine"==n?!0:!1,r="triangle"==n?!0:!1,a=null!=n&&!(o||r);cGraphics.updateFunctionGenerator(e.group,{isPushedSquare:a,isPushedSine:o,isPushedTriangle:r})},10)},extend(r.Model.FunctionGenerator.View,r.Model.View),r.Model.FunctionGenerator.Model=function(e,t){var i=this;this.makeVersioned(e),this.amplitudeMax=10,this.frequencyMin=1,this.frequencyMax=1e6,this.dcOffsetMin=-5,this.dcOffsetMax=5,this.editMode=!1,this.power=this.value("power",!1,!1,!0),this.square=this.value("square",!1,!1,!0),this.sine=this.value("sine",!1,!1,!0),this.triangle=this.value("triangle",!1,!1,!0),this.frequency=this.value("frequency",null,!1,!0),this.frequencyText=this.value("frequencyText","",!1,!0),this.amplitude=this.value("amplitude",null,!1,!0),this.amplitudeText=this.value("amplitudeText","",!1,!0),this.dcOffset=this.value("dcOffset",null,!1,!0),this.dcOffsetText=this.value("dcOffsetText","",!1,!0),this.functionType=this.value("functionType",null,!1,!0),this.cycle=this.value("cycle",0,!1,!0),this.frequency.map=function(e){return"undefined"==typeof e?Math.pow(10,6*i.frequency()):(e<i.frequencyMin?e=i.frequencyMin:e>i.frequencyMax&&(e=i.frequencyMax),void i.frequency(Math.log10(e)/6))},this.amplitude.map=function(e){return"undefined"==typeof e?i.amplitudeMax*i.amplitude():void i.amplitude(e/i.amplitudeMax)},this.dcOffset.map=function(e){return"undefined"==typeof e?i.dcOffset()*(i.dcOffsetMax-i.dcOffsetMin)+i.dcOffsetMin:void i.dcOffset((e-i.dcOffsetMin)/(i.dcOffsetMax-i.dcOffsetMin))};var r=t.getDescription().svg;this.subElementMap=new n.HashMap,this.subElementMap.put("Power",{position:this.power}),this.subElementMap.put("Square",{pushed:this.square}),this.subElementMap.put("Sine",{pushed:this.sine}),this.subElementMap.put("Triangle",{pushed:this.triangle});var a=function(e,t){var n=$(".cgfx__hitarea-interaction.cgfx__potentiometer-"+e.toLowerCase(),r),a=SvgHelpers.getParentTransformation(n[0]),s=new o.Coord(parseFloat(n.attr("cx")),parseFloat(n.attr("cy"))),c=s.add(new o.Coord(0,1));i.subElementMap.put(e,{position:t,knobCenter:s.svgTransform(a),knobAngle:c.svgTransform(a).sub(s.svgTransform(a)).angleDegrees()})};a("Frequency",this.frequency),a("Amplitude",this.amplitude),a("DC-Offset",this.dcOffset)},extend(r.Model.FunctionGenerator.Model,a)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.VoltageRegulator3p3V={},n.model_map.put("voltageRegulator3p3V",n.Model.VoltageRegulator3p3V),n.Model.VoltageRegulator3p3V.SimulationModel=function(e,t,i){var o=this;this.simulator=e,this.device=t,this.dynamicModel=i;var r=this.getNetbyTerminalName("in"),a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("out"),c=-.25,l=15,d=1.3,u=.017,h=.005;o.inputVoltageSignal=new n.Signal(e,"inputVoltage",0),o.outputVoltageSignal=new n.ProcessedSignal(o.inputVoltageSignal,function(e){return 1>e||e>16?0:4.3>e?e-1:15>e?3.3:3.3*(16-e)}),this.voltageSource=this.simulator.analogCircuit.addCurrentLimitingVoltageSource(s,a,o.outputVoltageSignal,u,d),o.outputCurrentSignal=new n.Signal(e,"outputCurrent",0),o.inputResistanceSignal=new n.ProcessedSignal(o.inputVoltageSignal,o.outputCurrentSignal,function(e,t){return 1e-6>t?1e10:e/(t+h)}),this.simulator.analogCircuit.addResistor(r,a,o.inputResistanceSignal);var p=function(e){var t=!1,i="This device broke because of:",n=o.simulator,s=n.analog_model.measure(n.time.time,r,a);o.inputVoltageSignal.setValue(0,s);var u=o.voltageSource.getCurrent();o.outputCurrentSignal.setValue(0,u),(c>s||s>l)&&(i+=" Input voltage is "+o.printValueUnit(s,"V")+" while the permitted range is "+o.printValueUnit(c,"V")+" to "+o.printValueUnit(l,"V")+".",t=!0),u>d&&(i+=" Output current is "+o.printValueUnit(u,"A")+" while the maximum is "+o.printValueUnit(d,"A")+".",t=!0),o.dynamicModel.breakdown({breakdown:t,reason:i})};this.simulator.update_ui.add_process([this,p,[e.update_ui]])},extend(n.Model.VoltageRegulator3p3V.SimulationModel,n.Model.SimulationModel),n.Model.VoltageRegulator3p3V.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.VoltageRegulator3p3V.View,n.Model.View),n.Model.VoltageRegulator3p3V.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.VoltageRegulator3p3V.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.VoltageRegulator5V={},n.model_map.put("voltageRegulator5V",n.Model.VoltageRegulator5V),n.Model.VoltageRegulator5V.SimulationModel=function(e,t,i){var o=this;this.simulator=e,this.device=t,this.dynamicModel=i;var r=this.getNetbyTerminalName("in"),a=this.getNetbyTerminalName("gnd"),s=this.getNetbyTerminalName("out"),c=-.25,l=35,d=1.5,u=.017,h=.005;o.inputVoltageSignal=new n.Signal(e,"inputVoltage",0),o.outputVoltageSignal=new n.ProcessedSignal(o.inputVoltageSignal,function(e){return 2>e||e>36?0:7>e?e-2:35>e?5:5*(36-e)}),this.voltageSource=this.simulator.analogCircuit.addCurrentLimitingVoltageSource(s,a,o.outputVoltageSignal,u,d),o.outputCurrentSignal=new n.Signal(e,"outputCurrent",0),o.inputResistanceSignal=new n.ProcessedSignal(o.inputVoltageSignal,o.outputCurrentSignal,function(e,t){return 1e-6>t?1e10:e/(t+h)}),this.simulator.analogCircuit.addResistor(r,a,o.inputResistanceSignal);var p=function(e){var t=!1,i="This device broke because of:",n=o.simulator,s=n.analog_model.measure(n.time.time,r,a);o.inputVoltageSignal.setValue(0,s);var u=o.voltageSource.getCurrent();o.outputCurrentSignal.setValue(0,u),(c>s||s>l)&&(i+=" Input voltage is "+o.printValueUnit(s,"V")+" while the permitted range is "+o.printValueUnit(c,"V")+" to "+o.printValueUnit(l,"V")+".",t=!0),u>d&&(i+=" Output current is "+o.printValueUnit(u,"A")+" while the maximum is "+o.printValueUnit(d,"A")+".",t=!0),o.dynamicModel.breakdown({breakdown:t,reason:i})};this.simulator.update_ui.add_process([this,p,[e.update_ui]])},extend(n.Model.VoltageRegulator5V.SimulationModel,n.Model.SimulationModel),n.Model.VoltageRegulator5V.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.VoltageRegulator5V.View,n.Model.View),n.Model.VoltageRegulator5V.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.VoltageRegulator5V.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned,a=i(170).inherit;o.Model.SensorUltrasonicPing={},o.model_map.put("sensor_ultrasonic_ping",o.Model.SensorUltrasonicPing),o.Model.SensorUltrasonicPing.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=5,s=.03,c=a/s,l=100,d=1e10,u=2e4,h=4.5,p=6,g=2,m=75e-5,f=115e-6,_=.0185,v=this.getNetbyTerminalName("neg"),y=this.getNetbyTerminalName("pos"),C=this.getNetbyTerminalName("sig"),b=(r.simulator.analogCircuit.addResistor(y,v,c),new o.Signal(e,"ping power",0));e.analogCircuit.addTrigger(b,y,v,function(e,t){var i=e-t;return i>=h&&p>=i?1:0});var w=new o.Signal(r.simulator,"ping drive",0),M=new o.ProcessedSignal(w,b,function(e,t){return e&&t?l:d});r.simulator.analogCircuit.addResistor(y,C,M),r.simulator.analogCircuit.addResistor(v,C,u);var S=new o.Signal(e,"ping trigger",!1);e.analogCircuit.addTrigger(S,C,v,function(e,t){return e-t>g?1:0}),r.echoStateMachine=new o.SensorUltrasonicPingStateMachine(e,S,w,{echoHoldoffTime:function(){return m},echoPulseWidth:function(){return r.dynamicModel.distance()<0?_:f+(_-f)*r.dynamicModel.distance()},active:function(e){i.ledActive(e)}}),S.add_process([r,function(){r.echoStateMachine.handle("portActivity")}]);var x={x:t.getPropertyValue("Target X"),y:t.getPropertyValue("Target Y")};(null==x.x||null==x.y)&&(x=i.defaultTargetPosition),i.targetPosition(x),i.distance(i.calculateDistance(new n.Coord(x.x,x.y))),i.targetPosition.onChange("simulator",function(e,t,n){null==n&&null!=t&&i.editMode&&(x.x!=t.x||x.y!=t.y)&&(r.device.root.rec(),r.device.setProperty("Target X",!1,t.x,""),r.device.setProperty("Target Y",!1,t.y,""),r.device.root.stopRec())},10)},extend(o.Model.SensorUltrasonicPing.SimulationModel,o.Model.SimulationModel),o.Model.SensorUltrasonicPing.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.editMode=r.breadboardElement.gui.mode==Circuits.GuiMode.EDIT?!0:!1,n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateSensorUltrasonicPing({view:e.group,control:e.interactionControlGroup},{inactive:n==o.states.IDLE})}),r.addEvent(".cgfx__hitarea_interaction","sensorUltrasonicPing"),i.targetPosition.onChange("view",function(t,i,n){null!=n&&cGraphics.updateSensorUltrasonicPing({
view:e.group,control:e.interactionControlGroup},{targetPosition:n})},10),i.distance.onChange("view",function(t,i,n){var o="",a=!1;if(n>=0){var s=r.dynamicModel.distanceMinimumCm+(r.dynamicModel.distanceMaximumCm-r.dynamicModel.distanceMinimumCm)*n;o+=(s/2.54).toFixed(1)+"in / "+s.toFixed(1)+"cm",a=!0}cGraphics.updateSensorUltrasonicPing({view:e.group,control:e.interactionControlGroup},{positionText:o,inRange:a})},10),i.ledActive.onChange("view",function(t,i,n){cGraphics.updateSensorUltrasonicPing({view:e.group,control:e.interactionControlGroup},{ledActive:n})},10)},extend(o.Model.SensorUltrasonicPing.View,o.Model.View),o.Model.SensorUltrasonicPing.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=this;this.editorModel=t,this.addTransition("idle","targetMoving",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element(),i=e.element().dynamicModel;n.stateInfo={model:i,targetPosition:i.targetPosition,distance:i.distance,origin:t.pos(),angle:t.angle()};var o=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:o.targetPosition.x,y:o.targetPosition.y}),n.stateInfo.distance(o.distance)}),this.addTransition("targetMoving","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.stateInfo=null}),this.addTransition("targetMoving","targetMoving",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:t.targetPosition.x,y:t.targetPosition.y}),n.stateInfo.distance(t.distance)})},o.Model.SensorUltrasonicPing.Statemachine.prototype=a(Circuits.StateMachine.prototype),o.Model.SensorUltrasonicPing.Statemachine.prototype.constructor=o.Model.SensorUltrasonicPing.Statemachine,o.simulationStateMachines.put("sensorUltrasonicPing",o.Model.SensorUltrasonicPing.Statemachine),o.Model.SensorUltrasonicPing.Statemachine.prototype.calcPosition=function(e,t){var i=this.editorModel.toRealCoord(e),n=i.sub(t.origin).rotate(-t.angle);return{targetPosition:n,distance:t.model.calculateDistance(n)}},o.Model.SensorUltrasonicPing.Model=function(e,t){var i=this;this.makeVersioned(e),this.editMode=!1,this.defaultTargetPosition={x:0,y:-200},this.distanceMinimumCm=1.98,this.distanceMaximumCm=336.36,this.rangeMinGraphicalUnits=100,this.rangeMaxGraphicalUnits=400,this.viewAngleMin=240,this.viewAngleMax=300,this.targetPosition=this.value("targetPosition",null,!1,!0),this.distance=this.value("distance",.33333333333,!1,!0),this.ledActive=this.value("ledActive",0,!1,!0),this.calculateDistance=function(e){if(e){var t=e.distance(new n.Coord(0,0));if(t>=i.rangeMinGraphicalUnits&&t<=i.rangeMaxGraphicalUnits){var o=e.angleDegrees();if(o>=i.viewAngleMin&&o<=i.viewAngleMax)return(t-i.rangeMinGraphicalUnits)/(i.rangeMaxGraphicalUnits-i.rangeMinGraphicalUnits)}}return-1}},extend(o.Model.SensorUltrasonicPing.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned,a=i(170).inherit;o.Model.SensorPIR={},o.model_map.put("sensor_pir",o.Model.SensorPIR),o.Model.SensorPIR.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=5,s=.023,c=a/s,l=100,d=1e10,u=2e4,h=3,p=6,g=2,m=this.getNetbyTerminalName("gnd"),f=this.getNetbyTerminalName("vcc"),_=this.getNetbyTerminalName("out"),v=(r.simulator.analogCircuit.addResistor(f,m,c),new o.Signal(e,"pir power",0));e.analogCircuit.addTrigger(v,f,m,function(e,t){var i=e-t;return i>=h&&p>=i?1:0});var y=new o.Signal(r.simulator,"pir drive",0),C=new o.ProcessedSignal(y,v,function(e,t){return e>0&&t?l:d});r.simulator.analogCircuit.addResistor(f,_,C),r.simulator.analogCircuit.addResistor(m,_,u);var b=new o.Signal(e,"pir trigger",!1);e.analogCircuit.addTrigger(b,_,m,function(e,t){return e-t>g?1:0});var w={x:t.getPropertyValue("Target X"),y:t.getPropertyValue("Target Y")};(null==w.x||null==w.y)&&(w=i.defaultTargetPosition),i.targetPosition(w),i.distance(i.calculateDistance(new n.Coord(w.x,w.y))),i.targetPosition.onChange("simulator",function(e,t,n){null==n&&null!=t&&i.editMode&&(w.x!=t.x||w.y!=t.y)&&(r.device.root.rec(),r.device.setProperty("Target X",!1,t.x,""),r.device.setProperty("Target Y",!1,t.y,""),r.device.root.stopRec())},10),i.inRange.onChange("simulator",function(e,t,i){null!=t&&null!=i&&(1==t||1==i)&&(y.setValue(0,!0),y.setValue(1,!1))},10);var M=function(){y.value()!=i.ledActive()&&i.ledActive(y.value())};y.add_process([null,M])},extend(o.Model.SensorPIR.SimulationModel,o.Model.SimulationModel),o.Model.SensorPIR.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.editMode=r.breadboardElement.gui.mode==Circuits.GuiMode.EDIT?!0:!1,n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateSensorPIR({view:e.group,control:e.interactionControlGroup},{inactive:n==o.states.IDLE})}),r.addEvent(".cgfx__hitarea_interaction","sensorPIR"),i.targetPosition.onChange("view",function(t,i,n){null!=n&&cGraphics.updateSensorPIR({view:e.group,control:e.interactionControlGroup},{targetPosition:n})},10),i.distance.onChange("view",function(t,i,n){var o="",a=!1;if(n>=0){var s=r.dynamicModel.distanceMinimumCm+(r.dynamicModel.distanceMaximumCm-r.dynamicModel.distanceMinimumCm)*n;o+=(s/2.54).toFixed(1)+"in / "+s.toFixed(1)+"cm",a=!0}cGraphics.updateSensorPIR({view:e.group,control:e.interactionControlGroup},{positionText:o,inRange:a}),r.dynamicModel.inRange(a)},10),i.ledActive.onChange("view",function(t,i,n){cGraphics.updateSensorPIR({view:e.group,control:e.interactionControlGroup},{ledActive:n})},10)},extend(o.Model.SensorPIR.View,o.Model.View),o.Model.SensorPIR.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=this;this.editorModel=t,this.addTransition("idle","targetMoving",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element(),i=e.element().dynamicModel;n.stateInfo={model:i,targetPosition:i.targetPosition,distance:i.distance,origin:t.pos(),angle:t.angle()};var o=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:o.targetPosition.x,y:o.targetPosition.y}),n.stateInfo.distance(o.distance)}),this.addTransition("targetMoving","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.stateInfo=null}),this.addTransition("targetMoving","targetMoving",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:t.targetPosition.x,y:t.targetPosition.y}),n.stateInfo.distance(t.distance)})},o.Model.SensorPIR.Statemachine.prototype=a(Circuits.StateMachine.prototype),o.Model.SensorPIR.Statemachine.prototype.constructor=o.Model.SensorPIR.Statemachine,o.simulationStateMachines.put("sensorPIR",o.Model.SensorPIR.Statemachine),o.Model.SensorPIR.Statemachine.prototype.calcPosition=function(e,t){var i=this.editorModel.toRealCoord(e),n=i.sub(t.origin).rotate(-t.angle);return{targetPosition:n,distance:t.model.calculateDistance(n)}},o.Model.SensorPIR.Model=function(e,t){var i=this;this.makeVersioned(e),this.editMode=!1,this.defaultTargetPosition={x:0,y:-200},this.distanceMinimumCm=1.98,this.distanceMaximumCm=336.36,this.rangeMinGraphicalUnits=100,this.rangeMaxGraphicalUnits=400,this.viewAngleMin=240,this.viewAngleMax=300,this.targetPosition=this.value("targetPosition",null,!1,!0),this.distance=this.value("distance",.33333333333,!1,!0),this.ledActive=this.value("ledActive",0,!1,!0),this.inRange=this.value("inRange",null,!1,!0),this.calculateDistance=function(e){if(e){var t=e.distance(new n.Coord(0,0));if(t>=i.rangeMinGraphicalUnits&&t<=i.rangeMaxGraphicalUnits){var o=e.angleDegrees();if(o>=i.viewAngleMin&&o<=i.viewAngleMax)return(t-i.rangeMinGraphicalUnits)/(i.rangeMaxGraphicalUnits-i.rangeMinGraphicalUnits)}}return-1}},extend(o.Model.SensorPIR.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned,a=i(170).inherit;o.Model.SensorGas={},o.model_map.put("sensor_gas",o.Model.SensorGas),o.Model.SensorGas.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=26,s=4,c=5,l=5.1,d=1650,u=11e3,h=this.getNetbyTerminalName("A1"),p=this.getNetbyTerminalName("B1"),g=this.getNetbyTerminalName("H1"),m=this.getNetbyTerminalName("H2");e.analogCircuit.mergeNets(h,this.getNetbyTerminalName("A2")),e.analogCircuit.mergeNets(p,this.getNetbyTerminalName("B2"));var f=(r.simulator.analogCircuit.addResistor(g,m,a),new o.Signal(e,"sensor signal",u));e.analogCircuit.addResistor(h,p,f);var _={x:t.getPropertyValue("Target X"),y:t.getPropertyValue("Target Y")};(null==_.x||null==_.y)&&(_=i.defaultTargetPosition),i.targetPosition(_),i.sensorLevel(i.calculateSensorLevel(new n.Coord(_.x,_.y))),i.targetPosition.onChange("simulator",function(e,t,n){null==n&&null!=t&&i.editMode&&(_.x!=t.x||_.y!=t.y)&&(r.device.root.rec(),r.device.setProperty("Target X",!1,t.x,""),r.device.setProperty("Target Y",!1,t.y,""),r.device.root.stopRec())},10);var v=function(e,t){if(s>e)return u;e>l&&(e=l);var i=u+(d-u)*(e-s)/(c-s);return u+(i-u)*t};i.sensorLevel.onChange("simulator",function(e,t,n){null!=t&&null!=n&&f.setValue(0,v(i.heaterVoltage(),n))},10),i.heaterVoltage.onChange("simulator",function(e,t,n){null!=t&&null!=n&&f.setValue(0,v(n,i.sensorLevel()))},10);var y=function(e){var t=!1,n="This device broke because of:",o=r.simulator,a=o.analog_model.measure(o.time.time,g,m);0>a&&(a=-a),a>l&&(n+=" Heater voltage is "+r.printValueUnit(a,"V")+" while permitted maximum is "+r.printValueUnit(l,"V")+".",t=!0),i.heaterVoltage(a),r.dynamicModel.animate(),r.dynamicModel.breakdown({breakdown:t,reason:n})};this.simulator.update_ui.add_process([this,y,[e.update_ui]])},extend(o.Model.SensorGas.SimulationModel,o.Model.SimulationModel),o.Model.SensorGas.View=function(e,t,i,n){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.editMode=r.breadboardElement.gui.mode==Circuits.GuiMode.EDIT?!0:!1,n.simulatorState.onChange(r,function(t,i,n){cGraphics.updateSensorGas({view:e.group,control:e.interactionControlGroup},{inactive:n==o.states.IDLE})}),r.addEvent(".cgfx__hitarea_interaction","sensorGas"),i.targetPosition.onChange("view",function(t,i,n){null!=n&&cGraphics.updateSensorGas({view:e.group,control:e.interactionControlGroup},{targetPosition:n})},10),i.gasAnimation.onChange("view",function(t,i,n){cGraphics.updateSensorGas({view:e.group,control:e.interactionControlGroup},{animation:n})},10),this.addBreakdown()},extend(o.Model.SensorGas.View,o.Model.View),o.Model.SensorGas.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=this;this.editorModel=t,this.addTransition("idle","targetMoving",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element(),i=e.element().dynamicModel;n.stateInfo={model:i,targetPosition:i.targetPosition,sensorLevel:i.sensorLevel,origin:t.pos(),angle:t.angle()};var o=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:o.targetPosition.x,y:o.targetPosition.y}),n.stateInfo.sensorLevel(o.sensorLevel)}),this.addTransition("targetMoving","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.stateInfo=null}),this.addTransition("targetMoving","targetMoving",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){var t=n.calcPosition(e.data("mouseCoord"),n.stateInfo);n.stateInfo.targetPosition({x:t.targetPosition.x,y:t.targetPosition.y}),n.stateInfo.sensorLevel(t.sensorLevel)})},o.Model.SensorGas.Statemachine.prototype=a(Circuits.StateMachine.prototype),o.Model.SensorGas.Statemachine.prototype.constructor=o.Model.SensorGas.Statemachine,o.simulationStateMachines.put("sensorGas",o.Model.SensorGas.Statemachine),o.Model.SensorGas.Statemachine.prototype.calcPosition=function(e,t){var i=this.editorModel.toRealCoord(e),n=i.sub(t.origin).rotate(-t.angle);return{targetPosition:n,sensorLevel:t.model.calculateSensorLevel(n)}},o.Model.SensorGas.Model=function(e,t){var i=this;this.makeVersioned(e),this.editMode=!1,this.defaultTargetPosition={x:0,y:-200},this.maximumDistanceGraphicalUnits=250,this.gasAnimationStep=.0025,this.targetPosition=this.value("targetPosition",null,!1,!0),this.heaterVoltage=this.value("heaterVoltage",0,!1,!0),this.sensorLevel=this.value("sensorLevel",0,!1,!0),this.gasAnimation=this.value("gasAnimation",0,!1,!0),this.breakdown=this.value("breakdown",!1,!1,!0),this.calculateSensorLevel=function(e){if(e){var t=e.distance(new n.Coord(0,0));if(t<=i.maximumDistanceGraphicalUnits)return 1-t/i.maximumDistanceGraphicalUnits}return 0},this.animate=function(){var e=i.gasAnimation()+i.gasAnimationStep;0>e?e+=1:e>1&&(e-=1),i.gasAnimation(e)}},extend(o.Model.SensorGas.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.VibrationMotor={},n.model_map.put("vibration_motor",n.Model.VibrationMotor),n.Model.VibrationMotor.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=50,r=.04,a=.1,s=this.getNetbyTerminalName("neg"),c=this.getNetbyTerminalName("pos"),l=this.simulator.analogCircuit.addResistor(c,s,o),d=function(e){var t=e.value(),o=l.getCurrent(t);if(r>=o)i.enableAnimation(!1),i.breakdown({breakdown:!1,reason:""});else if(a>=o)i.enableAnimation(!0),i.amplitude=(o-r)/(a-r),i.breakdown({breakdown:!1,reason:""});else{var s="Current through the motor is "+n.printValueUnit(o,"A")+", while maximum is "+n.printValueUnit(a,"A");i.enableAnimation(!1),i.breakdown({breakdown:!0,reason:s})}};this.simulator.update_ui.add_process([this,d,[e.update_ui]])},extend(n.Model.VibrationMotor.SimulationModel,n.Model.SimulationModel),n.Model.VibrationMotor.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.enableAnimation.onChange("view",function(t,n,o){if(o!=n){var r=50;o?i.animationTimer=setInterval(function(){cGraphics.updateMotorVibration(e.group,{on:o,amplitude:i.amplitude})},r):(clearInterval(i.animationTimer),cGraphics.updateMotorVibration(e.group,{on:!1,amplitude:0}))}},10)},extend(n.Model.VibrationMotor.View,n.Model.View),n.Model.VibrationMotor.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0),this.amplitude=this.value("Animation amplitude",0,!1,!0)},extend(n.Model.VibrationMotor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.kittyEarPCB={},n.model_map.put("kittyEar",n.Model.kittyEarPCB),n.Model.kittyEarPCB.SimulationModel=function(e,t,i){function o(){var e="1"==t.getPropertyValue("Battery")?!0:!1;O.setValue(0,e)}var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=3,s=0,c=10,l=1e8,d=(this.getNetbyTerminalName("ATtiny1"),this.getNetbyTerminalName("ATtiny2")),u=(this.getNetbyTerminalName("ATtiny3"),this.getNetbyTerminalName("ATtiny4")),h=this.getNetbyTerminalName("ATtiny5"),p=this.getNetbyTerminalName("ATtiny6"),g=this.getNetbyTerminalName("ATtiny7"),m=this.getNetbyTerminalName("ATtiny8"),f=this.getNetbyTerminalName("OUT"),_=this.getNetbyTerminalName("OUT-A"),v=this.getNetbyTerminalName("OUT-B"),y=this.getNetbyTerminalName("IN"),C=this.getNetbyTerminalName("IN-A"),b=this.getNetbyTerminalName("IN-B"),w=this.getNetbyTerminalName("R1-A"),M=this.getNetbyTerminalName("R1-B"),S=this.getNetbyTerminalName("R2-A"),x=this.getNetbyTerminalName("R2-B"),T=this.getNetbyTerminalName("LED1-"),E=this.getNetbyTerminalName("LED1+"),A=this.getNetbyTerminalName("LED2-"),D=this.getNetbyTerminalName("LED2+"),L=this.getNetbyTerminalName("LED3-"),B=this.getNetbyTerminalName("LED3+"),k=this.getNetbyTerminalName("LED4-"),R=this.getNetbyTerminalName("LED4+"),I=this.getNetbyTerminalName("SW1"),P=this.getNetbyTerminalName("SW2");this.getNetbyTerminalName("SW3"),this.getNetbyTerminalName("SW4");e.analogCircuit.mergeNets(g,E),e.analogCircuit.mergeNets(g,A),e.analogCircuit.mergeNets(g,B),e.analogCircuit.mergeNets(g,k),e.analogCircuit.mergeNets(g,y),e.analogCircuit.mergeNets(p,S),e.analogCircuit.mergeNets(h,w),e.analogCircuit.mergeNets(M,T),e.analogCircuit.mergeNets(M,D),e.analogCircuit.mergeNets(M,C),e.analogCircuit.mergeNets(M,_),e.analogCircuit.mergeNets(M,I),e.analogCircuit.mergeNets(x,L),e.analogCircuit.mergeNets(x,R),e.analogCircuit.mergeNets(x,b),e.analogCircuit.mergeNets(x,v),e.analogCircuit.mergeNets(x,P),e.analogCircuit.mergeNets(d,f);var N="1"==t.getPropertyValue("Battery")?!0:!1,O=new n.Signal(this.simulator,"battery",N),V=new n.ProcessedSignal(O,function(e){return e?a:s}),G=new n.ProcessedSignal(O,function(e){return e?c:l});e.analogCircuit.addVoltageSource(m,u,V,G);t.properties.onPut("simulate",o,10)},extend(n.Model.kittyEarPCB.SimulationModel,n.Model.SimulationModel),n.Model.kittyEarPCB.View=function(e,t,i){function n(){cGraphics.updateKittyEarPCB(e.group,{showBattery:"1"==t.getPropertyValue("Battery")?!0:!1})}t.properties.onPut("view",n,10),n()},n.Model.kittyEarPCB.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.kittyEarPCB.Model,o)},function(e,t,i){i(618),i(619),i(620),i(621),i(622),i(623),i(624),i(625),i(626),i(627),i(628),i(629),i(617),i(630),i(631),i(632),i(633),i(634),i(635),i(636),i(637),i(638),i(639),i(640)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_10k={},n.model_map.put("resistor_10k",n.Model.Resistor_10k),n.Model.Resistor_10k.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e4,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_10k.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_10k.View=function(e,t,i){},extend(n.Model.Resistor_10k.View,n.Model.View),n.Model.Resistor_10k.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_10k.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.piezoSound={},n.Model.piezoSound.simulationModelName="piezoSound",n.model_map.put(n.Model.piezoSound.simulationModelName,n.Model.piezoSound),n.Model.piezoSound.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=600,a=25,s=6,c=this.getNetbyTerminalName("+"),l=this.getNetbyTerminalName("-"),d=e.analogCircuit.addResistor(c,l,r);o.audio=new n.Audio(o.simulator);var u=function(e){var t=e.value(),n=d.getVoltage(t);.001>n&&(n=0);var r=0;if(a>=n)i.breakdown({breakdown:!1,reason:""});else{var u="Voltage over buzzer is "+o.printValueUnit(n,"V")+", while maximum is "+o.printValueUnit(a,"V");i.breakdown({breakdown:!0,reason:u})}r=o.audio.play(c,l,1/s),i.sound(r)};this.simulator.update_ui.add_process([this,u,[e.update_ui]]),this.simulator.viewState.onChange(this,function(e,t,i){(i==n.states.IDLE||i==n.states.PAUSED)&&o.audio&&o.audio.stop()})},extend(n.Model.piezoSound.SimulationModel,n.Model.SimulationModel),n.Model.piezoSound.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.sound.onChange("view",function(t,i,n){cGraphics.updatePiezoBuzzer(e.group,{volume:n})},10)},extend(n.Model.piezoSound.View,n.Model.View),n.Model.piezoSound.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.sound=this.value("sound",0,!1,!0)},extend(n.Model.piezoSound.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.optoCoupler_4N35={},n.Model.optoCoupler_4N35.simulationModelName="optoCoupler_4N35",n.model_map.put(n.Model.optoCoupler_4N35.simulationModelName,n.Model.optoCoupler_4N35),n.Model.optoCoupler_4N35.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.06,r=6,a=1e-16,s=1.5,c=294,l=1,d=this.getNetbyTerminalName("Anode"),u=this.getNetbyTerminalName("Cathode"),h=this.getNetbyTerminalName("Emitter"),p=this.getNetbyTerminalName("Base"),g=this.getNetbyTerminalName("Collector"),m={net:"sense net"},f=e.analogCircuit.addDiode(d,m,a,s),_=(e.analogCircuit.addNPN(p,h,g),e.analogCircuit.addCurrentControlledCurrentSource(m,u,p,h,.001,l/c),e.analogCircuit.addResistor(u,h,1e10),function(e){var t=e.value(),a="",s=f.getCurrent(t);s>o&&(a+="Current through the led is "+n.printValueUnit(s,"A")+", while maximum is "+n.printValueUnit(o,"A"));var c=f.getVoltage(t);-r>c&&(a+="Reverse Voltage over the led is "+n.printValueUnit(-c,"V")+", while maximum is "+n.printValueUnit(r,"V")),i.breakdown({breakdown:""!=a,reason:a})});e.update_ui.add_process([this,_,[e.update_ui]])},extend(n.Model.optoCoupler_4N35.SimulationModel,n.Model.SimulationModel),n.Model.optoCoupler_4N35.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.optoCoupler_4N35.View,n.Model.View),n.Model.optoCoupler_4N35.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.optoCoupler_4N35.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.TMP36={},o.model_map.put("TMP36",o.Model.TMP36),o.Model.TMP36.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=2.7,a=5.5,s=1e5,c=1e5,l=-40,d=125,u=25,h=.75,p=.01,g=h-u*p,m=this.getNetbyTerminalName("Vcc"),f=this.getNetbyTerminalName("Gnd"),_=this.getNetbyTerminalName("Vout"),v=e.analogCircuit.addResistor(m,f,s),y=new o.Signal(e,"TMP36 power",!1);e.analogCircuit.addTrigger(y,m,f,function(e,t){return e-t>r});var C=new o.Signal(this.simulator,"Temperatur signal",u),b=new o.ProcessedSignal(y,C,function(e,t){return e?g+t*p:0});this.simulator.analogCircuit.addVoltageSource(_,f,b,c),n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=Math.round(l+i*(d-l));C.setValue(0,n)},10),n.dynamicModel.position((u-l)/(d-l));var w=function(e){var t=e.value(),o=v.getVoltage(t);if(o>a){var r=" Voltage at Vcc pin is "+n.printValueUnit(o,"V")+", while maximum is "+n.printValueUnit(a,"V")+".";i.breakdown({breakdown:!0,reason:r})}else i.breakdown({breakdown:!1,reason:""})};e.update_ui.add_process([this,w,[e.update_ui]])},extend(o.Model.TMP36.SimulationModel,o.Model.SimulationModel),o.Model.TMP36.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i;var o=-40,r=125;this.addEvent(".cgfx__hitarea-interaction","slider"),this.addBreakdown(),i.position.onChange("view",function(t,i,n){var a=(Math.floor(o+n*(r-o))+"&#176;C").replace("-","- ");cGraphics.updateSensorTemperature({view:e.group,control:e.interactionControlGroup},{temperature:n,sliderknoblabel:a})},10)},extend(o.Model.TMP36.View,o.Model.View),o.Model.TMP36.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(o.Model.TMP36.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.tiltSensor={},o.model_map.put("tiltSensor",o.Model.tiltSensor),o.Model.tiltSensor.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=10,a=1e10,s=this.getNetbyTerminalName("1"),c=this.getNetbyTerminalName("2"),l=this.getNetbyTerminalName("3"),d=this.getNetbyTerminalName("4");e.analogCircuit.mergeNets(s,c),e.analogCircuit.mergeNets(l,d);var u=new o.Signal(this.simulator,"tilt Signal",!0),h=new o.ProcessedSignal(u,function(e){return e?r:a});e.analogCircuit.addResistor(s,l,h);n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=i>.75;u.setValue(0,!n)},10)},extend(o.Model.tiltSensor.SimulationModel,o.Model.SimulationModel),o.Model.tiltSensor.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateSensorTilt({view:e.group,control:e.interactionControlGroup},{tilt:n})},10)},extend(o.Model.tiltSensor.View,o.Model.View),o.Model.tiltSensor.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.tiltSensor.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.Potentiometer_10k={},o.model_map.put("potentiometer_10k",o.Model.Potentiometer_10k),o.Model.Potentiometer_10k.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=1e4,a=.5,s=this.getNetbyTerminalName("term1"),c=this.getNetbyTerminalName("term3"),l=this.getNetbyTerminalName("wiper"),d=t.getPropertyValue("Position")||0,u=new o.Signal(this.simulator,"potentiometer position",d),h=new o.ProcessedSignal(u,function(e){return r*e+a}),p=(this.simulator.analogCircuit.addResistor(s,l,h),new o.ProcessedSignal(u,function(e){return r*(1-e)+a}));this.simulator.analogCircuit.addResistor(c,l,p);i.position.onChange("simulator",function(e,t,i){if(i>=0){var o=Math.round(50*(0>i?0:i))/50;u.setValue(0,o)}else if(n.dynamicModel.editMode==Circuits.GuiMode.EDIT&&t!=d){var o=Math.round(50*t)/50;n.device.root.rec(),n.device.setProperty("Position",!1,o,""),n.device.root.stopRec()}},10),i.position(d)},extend(o.Model.Potentiometer_10k.SimulationModel,o.Model.SimulationModel),o.Model.Potentiometer_10k.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.dynamicModel.editMode=n.breadboardElement.gui.mode,this.addEvent(".cgfx__hitarea-interaction","potentiometer"),i.position.onChange("view",function(t,i,n){n>=0&&cGraphics.updatePotentiometerArduinoKit(e.group,{position:n})},10),i.position(t.getPropertyValue("Position")||0)},extend(o.Model.Potentiometer_10k.View,o.Model.View),o.Model.Potentiometer_10k.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",-1,!1,!0),this.knobCenter=new n.Coord(0,0),this.knobAngle=90},extend(o.Model.Potentiometer_10k.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Motor_arduino={},n.model_map.put("dc_motor_arduino",n.Model.Motor_arduino),n.Model.Motor_arduino.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=3.5,r=.0245,a=6,s=.095,c=12e3,l=1e5,d=9.5493,u=(a-s*o)/(c/d),h=r*o/a*l,p=h/l*s,g=0,m=(g*(r-p)+p)/((1-g)*(c/d))*l,f=this.getNetbyTerminalName("1"),_=this.getNetbyTerminalName("2"),v={net:"Motor_arduino_net_between_sense-backEMF_"},y={net:"Motor_arduino_net_between_backEMF-Rs_"},C={net:"Motor_arduino_mechanical_net_between_sense-friction_"},b={net:"Motor_arduino_mechanical_net_between_friction-inertia_"},w=(this.simulator.analogCircuit.addResistor(_,y,o),this.simulator.analogCircuit.addCurrentControlledVoltageSource(C,f,y,v,1e-4,1e-4,u),this.simulator.analogCircuit.addCurrentControlledVoltageSource(v,f,b,f,.001,.001,h),this.simulator.analogCircuit.addResistor(b,C,m)),M=function(e){var t=e.value(),n=w.getCurrent(t)*d;i.avgSpeed(n)};this.simulator.update_ui.add_process([this,M,[e.update_ui]]),i.enableAnimation(!0)},extend(n.Model.Motor_arduino.SimulationModel,n.Model.SimulationModel),n.Model.Motor_arduino.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;o?i.animationTimer=setInterval(function(){var t=i.avgSpeed();i.gearPosition=(i.gearPosition+t/60*r/1e3*360)%360,cGraphics.updateMotorDC(e.group,{rotation:i.gearPosition,rpm:Math.round(t)+" rpm"})},r):clearInterval(i.animationTimer)},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateMotorDC(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateMotorDC(e.group,{inactive:!0})},n.Model.Motor_arduino.Model=function(e,t){this.makeVersioned(e),this.avgSpeed=this.value("speed",0,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0)},extend(n.Model.Motor_arduino.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Servo_SMS2309S={},n.model_map.put("servo_SMS2309S",n.Model.Servo_SMS2309S),n.Model.Servo_SMS2309S.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e6,a=1470,s=51,c=4.5,l=5.5,d=5e-4,u=.0025,h=this.getNetbyTerminalName("Ground"),p=this.getNetbyTerminalName("Power"),g=this.getNetbyTerminalName("Signal"),m=new n.Signal(this.simulator,"switchSignal",!1),f=new n.ProcessedSignal(m,function(e){return e?s:a}),_=this.simulator.analogCircuit.addResistor(p,h,f),v=(this.simulator.analogCircuit.addResistor(g,h,r),new n.Signal(e,"servo logic power",!1));e.analogCircuit.addTrigger(v,p,h,function(e,t){return e-t>c});var y=new n.Signal(o.simulator,"signal",0);o.simulator.analogCircuit.addTrigger(y,g,h,function(e,t){return e-t>2.5});var C=0,b=0,w=function(){if(v.value()){var e=o.simulator.time.time;if(y.rising_edge()&&(C=e),y.falling_edge()){var t=e-C;t>u&&(t=u),d>t&&(t=d);var i=(t-d)/(u-d)*180,n=i-b,r=.5*n;r>3&&(r=3),-3>r&&(r=-3),b+=r,Math.abs(r)>.1&&(m.setValue(0,!0),m.setValue(.025,!1))}}};y.add_process([null,w]),v.add_process([null,w]);var M=function(e){var t=e.value();i.position(b);var n=_.getVoltage(t);n>l?i.breakdown({breakdown:!0,reason:"Voltage at the power pins is "+o.printValueUnit(n,"V")+", while maximum is "+o.printValueUnit(l,"V")}):i.breakdown({breakdown:!1,reason:""})};this.simulator.update_ui.add_process([this,M,[e.update_ui]])},extend(n.Model.Servo_SMS2309S.SimulationModel,n.Model.SimulationModel),n.Model.Servo_SMS2309S.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.position.onChange("view",function(t,i,n){cGraphics.updateMotorServoSMS2309S(e.group,{rotation:n})},10)},extend(n.Model.Servo_SMS2309S.View,n.Model.View),n.Model.Servo_SMS2309S.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.position=this.value("position",0,!1,!0)},extend(n.Model.Servo_SMS2309S.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Nmos_IRF520={},n.model_map.put("nmos_irf520",n.Model.Nmos_IRF520),n.Model.Nmos_IRF520.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=this.getNetbyTerminalName("gate"),r=this.getNetbyTerminalName("source"),a=this.getNetbyTerminalName("drain");this.simulator.analogCircuit.addNMOS(o,r,a,2,1.05)},extend(n.Model.Nmos_IRF520.SimulationModel,n.Model.SimulationModel),n.Model.Nmos_IRF520.View=function(e,t,i){},n.Model.Nmos_IRF520.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Nmos_IRF520.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_220={},n.model_map.put("resistor_220",n.Model.Resistor_220),n.Model.Resistor_220.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=220,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_220.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_220.View=function(e,t,i){},extend(n.Model.Resistor_220.View,n.Model.View),n.Model.Resistor_220.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_220.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_560={},n.model_map.put("resistor_560",n.Model.Resistor_560),n.Model.Resistor_560.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=560,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_560.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_560.View=function(e,t,i){},extend(n.Model.Resistor_560.View,n.Model.View),n.Model.Resistor_560.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_560.Model,o);
},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_1k={},n.model_map.put("resistor_1k",n.Model.Resistor_1k),n.Model.Resistor_1k.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e3,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_1k.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_1k.View=function(e,t,i){},extend(n.Model.Resistor_1k.View,n.Model.View),n.Model.Resistor_1k.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_1k.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_4k7={},n.model_map.put("resistor_4k7",n.Model.Resistor_4k7),n.Model.Resistor_4k7.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=4700,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_4k7.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_4k7.View=function(e,t,i){},extend(n.Model.Resistor_4k7.View,n.Model.View),n.Model.Resistor_4k7.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_4k7.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_1M={},n.model_map.put("resistor_1M",n.Model.Resistor_1M),n.Model.Resistor_1M.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e6,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_1M.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_1M.View=function(e,t,i){},extend(n.Model.Resistor_1M.View,n.Model.View),n.Model.Resistor_1M.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_1M.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Resistor_10M={},n.model_map.put("resistor_10M",n.Model.Resistor_10M),n.Model.Resistor_10M.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e7,r=this.getNetbyTerminalName("1"),a=this.getNetbyTerminalName("2");e.analogCircuit.addResistor(r,a,o)},extend(n.Model.Resistor_10M.SimulationModel,n.Model.SimulationModel),n.Model.Resistor_10M.View=function(e,t,i){},extend(n.Model.Resistor_10M.View,n.Model.View),n.Model.Resistor_10M.Model=function(e,t){this.makeVersioned(e)},extend(n.Model.Resistor_10M.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Capacitor_100p={},n.model_map.put("capacitor_100p",n.Model.Capacitor_100p),n.Model.Capacitor_100p.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e-10,r=.01,a=this.getNetbyTerminalName("1"),s=this.getNetbyTerminalName("2"),c={};e.analogCircuit.addCapacitor(a,c,o);e.analogCircuit.addResistor(c,s,r)},extend(n.Model.Capacitor_100p.SimulationModel,n.Model.SimulationModel),n.Model.Capacitor_100p.View=function(e,t,i){},n.Model.Capacitor_100p.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Capacitor_100p.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Capacitor_100n={},n.model_map.put("capacitor_100n",n.Model.Capacitor_100n),n.Model.Capacitor_100n.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e-7,r=.01,a=this.getNetbyTerminalName("1"),s=this.getNetbyTerminalName("2"),c={};e.analogCircuit.addCapacitor(a,c,o);e.analogCircuit.addResistor(c,s,r)},extend(n.Model.Capacitor_100n.SimulationModel,n.Model.SimulationModel),n.Model.Capacitor_100n.View=function(e,t,i){},n.Model.Capacitor_100n.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Capacitor_100n.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Capacitor_100u={},n.model_map.put("capacitor_100u",n.Model.Capacitor_100u),n.Model.Capacitor_100u.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=1e-4,r=25,a=.01,s=this.getNetbyTerminalName("+"),c=this.getNetbyTerminalName("-"),l={},d=e.analogCircuit.addCapacitor(s,l,o);e.analogCircuit.addResistor(l,c,a);var u=function(e){var t=e.value(),n=d.getVoltage(t);if(n>r){var o="Capacitor picked up "+this.printValueUnit(n,"V")+", while maximum voltage rating is "+this.printValueUnit(r,"V");i.breakdown({breakdown:!0,reason:o})}else if(0>n){var o="Capacitor is inversely polarized with "+this.printValueUnit(n,"V");i.breakdown({breakdown:!0,reason:o})}else i.breakdown({breakdown:!1,reason:""})};e.update_ui.add_process([this,u,[e.update_ui]])},extend(n.Model.Capacitor_100u.SimulationModel,n.Model.SimulationModel),n.Model.Capacitor_100u.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.Capacitor_100u.View,n.Model.View),n.Model.Capacitor_100u.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.Capacitor_100u.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led_red={},n.model_map.put("led_red",n.Model.Led_red),n.Model.Led_red.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.025,r=1e-19,a=1.8,s=11,c=this.getNetbyTerminalName("A"),l=this.getNetbyTerminalName("C"),d={name:"inner net"},u=e.analogCircuit.addDiode(c,d,r,a);e.analogCircuit.addResistor(d,l,s);var h=function(e){var t=e.value(),r=u.getCurrent(t);if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the led is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led_red.SimulationModel,n.Model.SimulationModel),n.Model.Led_red.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(n,1/3);cGraphics.updateLedRed(e.group,{brightness:o})},10)},extend(n.Model.Led_red.View,n.Model.View),n.Model.Led_red.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led_red.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led_green={},n.model_map.put("led_green",n.Model.Led_green),n.Model.Led_green.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.025,r=1e-20,a=1.9,s=9,c=this.getNetbyTerminalName("A"),l=this.getNetbyTerminalName("C"),d={name:"inner net"},u=e.analogCircuit.addDiode(c,d,r,a);e.analogCircuit.addResistor(d,l,s);var h=function(e){var t=e.value(),r=u.getCurrent(t);if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the led is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led_green.SimulationModel,n.Model.SimulationModel),n.Model.Led_green.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(n,1/3);cGraphics.updateLedGreen(e.group,{brightness:o})},10)},extend(n.Model.Led_green.View,n.Model.View),n.Model.Led_green.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led_green.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led_blue={},n.model_map.put("led_blue",n.Model.Led_blue),n.Model.Led_blue.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.025,r=1e-23,a=2.3,s=7,c=this.getNetbyTerminalName("A"),l=this.getNetbyTerminalName("C"),d={name:"inner net"},u=e.analogCircuit.addDiode(c,d,r,a);e.analogCircuit.addResistor(d,l,s);var h=function(e){var t=e.value(),r=u.getCurrent(t);if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the led is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led_blue.SimulationModel,n.Model.SimulationModel),n.Model.Led_blue.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(1.7*n,1/3);o>1&&(o=1),cGraphics.updateLedBlue(e.group,{brightness:o})},10)},extend(n.Model.Led_blue.View,n.Model.View),n.Model.Led_blue.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led_blue.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led_yellow={},n.model_map.put("led_yellow",n.Model.Led_yellow),n.Model.Led_yellow.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.025,r=1e-19,a=1.9,s=9,c=this.getNetbyTerminalName("A"),l=this.getNetbyTerminalName("C"),d={name:"inner net"},u=e.analogCircuit.addDiode(c,d,r,a);e.analogCircuit.addResistor(d,l,s);var h=function(e){var t=e.value(),r=u.getCurrent(t);if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the led is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led_yellow.SimulationModel,n.Model.SimulationModel),n.Model.Led_yellow.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(n,1/3);cGraphics.updateLedYellow(e.group,{brightness:o})},10)},extend(n.Model.Led_yellow.View,n.Model.View),n.Model.Led_yellow.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led_yellow.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Led_white={},n.model_map.put("led_white",n.Model.Led_white),n.Model.Led_white.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=.025,r=1e-24,a=2.5,s=11,c=this.getNetbyTerminalName("A"),l=this.getNetbyTerminalName("C"),d={name:"inner net"},u=e.analogCircuit.addDiode(c,d,r,a);e.analogCircuit.addResistor(d,l,s);var h=function(e){var t=e.value(),r=u.getCurrent(t);if(o>=r)i.brightness(r/o),i.breakdown({breakdown:!1,reason:""});else{var a="Current through the led is "+n.printValueUnit(r,"A")+", while maximum is "+n.printValueUnit(o,"A");i.brightness(1),i.breakdown({breakdown:!0,reason:a})}};e.update_ui.add_process([this,h,[e.update_ui]])},extend(n.Model.Led_white.SimulationModel,n.Model.SimulationModel),n.Model.Led_white.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=Math.pow(1.5*n,1/3);o>1&&(o=1),cGraphics.updateledBrightWhite(e.group,{brightness:o})},10),cGraphics.updateledBrightWhite(e.group,{brightness:i.brightness()})},extend(n.Model.Led_white.View,n.Model.View),n.Model.Led_white.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",0,!1,!0)},extend(n.Model.Led_white.Model,o)},function(e,t,i){var n=i(173),o=i(433),r=i(176).Versioned;o.Model.LedRGB2={},o.model_map.put("ledRGB2",o.Model.LedRGB2),o.Model.LedRGB2.leds=[{name:"Red",terminal:"R",Is:1e-19,n:1.8,Rs:11,eff:1},{name:"Green",terminal:"G",Is:1e-20,n:1.9,Rs:9,eff:1},{name:"Blue",terminal:"B",Is:1e-23,n:2.3,Rs:7,eff:1.9}],o.Model.LedRGB2.SimulationModel=function(e,t,i){var r=this;r.simulator=e,r.device=t,r.dynamicModel=i;var a=.025,s=new n.HashMap,c=this.getNetbyTerminalName("C");o.Model.LedRGB2.leds.forEach(function(t){var i=r.getNetbyTerminalName(t.terminal),n={net:"RGB anode Net - "+t.name},o=(e.analogCircuit.addResistor(i,n,t.Rs),e.analogCircuit.addDiode(n,c,t.Is,t.n));s.put(t,o)});var l=function(e){var t=e.value(),n=!1,o="RGB Led broke because of: ",c=[];s.forEach(function(e,i){var s=i.getCurrent(t);c.push(s*e.eff/a),s>a&&(n=!0,o+=" current through Led "+e.name+" is "+r.printValueUnit(s,"A")+", while maximum current is "+r.printValueUnit(a,"A")+".")}),i.breakdown({breakdown:n,reason:o}),i.brightness(c)};this.simulator.update_ui.add_process([this,l,[e.update_ui]])},extend(o.Model.LedRGB2.SimulationModel,o.Model.SimulationModel),o.Model.LedRGB2.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.brightness.onChange("view",function(t,i,n){var o=[];for(var r in n){var a=n[r]<.001?0:n[r]>1?1:n[r];a=Math.round(100*Math.pow(a,1/3))/100,o.push(a)}cGraphics.updateLedRGB(e.group,{rgb:o})},10),cGraphics.updateLedRGB(e.group,{rgb:i.brightness()}),this.addBreakdown()},extend(o.Model.LedRGB2.View,o.Model.View),o.Model.LedRGB2.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.brightness=this.value("brightness",[0,0,0],!1,!0)},extend(o.Model.LedRGB2.Model,r)},function(e,t,i){i(643),i(644),i(645),i(646),i(642),i(647),i(648),i(649)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.PhotoTransistor={},o.model_map.put("phototransistor",o.Model.PhotoTransistor),o.Model.PhotoTransistor.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=7.85e-10,a=1e4,s=this.getNetbyTerminalName("emitter"),c=this.getNetbyTerminalName("collector"),l={net:"base"},d=new o.Signal(this.simulator,"phototransistor lux signal",0),u=new o.ProcessedSignal(d,function(e){return r*e*a});e.analogCircuit.addCurrentSource(l,s,u),this.simulator.analogCircuit.addNPN(l,s,c),i.position.onChange("simulator",function(e,t,i){var n=Math.round(50*i)/50;d.setValue(0,n)},10)},extend(o.Model.PhotoTransistor.SimulationModel,o.Model.SimulationModel),o.Model.PhotoTransistor.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction","slider"),i.position.onChange("view",function(t,i,n){cGraphics.updateDiodePhoto({view:e.group,control:e.interactionControlGroup},{incominglight:n})},10)},extend(o.Model.PhotoTransistor.View,o.Model.View),o.Model.PhotoTransistor.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l)},extend(o.Model.PhotoTransistor.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.MotorDFRobot={},n.model_map.put("dc_motor_dfrobot",n.Model.MotorDFRobot),n.Model.MotorDFRobot.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var o=5,r=.0245,a=5,s=.0386,c=4380,l=1e5,d=9.5493,u=(a-s*o)/(c/d),h=r*o/a*l,p=h/l*s,g=0,m=(g*(r-p)+p)/((1-g)*(c/d))*l,f=this.getNetbyTerminalName("1"),_=this.getNetbyTerminalName("2"),v={net:"MotorDFRobot_net_between_sense-backEMF_"},y={net:"MotorDFRobot_net_between_backEMF-Rs_"},C={net:"MotorDFRobot_mechanical_net_between_sense-friction_"},b={net:"MotorDFRobot_mechanical_net_between_friction-inertia_"},w=(this.simulator.analogCircuit.addResistor(_,y,o),this.simulator.analogCircuit.addCurrentControlledVoltageSource(C,f,y,v,1e-4,1e-4,u),this.simulator.analogCircuit.addCurrentControlledVoltageSource(v,f,b,f,.001,.001,h),this.simulator.analogCircuit.addResistor(b,C,m)),M=function(){var e=w.getCurrent()*d;i.avgSpeed(e)};this.simulator.update_ui.add_process([this,M]),i.enableAnimation(!0)},extend(n.Model.MotorDFRobot.SimulationModel,n.Model.SimulationModel),n.Model.MotorDFRobot.View=function(e,t,i,o){var r=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,i.gearPosition=0,i.enableAnimation.onChange("view",function(t,n,o){var r=50;o?i.animationTimer=setInterval(function(){var t=i.avgSpeed();i.gearPosition=(i.gearPosition+t/60*r/1e3*360)%360,cGraphics.updateMotorDC(e.group,{rotation:i.gearPosition,rpm:Math.round(t)+" rpm"})},r):clearInterval(i.animationTimer)},10),o.simulatorState.onChange(r,function(t,i,o){cGraphics.updateMotorDC(e.group,{inactive:o==n.states.IDLE})}),cGraphics.updateMotorDC(e.group,{inactive:!0})},n.Model.MotorDFRobot.Model=function(e,t){this.makeVersioned(e),this.avgSpeed=this.value("speed",0,!1,!0),this.enableAnimation=this.value("Enable animation",!1,!1,!0)},extend(n.Model.MotorDFRobot.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.IRsensor={},n.model_map.put("IRsensor",n.Model.IRsensor),n.Model.IRsensor.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=6,a=-.3,s=3300,c=25e3,l=250,d=1e8,u=this.getNetbyTerminalName("Vcc"),h=this.getNetbyTerminalName("Gnd"),p=this.getNetbyTerminalName("Out"),g=e.analogCircuit.addResistor(u,h,s);e.analogCircuit.addResistor(u,p,c);var m=new n.ProcessedSignal(e.ether.IR38kHz,function(e){return e?l:d});e.analogCircuit.addResistor(p,h,m);var f=function(e){var t=e.value(),n=g.getVoltage(t);if(n>r){var o="Voltage is "+this.printValueUnit(n,"V")+", while maximum voltage is "+this.printValueUnit(r,"V");i.breakdown({breakdown:!0,reason:o})}else if(a>n){var o="Voltage is "+this.printValueUnit(n,"V")+", while minimum voltage is "+this.printValueUnit(a,"V");i.breakdown({breakdown:!0,reason:o})}else i.breakdown({breakdown:!1,reason:""})};e.update_ui.add_process([this,f,[e.update_ui]])},extend(n.Model.IRsensor.SimulationModel,n.Model.SimulationModel),n.Model.IRsensor.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown()},extend(n.Model.IRsensor.View,n.Model.View),n.Model.IRsensor.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(n.Model.IRsensor.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.IRremote={},n.model_map.put("IRremote",n.Model.IRremote),n.Model.IRremote.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=e.ether.IR38kHz,a=new n.Signal(this.simulator,"IR send repeat signal",!1);a.add_process([null,function(){if(a.value()){var e=0;r.setValue(0,1),r.setValue(e+=.009,0),r.setValue(e+=.00225,1),r.setValue(e+=56e-5,0),a.setValue(.11,!0)}}]),i.button.onChange("simulator",function(e,t,i){if(null!=i){var n=48896,o=0;switch(i){case"standby":o=0;break;case"volplus":o=1;break;case"funcstop":o=2;break;case"rewind":o=4;break;case"playpauze":o=5;break;case"forward":o=6;break;case"down":o=8;break;case"volmin":o=9;break;case"up":o=10;break;case"eq":o=13;break;case"strept":o=14;break;case"num0":o=12;break;case"num1":o=16;break;case"num2":o=17;break;case"num3":o=18;break;case"num4":o=20;break;case"num5":o=21;break;case"num6":o=22;break;case"num7":o=24;break;case"num8":o=25;break;case"num9":o=26}for(var s=[],c=0;16>c;c++)s.push(n>>c&1);for(var c=0;8>c;c++)s.push(o>>c&1);for(var c=0;8>c;c++)s.push(o>>c&1?0:1);var l=0;r.setValue(l,1),r.setValue(l+=.009,0),r.setValue(l+=.0045,1);for(var c=0;c<s.length;c++)r.setValue(l+=56e-5,0),r.setValue(l+=s[c]?.00169:56e-5,1);r.setValue(l+=56e-5,0),a.setValue(.11,!0)}else a.setValue(0,!1)},10)},extend(n.Model.IRremote.SimulationModel,n.Model.SimulationModel),n.Model.IRremote.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,$(".cgfx__hitarea-interaction",n.breadboardElement.group).each(function(){var e=$(this).attr("class").match(/cgfx__btn_(\w*)/);e&&n.addEvent(".cgfx__hitarea-interaction."+e[0],"IRremote",e[1])})},extend(n.Model.IRremote.View,n.Model.View),n.Model.IRremote.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=null;this.addTransition("idle","buttonPressed",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){n=e.element().dynamicModel,n.button(e.data("subelement"))}),this.addTransition("buttonPressed","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n.button(null)})},n.Model.IRremote.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.IRremote.Statemachine.prototype.constructor=n.Model.IRremote.Statemachine,n.simulationStateMachines.put("IRremote",n.Model.IRremote.Statemachine),n.Model.IRremote.Model=function(e,t){this.makeVersioned(e),this.button=this.value("button",null,!1,!0)},extend(n.Model.IRremote.Model,o)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.LM35={},o.model_map.put("LM35",o.Model.LM35),o.Model.LM35.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=4,a=30,s=83300,c=.1,l=-55,d=150,u=25,h=.25,p=.01,g=h-u*p,m=0,f=this.getNetbyTerminalName("Vcc"),_=this.getNetbyTerminalName("Gnd"),v=this.getNetbyTerminalName("Vout");n.vcc_net=f,n.gnd_net=_,n.vout_net=v,n.startupSignal=new o.Signal(this.simulator,"Startup signal",!0),n.startupMeasure=function(){if(n.startupSignal.value()&&n.simulator.analog_model.measure){var e=n.simulator.analog_model.measure(n.simulator.time.time,n.vout_net,n.gnd_net);m>e&&(m=e)}};var y=e.analogCircuit.addResistor(f,_,s),C=new o.Signal(e,"LM35 power",!1);e.analogCircuit.addTrigger(C,f,_,function(e,t){return n.startupMeasure(),e-t>r});var b=new o.Signal(this.simulator,"Temperatur signal",u),w=new o.ProcessedSignal(C,b,function(e,t){n.startupMeasure();var i=e?g+t*p:0;return m>i?m:i}),M=new o.ProcessedSignal(n.startupSignal,function(e){return e?1e8:c});this.simulator.analogCircuit.addVoltageSource(v,_,w,M),n.dynamicModel.position.onChange("simulator",function(e,t,i){var n=Math.round(l+i*(d-l));b.setValue(0,n)},10),n.dynamicModel.position((u-l)/(d-l));var S=function(e){var t=e.value(),o=y.getVoltage(t);if(o>a){var r=" Voltage at Vcc pin is "+n.printValueUnit(o,"V")+", while maximum is "+n.printValueUnit(a,"V")+".";i.breakdown({breakdown:!0,reason:r})}else i.breakdown({breakdown:!1,reason:""});n.startupSignal.value()&&n.startupSignal.setValue(0,!1)};e.update_ui.add_process([this,S,[e.update_ui]])},extend(o.Model.LM35.SimulationModel,o.Model.SimulationModel),o.Model.LM35.View=function(e,t,i,n){this.breadboardElement=e,this.device=t,this.dynamicModel=i;var o=-55,r=150;this.addEvent(".cgfx__hitarea-interaction","slider"),this.addBreakdown(),i.position.onChange("view",function(t,i,n){var a=(Math.floor(o+n*(r-o))+"&#176;C").replace("-","- ");cGraphics.updateSensorTemperature({view:e.group,control:e.interactionControlGroup},{temperature:n,sliderknoblabel:a})},10)},extend(o.Model.LM35.View,o.Model.View),o.Model.LM35.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",0,!1,!0);var i=t.getDescription().svg,o=$(".cgfx__hitarea-interaction.cgfx__bounds",i),r=parseFloat(o.attr("width")),a=parseFloat(o.attr("height")),s=new n.Coord(parseFloat(o.attr("x"))+a/2,parseFloat(o.attr("y"))),c=s.add(new n.Coord(r-a,0)),l=SvgHelpers.getParentTransformation(o[0]);this.sliderBegin=s.svgTransform(l),this.sliderEnd=c.svgTransform(l),this.breakdown=this.value("breakdown",!1,!1,!0)},extend(o.Model.LM35.Model,r)},function(e,t,i){var n=i(191),o=i(433),r=i(176).Versioned;o.Model.Potentiometer_DFRobot_10k={},o.model_map.put("potentiometer_dfrobot_10k",o.Model.Potentiometer_DFRobot_10k),o.Model.Potentiometer_DFRobot_10k.SimulationModel=function(e,t,i){var n=this;n.simulator=e,n.device=t,n.dynamicModel=i;var r=1e4,a=.5,s=this.getNetbyTerminalName("term1"),c=this.getNetbyTerminalName("term3"),l=this.getNetbyTerminalName("wiper"),d=t.getPropertyValue("Position")||0,u=new o.Signal(this.simulator,"potentiometer position",d),h=new o.ProcessedSignal(u,function(e){return r*e+a}),p=(this.simulator.analogCircuit.addResistor(s,l,h),new o.ProcessedSignal(u,function(e){return r*(1-e)+a}));this.simulator.analogCircuit.addResistor(c,l,p);i.position.onChange("simulator",function(e,t,i){if(i>=0){var o=Math.round(50*(0>i?0:i))/50;u.setValue(0,o)}else if(n.dynamicModel.editMode==Circuits.GuiMode.EDIT&&t!=d){var o=Math.round(50*t)/50;n.device.root.rec(),n.device.setProperty("Position",!1,o,""),n.device.root.stopRec()}},10),i.position(d)},extend(o.Model.Potentiometer_DFRobot_10k.SimulationModel,o.Model.SimulationModel),o.Model.Potentiometer_DFRobot_10k.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.dynamicModel.editMode=n.breadboardElement.gui.mode,this.addEvent(".cgfx__hitarea-interaction","potentiometer"),i.position.onChange("view",function(t,i,n){n>=0&&cGraphics.updatePotentiometerDFRobotKit(e.group,{position:n})},10),i.position(t.getPropertyValue("Position")||0)},extend(o.Model.Potentiometer_DFRobot_10k.View,o.Model.View),o.Model.Potentiometer_DFRobot_10k.Model=function(e,t){this.makeVersioned(e),this.position=this.value("position",-1,!1,!0),this.knobCenter=new n.Coord(0,0),this.knobAngle=90},extend(o.Model.Potentiometer_DFRobot_10k.Model,r)},function(e,t,i){var n=i(433),o=i(176).Versioned,r=i(170).inherit;n.Model.ProtoShieldDFRobotBreadboard={},n.model_map.put("protoShieldDFRobot",n.Model.ProtoShieldDFRobotBreadboard),n.Model.ProtoShieldDFRobotBreadboard.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;for(var r=1e-18,a=1.8,s=1e3,c=.005,l=1e-6,d=1e10,u=this.getNetbyTerminalName("1"),h=this.getNetbyTerminalName("2"),p=this.getNetbyTerminalName("3"),g=this.getNetbyTerminalName("gnd01"),m=2;36>=m;++m){var f=this.getNetbyTerminalName("gnd"+(10>m?"0"+m:m));null!==f&&this.simulator.analogCircuit.mergeNets(g,f)}var _=this.getNetbyTerminalName("reset1"),v=this.getNetbyTerminalName("reset2"),y=this.getNetbyTerminalName("reset3");this.simulator.analogCircuit.mergeNets(_,v),this.simulator.analogCircuit.mergeNets(_,y);var C={net:"led1_inner_net_"},b={net:"led2_inner_net_"};e.analogCircuit.addResistor(h,C,s);var w=e.analogCircuit.addDiode(C,g,r,a);e.analogCircuit.addResistor(p,b,s);var M=e.analogCircuit.addDiode(b,g,r,a),S=new n.Signal(this.simulator,"reset_switch",!1),x=new n.ProcessedSignal(S,function(e){return e?l:d}),T=(this.simulator.analogCircuit.addResistor(_,g,x),new n.Signal(this.simulator,"sw1_switch",!1)),E=new n.ProcessedSignal(T,function(e){return e?l:d});this.simulator.analogCircuit.addResistor(u,g,E);i.resetPushed.onChange("simulator",function(e,t,i){S.setValue(0,i)},10),i.sw1Pushed.onChange("simulator",function(e,t,i){T.setValue(0,i)},10);var A=function(e){var t=e.value(),n=w.getCurrent(t);i.led1Brightness(n>=c?1:n/c);var o=M.getCurrent(t);i.led2Brightness(o>=c?1:o/c)};this.simulator.update_ui.add_process([this,A,[e.update_ui]])},extend(n.Model.ProtoShieldDFRobotBreadboard.SimulationModel,n.Model.SimulationModel),n.Model.ProtoShieldDFRobotBreadboard.View=function(e,t,i){var n=this;this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addEvent(".cgfx__hitarea-interaction.cgfx__resetbutton","protoShieldDFRobot","resetPushed"),this.addEvent(".cgfx__hitarea-interaction.cgfx__s1button","protoShieldDFRobot","sw1Pushed"),cGraphics.updatePrototypingShieldDFRobot(e.group,n),i.led1Brightness.onChange("view",function(){cGraphics.updatePrototypingShieldDFRobot(e.group,{led1Brightness:n.dynamicModel.led1Brightness()})},10),i.led2Brightness.onChange("view",function(){cGraphics.updatePrototypingShieldDFRobot(e.group,{led2Brightness:n.dynamicModel.led2Brightness()})},10),i.resetPushed.onChange("view",function(){cGraphics.updatePrototypingShieldDFRobot(e.group,{resetIsPressed:n.dynamicModel.resetPushed()})},10),i.sw1Pushed.onChange("view",function(){cGraphics.updatePrototypingShieldDFRobot(e.group,{s1IsPressed:n.dynamicModel.sw1Pushed()})},10)},extend(n.Model.ProtoShieldDFRobotBreadboard.View,n.Model.View),n.Model.ProtoShieldDFRobotBreadboard.Statemachine=function(e,t,i){Circuits.StateMachine.call(this);var n=null;this.addTransition("idle","buttonPressed",function(e){return e.type()===Circuits.GuiEvents.SIMULATOR_MOUSE_DOWN&&e.data("statemachine")==i},function(e){var t=e.element().dynamicModel;switch(e.data("subelement")){case"resetPushed":n=t.resetPushed,n(!0);break;case"sw1Pushed":n=t.sw1Pushed,n(!0)}}),this.addTransition("buttonPressed","idle",function(e){return e.type()===Circuits.GuiEvents.GUI_MOUSE_UP},function(e){n&&n(!1)})},n.Model.ProtoShieldDFRobotBreadboard.Statemachine.prototype=r(Circuits.StateMachine.prototype),n.Model.ProtoShieldDFRobotBreadboard.Statemachine.prototype.constructor=n.Model.ProtoShieldDFRobotBreadboard.Statemachine,n.simulationStateMachines.put("protoShieldDFRobot",n.Model.ProtoShieldDFRobotBreadboard.Statemachine),n.Model.ProtoShieldDFRobotBreadboard.Model=function(e,t){this.makeVersioned(e),this.resetPushed=this.value("resetPushed",!1,!1,!0),this.sw1Pushed=this.value("sw1Pushed",!1,!1,!0),this.led1Brightness=this.value("led1Brightness",0,!1,!0),this.led2Brightness=this.value("led2Brightness",0,!1,!0)},extend(n.Model.ProtoShieldDFRobotBreadboard.Model,o)},function(e,t,i){var n=i(433),o=i(176).Versioned;n.Model.Servo_SG90={},n.model_map.put("servo_SG90",n.Model.Servo_SG90),n.Model.Servo_SG90.SimulationModel=function(e,t,i){var o=this;o.simulator=e,o.device=t,o.dynamicModel=i;var r=1e6,a=1470,s=51,c=4.5,l=5.5,d=5e-4,u=.0025,h=this.getNetbyTerminalName("Ground"),p=this.getNetbyTerminalName("Power"),g=this.getNetbyTerminalName("Signal"),m=new n.Signal(this.simulator,"switchSignal",!1),f=new n.ProcessedSignal(m,function(e){return e?s:a}),_=this.simulator.analogCircuit.addResistor(p,h,f),v=(this.simulator.analogCircuit.addResistor(g,h,r),new n.Signal(e,"servo logic power",!1));e.analogCircuit.addTrigger(v,p,h,function(e,t){return e-t>c});var y=new n.Signal(o.simulator,"signal",0);o.simulator.analogCircuit.addTrigger(y,g,h,function(e,t){return e-t>2.5});var C=0,b=0,w=function(){if(v.value()){var e=o.simulator.time.time;if(y.rising_edge()&&(C=e),y.falling_edge()){var t=e-C;t>u&&(t=u),d>t&&(t=d);var i=-(t-d)/(u-d)*180,n=i-b,r=.5*n;r>3&&(r=3),-3>r&&(r=-3),b+=r,Math.abs(r)>.1&&(m.setValue(0,!0),m.setValue(.025,!1))}}};y.add_process([null,w]),v.add_process([null,w]);var M=function(e){var t=e.value();i.position(b);var n=_.getVoltage(t);n>l?i.breakdown({breakdown:!0,reason:"Voltage at the power pins is "+o.printValueUnit(n,"V")+", while maximum is "+o.printValueUnit(l,"V")}):i.breakdown({breakdown:!1,reason:""})};this.simulator.update_ui.add_process([this,M,[e.update_ui]])},extend(n.Model.Servo_SG90.SimulationModel,n.Model.SimulationModel),n.Model.Servo_SG90.View=function(e,t,i){this.breadboardElement=e,this.device=t,this.dynamicModel=i,this.addBreakdown(),i.position.onChange("view",function(t,i,n){cGraphics.updateMotorServoSG90(e.group,{rotation:n})},10)},extend(n.Model.Servo_SG90.View,n.Model.View),n.Model.Servo_SG90.Model=function(e,t){this.makeVersioned(e),this.breakdown=this.value("breakdown",!1,!1,!0),this.position=this.value("position",0,!1,!0)},extend(n.Model.Servo_SG90.Model,o)},function(e,t,i){i(651),i(652),i(653)},function(e,t,i){var n=i(173),o=i(433);o.IPToString=function(e){return[3,2,1,0].map(function(t){return e>>>8*t&255}).join(".")},o.IPFromString=function(e){return e.split(".").reduce(function(e,t,i){return e|t<<8*(3-i)},0)>>>0},o.WifiRouter=function(e,t,i,r,a,s,c,l,d,u){this.MAC=e,this.SSID=t,this.password=i||"",this.security=r,this.channel=a,this.LANIP=o.IPFromString(s),this.subnetMask=o.IPFromString(c),this.DHCPstart=o.IPFromString(l),this.DHCPstop=o.IPFromString(d),this.nextIPCandidate=this.DHCPstart,this.DHCPClientTable=new n.HashMap,this.connectedDevices=new n.HashMap,this.internet=u},o.WifiRouter.prototype.getFreeIp=function(){var e=this.nextIPCandidate;do{var t=null;if(this.DHCPClientTable.contains(this.nextIPCandidate)||(t=this.nextIPCandidate),this.nextIPCandidate++,this.nextIPCandidate>this.DHCPstop&&(this.nextIPCandidate=this.DHCPstart),t)return t}while(this.nextIPCandidate==e);return null},o.WifiRouter.prototype.connect=function(e,t){
if(this.connectedDevices.contains(e))return null;if(void 0==t&&(t=""),t!=this.password)return null;var i=this.getFreeIp();return null==i?null:(this.DHCPClientTable.put(i,e),this.connectedDevices.put(e,{MAC:e,IP:i}),i)},o.WifiRouter.prototype.disconnect=function(e){var t=this.connectedDevices.get(e);t&&(this.DHCPClientTable.remove(t.IP),this.connectedDevices.remove(t.MAC),t.connectionLost&&t.connectionLost())},o.WifiRouter.prototype.shutDown=function(){this.connectedDevices.forEach(function(e,t){t.connectionLost&&t.connectionLost()})},o.WifiRouter.prototype.onConnectionLost=function(e,t){var i=this.connectedDevices.get(e);i&&(i.connectionLost=t)},o.WifiRouter.prototype.sendTCPRequest=function(e,t,i){var n=isNaN(t)&&/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(t)?o.IPFromString(t):t;if(!isNaN(n)&&n&this.subnetMask==(this.LANIP&this.subnetMask)){var r=this.DHCPClientTable.get(n),a=r&&this.connectedDevices.get(r);return a&&a.handleTCPRequest?a.handleTCPRequest(this,e,t,i):null}return this.internet?this.internet.handleTCPRequest(this,e,t,i):null}},function(e,t,i){var n=i(433);n.TCPConnection=function(e,t){this.alive=!1,this.AP=e,this.ownIP=t,this.otherSide=null,this.host=null,this.port=null,this.connectCallback=null,this.disconnectCallback=null,this.dataReceiveCallback=null},n.TCPConnection.prototype.isConnected=function(){return this.alive},n.TCPConnection.prototype.onConnect=function(e){this.connectCallback=e},n.TCPConnection.prototype.connectTo=function(e,t){if(!this.alive&&this.AP){var i=this.AP.sendTCPRequest(this.ownIP,e,t);return i?(this.establishConnectionTo(i),i.establishConnectionTo(this),this.host=e,this.port=t,!0):!1}return!1},n.TCPConnection.prototype.establishConnectionTo=function(e){this.otherSide=e,this.alive=!0,this.connectCallback&&this.connectCallback()},n.TCPConnection.prototype.onDisconnect=function(e){this.disconnectCallback=e},n.TCPConnection.prototype.close=function(){this.alive&&(this.alive=!1,this.disconnectCallback&&this.disconnectCallback(),this.otherSide&&this.otherSide.close())},n.TCPConnection.prototype.onDataReceive=function(e){this.dataReceiveCallback=e},n.TCPConnection.prototype.sendData=function(e){this.alive&&this.otherSide&&this.otherSide.dataReceiveCallback&&this.otherSide.dataReceiveCallback(e)}},function(e,t,i){var n=i(433);n.Internet=function(e){this.proxy=e||""},n.Internet.prototype.handleTCPRequest=function(e,t,i,o){var r=this,a=new n.TCPConnection(e);return a.onDataReceive(function(e){var t=e.split("\r\n"),n=t[0].match(/(\w+) (.+) HTTP\/(?:1\.1|1\.0)/);if(n){for(var s=n[1],c=r.proxy+i+(80!=o?":"+o:"")+n[2],l={},d="text/plain",u=["Host","Content-Length"],h=1;h<t.length&&""!=t[h];h++){var p=t[h].split(": ");-1==u.indexOf(p[0])&&(l[p[0]]=p[1]),"Content-Type"==p[0]&&(d=p[1])}var g=t.slice(h+1).join("\r\n");$.ajax({type:s,url:c,contentType:d,headers:l,data:g,dataType:"text",complete:function(e,t){var i="HTTP/1.1 "+e.status+" "+e.statusText+"\r\n",n=["Date","Server","Allow","Location","Last-Modified","ETag","Accept-Ranges","Content-Length","Connection","Content-Type"];for(var o in n){var r=e.getResponseHeader(n[o]);r&&(i+=n[o]+": "+r+"\r\n")}i+="\r\n",i+=e.responseText,a.sendData(i)}})}}),a}},function(e,t,i){var n=i(170).inherit;Circuits.SchematicElementData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),Circuits.AbstractElementData.apply(this,arguments),this.sdid=this.value("sdid",null,!1,!0),this.makeUndoable(!1),1!==arguments.length&&this.sdid(i.id)},Circuits.SchematicElementData.prototype=n(Circuits.AbstractElementData.prototype),Circuits.SchematicElementData.prototype.constructor=Circuits.SchematicElementData,jsonExtend(3,"SchematicElement",Circuits.SchematicElementData),Circuits.SchematicElementData.prototype.initialize=function(){var e=this.getDescription(),t=e.schematic_symbol_attributes.svg,i="<svg>"+t+"</svg>";this.setElementDimensions(i)},Circuits.SchematicElementData.prototype.getData=function(){var e=Circuits.AbstractElementData.prototype.getData.apply(this,arguments);return e.versions_id=this.versions_id,e.sdid=this.sdid(),e},Circuits.SchematicElementData.prototype.setData=function(e){Circuits.AbstractElementData.prototype.setData.apply(this,arguments),this.sdid(e.sdid),this.setVersionedData(e)},Circuits.SchematicElementData.prototype.getDescription=function(){for(var e=this.root.deviceLib.getPackagedDeviceDescription(this.parent().did()),t=0;t<e.device.subdevices_attributes.length;t++)if(e.device.subdevices_attributes[t].id===this.sdid())var i=e.device.subdevices_attributes[t];return i},Circuits.SchematicElementData.prototype.getSnapSet=function(e){var t=this,i=new Circuits.SnapSet,n=t.pos();return e==Circuits.SnapLineType.TO?(i.addHor(n.copy(),1),i.addVer(n.copy(),1)):i.add(n.copy(),2),t.parent().terminals.forEach(function(t,n){i.addAll(n.getSchematicSnapSet(e))}),i},Circuits.SchematicElementData.prototype.moveNoSnap=function(e){this.pos(this.pos().add(e))},Circuits.SchematicElementData.prototype.copyInfo=function(){return this.parent().jsonify()}},function(e,t,i){var n=i(173),o=i(191),r=i(174),a=i(176).Versioned,s=i(178),c=i(170).clone;Circuits.DeviceData=function(e,t,i,o,r){var a=this;if(this.makeVersioned(e,!0),this.name=this.value("name","",!1,!0),this.did=this.value("did",null,!1,!0),this.terminals=this.map("terminals",!0,!0),this.subdevice=this.map("subdevice",!0,!0),this.breadboard=this.value("breadboard",null,!0,!0),this.footprint=this.value("footprint",null,!0,!0),this.module=this.value("module",null,!0,!0),this.properties=this.map("properties",!1,!0),this.makeUndoable(!0),this.deviceName=this.shadow("deviceName",!1,function(){return a.name()},function(e){return a.setName(e)},[[a.name,a.name.onChange]]),1!==arguments.length){if(this.description=i,this.name(r),this.did(i.id),i.device&&i.device.subdevices_attributes)for(var s=0;s<i.device.subdevices_attributes.length;s++){var c=i.device.subdevices_attributes[s],l=new Circuits.SchematicElementData(this.root,this,c);this.subdevice.put(l.sdid(),l)}i.device.breadboard&&this.breadboard(new Circuits.BreadboardElementData(this.root,this,i.device.breadboard)),i.footprint&&this.footprint(new Circuits.PCBElementData(this.root,this,i.footprint)),i.circuit&&this.module(new Circuits.PCBModuleData(this.root,this,i.circuit));for(var d=new n.HashMap,u=new n.HashMap,h=new n.HashMap(function(e){return e.sdid+"_"+e.spid}),p=new n.HashMap,g=0;g<i.pinmaps_attributes.length;g++){var m=i.pinmaps_attributes[g],f=m.ppid,_=m.spid,v=p.get(f);if(null==v||v!=_){null!==f&&p.put(f,_);var y=this.getDescriptionSPID(m.sdid,m.spid),C=this.getDescriptionPPID(m.ppid),b=this.getDescriptionBBID(m.bbid),w=new Circuits.TerminalData(this.root,this,m,y,C,b,m.pmid,m.sdid,m.spid,m.ppid,null,m.bbid);C&&d.put(m.ppid,w),y&&h.put({sdid:m.sdid,spid:m.spid},w),b&&u.put(m.bbid,w),this.terminals.put(w.getKey(),w)}}if(i.footprint)for(var M=0;M<i.footprint.pads_attributes.length;M++){var C=i.footprint.pads_attributes[M],w=d.get(C.id);if(null===w){var w=new Circuits.TerminalData(this.root,this,null,null,C,null,null,null,null,C.id,null,null);d.put(C.id,w),this.terminals.put(w.getKey(),w)}}if(i.device&&i.device.subdevices_attributes)for(var M=0;M<i.device.subdevices_attributes.length;M++)for(var S=i.device.subdevices_attributes[M],x=0;x<S.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;x++){var y=S.schematic_symbol_attributes.schematic_symbol_terminals_attributes[x],w=h.get({sdid:S.id,spid:y.id});if(null==w){var w=new Circuits.TerminalData(this.root,this,null,y,null,null,null,S.id,y.id,null,null,null);h.put({sdid:S.id,spid:y.id},w),this.terminals.put(w.getKey(),w)}}if(i.device.breadboard)for(var M=0;M<i.device.breadboard.schematic_symbol_terminals_attributes.length;M++){var b=i.device.breadboard.schematic_symbol_terminals_attributes[M],w=u.get(b.id);if(null===w){var w=new Circuits.TerminalData(this.root,this,null,null,null,b,null,null,null,null,null,b.id);u.put(b.id,w),this.terminals.put(w.getKey(),w)}}i.device.properties_attributes&&this.generateDefaultProperies(),this.compiled_worker_url=!1,this.compiler_guid=!1,this.compiled_elf=!1,this.compiled_error=!1}},extend(Circuits.DeviceData,s),extend(Circuits.DeviceData,a),extend(Circuits.DeviceData,r),jsonExtend(4,"Device",Circuits.DeviceData),Circuits.DeviceData.prototype.initialize=function(){var e=this;this.bbid2terminal=new n.HashMap,this.ppid2terminal=new n.HashMap,this.sdid_spid2terminal=new n.HashMap(function(e){return e.sdid+"_"+e.spid}),this.name2terminal=new n.HashMap;var t=!1;this.getDescription().footprint&&this.getDescription().footprint.pads_attributes[0]&&"kak"==this.getDescription().footprint.pads_attributes[0].generator_type&&(t=!0);var i=1e5;this.terminals.forEach(function(e,t){null!==t.sppid()&&t.sppid()<i&&(i=t.sppid())}),this.terminals.forEach(function(n,o){null!==o.bbid()&&e.bbid2terminal.put(o.bbid(),o),null!==o.ppid()&&(t&&null!==o.sppid()&&(o.ppid(e.getDescriptionPPIDFirst().id+o.sppid()-i),o.sppid(null)),e.ppid2terminal.put(o.ppid(),o)),null!==o.sdid()&&null!==o.spid()&&e.sdid_spid2terminal.put({sdid:o.sdid(),spid:o.spid()},o),o.getSchematicName()&&e.name2terminal.put(o.getSchematicName(),o)});var o=this.getDescription();if(o.device.properties_attributes)for(var r=0;r<o.device.properties_attributes.length;r++){var a=o.device.properties_attributes[r],s=this.properties.get(a.id);s&&(s.id=a.id,s.name=a.name,s.unit=a.unit)}this.generatePropertiesShadow()},Circuits.DeviceData.prototype.getData=function(){var e={};return e.did=this.did(),e.parent=this.parent(),e.id=this.id,e.name=this.name(),e.terminals=this.terminals,e.properties=this.properties,e.subdevice=this.subdevice,e.footprint=this.footprint(),e.breadboard=this.breadboard(),e.module=this.module(),e.versions_id=this.versions_id,e},Circuits.DeviceData.prototype.setData=function(e){this.setVersionedData(e),this.did(e.did),this.id=e.id,this.name(e.name),this.terminals.putAll(e.terminals),this.properties.putAll(e.properties),this.subdevice.putAll(e.subdevice),this.footprint(e.footprint),this.breadboard(e.breadboard),this.module(e.module)},Circuits.DeviceData.prototype.generateDefaultProperies=function(){this.properties||(this.properties=new n.HashMap);for(var e=0;e<this.getDescription().device.properties_attributes.length;e++){var t=this.getDescription().device.properties_attributes[e],i={};i.id=t.id,i.name=t.name,i.unit=t.unit,i.value=t["default"],i.show=t.default_show,i.prefix=t.default_prefix,this.properties.contains(t.id)||this.properties.put(t.id,i)}},Circuits.DeviceData.prototype.generatePropertiesShadow=function(){function e(e,i){return t.shadow("propShadow_"+e+"_"+i,!1,function(){var n=t.properties.get(e);return n[i]},function(n){var o=t.properties.get(e);o[i]=n,t.properties.put(e,o)},[[t.properties,t.properties.onPut]])}var t=this;this.propertiesShadow=new n.HashMap,this.properties.forEach(function(i,n){if("code"!=n.unit&&"hidden"!=n.unit)if(n.unit)if("["==n.unit[0]){var o=JSON.parse(n.unit);for(var r in o){var a=o[r][0];o[r][0]=o[r][1],o[r][1]=a}t.propertiesShadow.put(i,{name:n.name,type:Circuits.inspectorInputType.SELECTBOX,valueMember:e(i,"prefix"),list:o})}else if("("==n.unit[0]){var s=n.unit.replace(/[\(\)]/g,"");t.propertiesShadow.put(i,{name:n.name,type:Circuits.inspectorInputType.VALUE_AND_FIXEDUNIT,valueMember:e(i,"value"),unit:s})}else{var c=[],s="ohm"==n.unit?"Ω":n.unit;["p","n","u","m","none","k","M","G"].forEach(function(e){var t=e.replace("u","μ").replace("none","")+s;c.push([t,e])}),t.propertiesShadow.put(i,{name:n.name,type:Circuits.inspectorInputType.VALUE_AND_UNIT,valueMember:e(i,"value"),unitMember:e(i,"prefix"),list:c,checkMember:e(i,"show")})}else t.propertiesShadow.put(i,{name:n.name,type:Circuits.inspectorInputType.TEXT,valueMember:e(i,"value")})})},Circuits.DeviceData.prototype.afterPaste=function(e,t){var i=this.getDescription().device.base;this.name(this.root.elNameMan.getName(i,"")),this.footprint()&&this.footprint().moveNoSnap(new o.Coord(5e3,5e3).mult(t)),e.constructor!=Circuits.SchematicEditorModel&&this.subdevice.forEach(function(e,i){i.moveNoSnap(new o.Coord(50,50).mult(t))}),e.constructor!=Circuits.BreadboardEditorModel&&this.breadboard()&&this.breadboard().moveNoSnap(new o.Coord(10,10).mult(t))},Circuits.DeviceData.prototype.getDescription=function(){return this.root.deviceLib.getPackagedDeviceDescription(this.did())},Circuits.DeviceData.prototype.remove=function(e){var t=this;t.deregisterName(),t.terminals.forEach(function(e,t){t.hasNet()&&t.wires.forEach(function(e){e.remove()})}),t.terminals.forEach(function(e,t){t.hasNet()&&t.disconnect()}),t.parent().devices.remove(t)},Circuits.DeviceData.prototype.deregisterName=function(){var e=this.name(),t=this.getDescription().device.base;this.root.elNameMan.removeName(t,e)},Circuits.DeviceData.prototype.setName=function(e){this.deregisterName();var t=this.getDescription().device.base;this.name(this.root.elNameMan.getName(t,e)),this.terminals.forEach(function(e,t){var i=t.net();i&&i.splitUpIfNeeded();var n=t.findLabelNet();n&&t.subnet()&&!n.subnets.contains(t.subnet())&&n.merge(t.subnet().parent())})},Circuits.DeviceData.prototype.tryRegisterName=function(e){var t=this.getDescription().device.base;this.name(this.root.elNameMan.getName(t,e))},Circuits.DeviceData.prototype.isToplevel=function(){return this.parent()&&this.parent().parent()?this.parent().parent().isRoot():!1},Circuits.DeviceData.prototype.getdescriptionSDID=function(e){var t=null;if(this.getDescription().device)for(var i=0;i<this.getDescription().device.subdevices_attributes.length;i++){var n=this.getDescription().device.subdevices_attributes[i];n.id===e&&(t=n)}return t},Circuits.DeviceData.prototype.getDescriptionBBID=function(e){var t=null;if(this.getDescription().device.breadboard)for(var i=0;i<this.getDescription().device.breadboard.schematic_symbol_terminals_attributes.length;i++){var n=this.getDescription().device.breadboard.schematic_symbol_terminals_attributes[i];n.id===e&&(t=n)}return t},Circuits.DeviceData.prototype.getDescriptionSPID=function(e,t){var i=null,n=this.getdescriptionSDID(e);if(null!==n)for(var o=0;o<n.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;o++){var r=n.schematic_symbol_attributes.schematic_symbol_terminals_attributes[o];r.id===t&&(i=r)}if(null==i){var i=null,n=this.getdescriptionSDID(e);return null!==n?n.schematic_symbol_attributes.schematic_symbol_terminals_attributes.sort(function(e,t){return e.id<t.id?-1:1})[t]:null}return i},Circuits.DeviceData.prototype.getDescriptionSPIDIndex=function(e,t){var i=this.getdescriptionSDID(e);if(null!==i)for(var n=i.schematic_symbol_attributes.schematic_symbol_terminals_attributes.sort(function(e,t){return e.id<t.id?-1:1}),o=0;o<n.length;o++){var r=n[o];if(r.id===t)return o}return null},Circuits.DeviceData.prototype.getDescriptionPPID=function(e){var t=null;if(this.getDescription().footprint)for(var i=0;i<this.getDescription().footprint.pads_attributes.length;i++){var n=this.getDescription().footprint.pads_attributes[i];n.id===e&&(t=n)}return t},Circuits.DeviceData.prototype.getDescriptionPPIDFirst=function(){return this.getDescription().footprint?this.getDescription().footprint.pads_attributes.sort(function(e,t){return e.id<t.id?-1:1})[0]:null},Circuits.DeviceData.prototype.getTerminalSPID=function(e,t){var i=this.sdid_spid2terminal.get({sdid:e,spid:t});if(!i){var n=this.getDescriptionSPIDIndex(e,t);i=this.sdid_spid2terminal.get({sdid:e,spid:n})}return i},Circuits.DeviceData.prototype.getTerminalPPID=function(e){var t=this.ppid2terminal.get(e);return t},Circuits.DeviceData.prototype.getTerminalBBID=function(e){var t=this.bbid2terminal.get(e);return t},Circuits.DeviceData.prototype.getTerminalName=function(e){var t=this.name2terminal.get(e);return t},Circuits.DeviceData.prototype.getPcbNameSVG=function(){return Circuits.tracer.traces2svg(this.getPcbNameTraces())},Circuits.DeviceData.prototype.getPcbNameTraces=function(){var e=(this.footprint().getPos(),this.getBaseName());return Circuits.tracer.text2traces(e+this.name(),500,new o.Coord(0,0))},Circuits.DeviceData.prototype.getBaseName=function(){return this.getDescription().device.base},Circuits.DeviceData.prototype.getSubdevice=function(e){var t=this.subdevice.get(e);return t},Circuits.DeviceData.prototype.getFootprint=function(){return this.footprint()},Circuits.DeviceData.prototype.setProperty=function(e,t,i,n){var o=null;this.properties.forEach(function(t,i){i.name==e&&(o=i)}),null===o?(o={name:e,unit:""},this.properties.put(e,o)):o=c(o),"["!==o.unit[0]?(o.value=i,null!==t&&(o.show=t),o.prefix=n):o.prefix=i,this.properties.put(o.id,o)},Circuits.DeviceData.prototype.getPropertyValue=function(e){var t=null;return this.properties.forEach(function(i,n){if(n.name==e)if("["!==n.unit[0])switch(t=parseFloat(n.value),n.prefix){case"p":t/=1e12;break;case"n":t/=1e9;break;case"u":t/=1e6;break;case"m":t/=1e3;break;case"none":break;case"k":t*=1e3;break;case"M":t*=1e6;break;case"G":t*=1e9}else t=n.prefix}),t},Circuits.DeviceData.prototype.getTerminalNameSDID=function(e,t){this.terminals.forEach(function(i,n){return n.data.getSchematicName()==e&&n.sdid()==t?n.data:void 0})},Circuits.DeviceData.prototype.getCodeId=function(){var e=null;return this.properties.forEach(function(t,i){"code"===i.unit&&(e=t)}),e?e.toString():null},Circuits.DeviceData.prototype.getCode=function(){return this.properties.get(this.getCodeId()).value},Circuits.DeviceData.prototype.setCode=function(e){return this.properties.get(this.getCodeId()).value=e},Circuits.DeviceData.prototype.getShareJSCodeDoc=function(){var e=this.getPath().concat(["properties",this.getCodeId(),"value"]);return this.root.shareJsDoc.docEditingContext.createContextAt(e)},Circuits.DeviceData.prototype.changeFootprint=function(e){var t=this,i=t.root.deviceLib.getPackagedDeviceDescription(parseInt(e)),n=t.root.circuit.addDevice(i);n.name(t.name()),t.properties.forEach(function(e,t){n.properties.put(e,c(t))}),n.subdevice.forEach(function(e,i){var n=t.subdevice.get(e);i.setPos(n.getPos()),i.setAngle(n.getAngle()),i.setFlip(n.getFlip())}),n.footprint()&&(n.footprint().setPos(t.footprint().getPos()),n.footprint().setAngle(t.footprint().getAngle()),n.footprint().setFlip(t.footprint().getFlip())),n.breadboard()&&(n.breadboard().setPos(t.breadboard().getPos()),n.breadboard().setAngle(t.breadboard().getAngle()),n.breadboard().setFlip(t.breadboard().getFlip())),"breadboard"==t.parent().circuit_type()?t.terminals.forEach(function(e,i){var o=n.getTerminalSPID(i.sdid(),i.spid());i.wires.forEach(function(e){var n;n=e.begin()==i?new Circuits.BendableWireData(t.root,o,e.end(),e.insert()):new Circuits.BendableWireData(t.root,e.begin(),o,e.insert()),t.root.circuit.wires.add(n),t.root.circuit.wires.remove(e)})}):t.terminals.forEach(function(e,t){var i=n.getTerminalSPID(t.sdid(),t.spid()),o=t.getSubNet();o&&(t.getSubNet().addTerminal(i),t.getEndings().forEach(function(e){i.connect(e),e.constructor==Circuits.RoutingSegmentData&&e.setPoint(i.getPcbPos())}))}),t.remove()}},function(e,t,i){var n=i(173),o=i(174),r=i(176).Versioned,a=i(178),s=i(190);Circuits.NetData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e),this.subnets=this.set("subnets",!0,!0),this.segments=this.set("segments",!0,!0),this.vias=this.set("vias",!0,!0),this.pins=this.set("pins",!0,!0),this.makeUndoable(!0),1!==arguments.length&&(this.name=o)},extend(Circuits.NetData,a),extend(Circuits.NetData,r),extend(Circuits.NetData,o),jsonExtend(5,"Net",Circuits.NetData),Circuits.NetData.id=1,Circuits.NetData.prototype.initialize=function(){"circuitscribe"===this.parent().circuit_type()||this.polys||this.calculatePolyData()},Circuits.NetData.prototype.posableObjects=function(){var e=new n.HashSet;return this.segments.forEach(function(t){e.add(t)}),this.vias.forEach(function(t){e.add(t)}),this.pins.forEach(function(t){e.add(t)}),e},Circuits.NetData.prototype.move=function(e){var t=this.posableObjects();t.forEach(function(t){t.move(e)})},Circuits.NetData.prototype.rotate=function(e,t){var i=this.posableObjects();i.forEach(function(i){i.rotate(e,t)})},Circuits.NetData.prototype.getData=function(){var e={};return e.id=this.id,e.name=this.name,e.parent=this.parent(),e.subnets=this.subnets,e.segments=this.segments,e.vias=this.vias,e.pins=this.pins,e.polys=this.polys,e.versions_id=this.versions_id,e},Circuits.NetData.prototype.setData=function(e){this.setVersionedData(e),this.id=e.id,this.name=e.name,this.subnets.addAll(e.subnets),this.segments.addAll(e.segments),this.vias.addAll(e.vias),this.pins.addAll(e.pins),this.polys=e.polys,e.terminals&&(this.terminals=e.terminals)},Circuits.NetData.prototype.addSubnet=function(e){var t=this,i=e.getNet();i&&i.removeSubNet(e),this.subnets.add(e),e.setNet(this),e.terminals.forEach(function(i){i.setNet(t),i.setSubNet(e)})},Circuits.NetData.prototype.ripup=function(){this.subnets.forEach(function(e){e.terminals.forEach(function(e){e.disconnectAllEndings()})}),this.segments.forEach(function(e){e.disconnectAllEndings()}),this.vias.forEach(function(e){e.disconnectAllEndings()}),this.pins.forEach(function(e){e.disconnectAllEndings()}),this.segments.removeAll(),this.vias.removeAll(),this.pins.removeAll()},Circuits.NetData.prototype.addVia=function(e){var t=e.getNet();t&&t.removeVia(e),this.vias.add(e),e.setNet(this)},Circuits.NetData.prototype.removeVia=function(e){this.vias.remove(e),e.setNet(null)},Circuits.NetData.prototype.newVia=function(e,t,i){var n=new Circuits.ViaData(this.root,this,e,t,i);return this.vias.add(n),n},Circuits.NetData.prototype.addSegment=function(e){var t=e.getNet();t&&t.removeSegment(e),this.segments.add(e),e.setNet(this)},Circuits.NetData.prototype.removeSegment=function(e){this.segments.remove(e),e.setNet(null)},Circuits.NetData.prototype.newSegment=function(e,t,i){var n=new Circuits.RoutingSegmentData(this.root,this,e,t,i);return this.segments.add(n),n},Circuits.NetData.prototype.addPin=function(e){var t=e.getNet();t&&t.removePin(e),this.pins.add(e),e.setNet(this)},Circuits.NetData.prototype.removePin=function(e){this.pins.remove(e),e.setNet(null)},Circuits.NetData.prototype.newPin=function(e){var t=new Circuits.SegmentPindownData(this.root,this,e);return this.pins.add(t),t},Circuits.NetData.prototype.deregisterSegment=function(e){this.segments.remove(e)},Circuits.NetData.prototype.cleanEmptySegments=function(){var e=this;e.segments.forEach(function(t){0===t.endings.size()&&e.deregisterSegment(t)})},Circuits.NetData.prototype.getId=function(){return this.id},Circuits.NetData.prototype.getTerminals=function(){var e=new n.HashSet;return this.subnets.forEach(function(t){e.addAll(t.terminals)}),e},Circuits.NetData.prototype.getPcbTerminals=function(){var e=new n.HashSet;return this.subnets.forEach(function(t){t.terminals.forEach(function(t){t.hasPcb()&&e.add(t)})}),e},Circuits.NetData.prototype.removeSubNet=function(e){this.subnets.remove(e),0===this.subnets.size()&&this.parent().removeNet(this)},Circuits.NetData.prototype.getModuleNets=function(){var e=new n.HashSet;return this.getTerminals().forEach(function(t){if(t.parent()&&t.parent().module()){var i=t.getSchematicDescription().name,n=t.parent().module().circuit().findNetForTerminal(i);n&&e.add(n)}}),e},Circuits.NetData.prototype.getHighestNet=function(){var e=this,t=this;if(!this.isTopNet()){var i=this.parent().parent().parent();i.terminals.forEach(function(i,n){var o=n.getSchematicDescription().name,r=n.parent().module().circuit().findNetForTerminal(o);r===e&&n.net()&&(t=n.net())})}return t},Circuits.NetData.prototype.getTopNet=function(){var e=this.getHighestNet();return e.isTopNet()?e:null},Circuits.NetData.prototype.isTopNet=function(){var e=this.parent()?this.parent().parent():void 0;return this.root===e},Circuits.NetData.prototype.isHighestNet=function(){return this.getHighestNet()===this},Circuits.NetData.prototype.modnets=function(){var e=new n.HashSet;return this.getTerminals().forEach(function(t){if(t.parent().module()){var i=t.getSchematicDescription().name,n=t.parent().module().circuit().findNetForTerminal(i);n&&e.add(n)}}),e},Circuits.NetData.prototype.getPCBTerminals=function(){var e=new n.HashSet;return this.getTerminals().forEach(function(t){t.hasPcb()&&e.add(t)}),e},Circuits.NetData.prototype.getAllTraceElements=function(){var e=new n.HashSet;return e.addAll(this.getPCBTerminals()),e.addAll(this.segments),e.addAll(this.vias),this.getModuleNets().forEach(function(t){e.addAll(t.getAllTraceElements())}),e},Circuits.NetData.prototype.getAllSegments=function(){var e=new n.HashSet;return e.addAll(this.segments),this.getModuleNets().forEach(function(t){e.addAll(t.getAllSegments())}),e},Circuits.NetData.prototype.calculateCycleData=function(){for(var e=new n.HashMap,t=0;t<this.getToplevel().number_of_layers();t++){var i=this.calculateCycles(t);e.put(t,i)}this.cyclePolys=e},Circuits.NetData.prototype.calculateCycles=function(e){var t=this,i=new n.HashSet,o=new n.Graph(function(e){return e.toString()});t.getAllSegments().forEach(function(t){if(t.polySeg()&&t.getLayer()===e){var i=[];t.endings.forEach(function(e){var n=t.endPoint(e);null!==n&&(i.push(n),o.addVertex(n))});var n=t.getLine();i.sort(function(e,t){return n.parameter(e)-n.parameter(t)});for(var r=0;r<i.length-1;r++)o.addEdge(i[r],i[r+1])}});var r=o.cycles();return r.forEach(function(e){if(e.length>2){var t=new s.Polyglon(e);i.add(t.toJsts())}}),i},Circuits.NetData.prototype.calculatePolyData=function(){for(var e=new n.HashMap,t=new n.HashMap,i=0;i<this.root.number_of_layers();i++){var o=this.calculatePolys(i,this.root.getSpacialIndex());t.put(i,o[0]),e.put(i,o[1])}this.polys=e,this.cyclePolys=t},Circuits.NetData.prototype.calculatePolys=function(e,t){var i=this,o=new jsts.geom.GeometryFactory,r=new n.HashSet,a=this.calculateCycles(e),c=new n.HashSet,l=[];a.forEach(function(e){var t=(Circuits.fab.OTT,Circuits.fab.OTT),n=e;n.normalize();try{n=n.intersection(i.parent().outline().getPoly().buffer(-Circuits.fab.min_copper_to_boarder))}catch(o){return}n=n.buffer(-t/2),l.push(n)});var d=jsts.operation.union.CascadedPolygonUnion.union(l),u=new n.HashSet;if(d instanceof jsts.geom.MultiPolygon)for(var h=0;h<d.getNumGeometries();h++)u.add(d.getGeometryN(h));else d instanceof jsts.geom.Polygon&&u.add(d);return u.forEach(function(a){function l(e,t,i){var o=new n.HashSet;return e.forEach(function(e){var n=new s.ComplexPoly;n.fromJsts(e);var r=new Circuits.PCBPolygonData(n);o.add(r);var a=new s.Polyglon(e),c=(a.toJsts(),t.getAllTraceElements()),l=new jsts.algorithm.MCPointInRing(e.getExteriorRing());c.forEach(function(e){if(e.constructor==Circuits.TerminalData){var t=e.hasLayer(i);t&&l.isInside(e.getPcbPos())&&r.traceElements.add(e)}else if(e.constructor==Circuits.ViaData){var t=e.hasLayer(i);t&&l.isInside(e.getPoint())&&r.traceElements.add(e)}else if(e.constructor==Circuits.RoutingSegmentData&&!e.polySeg()){var n=e.endPoints(),t=e.hasLayer(i);t&&(l.isInside(n[0])||l.isInside(n[1]))&&r.traceElements.add(e)}})}),o}for(var d=250,u=Circuits.fab.OTT,h=t.get(e).quadtree,p=h.query(a.getEnvelopeInternal()),g=[],m=0;m<p.length;m++){var f=p[m],_=f.getPoly(e,d+u/2);if(a.intersects(_)){var v=null;if(f.net()&&(v=f.net().getHighestNet()),v!==i)g.push(_);else if(f.constructor==Circuits.TerminalData&&f.hasPcb()){var y=f.getPoly(e,d+u/2),C=f.layerToStackIndex(e),b=f.getBasePolygon(C).getBB(),w=(f.getPcbPos(),new s.Coord(1,0));w=w.flip(f.parent().footprint().flip()),w=w.rotate(f.parent().footprint().angle());var M=f.getPcbPos().add(w.mult(-1e6)).toJsts(),S=f.getPcbPos().add(w.mult(1e6)).toJsts(),x=(b.height+2*d+u)/4;u>x&&(x=u+4);var T=o.createLineString([M,S]).buffer(x/2-u/2),w=new s.Coord(0,1);w=w.flip(f.parent().footprint().flip()),w=w.rotate(f.parent().footprint().angle());var M=f.getPcbPos().add(w.mult(-1e6)).toJsts(),S=f.getPcbPos().add(w.mult(1e6)).toJsts(),E=(b.width+2*d+u)/4;u>E&&(E=u+4);var A=o.createLineString([M,S]).buffer(E/2-u/2);y=y.difference(A),y=y.difference(T);for(var D=0;D<y.getNumGeometries();D++)a.intersects(y.getGeometryN(D))&&g.push(y.getGeometryN(D))}}}var L=s.union(a,g),B=s.buffer(L,u/2),k=l(B,i,e);k.forEach(function(e){c.add(e),e.traceElements.size()>0&&r.add(e)})}),[a,r,c]},Circuits.NetData.prototype.createSubnet=function(){var e=new Circuits.SchematicNetData(this.root,this,{},"","");return this.subnets.add(e),e},Circuits.NetData.prototype.cleanPoints=function(){var e=this;e.segments.forEach(function(e){e.cleanPoints()})},Circuits.NetData.prototype.trymerge=function(){function e(t,i,n){t.contains(i)||(t.add(i),n.forEach(function(n){n.constructor===Circuits.RoutingSegmentData&&i.getDir().parallel(n.getDir())&&(i.getNet().isTopNet()?n.merge(i):i.merge(n),e(t,i,n.endings))}))}var t=new n.HashSet;this.segments.forEach(function(i){e(t,i,i.getEndings())})},Circuits.NetData.prototype.cleanup=function(){this.viaAddRemove(),this.segments.forEach(function(e){e.cleanPoints()}),this.modnets().forEach(function(e){e.cleanup()})},Circuits.NetData.prototype.viaAddRemove=function(){var e=this;e.segments.forEach(function(t){t.getEndings().forEach(function(i){if(i.constructor===Circuits.RoutingSegmentData&&t.getLayer()!==i.getLayer()){var n=Math.max(Circuits.fab.viaMinEndsize(),i.getThickness()/Math.PI),o=e.newVia(t.endPoint(i),n,!1);t.disconnectEnding(i),t.connect(o),i.connect(o)}})}),e.vias.forEach(function(t){if(!t.keep()&&t.getLayers().size()<2){var i=t.getSegments();i.forEach(function(e){t.disconnectEnding(e)}),i.forEach(function(e){i.forEach(function(t){e!==t&&e.connect(t)})}),e.vias.remove(t)}})},Circuits.NetData.prototype.getToplevel=function(){return this.root},Circuits.NetData.prototype.registerPin=function(e){this.pins.add(e)},Circuits.NetData.prototype.deregisterPin=function(e){this.pins.remove(e)},Circuits.NetData.prototype.deregisterVia=function(e){this.vias.remove(e)},Circuits.NetData.prototype.merge=function(e){var t=this;return e.subnets.forEach(function(i){i.setNet(t),e.subnets.swap(i,t.subnets),i.terminals.forEach(function(e){e.setNet(t)})}),e.parent().nets.remove(e),t},Circuits.NetData.prototype.splitUpIfNeeded=function(){var e=this,t=new n.Graph;e.subnets.forEach(function(e){t.addVertex(e)});var i=new n.HashMap;e.subnets.forEach(function(e){e.terminals.forEach(function(e){if(e.isLabel()){var t=e.subnet();if(t){var o=e.getLabel();if(i.contains(o))var r=i.get(o);else r=new n.HashSet,i.put(o,r);r.add(t)}}})}),i.forEach(function(e,i){i.forEachPair(function(e,i){t.addEdge(e,i,0,null)})});var o=t.connectedComponents();if(o.size()>1){var r=o.getIndex(1).vertices(),a=this.parent().addNet();r.forEach(function(t){t.setNet(a),e.subnets.swap(t,a.subnets),t.terminals.forEach(function(e){e.setNet(a)})}),e.ripup()}},Circuits.NetData.prototype.splitUpIfNeededWire=function(){var e,t=this,i=new n.Graph,o=t.subnets.getIndex(0);o.terminals.forEach(function(e){i.addVertex(e)});var r=new n.HashMap;o.terminals.forEach(function(t){if(t.isLabel()){var i=t.getLabel();r.contains(i)?e=r.get(i):(e=new n.HashSet,r.put(i,e)),e.add(t)}}),r.forEach(function(e,t){t.forEachPair(function(e,t){i.addEdge(e,t,0,null)})});var a=new n.HashSet;o.terminals.forEach(function(e){e.wires.forEach(function(e){a.add(e)})}),a.forEach(function(e){i.addEdge(e.begin(),e.end(),0,null)});var s=i.connectedComponents();if(s.size()>1){var c=s.getIndex(1).vertices(),l=this.parent().addNet(),d=new Circuits.SchematicNetData(this.root);l.addSubnet(d),c.forEach(function(e){o.removeTerminal(e),d.addTerminalPure(e)}),t.ripup()}}},function(e,t,i){var n=i(179),o=i(174),r=i(176).Versioned,a=i(178);Circuits.SchematicNetData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e),this.terminals=this.set("terminals",!0,!1),this.makeUndoable(!0),1!==arguments.length&&(this.description=i,this.segments=null,this.id=n,this.name=o)},extend(Circuits.SchematicNetData,a),extend(Circuits.SchematicNetData,r),extend(Circuits.SchematicNetData,o),Circuits.SchematicNetData.id=0,jsonExtend(14,"SchematicNet",Circuits.SchematicNetData),Circuits.SchematicNetData.prototype.initialize=function(){},Circuits.SchematicNetData.prototype.getData=function(){var e={};return e.versions_id=this.versions_id,e.id=this.id,e.name=this.name,e.parent=this.parent(),
e.terminals=this.terminals,e.segments=this.segments,e.bollekes=this.bollekes,e},Circuits.SchematicNetData.prototype.setData=function(e){this.setVersionedData(e),this.id=e.id,this.name=e.name,this.terminals.addAll(e.terminals),this.segments=e.segments,this.bollekes=e.bollekes},Circuits.SchematicNetData.prototype.getNet=function(){return this.parent()},Circuits.SchematicNetData.prototype.setNet=function(e){this.parent(e)},Circuits.SchematicNetData.prototype.addTerminal=function(e){if(e.isLabel()){var t=e.findLabelNet();t&&!t.subnets.contains(this)&&t.merge(this.parent())}this.terminals.add(e),e.setNet(this.parent()),e.setSubNet(this)},Circuits.SchematicNetData.prototype.addTerminalPure=function(e){this.terminals.add(e),e.setNet(this.parent()),e.setSubNet(this)},Circuits.SchematicNetData.prototype.mergeNet=function(e){var t=this;if(!t.isSameNet(e)){var i=new n.HashSet;e.terminals.forEach(function(e){i.add(e)}),e.disconnectAllTerminals(),e.remove(),i.forEach(function(e){t.addTerminal(e)})}},Circuits.SchematicNetData.prototype.mergeNetPure=function(e){var t=this;if(t.isSameNet(e))return void console.log("same net");var i=new n.HashSet;e.terminals.forEach(function(e){i.add(e)}),e.disconnectAllTerminals(),e.remove(),i.forEach(function(e){t.addTerminalPure(e)})},Circuits.SchematicNetData.prototype.removeTerminal=function(e){var t=this;if(e.parent().module()&&e.parent().getDescription()){var i=e.getSchematicDescription().name,n=e.parent().module().circuit().findNetForTerminal(i);n.getAllTraceElements().forEach(function(e){e.endings.forEach(function(i){i.getNet()==t.parent()&&e.disconnectEnding(i)})})}else e.disconnectAllEndings();this.terminals.remove(e),e.setNet(null),e.setSubNet(null)},Circuits.SchematicNetData.prototype.disconnectAllTerminals=function(){var e=this,t=e.terminals.copy();t.forEach(function(t){e.removeTerminal(t)})},Circuits.SchematicNetData.prototype.hasTerm=function(e){return this.terminals.contains(e)},Circuits.SchematicNetData.prototype.getId=function(){return this.id},Circuits.SchematicNetData.prototype.size=function(){return this.terminals.size()},Circuits.SchematicNetData.prototype.remove=function(){this.disconnectAllTerminals(),this.parent()&&this.parent().removeSubNet(this)},Circuits.SchematicNetData.prototype.isSameNet=function(e){var t=this,i=!0;return e.terminals.forEach(function(e){i&=t.hasTerm(e)}),i}},function(e,t,i){var n=i(174),o=i(176).Versioned,r=i(178),a=i(190);Circuits.WireData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e,!0),this.begin=this.value("begin",null,!0,!1),this.end=this.value("end",null,!0,!1),this.insert=this.value("insert",!1,!1,!0),this.color=this.value("color","green",!1,!0),this.makeUndoable(!0),this.colors=["red","orange","yellow","green","turquoise","blue","indigo","purple","pink","brown","grey","black"],arguments.length<=1||(t&&this.setBegin(t),i&&this.setEnd(i),n&&this.insert(n),o&&this.color(o))},extend(Circuits.WireData,r),extend(Circuits.WireData,o),extend(Circuits.WireData,n),jsonExtend(61,"BreadboardWire",Circuits.WireData),Circuits.WireData.prototype.initialize=function(){},Circuits.WireData.prototype.getData=function(){var e={};return e.begin=this.begin(),e.end=this.end(),e.insert=this.insert(),e.color=this.color(),e},Circuits.WireData.prototype.setData=function(e){this.begin(e.begin),this.end(e.end),this.insert(e.insert),this.color(e.color)},Circuits.WireData.prototype.getNet=function(){return this.parent()},Circuits.WireData.prototype.getOther=function(e){if(e===this.begin())return this.end();if(e===this.end())return this.begin();throw"trouble"},Circuits.WireData.prototype.setBegin=function(e){e.addWire(this),this.begin(e)},Circuits.WireData.prototype.setEnd=function(e){e.addWire(this),this.end(e)},Circuits.WireData.prototype.getPos=function(){if(this.begin()&&this.end()){var e=new a.PointSet([this.begin().getBreadboardPos(),this.end().getBreadboardPos()]);return e.centroid()}return null},Circuits.WireData.prototype.remove=function(){if(this.isLife()){var e;if(this.begin()){e=this.begin().getNet();var t=this.begin().getSubNet();this.begin().wires.remove(this),0==this.begin().wires.size()&&t&&t.removeTerminal(this.begin())}if(this.end()){e=this.end().getNet();var t=this.end().getSubNet();this.end().wires.remove(this),0==this.end().wires.size()&&t&&t.removeTerminal(this.end())}e&&e.splitUpIfNeededWire(),this.parent().wires.remove(this)}},Circuits.WireData.prototype.getSnapSet=function(){var e;return e=new Circuits.SnapSet}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.BendableWireData=function(e,t,i,n,o){var r=this;Circuits.PathData.apply(this,[e]),this.strokeWidth(2.5),this.independentEndpoints=!0,this.begin=this.value("begin",null,!0,!1),this.end=this.value("end",null,!0,!1),this.insert=this.value("insert",!1,!1,!0),this.color=this.value("color","green",!1,!0),this.makeUndoable(!0),this.maxDistanceFromVertexToCurve=10,this.selectMargin=2,this.colors=["black","red","orange","yellow","green","turquoise","blue","purple","pink","brown","grey","white"],this.begin.onChange("wire_terminal",function(e,t,i){t&&r.removeTerminalChangeHandler(t,r.local_id+"_begin"),i&&r.addTerminalChangeHandler(i,r.local_id+"_begin")},10),this.end.onChange("wire_terminal",function(e,t,i){t&&r.removeTerminalChangeHandler(t,r.local_id+"_end"),i&&r.addTerminalChangeHandler(i,r.local_id+"_end")},10),arguments.length<=1||(t&&this.setBegin(t),i&&this.setEnd(i),n&&this.insert(n),o&&this.color(o))},Circuits.BendableWireData.prototype=o(Circuits.PathData.prototype),Circuits.BendableWireData.prototype.constructor=Circuits.BendableWireData,jsonExtend(62,"BendableBreadboardWire",Circuits.BendableWireData),Circuits.BendableWireData.prototype.initialize=function(){},Circuits.BendableWireData.prototype.getData=function(){var e={};return e.begin=this.begin(),e.end=this.end(),e.insert=this.insert(),e.color=this.color(),e},Circuits.BendableWireData.prototype.setData=function(e){this.begin(e.begin),this.end(e.end),this.insert(e.insert),this.color(e.color)},Circuits.BendableWireData.prototype.getNet=function(){return this.parent()},Circuits.BendableWireData.prototype.getOther=function(e){if(e===this.begin())return this.end();if(e===this.end())return this.begin();throw"trouble"},Circuits.BendableWireData.prototype.setBegin=function(e){e.addWire(this),this.begin(e);var t=e.getBreadboardPos(),i=this.objects.get(0);i?i.endpoint(t):i=this.addPoint(t)},Circuits.BendableWireData.prototype.setEnd=function(e){e.addWire(this),this.end(e);var t=e.getBreadboardPos(),i=this.objects.get(0),n=this.objects.last();i?n&&n!==i?n.endpoint(t):n=this.addPoint(t):(i=this.addPoint(t),n=this.addPoint(t))},Circuits.BendableWireData.prototype.remove=function(e){if(this.isLife()){var t;if(this.begin()){t=this.begin().getNet();var i=this.begin().getSubNet();this.begin().wires.remove(this),0==this.begin().wires.size()&&i&&i.removeTerminal(this.begin())}if(this.end()){t=this.end().getNet();var i=this.end().getSubNet();this.end().wires.remove(this),0==this.end().wires.size()&&i&&i.removeTerminal(this.end())}t&&t.splitUpIfNeededWire(),e||this.parent().wires.remove(this)}},Circuits.BendableWireData.prototype.updateNets=function(){this.isLife()&&this.begin()&&this.end()&&this.parent().updateNetsFromWire(this)},Circuits.BendableWireData.prototype.getSnapSet=function(){var e;return e=new Circuits.SnapSet},Circuits.BendableWireData.prototype.updateTerminalPoints=function(){var e=this.begin(),t=this.end();if(e){var i=this.objects.get(0),n=e.getBreadboardPos();i.endpoint(n),i.tan_0(n),i.tan_1(n)}if(t){var o=this.objects.last(),r=t.getBreadboardPos();o.endpoint(r),o.tan_0(r),o.tan_1(r)}},Circuits.BendableWireData.prototype.addTerminalChangeHandler=function(e,t){var i=this;if(e.parent()){var n=e.parent();n&&n.breadboard().pos.onChange(t,function(){e.parent().breadboard()&&i.updateTerminalPoints()},10)}},Circuits.BendableWireData.prototype.removeTerminalChangeHandler=function(e,t){if(e){var i=e.parent();i&&i.breadboard().pos.removeHandlersFor(t)}},Circuits.BendableWireData.prototype.repairTerminalConnections=function(){var e=!1;this.begin()&&this.begin().hasWire&&!this.begin().hasWire(this)&&(this.begin().addWire(this),e=!0),this.end()&&this.end().hasWire&&!this.end().hasWire(this)&&(this.end().addWire(this),e=!0),e&&this.updateNets()},Circuits.BendableWireData.prototype.addPoint=function(e,t){return point=new Circuits.PathObjectData(this.root,e,this.objects.size()?Circuits.PathType.BENDABLE:Circuits.PathType.POINT),point.tan_0(e),point.tan_1(e),this.addObject(point,t),point},Circuits.BendableWireData.prototype.isSelectable=function(){return!this.insert()},Circuits.BendableWireData.prototype.boundingBox=function(){var e=null,t=null,i=null,o=null;return this.objects.forEach(function(n,r){var a=r.endpoint();a&&((null==e||e>a.x)&&(e=a.x),(null==t||t>a.y)&&(t=a.y),(null==i||i<a.x)&&(i=a.x),(null==o||o<a.y)&&(o=a.y))}),null==e?null:new n.BoundingBox(e,t,i-e,o-t)}},function(e,t,i){var n=i(174),o=i(176).Versioned,r=i(178),a=i(190);Circuits.DrillData=function(e,t,i,n,o){var r=this;this.makeViewable(),this.makeVersioned(e,!0),this.point=this.value("point",new a.Coord(0,0),!1,!0),this.val=this.value("value",0,!1,!0),this.unit=this.value("unit","mil",!1,!0),this.makeUndoable(!0),this.units=["mm","mil"],this.checkedValue=this.shadow("checkedValue",!1,function(){return r.val()},function(e){r.val(r.checkValue(e,r.unit()))},[[r.val,r.val.onChange],[r.unit,r.unit.onChange]]),this.checkedUnit=this.shadow("checkedUnit",!1,function(){return r.unit()},function(e){r.val(r.checkValue(r.val(),e)),r.unit(e)},[[r.val,r.val.onChange],[r.unit,r.unit.onChange]]),1!==arguments.length&&(this.point(i),this.val(n),this.unit(o))},extend(Circuits.DrillData,r),extend(Circuits.DrillData,o),extend(Circuits.DrillData,n),extend(Circuits.DrillData,Circuits.IndexedElement),jsonExtend(16,"Drill",Circuits.DrillData),Circuits.DrillData.prototype.move=function(e){this.point(this.point().add(e))},Circuits.DrillData.prototype.rotate=function(e,t){this.point(this.point().rotate(e,t))},Circuits.DrillData.prototype.initialize=function(){this.initIndexedElement([this.point,this.val,this.unit])},Circuits.DrillData.prototype.checkValue=function(e,t){var i=0;switch(t){case"mil":i=Circuits.fab.npthMinEndsize()/25.4;break;case"mm":i=Circuits.fab.npthMinEndsize()/1e3}return i>e&&(e=i),e},Circuits.DrillData.prototype.getData=function(){var e={};return e.parent=this.parent(),e.point=this.point(),e.value=this.val(),e.unit=this.unit(),e.versions_id=this.versions_id,e},Circuits.DrillData.prototype.setData=function(e){this.setVersionedData(e),this.point(e.point),this.val(e.value),this.unit(e.unit)},Circuits.DrillData.prototype.endsize=function(){var e=this,t=0;switch(e.unit()){case"mil":t=25.4*e.val();break;case"mm":t=1e3*e.val()}return t},Circuits.DrillData.prototype.setPoint=function(e){this.point(e)},Circuits.DrillData.prototype.getPoint=function(){return this.point()},Circuits.DrillData.prototype.getPos=function(){return this.point()},Circuits.DrillData.prototype.getX=function(){return this.point().x},Circuits.DrillData.prototype.getY=function(){return this.point().y},Circuits.DrillData.prototype.remove=function(){this.parent().removeDrill(this)},Circuits.DrillData.prototype.net=function(){return null},Circuits.DrillData.prototype.getPoly=function(e,t){var i=new jsts.geom.GeometryFactory,n=new jsts.geom.Coordinate(this.point().x,this.point().y),o=i.createPoint(n);return o.buffer(this.endsize()/2+t)},Circuits.DrillData.prototype.getToplevel=function(){return this.root},Circuits.DrillData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.point(),1),t.addVer(e.point(),1),t},Circuits.DrillData.prototype.moveNoSnap=function(e){var t=this;t.point(t.point().add(e))},Circuits.DrillData.prototype.footprint=function(){return this}},function(e,t,i){var n=i(170).inherit;Circuits.PCBModuleData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),Circuits.AbstractElementData.apply(this,arguments),this.circuit=this.value("circuit",null,!0,!0),this.makeUndoable(!1),1!==arguments.length&&this.circuit(Circuits.CircuitData.createFromJSON(i,e))},Circuits.PCBModuleData.prototype=n(Circuits.AbstractElementData.prototype),Circuits.PCBModuleData.prototype.constructor=Circuits.PCBModuleData,jsonExtend(15,"PCBModule",Circuits.PCBModuleData),Circuits.PCBModuleData.prototype.getData=function(){var e=Circuits.AbstractElementData.prototype.getData.apply(this,arguments);return e.versions_id=this.versions_id,e.circuit=this.circuit(),e},Circuits.PCBModuleData.prototype.setData=function(e){Circuits.AbstractElementData.prototype.setData.apply(this,arguments),this.circuit(e.circuit),this.setVersionedData(e)},Circuits.PCBModuleData.prototype.rotate=function(e){var t=this.circuit().centroid();this.circuit().rotate(e,t)},Circuits.PCBModuleData.prototype.getDisplacement=function(e){return this.root.editorModel.footprint().origin().getDisplacement(e)}},function(e,t,i){var n=i(174),o=i(176).Versioned,r=i(178),a=i(190);Circuits.PCBOutlineData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),this.upperLeft=this.value("upperLeft",new a.Coord(0,0),!1,!0),this.lowerRight=this.value("lowerRight",new a.Coord(0,0),!1,!0),this.makeUndoable(!0),1!==arguments.length&&(this.upperLeft(t),this.lowerRight(i))},extend(Circuits.PCBOutlineData,r),extend(Circuits.PCBOutlineData,o),extend(Circuits.PCBOutlineData,n),jsonExtend(13,"PCBOutline",Circuits.PCBOutlineData),Circuits.PCBOutlineData.prototype.move=function(e){this.upperLeft(this.upperLeft().add(e)),this.lowerRight(this.lowerRight().add(e))},Circuits.PCBOutlineData.prototype.rotate=function(e,t){this.upperLeft(this.upperLeft().rotate(e,t)),this.lowerRight(this.lowerRight().rotate(e,t))},Circuits.PCBOutlineData.prototype.initialize=function(){},Circuits.PCBOutlineData.prototype.getData=function(){var e={};return e.versions_id=this.versions_id,e.upperLeft=this.upperLeft(),e.lowerRight=this.lowerRight(),e},Circuits.PCBOutlineData.prototype.setData=function(e){this.setVersionedData(e),this.upperLeft(e.upperLeft),this.lowerRight(e.lowerRight)},Circuits.PCBOutlineData.prototype.getBB=function(){var e=this.upperLeft(),t=this.lowerRight();return{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}},Circuits.PCBOutlineData.prototype.getPoly=function(){var e=new a.Polyglon([this.ul(),this.ur(),this.lr(),this.ll()]);return e.toJsts()},Circuits.PCBOutlineData.prototype.ul=function(){return this.upperLeft()},Circuits.PCBOutlineData.prototype.ur=function(){return new a.Coord(this.lowerRight().x,this.upperLeft().y)},Circuits.PCBOutlineData.prototype.ll=function(){return new a.Coord(this.upperLeft().x,this.lowerRight().y)},Circuits.PCBOutlineData.prototype.lr=function(){return this.lowerRight()}},function(e,t,i){var n=i(173);Circuits.PCBPolygonData=function(e){0!==arguments.length&&(this.poly=e,this.traceElements=new n.HashSet)},jsonExtend(17,"PCBPolygon",Circuits.PCBPolygonData),Circuits.PCBPolygonData.prototype.getData=function(){var e={};return e.versions_id=this.versions_id,e.poly=this.poly,e.traceElements=this.traceElements,e},Circuits.PCBPolygonData.prototype.setData=function(e){this.poly=e.poly,this.traceElements=e.traceElements}},function(e,t,i){var n=i(173);Circuits.TraceElementData={initTraceElementData:function(){this.net=this.value("net",null,!0,!1),this.endings=this.set("endings",!0,!1),this._hasMoved=!1,this._hasChanged=!1,this.isTraceElement=!0},getTraceElementData:function(){var e={};return e.net=this.net(),e.endings=this.endings,e},setTraceElementData:function(e){this.net(e.net),this.endings.addAll(e.endings)},addEnding:function(e){this.endings.add(e)},removeEnding:function(e){this.endings.remove(e)},setNet:function(e){this.net(e)},getNet:function(){return this.net()},getEndings:function(){return this.endings},hasNet:function(){return!!this.net()},connect:function(e){this.addEnding(e),e.addEnding(this)},disconnectEnding:function(e){this.removeEnding(e),e.removeEnding(this)},disconnectAllEndings:function(){var e=this;this.endings.forEach(function(t){e.disconnectEnding(t)})},getSegments:function(){var e=new n.HashSet;return this.endings.forEach(function(t){t.constructor===Circuits.RoutingSegmentData&&e.add(t)}),e},setMoved:function(e){var t=this;if(this._hasMoved=e,e){t.getNet()}},hasMoved:function(){return this._hasMoved},setChanged:function(e){this._hasChanged=e},hasChanged:function(){return this._hasChanged}}},function(e,t,i){var n=i(173),o=i(174),r=i(176).Versioned,a=i(178),s=i(190);Circuits.RoutingSegmentData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e),this.initTraceElementData(),this.direction=this.value("direction",new s.Coord(1,0),!1,!0),this.point=this.value("point",new s.Coord(0,0),!1,!0),this.thickness=this.value("thickness",200,!1,!0),this.layerIndex=this.value("layerIndex",0,!1,!0),this.polySeg=this.value("polySeg",!1,!1,!0),this.dummy=this.value("dummy",!1,!1,!0),this.makeUndoable(!0),this.thicknessValuesMap=[["7 mil small",177],["12 mil Signal",305],["20 mil Power",508],["40 mil Large Current",1016],["------------------",0],["0.15 mm (6 mil)",153],["0.18 mm (7 mil)",177],["0.20 mm (8 mil)",203],["0.23 mm (9 mil)",229],["0.25 mm (10 mil)",254],["0.30 mm (12 mil)",305],["0.36 mm (14 mil)",356],["0.41 mm (16 mil)",406],["0.46 mm (18 mil)",457],["0.51 mm (20 mil)",508],["0.61 mm (24 mil)",610],["0.71 mm (28 mil)",711],["0.81 mm (32 mil)",813],["0.91 mm (36 mil)",914],["1.02 mm (40 mil)",1016],["1.27 mm (50 mil)",1270],["1.52 mm (60 mil)",1524],["1.78 mm (70 mil)",1778],["2.03 mm (80 mil)",2032]],1!==arguments.length&&(this.net(t),this.thickness(i),this.layerIndex(n),this.polySeg(o))},extend(Circuits.RoutingSegmentData,a),extend(Circuits.RoutingSegmentData,r),extend(Circuits.RoutingSegmentData,o),extend(Circuits.RoutingSegmentData,Circuits.TraceElementData),extend(Circuits.RoutingSegmentData,Circuits.IndexedElement),jsonExtend(10,"RoutingSegment",Circuits.RoutingSegmentData),Circuits.RoutingSegmentData.prototype.move=function(e){this.point(this.point().add(e))},Circuits.RoutingSegmentData.prototype.rotate=function(e,t){this.point(this.point().rotate(e,t)),this.direction(this.direction().rotate(e))},Circuits.RoutingSegmentData.prototype.initialize=function(){this.initIndexedElement([this.direction,this.point,this.thickness,this.layerIndex,this.endings])},Circuits.RoutingSegmentData.prototype.getData=function(){var e=this.getTraceElementData();return e.versions_id=this.versions_id,e.line=this.getLine(),e.thickness=this.thickness(),e.layerIndex=this.layerIndex(),e.polySeg=this.polySeg(),e},Circuits.RoutingSegmentData.prototype.setData=function(e){this.setVersionedData(e),this.setLine(e.line),this.thickness(e.thickness),this.layerIndex(parseInt(e.layerIndex,10)),void 0!==e.polySeg?this.polySeg(e.polySeg):this.polySeg(!1),this.setTraceElementData(e)},Circuits.RoutingSegmentData.prototype.getLayer=function(){return this.layerIndex()},Circuits.RoutingSegmentData.prototype.hasLayer=function(e){return this.layerIndex()===e},Circuits.RoutingSegmentData.prototype.setThickness=function(e){this.thickness(e)},Circuits.RoutingSegmentData.prototype.getThickness=function(){return this.polySeg()?0:this.thickness()},Circuits.RoutingSegmentData.prototype.getLine=function(){return new s.Line(this.direction(),this.point())},Circuits.RoutingSegmentData.prototype.setLine=function(e){this.direction(e.dir),this.point(e.point)},Circuits.RoutingSegmentData.prototype.setDir=function(e){for(var t,i=Math.round(e.angle()/(Math.PI/4));0>i;)i+=8;switch(i%8){case 0:case 4:t=new s.Coord(1,0);break;case 1:case 5:t=new s.Coord(1,1);break;case 2:case 6:t=new s.Coord(0,1);break;case 3:case 7:t=new s.Coord(-1,1);break;default:throw"angle_index out of range"}this.direction(t)},Circuits.RoutingSegmentData.prototype.getDir=function(){return this.direction()},Circuits.RoutingSegmentData.prototype.getDominantDir=function(e){var t=this,i=t.endings.getMax(function(i){return t.endPoint(e).distance(t.endPoint(i))}),n=t.endPoint(i).sub(t.endPoint(e));0===n.x&&0===n.y&&(n=this.getDir());var o=n.norm();return o},Circuits.RoutingSegmentData.prototype.setPoint=function(e){this.point(e)},Circuits.RoutingSegmentData.prototype.getPoint=function(){return this.point()},Circuits.RoutingSegmentData.prototype.getPcbPos=function(){return this.getPoint()},Circuits.RoutingSegmentData.prototype.getPos=function(){return this.getPoint()},Circuits.RoutingSegmentData.prototype.endPoint=function(e){var t,i=this;if(e.constructor===Circuits.RoutingSegmentData)if(i.getDir().parallel(e.getDir())){var n=null;if(i.endings.forEach(function(t){e.endings.contains(t)&&(n=t)}),null===n)return i.getPoint();t=n.getPcbPos()}else t=i.getLine().toString()>e.getLine().toString()?i.getLine().intersection(e.getLine()):e.getLine().intersection(i.getLine());else e.constructor===Circuits.SegmentPindownData?t=e.getPoint():e.constructor===Circuits.ViaData?t=e.getPoint():e.constructor===Circuits.TerminalData&&(t=new s.Coord(e.getPcbX(),e.getPcbY()));return t},Circuits.RoutingSegmentData.prototype.endEndings=function(){var e=this,t=this.endings.getMin(function(t){var i=e.endPoint(t);return null!==i?t.constructor===Circuits.SegmentPindownData?e.getLine().parameter(e.endPoint(t))+1e-10:e.getLine().parameter(e.endPoint(t)):Number.POSITIVE_INFINITY}),i=this.endings.getMin(function(t){var i=e.endPoint(t);return null!==i?t.constructor===Circuits.SegmentPindownData?-e.getLine().parameter(e.endPoint(t))-1e-10:-e.getLine().parameter(e.endPoint(t)):Number.POSITIVE_INFINITY});return[t,i]},Circuits.RoutingSegmentData.prototype.isEndEnding=function(e){var t=this.endEndings();return e===t[0]||e===t[1]},Circuits.RoutingSegmentData.prototype.endPoints=function(){if(0==this.getEndings().size())var e=[this.getPoint(),this.getPoint()];else var t=this.endEndings(),e=[this.endPoint(t[0]),this.endPoint(t[1])];return e},Circuits.RoutingSegmentData.prototype.length=function(){var e=this.endPoints();return e[0].sub(e[1]).length()},Circuits.RoutingSegmentData.prototype.closestPointTo=function(e){return this.getLine().closestPointTo(e)},Circuits.RoutingSegmentData.prototype.overlaps=function(e){var t=this.endPoints(),i=e.endPoints(),n=new s.Segment(new s.Coord(t[0].x,t[0].y),new s.Coord(t[1].x,t[1].y)),o=new s.Segment(new s.Coord(i[0].x,i[0].y),new s.Coord(i[1].x,i[1].y)),r=n.polyglon(200),a=o.polyglon(200);return r.intersects(a)},Circuits.RoutingSegmentData.prototype.getPoly=function(e,t){var i=new jsts.geom.GeometryFactory,n=this;if(n.polySeg()||this.getLayer()!==e)var o=null;else{var r=n.endPoints();if(null!==r[0])var a=new jsts.geom.Coordinate(r[0].x,r[0].y),s=new jsts.geom.Coordinate(r[1].x,r[1].y),c=(new jsts.geom.LineSegment(a,s),i.createLineString([a,s])),o=c.buffer(n.getThickness()/2+t);else var o=null}return o},Circuits.RoutingSegmentData.prototype.cleanPoints=function(){var e=this,t=e.getEndings().size(),i=new n.HashSet;e.getEndings().forEach(function(e){e.constructor===Circuits.SegmentPindownData&&i.add(e)}),t-i.size()>=2?i.forEach(function(t){e.disconnectEnding(t)}):i.forEach(function(t){e.isEndEnding(t)||e.disconnectEnding(t)})},Circuits.RoutingSegmentData.prototype.merge=function(e){var t=this;t.disconnectEnding(e),e.getEndings().forEach(function(i){i.disconnectEnding(e),i.connect(t)}),e.getNet().deregisterSegment(e)},Circuits.RoutingSegmentData.prototype.ripup=function(e){var t=this;this.getEndings().forEach(function(e){if(e.constructor==Circuits.RoutingSegmentData&&e.getEndings().size()<3){var i=t.endPoint(e);e.connect(e.getNet().newPin(i))}t.disconnectEnding(e)}),this.getNet().deregisterSegment(this)},Circuits.RoutingSegmentData.prototype.getToplevel=function(){return this.root},Circuits.RoutingSegmentData.prototype.getSnapSet=function(e,t){var i=new Circuits.SnapSet;if(e==Circuits.SnapLineType.ROUTETO)if(this.polySeg()){var n=this.endPoints(),o=this.getLine(),r=n[0],a=n[1],c=new s.Segment(r,a);i.add(c,1)}else{var n=this.endPoints(),o=this.getLine(),r=n[0].add(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),a=n[1].add(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),c=new s.Segment(r,a),l=n[0].sub(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),d=n[1].sub(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),u=new s.Segment(l,d);i.add(c,1),i.add(u,1)}else if(e==Circuits.SnapLineType.FROM){var n=this.endPoints(),o=this.getLine(),r=n[0],a=n[1],c=new s.Segment(r,a);i.add(c,1)}else if(e==Circuits.SnapLineType.TO){var n=this.endPoints(),o=this.getLine(),r=n[0].add(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),a=n[1].add(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),c=new s.Segment(r,a),l=n[0].sub(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),d=n[1].sub(o.dir.perp().norm().mult(this.getThickness()/2+Circuits.fab.OTT+t/2+1)),u=new s.Segment(l,d);i.add(c,1),i.add(u,1)}return i},Circuits.RoutingSegmentData.prototype.moveNoSnap=function(e,t){function i(e,t){if(e.length!==t.length)return!1;for(var i=e.length;i--;)if(e[i]!==t[i])return!1;return!0}function n(e){return e.filter(function(e){return e.constructor!==Circuits.TerminalData})}if("undefined"==typeof t){var o=this.point().copy(),r=this.endEndings();r=n(r);var a=r.length,s=!1,c=!1;if(a>0&&r[0].constructor===Circuits.RoutingSegmentData&&r[0].length()>0){var l=r[0].endEndings();l=n(l),l.length>1&&(r=r.concat(l),s=!0)}if(a>1&&r[1].constructor===Circuits.RoutingSegmentData&&r[1].length()>0){var l=r[1].endEndings();l=n(l),l.length>1&&(r=r.concat(l),c=!0)}this.point(this.point().add(e));var d=this.endEndings();d=n(d);var u=d.length;return u>0&&d[0].constructor===Circuits.RoutingSegmentData&&s&&(d=d.concat(d[0].endEndings())),u>1&&d[1].constructor===Circuits.RoutingSegmentData&&c&&(d=d.concat(d[1].endEndings())),i(r,d)?(this.setMoved(!0),!0):(this.point(o),!1)}this.point(this.point().add(e)),this.setMoved(!0)}},function(e,t,i){var n=i(174),o=i(176).Versioned,r=i(178),a=i(190);Circuits.SegmentPindownData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),this.initTraceElementData(),this.pos=this.value("pos",new a.Coord(0,0),!1,!0),this.makeUndoable(!0),1!==arguments.length&&(this.net(t),this.pos(i.copy()))},extend(Circuits.SegmentPindownData,r),extend(Circuits.SegmentPindownData,o),extend(Circuits.SegmentPindownData,n),extend(Circuits.SegmentPindownData,Circuits.TraceElementData),extend(Circuits.SegmentPindownData,Circuits.IndexedElement),jsonExtend(11,"SegmentPindown",Circuits.SegmentPindownData),Circuits.SegmentPindownData.prototype.move=function(e){this.pos(this.pos().add(e))},Circuits.SegmentPindownData.prototype.rotate=function(e,t){this.pos(this.pos().rotate(e,t))},Circuits.SegmentPindownData.prototype.initialize=function(){this.initIndexedElement([])},Circuits.SegmentPindownData.prototype.getData=function(){var e=this.getTraceElementData();return e.versions_id=this.versions_id,e.pos=this.pos(),e},Circuits.SegmentPindownData.prototype.setData=function(e){this.setVersionedData(e),this.pos(e.pos),this.setTraceElementData(e)},Circuits.SegmentPindownData.prototype.getPoint=function(){return this.pos()},Circuits.SegmentPindownData.prototype.getPcbPos=function(){return this.getPoint()},Circuits.SegmentPindownData.prototype.getPos=function(){return this.getPoint()},Circuits.SegmentPindownData.prototype.setPoint=function(e){this.pos(e)},Circuits.SegmentPindownData.prototype.getPoly=function(){return null},Circuits.SegmentPindownData.prototype.getToplevel=function(){return this.root},Circuits.SegmentPindownData.prototype.getSnapSet=function(){var e;return e=new Circuits.SnapSet},Circuits.SegmentPindownData.prototype.moveNoSnap=function(e){this.setPoint(this.getPoint().add(e)),this.setMoved(!0)}},function(e,t,i){var n=i(173),o=i(174),r=i(176).Versioned,a=i(178),s=i(190);Circuits.ViaData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e),this.initTraceElementData(),this.point=this.value("point",new s.Coord(0,0),!1,!0),this.endsize=this.value("endsize",Circuits.fab.viaMinEndsize(),!1,!0),this.keep=this.value("keep",!1,!1,!0),this.makeUndoable(!0),1!==arguments.length&&(this.net(t),this.point(i),this.endsize(n),this.keep(o))},extend(Circuits.ViaData,a),extend(Circuits.ViaData,r),extend(Circuits.ViaData,o),extend(Circuits.ViaData,Circuits.TraceElementData),extend(Circuits.ViaData,Circuits.IndexedElement),jsonExtend(12,"Via",Circuits.ViaData),Circuits.ViaData.prototype.move=function(e){this.point(this.point().add(e))},Circuits.ViaData.prototype.rotate=function(e,t){this.point(this.point().rotate(e,t))},Circuits.ViaData.prototype.initialize=function(){this.initIndexedElement([this.point,this.endsize])},Circuits.ViaData.prototype.getData=function(){var e=this.getTraceElementData();return e.versions_id=this.versions_id,e.point=this.point(),e.endsize=this.endsize(),e.keep=this.keep(),e},Circuits.ViaData.prototype.setData=function(e){this.setVersionedData(e),this.point(e.point),void 0!==e.endsize?this.endsize(e.endsize):this.endsize(Circuits.fab.viaMinEndsize()),void 0!==e.keep?this.keep(e.keep):this.keep(!1),this.setTraceElementData(e)},Circuits.ViaData.prototype.setPoint=function(e){this.point(e)},Circuits.ViaData.prototype.getPoint=function(){return this.point()},Circuits.ViaData.prototype.getPcbPos=function(){return this.getPoint()},Circuits.ViaData.prototype.getPos=function(){return this.getPoint()},Circuits.ViaData.prototype.getX=function(){return this.point().x},Circuits.ViaData.prototype.getY=function(){return this.point().y},Circuits.ViaData.prototype.getDrill=function(){return this.endsize()},Circuits.ViaData.prototype.setDrill=function(e){this.endsize(e)},Circuits.ViaData.prototype.remove=function(){var e=this.net();e&&e.vias.remove(this)},Circuits.ViaData.prototype.getLayers=function(){var e=new n.HashSet;return this.endings.forEach(function(t){t.constructor===Circuits.RoutingSegmentData&&e.add(t.getLayer())}),e},Circuits.ViaData.prototype.hasLayer=function(e,t){return!0},Circuits.ViaData.prototype.getPoly=function(e,t){var i=new jsts.geom.GeometryFactory,n=this,o=new jsts.geom.Coordinate(n.point().x,n.point().y),r=i.createPoint(o),a=r.buffer(Circuits.fab.viaPadDiameter(n.endsize())/2+t);return a},Circuits.ViaData.prototype.getToplevel=function(){return this.root},Circuits.ViaData.prototype.ripup=function(){var e=this;this.getEndings().forEach(function(t){if(t.constructor==Circuits.RoutingSegmentData&&t.getEndings().size()<3){var i=t.endPoint(e);t.connect(t.getNet().newPin(i))}e.disconnectEnding(t)}),this.getNet().deregisterVia(e)},Circuits.ViaData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.point(),1),t.addVer(e.point(),1),t},Circuits.ViaData.prototype.moveNoSnap=function(e){var t=this;t.point(t.point().add(e)),this.setMoved(!0)}},function(e,t,i){var n=i(173),o=i(191),r=i(174),a=i(176).Versioned,s=i(178);Circuits.TerminalData=function(e,t,i,o,r,a,s,c,l,d,u,h){this.basepoly=new n.HashMap,this.makeViewable(),this.makeVersioned(e),this.initTraceElementData(),this.subnet=this.value("subnet",null,!0,!1),this.wires=this.set("wires",!0,!1),this.pmid=this.value("pmid",null,!1,!0),this.sdid=this.value("sdid",null,!1,!0),this.spid=this.value("spid",null,!1,!0),this.ppid=this.value("ppid",null,!1,!0),this.sppid=this.value("sppid",null,!1,!0),this.bbid=this.value("bbid",null,!1,!0),this.makeUndoable(!1),1!==arguments.length&&(this.parent(t),this.pmid(s),this.sdid(c),this.spid(l),this.ppid(d),this.sppid(u),this.bbid(h))},extend(Circuits.TerminalData,s),extend(Circuits.TerminalData,a),extend(Circuits.TerminalData,r),extend(Circuits.TerminalData,Circuits.TraceElementData),extend(Circuits.TerminalData,Circuits.IndexedElement),jsonExtend(9,"Terminal",Circuits.TerminalData),Circuits.TerminalData.prototype.initialize=function(){this.hasPcb()&&this.initIndexedElement([this.parent().footprint().pos,this.parent().footprint().angle,this.parent().footprint().flip]);var e=this.getSchematicDescription(),t=this.getBreadboardDescription();if(e&&e.label?this.label_pattern=e.label:t&&t.label?this.label_pattern=t.label:this.label_pattern=null,
this.female=!1,this.polarity=0,this.terminalType="",t)switch(this.terminalType=t.terminal_type,this.terminalType){case"breadboard_female":this.female=!0;break;case"lbmagnetic-in":this.polarity=-1;break;case"lbmagnetic-out":this.polarity=1}},Circuits.TerminalData.prototype.getKey=function(){return this.pmid()+"_"+this.sdid()+"_"+this.spid()+"_"+this.ppid()+"_"+this.sppid()+"_"+this.bbid()},Circuits.TerminalData.prototype.getData=function(){var e=this.getTraceElementData();return e.versions_id=this.versions_id,e.parent=this.parent(),e.pmid=this.pmid(),e.sdid=this.sdid(),e.spid=this.spid(),e.ppid=this.ppid(),e.sppid=this.sppid(),e.bbid=this.bbid(),e.subnet=this.subnet(),e.wires=this.wires,e},Circuits.TerminalData.prototype.setData=function(e){this.pmid(e.pmid),this.sdid(e.sdid),this.spid(e.spid),this.ppid(e.ppid),this.sppid(e.sppid),this.bbid(e.bbid),this.subnet(e.subnet),this.wires.addAll(e.wires),this.setTraceElementData(e)},Circuits.TerminalData.prototype.addWire=function(e){this.wires.add(e)},Circuits.TerminalData.prototype.removeWire=function(e){this.wires.remove(e)},Circuits.TerminalData.prototype.hasWire=function(e){return this.wires.contains(e)},Circuits.TerminalData.prototype.setSubNet=function(e){this.subnet(e)},Circuits.TerminalData.prototype.getSubNet=function(e){return this.subnet()},Circuits.TerminalData.prototype.hasPcb=function(){return this.getPcbDescription()?!0:!1},Circuits.TerminalData.prototype.getPcbDescription=function(){return this.pcbDescription||(this.pcbDescription=this.parent().getDescriptionPPID(this.ppid())),this.pcbDescription},Circuits.TerminalData.prototype.getSchematicDescription=function(){return this.schematicDescription||(this.schematicDescription=this.parent().getDescriptionSPID(this.sdid(),this.spid())),this.schematicDescription},Circuits.TerminalData.prototype.getBreadboardDescription=function(){return this.breadboardDescription||(this.breadboardDescription=this.parent().getDescriptionBBID(this.bbid())),this.breadboardDescription},Circuits.TerminalData.prototype.getType=function(){return this.terminalType},Circuits.TerminalData.prototype._getX=function(e,t){var i=e.x,n=e.y;return t.pos().x+(Math.cos(t.angle()*Math.PI/180)*t.flip()*i-Math.sin(t.angle()*Math.PI/180)*n)},Circuits.TerminalData.prototype._getY=function(e,t){var i=e.x,n=e.y;return t.pos().y+Math.sin(t.angle()*Math.PI/180)*t.flip()*i+Math.cos(t.angle()*Math.PI/180)*n},Circuits.TerminalData.prototype.getSchematicParent=function(){return this.parent().subdevice.get(this.sdid())},Circuits.TerminalData.prototype.getSchematicName=function(){var e=this.getSchematicDescription();return e&&e.name?e.name:null},Circuits.TerminalData.prototype.getBreadboardX=function(){var e=this.getBreadboardDescription(),t=this.parent().breadboard();return this._getX(e,t)},Circuits.TerminalData.prototype.getBreadboardY=function(){var e=this.getBreadboardDescription(),t=this.parent().breadboard();return this._getY(e,t)},Circuits.TerminalData.prototype.getBreadboardPos=function(){return new o.Coord(this.getBreadboardX(),this.getBreadboardY())},Circuits.TerminalData.prototype.getBreadboardDir=function(){var e=this.getBreadboardDescription(),t=this.parent().breadboard(),i=e.dir;for(-1==t.flip()&&(i=540-i),i+=t.angle();0>i;)i+=360;return i%=360},Circuits.TerminalData.prototype.getSchematicX=function(){var e=this.getSchematicDescription(),t=this.parent().subdevice.get(this.sdid());return this._getX(e,t)},Circuits.TerminalData.prototype.getSchematicY=function(){var e=this.getSchematicDescription(),t=this.parent().subdevice.get(this.sdid());return this._getY(e,t)},Circuits.TerminalData.prototype.getSchematicPos=function(){return new o.Coord(this.getSchematicX(),this.getSchematicY())},Circuits.TerminalData.prototype.getSchematicDir=function(){var e=this.getSchematicDescription(),t=this.parent().subdevice.get(this.sdid()),i=e.dir;for(-1==t.flip()&&(i=540-i),i+=t.angle();0>i;)i+=360;return i%=360},Circuits.TerminalData.prototype.getPcbDir=function(){var e=this.getPcbDescription(),t=this.parent.footprint(),i=e.dir;for(-1==t.flip()&&(i=540-i),i+=t.angle();0>i;)i+=360;return i%=360},Circuits.TerminalData.prototype.getPcbX=function(){var e=this.getPcbDescription(),t=this.parent().footprint();return this._getX(e,t)},Circuits.TerminalData.prototype.getPcbY=function(){var e=this.getPcbDescription(),t=this.parent().footprint();return this._getY(e,t)},Circuits.TerminalData.prototype.getPcbPos=function(){return new o.Coord(this.getPcbX(),this.getPcbY())},Circuits.TerminalData.prototype.hasPcb=function(){return this.getPcbDescription()?!0:!1},Circuits.TerminalData.prototype.hasSchematic=function(){return this.getSchematicDescription()?!0:!1},Circuits.TerminalData.prototype.hasBreadboard=function(){return this.getBreadboardDescription()?!0:!1},Circuits.TerminalData.prototype.disconnect=function(){if(this.hasNet()){var e=this.net();this.subnet().size()<=2?this.subnet().remove():this.subnet().removeTerminal(this),this.isLabel()&&e.splitUpIfNeeded()}},Circuits.TerminalData.prototype.isFemale=function(){return this.female},Circuits.TerminalData.prototype.getPolarity=function(){return this.polarity},Circuits.TerminalData.prototype.isLabel=function(){return null!=this.label_pattern},Circuits.TerminalData.prototype.getLabel=function(){return this.label_pattern.replace("<device_name>",this.parent().name()).replace("<device_id>",this.parent().versions_id)},Circuits.TerminalData.prototype.findLabelNet=function(){var e=this;if(!e.isLabel())return null;var t=null;return this.root.circuit.devices.forEach(function(i){i.terminals.forEach(function(i,n){if(n!==e&&n.isLabel()&&n.getLabel()==e.getLabel()){var o=n.net();null!==o&&(t=o)}})}),t},Circuits.TerminalData.prototype.getNetLabel=function(){return this.getNet()?this.getNet():this.isLabel()?this.findLabelNet():null},Circuits.TerminalData.prototype.getEinkPoly=function(){var e=this,t=new jsts.geom.GeometryFactory,i=new jsts.geom.Coordinate(this.getBreadboardPos().getX(),this.getBreadboardPos().getY()),n=t.createPoint(i);switch(e.getBreadboardDescription().terminal_type){case"eink_pad":var o=n.buffer(12.5);break;case"circuitscribe_magnet":o=n.buffer(5)}return o},Circuits.TerminalData.prototype.getLayer=function(){return 0},Circuits.TerminalData.prototype.getBasePolygon=function(e){var t=this.basepoly.get(e);if(null===t){if(0==e||1==e)0==e?t=this.getPcbDescription().layer0:(this.getPcbDescription().drill||!this.getPcbDescription().layer0)&&(t=this.getPcbDescription().layer1),void 0!==t&&null!==t&&""!==t?("<"!==t.substr(0,1)&&(t=$.parseJSON(t)),t=new o.Polyglon(t),t=t.rotate(this.getPcbDescription().dir),t=t.translate(new o.Coord(this.getPcbDescription().x,this.getPcbDescription().y))):t="nopoly";else{var i=this.getPcbDescription().drill;i?(t=new o.Polyglon('<circle x="0" y="0" r="'+(parseFloat(i)/2+Circuits.fab.OAR)+'"/>'),t=t.translate(new o.Coord(this.getPcbDescription().x,this.getPcbDescription().y))):t="nopoly"}this.basepoly.put(e,t)}return t},Circuits.TerminalData.prototype.layerToStackIndex=function(e){var t;return t=-1===this.parent().footprint().flip()?e%2==0?e+1:e-1:e},Circuits.TerminalData.prototype.getPolygon=function(e){var t=this.layerToStackIndex(e),i=this.getBasePolygon(t);if("nopoly"!==i){var n=i.flip(this.parent().footprint().flip());return n=n.rotate(this.parent().footprint().angle()),n=n.translate(this.parent().footprint().pos())}return null},Circuits.TerminalData.prototype.getDrillPolygon=function(){var e=this.getDrillBasePolygon();if("nopoly"!==e){var t=e.flip(this.parent().footprint().flip());return t=t.rotate(this.parent().footprint().angle()),t=t.translate(this.parent().footprint().pos())}return null},Circuits.TerminalData.prototype.hasMilledSlot=function(){var e=this.getPcbDescription().drill;return e&&"["==e[0]?!0:!1},Circuits.TerminalData.prototype.getDrillBasePolygon=function(){var e=this.basepoly.get("drill");if(null===e){var t=this.getPcbDescription().drill;if(t){if("["!==t[0])e=(new o.Polyglon).fromCircle(parseFloat(t)/2);else{var i=JSON.parse(t),n=i[0],r=i[1],a=new o.Trace(r);e=a.toPolygon(n)}e=e.rotate(this.getPcbDescription().dir),e=e.translate(new o.Coord(this.getPcbDescription().x,this.getPcbDescription().y))}else e="nopoly";this.basepoly.put("drill",e)}return e},Circuits.TerminalData.prototype.getDrillPositions=function(){var e=[],t=this.getPcbDescription().drill;if(t)if("["!==t[0])e=[[0,0]];else{var i=JSON.parse(t);e=i[1]}var n=new o.PointSet(e);return n=n.rotate(this.getPcbDescription().dir),n=n.translate(new o.Coord(this.getPcbDescription().x,this.getPcbDescription().y)),n=n.flip(this.parent().footprint().flip()),n=n.rotate(this.parent().footprint().angle()),n=n.translate(this.parent().footprint().pos())},Circuits.TerminalData.prototype.toolSize=function(){var e,t=this.getPcbDescription(),i=t.drill;if("["!==i[0])e=Math.max(Circuits.fab.npthMinEndsize(),parseFloat(i));else{var n=JSON.parse(i);e=Math.max(Circuits.fab.minMilSize(),n[0])}return e},Circuits.TerminalData.prototype.hasLayer=function(e){var t;t=-1===this.parent().footprint().flip()?e%2==0?e+1:e-1:e;var i=this.getPcbDescription()["layer"+t];return i||this.getPcbDescription().drill?!0:!1},Circuits.TerminalData.prototype.getPoly=function(e,t){var i=new jsts.geom.GeometryFactory,n=this.getPolygon(e);if(null!==n){n.points.push(n.points[0]);var o=[];n.points.forEach(function(e){var t=new jsts.geom.Coordinate(e.x,e.y);o.push(t)});var r=i.createLinearRing(o.reverse()),a=i.createPolygon(r).buffer(t);return a.normalize(),a}return null},Circuits.TerminalData.prototype.getToplevel=function(){return this.root},Circuits.TerminalData.prototype.canAutoConnectTo=function(e){return this!==e&&(!this.female||!e.female)&&this.polarity*e.polarity<=0&&this.getBreadboardPos().distance(e.getBreadboardPos())<1?!0:!1},Circuits.TerminalData.prototype.getBreadboardSnapSet=function(){var e=new Circuits.SnapSet;switch(this.getType()){case"eink_pad":e.add(this.getBreadboardPos().copy(),10,6.25,null,this);break;case"lbmagnetic-in":case"lbmagnetic-out":if(this.getBreadboardDescription().name.search("signal")>-1){var t=(this.getBreadboardDescription().dir+this.parent().breadboard().angle()+(-1==this.polarity?180:0))%360;e.add(this.getBreadboardPos().copy(),10,15,null,this,this.polarity,t)}break;default:e.add(this.getBreadboardPos().copy(),10,4,null,this)}return e},Circuits.TerminalData.prototype.getPcbSnapSet=function(e,t){var i,n,r,a,s=this,c=new Circuits.SnapSet,l=new jsts.geom.GeometryFactory;if(e===Circuits.SnapLineType.ROUTETO){if(c.add(s.getPcbPos().copy(),1),i=s.getPolygon(0)){i.points.push(i.points[0]),n=[],i.points.forEach(function(e){var t=new jsts.geom.Coordinate(e.x,e.y);n.push(t)});var d=l.createLinearRing(n);i=l.createPolygon(d);var u=new jsts.operation.buffer.BufferParameters(0,jsts.operation.buffer.BufferParameters.CAP_FLAT,jsts.operation.buffer.BufferParameters.JOIN_MITRE,1);a=new jsts.operation.buffer.BufferBuilder(u);var h=a.buffer(i,Circuits.fab.OTT+t/2+1);n=h.shell.points;for(var p=1;p<n.length;p++){r=new o.Coord(n[p-1].x,n[p-1].y),a=new o.Coord(n[p].x,n[p].y);var g=new o.Segment(r,a);c.add(g,1)}}}else c.addHor(s.getPcbPos(),1),c.addVer(s.getPcbPos(),1);return c},Circuits.TerminalData.prototype.getSchematicSnapSet=function(){var e=this,t=new Circuits.SnapSet,i=this.getSchematicDir();return 0==i||180==i?t.addHor(e.getSchematicPos(),1):(90==i||270==i)&&t.addVer(e.getSchematicPos(),1),t}},function(e,t,i){i(670),i(671),i(672),i(673)},function(e,t,i){var n=i(191),o=i(174),r=i(176).Versioned,a=i(178);Circuits.BezierOutlineData=function(e){var t=this;this.makeViewable(),this.makeVersioned(e),this.points=this.list("points",!0,!0),this.boardPoly=this.shadow("boardPoly",!1,function(){return t.calculatePoly(1e3)},null,[[this.points,this.points.onBubble]]),this.boardBoundingBox=this.shadow("boardBoundingBox",!1,function(){var e=t.boardPoly();if(e.points.length>0){var i=new n.PointSet(e.points);return i.getBB()}return new n.BoundingBox(0,0,0,0)},null,[[this.boardPoly,this.boardPoly.onChange]]),this.upperLeft=this.shadow("upperLeft",!0,function(){var e=t.boardBoundingBox();return new n.Coord(e.x,e.y)},null,[[this.boardBoundingBox,this.boardBoundingBox.onChange]]),this.lowerRight=this.shadow("lowerRight",!0,function(){var e=t.boardBoundingBox();return new n.Coord(e.x+e.width,e.y+e.height)},null,[[this.boardBoundingBox,this.boardBoundingBox.onChange]]),this.makeUndoable(!0),this.interactionModel=new Circuits.BezierInteractionOutlineModel(this.root,t),this.interactionModel.parent(this)},extend(Circuits.BezierOutlineData,a),extend(Circuits.BezierOutlineData,r),extend(Circuits.BezierOutlineData,o),jsonExtend(19,"BezierOutline",Circuits.BezierOutlineData),Circuits.BezierOutlineData.prototype.toggleInFocus=function(){this.interactionModel.infocus(!this.interactionModel.infocus())},Circuits.BezierOutlineData.prototype.getData=function(){var e={};return e.vertices=this.points,e.parent=this.parent(),e.upperLeft=this.upperLeft(),e.lowerRight=this.lowerRight(),e},Circuits.BezierOutlineData.prototype.setData=function(e){this.points.addAll(e.vertices)},Circuits.BezierOutlineData.prototype.addPoint=function(e,t){void 0===t?this.points.push(e):this.points.add(e,t)},Circuits.BezierOutlineData.prototype.move=function(e){this.points.forEach(function(t,i){i.point(i.point().add(e)),i.tan_0(i.tan_0().add(e)),i.tan_1(i.tan_1().add(e))})},Circuits.BezierOutlineData.prototype.initialize=function(){this.interactionModel.initialize()},Circuits.BezierOutlineData.prototype.getSvgPath=function(){var e="";if(this.points.size()>0){var t=this.points.get(-1);e+="M"+t.point().x+","+t.point().y,this.points.forEach(function(i,n){var o=t;t=n;var r=t.point();if(o.mode()!==Circuits.BezierMode.LINE)var a=o.tan_1();else a=o.point();if(t.mode()!==Circuits.BezierMode.LINE)var s=t.tan_0();else s=t.point();e+="C"+a.x+","+a.y+" "+s.x+","+s.y+" "+r.x+","+r.y}),e+="z"}return e},Circuits.BezierOutlineData.prototype.calculatePoly=function(e){var t=this.getSvgPath(),i=new n.Polyglon;return i.fromPathData(t,e),i},Circuits.BezierOutlineData.prototype.getPoly=function(){return this.boardPoly().toJsts()},Circuits.BezierOutlineData.prototype.getOurPoly=function(e){return this.calculatePoly(e)},Circuits.BezierOutlineData.prototype.getSnapSet=function(){var e=new Circuits.SnapSet;return this.points.forEach(function(t,i){e.addAll(i.getSnapSet())}),e}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.BezierSegmentData=function(e,t,i){this.makeViewable(),this.makeVersioned(e),this.begin=this.value("begin",null,!0,!1),this.end=this.value("end",null,!0,!1),this.begin(t),this.end(i)},extend(Circuits.BezierSegmentData,o),extend(Circuits.BezierSegmentData,n),jsonExtend(21,"BezierSegment",Circuits.BezierSegmentData),Circuits.BezierSegmentData.prototype.moveNoSnap=function(e){var t=this.begin(),i=this.end();t.point(t.point().add(e)),t.tan_0(t.tan_0().add(e)),t.tan_1(t.tan_1().add(e)),i.point(i.point().add(e)),i.tan_0(i.tan_0().add(e)),i.tan_1(i.tan_1().add(e))},Circuits.BezierSegmentData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.begin().point(),1),t.addHor(e.end().point(),1),t.addVer(e.begin().point(),1),t.addVer(e.end().point(),1),t},Circuits.BezierSegmentData.prototype.clickAction=function(){},Circuits.BezierSegmentData.prototype.doubleClickAction=function(e){this.root.rec();var t=new Circuits.BezierVertexData(this.root,e),i=this.parent().model.points.indexOf(this.end());this.parent().model.addPoint(t,i),this.root.stopRec()},Circuits.BezierSegmentData.prototype.initialize=function(){}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.BezierTangentHandleData=function(e,t,i,n,o){this.makeViewable(),this.makeVersioned(e),this.vertex=t,this.coord=i,this.other=n,this.primary=o},extend(Circuits.BezierTangentHandleData,o),extend(Circuits.BezierTangentHandleData,n),Circuits.BezierTangentHandleData.prototype.moveNoSnap=function(e){switch(this.vertex.mode()){case Circuits.BezierMode.LINE:break;case Circuits.BezierMode.SMOOTH:this.coord(this.coord().add(e)),this.other(this.other().sub(e));break;case Circuits.BezierMode.CORNER:this.coord(this.coord().add(e))}},Circuits.BezierTangentHandleData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.coord(),1),t.addVer(e.coord(),1),t}},function(e,t,i){var n=i(191),o=i(174),r=i(176).Versioned,a=i(178);Circuits.BezierMode={LINE:0,SMOOTH:1,CORNER:2},Circuits.BezierVertexData=function(e,t){this.makeViewable(),this.makeVersioned(e),this.point=this.value("point",new n.Coord(0,0),!1,!0),this.tan_0=this.value("tan_0",new n.Coord(0,0),!1,!0),this.tan_1=this.value("tan_1",new n.Coord(0,0),!1,!0),this.mode=this.value("mode",Circuits.BezierMode.LINE,!1,!0),this.makeUndoable(!0),1!==arguments.length&&this.point(t)},extend(Circuits.BezierVertexData,a),extend(Circuits.BezierVertexData,r),extend(Circuits.BezierVertexData,o),jsonExtend(20,"BezierVertex",Circuits.BezierVertexData),Circuits.BezierVertexData.prototype.getData=function(){var e={};return e.parent=this.parent(),e.point=this.point(),e.tan_0=this.tan_0(),e.tan_1=this.tan_1(),e.mode=this.mode(),e},Circuits.BezierVertexData.prototype.setData=function(e){this.point(e.point),this.tan_0(e.tan_0),this.tan_1(e.tan_1),this.mode(e.mode)},Circuits.BezierVertexData.prototype.initialize=function(){this.tan_0_handle=new Circuits.BezierTangentHandleData(this.root,this,this.tan_0,this.tan_1,!0),this.tan_1_handle=new Circuits.BezierTangentHandleData(this.root,this,this.tan_1,this.tan_0,!1)},Circuits.BezierVertexData.prototype.index=function(){var e=this.parent().points.indexOf(this);return e},Circuits.BezierVertexData.prototype.next=function(){var e=this.index()+1;return e>=this.parent().points.size()&&(e=0),this.parent().points.get(e)},Circuits.BezierVertexData.prototype.previous=function(){var e=this.index()-1;return 0>e&&(e=this.parent().points.size()-1),this.parent().points.get(e)},Circuits.BezierVertexData.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.point(),1),t.addVer(e.point(),1),t},Circuits.BezierVertexData.prototype.moveNoSnap=function(e){this.point(this.point().add(e)),this.tan_0(this.tan_0().add(e)),this.tan_1(this.tan_1().add(e))},Circuits.BezierVertexData.prototype.doubleClickAction=function(){switch(this.root.rec(),this.mode()){case Circuits.BezierMode.LINE:var e,t=this.previous().point(),i=this.point(),n=this.next().point(),o=n.sub(t).norm(),r=n.sub(i).length(),a=t.sub(i).length();e=r>a?.1*a:.1*r;var s=o.mult(e);this.tan_1(this.point().add(s)),this.tan_0(this.point().sub(s)),this.mode(Circuits.BezierMode.SMOOTH);break;case Circuits.BezierMode.SMOOTH:this.mode(Circuits.BezierMode.CORNER);break;case Circuits.BezierMode.CORNER:this.mode(Circuits.BezierMode.LINE)}this.root.stopRec()},Circuits.BezierVertexData.prototype.remove=function(){if(this.parent().points.size()>3){var e=this.parent().points.indexOf(this);this.parent().points.remove(e)}}},function(e,t,i){var n=i(174),o=i(176).Versioned,r=i(178),a=i(190);Circuits.BreadboardPaperData=function(e){var t=this;this.makeViewable(),this.makeVersioned(e),this.paperType=this.value("paperType","",!1,!0),this.upperLeft=this.value("upperLeft",new a.Coord(0,0),!1,!0),this.width=this.value("width",0,!1,!0),this.height=this.value("height",0,!1,!0),this.margin=this.value("margin",0,!1,!0),this.visible=this.value("visible",!1,!1,!0),this.selected=!1,this.paperTypes=["Letter","A4"],this.paperType.onChange("paperTypeChange",function(e,i,n){switch(n){case"Letter":t.width(1100),t.height(850),t.margin(75);break;case"A4":t.width(1169),t.height(827),t.margin(75)}t.upperLeft(new a.Coord(-t.width()/2,-t.height()/2))},10),this.paperType("Letter"),this.makeUndoable(!1),1===arguments.length},extend(Circuits.BreadboardPaperData,r),extend(Circuits.BreadboardPaperData,o),extend(Circuits.BreadboardPaperData,n),jsonExtend(26,"breadboardpaper",Circuits.BreadboardPaperData),jsonExtend(80,"BreadboardPaper",Circuits.BreadboardPaperData),Circuits.BreadboardPaperData.prototype.initialize=function(){},Circuits.BreadboardPaperData.prototype.getSnapSet=function(){return new Circuits.SnapSet},Circuits.BreadboardPaperData.prototype.getBoundingBox=function(){var e=this.upperLeft().x,t=this.upperLeft().y,i=this.width(),n=this.height();return new a.BoundingBox(e,t,i,n)}},function(e,t,i){var n=i(170).inherit,o=i(190);Circuits.EinkPathData=function(e,t){Circuits.PathData.apply(this,arguments),this.net=this.value("net",null,!0,!1),this.strokeWidth(7),1===arguments.length},Circuits.EinkPathData.prototype=n(Circuits.PathData.prototype),Circuits.EinkPathData.prototype.constructor=Circuits.EinkPathData,jsonExtend(25,"EinkPath",Circuits.EinkPathData),Circuits.EinkPathData.prototype.getTrace=function(e){var t=new o.Path($(this.toSVG()).get(0));return t.toTrace(e||10)},Circuits.EinkPathData.prototype.getEinkPoly=function(){var e=this.getTrace(10);return e.toJstsPolygon(this.strokeWidth())},Circuits.EinkPathData.prototype.breadboard=function(){return this},Circuits.EinkPathData.prototype.footprint=function(){return!1}},function(e,t,i){i(677),i(683),i(701),i(706),i(781)},function(e,t,i){i(678),i(679),i(680),i(681),i(682)},function(e,t,i){var n=i(173),o=i(176).Versioned;Circuits.CircuitEditorModel=function(e){this.makeVersioned(e),this.state=this.value("state",null,!1,!0),this.breadboard=this.value("breadboard",null,!0,!0),this.schematic=this.value("schematic",null,!0,!0),this.pcb=this.value("pcb",null,!0,!0),this.connection=this.value("connection",null,!1,!0),this.breadboard(new Circuits.BreadboardEditorModel(this.root)),this.schematic(new Circuits.SchematicEditorModel(this.root)),this.pcb(new Circuits.PCBEditorModel(this.root)),this.connectionGraph=new n.Graph,this.einkPolyMap=new n.HashMap,this.recorder_view_dialog=this.value("recorder_view_dialog",!1,!1,!0),this._meta_data={}},extend(Circuits.CircuitEditorModel,o),jsonExtend(70,"CircuitEditorModel",Circuits.CircuitEditorModel),Circuits.CircuitEditorModel.prototype.initialize=function(){},Circuits.CircuitEditorModel.prototype.meta=function(e){return _.isObject(e)?(this._meta_data=e,this):_.isString(e)?this._meta_data[e]:this._meta_data},Circuits.CircuitEditorModel.prototype.meta=Circuits.CircuitEditorModel.prototype.meta},function(e,t,i){var n=i(191),o=i(179),r=i(170).inherit;Circuits.SchematicEditorModel=function(e){this.makeVersioned(e),Circuits.AbstractEditorModel.apply(this,arguments),this.preConnectLine=this.value("preConnectLine",null,!1,!0),this.deviceJustAdded=this.value("deviceJustAdded",!1,!1,!0),this.netWithAttention=this.value("netWithAttention",null,!0,!1),this.hasAttention=this.value("hasAttention",null,!1,!1),this.isSchematicBreadboardEditor=this.value("isSchematicBreadboardEditor",!1,!1,!1),this.componentsOverlay=this.value("componentsOverlay",!1,!1,!0),this.searchOverlayTab=this.value("searchOverlayTab",!1,!1,!0),this.origin(new Circuits.OriginModel(this.root,this,new n.Coord(0,0))),this.origin().grid_value(1),this.defaultWorkPlane(new n.BoundingBox(-150,-150,550,325))},Circuits.SchematicEditorModel.prototype=r(Circuits.AbstractEditorModel.prototype),Circuits.SchematicEditorModel.prototype.constructor=Circuits.SchematicEditorModel,jsonExtend(73,"SchematicEditorModel",Circuits.SchematicEditorModel),Circuits.SchematicEditorModel.prototype.onPanClick=function(){},Circuits.SchematicEditorModel.prototype.makeConnection=function(e,t){if(e&&t){var i=e.getSubNet(),n=null;if(t instanceof Circuits.TerminalData){if(e==t)return;n=t.getSubNet()}else{if(!(t instanceof Circuits.SchematicNetData))return;if(t.hasTerm(e))return;n=t}if(i&&n)i.mergeNet(n);else if(i&&!n)i.addTerminal(t);else if(!i&&n)n.addTerminal(e);else{var o=new Circuits.SchematicNetData(this.root),r=this.root.circuit.addNet();r.addSubnet(o),o.addTerminal(e),o.addTerminal(t)}}},Circuits.SchematicEditorModel.prototype.getSnapElements=function(){var e=new o.HashSet;return this.root.circuit.devices.forEach(function(t){t.subdevice.forEach(function(t,i){e.add(i)})}),e},Circuits.SchematicEditorModel.prototype.flipHorSelection=function(){this.selection.forEach(function(e){void 0!==e.flipHor&&e.flipHor()})},Circuits.SchematicEditorModel.prototype.flipVerSelection=function(){this.selection.forEach(function(e){void 0!==e.flipVer&&e.flipVer()})},Circuits.SchematicEditorModel.prototype.onElementMovingStop=function(){1==this.deviceJustAdded()&&this.deviceJustAdded(!1)},Circuits.SchematicEditorModel.prototype.removeSelection=function(){var e=this.selection.values(),t=[];e.forEach(function(e){if(void 0!==e.removeToolAction)e.removeToolAction();else if(void 0!==e.remove){var i=e.remove();i&&t.indexOf(i)<0&&t.push(i)}}),this.emptySelection(),t.length>0&&this.selection.addAll(t)},Circuits.SchematicEditorModel.prototype.getSelectables=function(){var e=new o.HashSet;return this.root.circuit.devices.forEach(function(t){t.subdevice.forEach(function(t,i){e.add(i)})}),e},Circuits.SchematicEditorModel.prototype.getSelectablesInBox=function(e){var t,i=this.getSelectables();return t=i.filter(function(t){return t.pos().inBB(e)})},Circuits.SchematicEditorModel.prototype.onElementClicked=function(){},Circuits.SchematicEditorModel.prototype.onElementSelected=function(){},Circuits.SchematicEditorModel.prototype.getBoundingBox=function(){var e=null;return this.root.circuit.devices.forEach(function(t){t.subdevice.forEach(function(t,i){var n=i&&i.getBoundingBox&&i.getBoundingBox();n&&(e=n.merge(e))})}),e},Circuits.SchematicEditorModel.prototype.afterPaste=function(e,t){var i=this,n=new o.HashSet;e.forEach(function(e){e instanceof Circuits.SchematicElementData&&!n.contains(e.parent())&&(e.parent().afterPaste(i,t),n.add(e.parent()))})}},function(e,t,i){var n=i(173),o=i(191),r=i(170).inherit,a=i(410);Circuits.BreadboardEditorModel=function(e){this.makeVersioned(e),Circuits.SchematicEditorModel.apply(this,arguments),this.simulatorState=this.value("simulator state",a.states.IDLE,!1,!0),this.simulatorTime=this.value("simulator time",0,!1,!0),this.simulatorSlowdown=this.value("simulator slowdown",1,!1,!0),this.componentsOverlay=this.value("componentsOverlay",!1,!1,!0),this.codeEditorOverlay=this.value("codeEditorOverlay",!1,!1,!0),this.CSfootprintOverlay=this.value("CSfootprintOverlay",!1,!1,!0),this.deviceJustAdded=this.value("deviceJustAdded",!1,!1,!0),this.code_error=this.value("arduino code error",!1,!1,!0),this.circuitscribe_view_dialog=this.value("circuitscribe_view_dialog",!1,!1,!0),this.circuitscribe_view=this.value("circuitscribe","sketch",!1,!0),this.circuitscribe_print_dialog=this.value("circuitscribe_print_dialog",!1,!1,!0),this.lineStart=this.value("lineStart",null,!1,!0),this.lineEnd=this.value("lineEnd",null,!1,!0),this.origin().grid_unit("vm"),this.origin().grid_value(10),this.defaultWorkPlane(new o.BoundingBox(-425,-150,850,300)),this.rotateAngle=30,this.preConnectLineIsPoly=!0,this.newWireColor=null,this.colorMap={1:"black",2:"red",3:"orange",4:"yellow",5:"green",6:"turquoise",7:"blue",8:"purple",9:"pink",0:"brown"}},Circuits.BreadboardEditorModel.prototype=r(Circuits.SchematicEditorModel.prototype),Circuits.BreadboardEditorModel.prototype.constructor=Circuits.BreadboardEditorModel,jsonExtend(72,"BreadboardEditorModel",Circuits.BreadboardEditorModel),Circuits.BreadboardEditorModel.prototype.initialize=function(){"breadboard"==this.root.circuit.circuit_type()&&this.connectInteractionModel(Circuits.BendableWireData,this.root.circuit.wires,Circuits.PathInteractionModel),"circuitscribe"==this.root.circuit.circuit_type()&&this.connectInteractionModel(Circuits.EinkPathData,this.root.circuit.eink().elements,Circuits.PathInteractionModel)},Circuits.BreadboardEditorModel.prototype.onPanClick=function(){},Circuits.BreadboardEditorModel.prototype.getSnapElements=function(){var e=this,t=new n.HashSet;return e.root.circuit.devices.forEach(function(e){e.breadboard()&&t.add(e.breadboard())}),t},Circuits.BreadboardEditorModel.prototype.makeConnection=function(e,t,i,n,o){if(e&&t&&e!=t){var r=!0;if(e.wires.forEach(function(i){i.getOther(e)==t&&(r=!1)}),r){var a=new Circuits.BendableWireData(this.root,e,t,i);if(o&&a.color(o),n){n.forEach(function(e,t){a.addPoint(e,t+1)})}return this.root.circuit.wires.add(a),a}}},Circuits.BreadboardEditorModel.prototype.setWireSelectionColor=function(e){var t=[];if(this.selection.forEach(function(e){var i=null;e.data&&e.data instanceof Circuits.BendableWireData?i=e.data:e.parent().data&&e.parent().data instanceof Circuits.BendableWireData&&(i=e.parent().data),i&&t.indexOf(i)<0&&t.push(i)}),t.length){this.root.rec(),this.newWireColor=e;for(var i in t)t[i].color(this.newWireColor);this.root.stopRec()}},Circuits.BreadboardEditorModel.prototype.onElementMovingStart=function(){var e=this;e.moveAlong=new n.HashSet,e.selection.forEach(function(t){if(t.constructor===Circuits.BreadboardElementData){var i=t.parent();i.terminals.forEach(function(t,i){i.hasBreadboard()&&(i.isFemale()?i.wires.forEach(function(t){if(t.insert()){var n=t.getOther(i).parent();e.selection.contains(n.breadboard())||e.moveAlong.add(n.breadboard())}}):i.wires.forEach(function(t){if(t.insert()){var n=t.getOther(i).parent();e.selection.contains(n.breadboard())||t.remove()}}))})}}),e.selection.addAll(e.moveAlong)},Circuits.BreadboardEditorModel.prototype.onElementMovingStop=function(){var e=this;e.selection.removeAll(e.moveAlong),$(this.snapGroup).empty();var t=new n.HashSet;this.root.circuit.devices.forEach(function(i){e.selection.contains(i.breadboard())||i.terminals.forEach(function(e,i){i.hasBreadboard()&&t.add(i)})});var i=new n.HashMap,o=new n.HashMap,r=new n.List,a=!0,s=e.selection.values();if(s.forEach(function(e){if(e.parent&&e.parent().terminals)e.parent().terminals.forEach(function(e,n){n.hasBreadboard()&&t.forEach(function(e){e===n||n.isFemale()&&e.isFemale()||e.getBreadboardPos().distance(n.getBreadboardPos())<1&&(n.getPolarity()*e.getPolarity()<=0?i.put(n,e):a=!1)})});else if(e.isPathEndpoint&&e.interactionModel&&e.interactionModel.data instanceof Circuits.BendableWireData){var n=e.object,s=!1;t.forEach(function(t){t.getBreadboardPos().distance(e.coord())<1&&(o.put(n,t),s=!0)}),s||r.push(n)}}),a)i.forEach(function(t,i){e.makeConnection(t,i,!0)});else{var c=e.origin().getDisplacement(2);e.moveNoSnapSelection(c),this.onElementMovingStop()}o.forEach(function(e,t){var i=e.parent();0==e.index()&&t===i.end()||0!=e.index()&&t===i.begin()?r.indexOf(e)<0&&r.push(e):(i.remove(!0),e.endpoint(t.getBreadboardPos()),0==e.index()?i.setBegin(t):i.setEnd(t),i.updateNets())}),r.forEach(function(e,t){var i=t.parent();0==t.index()?t.endpoint(i.begin().getBreadboardPos()):t.endpoint(i.end().getBreadboardPos())}),1==e.deviceJustAdded()&&e.deviceJustAdded(!1)},Circuits.BreadboardEditorModel.prototype.getSelectables=function(){var e=new n.HashSet;return this.root.circuit.devices.forEach(function(t){e.add(t.breadboard())}),this.interactionModels.forEach(function(t,i){e.add(i)}),e},Circuits.BreadboardEditorModel.prototype.getSelectablesInBox=function(e){var t,i=this.getSelectables();return t=i.filter(function(t){return t.isSelectable&&!t.isSelectable()?!1:t.getPos().inBB(e)})},Circuits.BreadboardEditorModel.prototype.hasFootprint=function(e){var t=this,i=!1;return e.terminals.forEach(function(e,n){var o=t.root.circuit.connectionGraph.connectedVertices(n);o.forEach(function(e){e.constructor==Circuits.TerminalData&&"eink_pad"==e.getBreadboardDescription().terminal_type&&(i=!0)})}),i},Circuits.BreadboardEditorModel.prototype.getBoundingBox=function(){var e=this.root.circuit,t=null,i=e.breadboardpaper();return i&&(t=i.getBoundingBox().scale(.9)),e.devices.forEach(function(e){var i=e.breadboard&&e.breadboard(),n=i&&i.getBoundingBox&&i.getBoundingBox();n&&(t=n.merge(t))}),"circuitscribe"==e.circuit_type()&&e.einkPolyMap.forEach(function(e){var i=e&&e.boundingBox&&e.boundingBox();i&&(t=i.merge(t))}),"breadboard"==e.circuit_type()&&e.wires.forEach(function(e){var i=e&&e.boundingBox&&e.boundingBox();i&&(t=i.merge(t))}),t},Circuits.BreadboardEditorModel.prototype.isCopyableElement=function(e){return e instanceof Circuits.BreadboardElementData||e instanceof Circuits.BendableWireData||e instanceof Circuits.PathInteractionModel;
},Circuits.BreadboardEditorModel.prototype.afterPaste=function(e,t){var i=this;e.forEach(function(e){e instanceof Circuits.BreadboardElementData&&e.parent().afterPaste(i,t)})}},function(e,t,i){var n=i(173),o=i(191),r=i(170).inherit;Circuits.PCBEditorModel=function(e){var t=this;this.makeVersioned(e),this.root=e,Circuits.AbstractEditorModel.apply(this,arguments),this.viewSmin=.002,this.viewSmax=.2,this.rotateAngle=45,this.layer=this.value("layer",null,!1,!0),this.layerPanel=this.value("layerPanel",!1,!1,!0),this.thickness=this.value("thickness",305,!1,!0),this.copper_trace_style=this.value("copper_trace_style",0,!1,!0),this.netWithAttention=this.value("netWithAttention",null,!0,!1),this.change_footprint_show=this.value("change_footprint_show",!1,!1,!0),this.change_footprint_device=this.value("change_footprint_device",null,!1,!0),this.viewPanel=this.value("viewPanel",!1,!1,!0),this.boardFilled=this.value("boardFilled",!1,!1,!0),this.gridInspector=this.value("gridInspector",!1,!1,!0),this.origin(this.root.circuit.pcbOrigin()),this.origin().editorModel=this,this.defaultWorkPlane(new o.BoundingBox(0,0,57150,53250)),this.changeLayer(Circuits.MetalLayers.TOP),this.lineStart=this.value("lineStart",null,!1,!0),this.lineEnd=this.value("lineEnd",null,!1,!0),this.disconnectedEndings=new n.HashMap,this.disconnectedEndingsPindown=new n.HashMap,this.tool.onChange("toolChange",function(){t.emptySelection()})},Circuits.PCBEditorModel.prototype=r(Circuits.AbstractEditorModel.prototype),Circuits.PCBEditorModel.prototype.constructor=Circuits.PCBEditorModel,jsonExtend(73,"PCBEditorModel",Circuits.PCBEditorModel),Circuits.PCBEditorModel.prototype.initialize=function(){var e=[this.root.circuit.silkscreen().elements,this.root.circuit.bottomsilk().elements];this.connectInteractionModel(Circuits.TextData,e,Circuits.TextInteractionModel),this.connectInteractionModel(Circuits.PathData,e,Circuits.PathInteractionModel),this.connectInteractionModel(Circuits.CircleData,e,Circuits.CircleInteractionModel),this.connectInteractionModel(Circuits.RectData,e,Circuits.RectInteractionModel)},Circuits.PCBEditorModel.prototype.getTraceSnapSet=function(e){function t(t,i){var n=new Circuits.SnapSet;return t.forEach?t.forEach(function(t){t.getPcbSnapSet?n.addAll(t.getPcbSnapSet(i,e)):n.addAll(t.getSnapSet(i,e))}):t.getPcbSnapSet?n.addAll(t.getPcbSnapSet(i,e)):n.addAll(t.getSnapSet(i,e)),n}var i=this,o=new n.HashSet;return o.add(this.origin()),o.addAll(i.getTraceElements(!0)),t(o,Circuits.SnapLineType.ROUTETO)},Circuits.PCBEditorModel.prototype.getTraceElements=function(e){return this.root.circuit.getAllTraceElements(e).collect(function(e){return e})},Circuits.PCBEditorModel.prototype.getInitialSnapSet=function(e){function t(e,t,i){return e.getPcbSnapSet?e.getPcbSnapSet(t,i):e.getSnapSet(t,i)}function i(e,i,n){var o=new Circuits.SnapSet;if(e.forEach)e.forEach(function(e){try{o.addAll(t(e,i,n))}catch(r){console.trace()}});else try{o.addAll(t(e,i,n))}catch(r){console.trace()}return o}var n,o,r=this;if(e)if(e.constructor===Circuits.RoutingSegmentData){var a=r.getTraceElements(!0);a=a.filter(function(e){return e.constructor===Circuits.RoutingSegmentData||e.constructor===Circuits.TerminalData}),a.add(this.origin());var s=a.removeAll(r.selection);n=i(s,Circuits.SnapLineType.ROUTETO,e.thickness()),o=i(e,Circuits.SnapLineType.FROM)}else s=r.getSnapElements().removeAll(r.selection),n=i(s,Circuits.SnapLineType.TO),o=i(e,Circuits.SnapLineType.FROM);else s=r.getSnapElements().removeAll(r.selection),n=i(s,Circuits.SnapLineType.TO),o=new Circuits.SnapSet;return{snapTo:n,snapFrom:o}},Circuits.PCBEditorModel.prototype.getSnapElements=function(){var e=new n.HashSet;return e.add(this.root.circuit.outline()),e.add(this.origin()),e.addAll(this.getFootprints()),e},Circuits.PCBEditorModel.prototype.getFootprints=function(){var e=this.layer()==Circuits.MetalLayers.TOP?1:-1;return this.root.circuit.getAllFootprints().filter(function(t){return!(!t||t.flip()!=e)})},Circuits.PCBEditorModel.prototype.afterMove=function(e,t){e&&t&&this.reconnectMovedElements(e,t),this.root.circuit.getAllTraceElements(!0).forEach(function(e){e.setMoved(!1)})},Circuits.PCBEditorModel.prototype.reconnectMovedElements=function(e,t){var i=this,o=new n.HashSet,r=new n.HashSet;i.root.circuit.getAllTraceElements(!0).forEach(function(e){e.hasMoved()&&o.add(e)});for(var a=!1;!o.empty()||!r.empty();){var s;switch(o.empty()?(s=r.pop(),a=!0):s=o.pop(),s.constructor){case Circuits.RoutingSegmentData:s.getEndings().forEach(function(i){if(!i.hasMoved())if(i.constructor===Circuits.SegmentPindownData)i.moveNoSnap(e);else if(i.constructor===Circuits.TerminalData||a&&i.constructor===Circuits.ViaData){var n,o=t.perp().dot(s.getDominantDir(i));if(o>0?n=s.getDominantDir(i).rotate(-45):0>o&&(n=s.getDominantDir(i).rotate(45)),0!=o){var c=s.getNet().newSegment(s.getThickness(),s.getLayer(),s.polySeg());c.point(i.getPcbPos().copy()),c.setDir(n),s.disconnectEnding(i),s.connect(c),i.connect(c)}}else i.constructor!==Circuits.ViaData||a||(i.moveNoSnap(e),r.add(i))});break;case Circuits.TerminalData:case Circuits.ViaData:var c=this.disconnectedEndingsPindown.get(s);c&&(this.disconnectedEndings.get(s).disconnectEnding(c),s.connect(this.disconnectedEndings.get(s)),i.disconnectedEndings.remove(s),i.disconnectedEndingsPindown.remove(s)),s.getEndings().forEach(function(e){if(!e.hasMoved())if(e.constructor===Circuits.RoutingSegmentData){var t=e.getPoint().copy();if(e.moveNoSnap(s.getPcbPos().sub(e.getPoint())))r.add(e);else{var n=c;n||(n=e.getNet().newPin(t)),s.disconnectEnding(e),e.connect(n),i.disconnectedEndings.put(s,e),i.disconnectedEndingsPindown.put(s,n)}}else s.constructor===Circuits.TerminalData&&e.constructor===Circuits.ViaData?Circuits.PCBEditorModel.reconnect2segs(e,s,s.getLayer()):s.constructor===Circuits.ViaData&&e.constructor===Circuits.TerminalData&&Circuits.PCBEditorModel.reconnect2segs(i,e,e.getLayer())})}}},Circuits.PCBEditorModel.reconnect2segs=function(e,t,i){var n=e.getNet(),o=e.gui,r=new Circuits.RoutingSegmentData(o.root,n.data,o.thickness,i),a=new Circuits.RoutingSegment(o,r),s=new Circuits.RoutingSegmentData(o.root,n.data,o.thickness,i),c=new Circuits.RoutingSegment(o,s);Circuits.PCBEditorStateMachine.setSegments(Circuits.PCBEditor.RoutingStyle.SR,e.getPoint(),t.getPos(),a,c),n.registerSegment(a),n.registerSegment(c),e.disconnectEnding(t),e.connect(a),a.connect(c),c.connect(t)},Circuits.PCBEditorModel.prototype.onElementClicked=function(){},Circuits.PCBEditorModel.prototype.onPanClick=function(){},Circuits.PCBEditorModel.prototype.onPanStop=function(){},Circuits.PCBEditorModel.prototype.onElementSelected=function(){},Circuits.PCBEditorModel.prototype.removeSelection=function(){var e=this.selection.copy();this.emptySelection(),e.forEach(function(e){void 0!==e.ripup&&e.ripup(),void 0!==e.remove&&e.constructor!=Circuits.PCBElementData&&e.remove()})},Circuits.PCBEditorModel.prototype.selectionRemovable=function(){if(0==this.selection.size())return!1;var e=!1;return this.selection.forEach(function(t){t.constructor===Circuits.RoutingSegmentData&&(e=!0)}),e},Circuits.PCBEditorModel.prototype.getSelectables=function(){var e=this,t=new n.HashSet;return t.addAll(e.getFootprints()),t.addAll(e.getTraceElements(!1).filter(function(e){return e.constructor!==Circuits.TerminalData})),t.addAll(e.getDrills(!1)),t.addAll(e.getSilkElements()),t},Circuits.PCBEditorModel.prototype.getSelectablesInBox=function(e){var t=this.getSelectables();return t.filter(function(t){return t.getPos().inBB(e)})},Circuits.PCBEditorModel.prototype.getDrills=function(e){return this.root.circuit.getAllDrills(e).collect(function(e){return e})},Circuits.PCBEditorModel.prototype.getBoundingBox=function(){var e=this.root.circuit.outline().boardBoundingBox();this.root.circuit.devices.forEach(function(t){var i=t.footprint&&t.footprint(),n=i&&i.getBoundingBox&&i.getBoundingBox();n&&(e=n.merge(e))});var t=this.root.circuit.silkscreen().boundingBox&&this.root.circuit.silkscreen().boundingBox();t&&(e=t.merge(e));var t=this.root.circuit.bottomsilk().getBoundingBox&&this.root.circuit.bottomsilk().getBoundingBox();return t&&(e=t.merge(e)),e},Circuits.PCBEditorModel.prototype.changeLayer=function(e){this.layer(e)},Circuits.PCBEditorModel.prototype.getSilkElements=function(){var e=new n.HashSet,t=this.layer()==Circuits.MetalLayers.TOP?this.root.circuit.silkscreen():this.root.circuit.bottomsilk();return this.interactionModels.forEach(function(i,n){n.data.parent()==t&&e.add(n)}),e},Circuits.PCBEditorModel.prototype.isCopyableElement=function(e){return e instanceof Circuits.CircleInteractionModel||e instanceof Circuits.RectInteractionModel||e instanceof Circuits.TextInteractionModel||e instanceof Circuits.PathInteractionModel||e instanceof Circuits.DrillData},Circuits.PCBEditorModel.prototype.afterPaste=function(e){var t,i,o,r=new n.HashMap;this.layer()==Circuits.MetalLayers.TOP?(t=this.root.circuit.silkscreen(),o=1,i=this.root.circuit.bottomsilk()):this.layer()==Circuits.MetalLayers.BOTTOM&&(t=this.root.circuit.bottomsilk(),o=-1,i=this.root.circuit.silkscreen()),e.forEach(function(e){if(e.data&&e.data.parent()==i){var n=e.data.clone();i.elements.removeValue(e.data),t.elements.push(n),n.flip&&n.flip(o),r.put(e,n.interactionModel)}}),r.forEach(function(t,i){e.remove(t),e.add(i)})}},function(e,t,i){var n=i(176).Versioned,o=i(178);Circuits.BezierInteractionOutlineModel=function(e,t){this.model=t,this.makeViewable(),this.makeVersioned(e),this.segments=this.list("segments",!0,!0),this.infocus=this.value("infocus",!1,!1,!0),1===arguments.length},extend(Circuits.BezierInteractionOutlineModel,o),extend(Circuits.BezierInteractionOutlineModel,n),jsonExtend(22,"BezierInteractionOutlineModel",Circuits.BezierInteractionOutlineModel),Circuits.BezierInteractionOutlineModel.prototype.initialize=function(){var e=this;this.model.points.forEach(function(t,i){var n=new Circuits.BezierSegmentData(e.root,i.previous(),i);e.segments.add(n,t)}),this.model.points.onAdd("model",function(t,i,n){var o=new Circuits.BezierSegmentData(e.root,n.previous(),n);e.segments.add(o,i),e.segments.remove(i+1);var r=new Circuits.BezierSegmentData(e.root,n,n.next());e.segments.add(r,i+1)},10),this.model.points.onRemove("model",function(t,i){e.segments.remove(i+1);var n=new Circuits.BezierSegmentData(e.root,t.get(i-1),t.get(i));e.segments.add(n,i+1),e.segments.remove(i)},10)}},function(e,t,i){i(684),i(685),i(689),i(695)},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.CircuitEditorStateMachine=function(e,t,i){var n=this;this.mode=e,this.root=t,this.type=t.circuit.circuit_type(),this.editorModel=this.root.editorModel,Circuits.StateMachine.call(this,this.editorModel.state,i),Circuits.GuiEvents.addEvents({SWITCH_TO_BREADBOARD:{id:"cir_0",name:"SWITCH_TO_BREADBOARD",isGuiButton:!0},SWITCH_TO_SCHEMATIC:{id:"cir_1",name:"SWITCH_TO_SCHEMATIC",isGuiButton:!0},SWITCH_TO_PCB:{id:"cir_2",name:"SWITCH_TO_PCB",isGuiButton:!0},SWITCH_TO_SETTINGS:{id:"cir_3",name:"SWITCH_TO_SETTINGS",isGuiButton:!0},SWITCH_TO_BOM:{id:"cir_4",name:"SWITCH_TO_BOM",isGuiButton:!0},SWITCH_TO_CIRCUITSCRIBE:{id:"cir_5",name:"SWITCH_TO_CIRCUITSCRIBE",isGuiButton:!0},COMPONENTS_BUTTON:{id:"cir_6",name:"COMPONENTS_BUTTON",isGuiButton:!0}}),this.setState("schematic"),"circuitscribe"==this.type?this.breadboardStateMachine=new Circuits.circuitScribeEditorStateMachine(e,t,this.type):this.breadboardStateMachine=new Circuits.BreadboardEditorStateMachine(e,t,this.type),this.append("breadboard_editing",this.breadboardStateMachine,"breadboard",null,"breadboard",null,"select"),this.schematicStateMachine=new Circuits.SchematicEditorStateMachine(e,t,this.type),this.append("schematic_editing",this.schematicStateMachine,"schematic",null,"schematic",null,"select"),this.pcbStateMachine=new Circuits.PCBEditorStateMachine(e,t,this.type),this.append("pcb_editing",this.pcbStateMachine,"pcb",null,"pcb",null,"select");var o=[{name:"breadboard",event:Circuits.GuiEvents.SWITCH_TO_BREADBOARD,hasUndoRedo:!0},{name:"schematic",event:Circuits.GuiEvents.SWITCH_TO_SCHEMATIC,hasUndoRedo:!0},{name:"pcb",event:Circuits.GuiEvents.SWITCH_TO_PCB,hasUndoRedo:!0},{name:"settings",event:Circuits.GuiEvents.SWITCH_TO_SETTINGS,hasUndoRedo:!1},{name:"bom",event:Circuits.GuiEvents.SWITCH_TO_BOM,hasUndoRedo:!1}];o.forEach(function(e){o.forEach(function(t){t!=e&&n.addTransition(t.name,e.name,function(t){return t.type()==e.event},function(t){circuitsGui.switchTo(e.name)})}),e.hasUndoRedo&&(n.addTransition(e.name,e.name,function(e){return e.type()==Circuits.GuiEvents.UNDO_BUTTON||e.isKeyPressed("C_z")},function(e){n.root.editorModel.breadboard().emptySelection(),n.root.editorModel.schematic().emptySelection(),n.root.editorModel.pcb().emptySelection(),n.root.undo()},"Undo "+e.name),n.addTransition(e.name,e.name,function(e){return e.type()==Circuits.GuiEvents.REDO_BUTTON||e.isKeyPressed("C_y")},function(e){n.root.editorModel.breadboard().emptySelection(),n.root.editorModel.schematic().emptySelection(),n.root.editorModel.pcb().emptySelection(),n.root.redo()},"Redo "+e.name)),n.addTransition(e.name,e.name,function(e){return e.type()==Circuits.GuiEvents.RECORDER_VIEW_BUTTON},function(e){n.root.editorModel.recorder_view_dialog(!n.root.editorModel.recorder_view_dialog())})}),o.forEach(function(e){n.addTransition(e.name,"breadboard",function(e){return e.type()==Circuits.GuiEvents.SWITCH_TO_CIRCUITSCRIBE},function(e){circuitsGui.switchTo("circuitscribe")})}),n.addTransition("settings","settings",function(e){return e.type()==Circuits.GuiEvents.CHANGE_NUMBER_OF_LAYERS},function(e){e.data("target_number_of_layers")<n.root.circuit.numberOfLayers()?confirm("Lowering the number of layers will delete all the routed traces in the removed inner layers!")&&n.root.circuit.numberOfLayers(e.data("target_number_of_layers")):n.root.circuit.numberOfLayers(e.data("target_number_of_layers"))}),["breadboard","schematic","pcb"].forEach(function(e){n.stateCollection.forEach(function(t,i){n.addTransition(i,i,function(t){return t.type()==Circuits.GuiEvents.HOLDER_RESIZE&&t.data("editor_type")==e},function(e){n.setHolderSize(e.data("editor_type"),e.data("width"),e.data("height"))}),n.addTransition(i,i,function(t){return t.type()==Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR&&t.data("editor_type")==e},function(e){var t=n.getEditorModel(e.data("editor_type"));t.zoomToFit()})})})},Circuits.CircuitEditorStateMachine.prototype=o(Circuits.StateMachine.prototype),Circuits.CircuitEditorStateMachine.prototype.constructor=Circuits.CircuitEditorStateMachine,Circuits.CircuitEditorStateMachine.prototype.addTabHotkeyTransitions=function(e){for(var t=this,i=0;i<e.length;i++){var n=e[i],o=e[(i+1)%e.length];!function(e,i){t.addTransition(e,i,function(e){return e.isKeyPressed("t")},function(){circuitsGui.switchTo(i)})}(n,o)}},Circuits.CircuitEditorStateMachine.prototype.afterHandle=function(e){this.root.runHeavies(["update_nets","update_ratsnest","rebuild_view"]),e.type()!=Circuits.GuiEvents.GUI_MOUSE_WHEEL&&e.type()!=Circuits.GuiEvents.GUI_MOUSE_MOVE&&e.type()!=Circuits.GuiEvents.TERMINAL_MOUSE_OVER&&e.type()!=Circuits.GuiEvents.TERMINAL_MOUSE_OUT&&e.type()!=Circuits.GuiEvents.NET_MOUSE_OVER&&e.type()!=Circuits.GuiEvents.NET_MOUSE_OUT&&window.ga&&window.ga("send","event",this.state(),e.type().name)},Circuits.CircuitEditorStateMachine.prototype.setHolderSize=function(e,t,i){var o=new n.BoundingBox(0,0,t,i),r=this.getEditorModel(e);r&&r.holderDimensions(o)},Circuits.CircuitEditorStateMachine.prototype.getEditorModel=function(e){switch(e){case"breadboard":return this.root.editorModel.breadboard();case"schematic":return this.root.editorModel.schematic();case"pcb":return this.root.editorModel.pcb()}}},function(e,t,i){i(686),i(687),i(688)},function(e,t,i){var n=i(170).inherit;Circuits.SchematicEditorStateMachine=function(e,t,i){var n=this;this.circuit=t.circuit,this.type=i;var o=t.editorModel.schematic();Circuits.AbstractEditorStateMachine.call(n,e,t,o,o.state),Circuits.GuiEvents.addEvents({REMOVENET_CLICK:{id:"sch_0",name:"REMOVENET_CLICK"},NET_MOUSE_DOWN:{id:"sch_1",name:"NET_MOUSE_DOWN"},NET_MOUSE_OVER:{id:"sch_2",name:"NET_MOUSE_OVER",isHoverAction:!0},NET_MOUSE_OUT:{id:"sch_3",name:"NET_MOUSE_OUT",isHoverAction:!0}}),this.setState("select"),this.connectingStateMachine=new Circuits.ConnectingStateMachine(t,this.editorModel),this.append("connecting",this.connectingStateMachine,"select",this.emptySelection,"select",null),this.addComponentStateMachine=new Circuits.SchematicAddComponentStateMachine(t,this.editorModel),this.append("adding",this.addComponentStateMachine,"select",null,"select",null),this.searchOverlayStateMachine=new Circuits.SearchOverlayStateMachine(t,this.editorModel),this.append("overlay_searching",this.searchOverlayStateMachine,"select",null,"select",null),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_OVER},function(e){netData=e.element(),n.editorModel.hasAttention(netData)}),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_OUT},function(e){var t=e.element();t!=n.editorModel.netWithAttention()&&n.editorModel.hasAttention(null)}),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_DOWN},function(e){var t=e.element();t==n.editorModel.netWithAttention()?n.editorModel.netWithAttention(null):n.editorModel.netWithAttention(t),n.editorModel.emptySelection()});var r=function(){n.editorModel.netWithAttention(null)};this.escapeTransition.addActionBefore(r),this.panningStateMachine.panStartTransition.addActionBefore(r),this.movingStateMachine.elementMouseDownTransition.addActionBefore(r),this.connectingStateMachine.startConnectingTransition.addActionBefore(r);var a=function(){n.editorModel.componentsOverlay(!1)};this.escapeTransition.addActionBefore(a),this.panningStateMachine.panClickTransition.addActionBefore(a),this.movingStateMachine.movingStartTransition.addActionBefore(a),this.connectingStateMachine.startConnectingTransition.addActionBefore(a),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.REMOVENET_CLICK},function(e){var t=e.element();n.root.rec(),t.disconnect(),n.root.stopRec()}),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.FLIP_HOR_BUTTON||e.isKeyPressed("S_f")},function(e){n.root.rec(),n.editorModel.onElementMovingStart(),n.editorModel.flipHorSelection(),n.editorModel.onElementMovingStop(),n.root.stopRec()},"Flip horizontal selection"),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.FLIP_VER_BUTTON||e.isKeyPressed("f")},function(e){n.root.rec(),n.editorModel.onElementMovingStart(),n.editorModel.flipVerSelection(),n.editorModel.onElementMovingStop(),n.root.stopRec()},"Flip vertical selection"),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.COMPONENTS_BUTTON||e.isKeyPressed("c")},function(e){n.editorModel.componentsOverlay(!n.editorModel.componentsOverlay())},"Components window hotkey"),("breadboard"==i||"circuitscribe"==i)&&(this.removeTransition("Delete selection"),this.removeTransition("Components window hotkey"))},Circuits.SchematicEditorStateMachine.prototype=n(Circuits.AbstractEditorStateMachine.prototype),Circuits.SchematicEditorStateMachine.prototype.constructor=Circuits.SchematicEditorStateMachine},function(e,t,i){var n=i(170).inherit;Circuits.ConnectingStateMachine=function(e,t){function i(e){n.addTransition("connecting","connecting",function(t){return t.isKeyPressed(e)},function(t){n.editorModel.newWireColor=n.editorModel.colorMap[e];n.preConnectLine(t)})}var n=this;if(this.root=e,this.editorModel=t,Circuits.StateMachine.call(this),this.zoomingStateMachine=new Circuits.ZoomingStateMachine(e,t),this.append("zooming",this.zoomingStateMachine,"connecting",null,"connecting",null),this.startTerminal=null,this.innerPoints=null,this.preConnectLine=function(e,t){var i=null;return n.startTerminal&&(params={startTerminal:n.startTerminal,mouseCoord:n.editorModel.toRealCoord(e.data("mouseCoord")),innerPoints:n.innerPoints,color:n.editorModel.newWireColor},n.editorModel.preConnectLine(params),i=params.mouseCoord),t&&(this.startTerminal=null,this.innerPoints=null),i},this.zoomingStateMachine.zoomCallback=this.preConnectLine,this.startConnectingTransition=this.addTransition("idle","mouse_down",function(e){return e.type()==Circuits.GuiEvents.TERMINAL_MOUSE_DOWN},function(e){n.startTerminal=e.element("terminal"),n.innerPoints=[]}),this.addTransition("mouse_down","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},null),this.addTransition("mouse_down","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){n.preConnectLine(e)}),this.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){n.preConnectLine(e)}),n.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_OVER},function(e){var t=e.element();n.editorModel.hasAttention(t)}),n.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_OUT},function(e){var t=e.element();t!=n.editorModel.netWithAttention()&&n.editorModel.hasAttention(null)}),this.addTransition("connecting","idle",function(e){return e.type()==Circuits.GuiEvents.TERMINAL_MOUSE_DOWN&&n.startTerminal!=e.element("terminal")},function(e){if(n.root.rec(),n.editorModel.preConnectLineIsPoly){var t=n.editorModel.makeConnection(n.startTerminal,e.element("terminal"),void 0,n.innerPoints,n.editorModel.newWireColor);t&&n.editorModel.selection.add(t.interactionModel)}else n.editorModel.makeConnection(n.startTerminal,e.element("terminal"));n.root.stopRec(),n.editorModel.preConnectLine(null,!0)}),this.addTransition("connecting","idle",function(e){return e.type()==Circuits.GuiEvents.NET_MOUSE_DOWN},function(e){n.root.rec(),n.editorModel.makeConnection(n.startTerminal,e.element()),n.root.stopRec(),n.editorModel.preConnectLine(null,!0),n.editorModel.hasAttention(null)}),this.editorModel.preConnectLineIsPoly){if(this.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN},function(e){var t=n.preConnectLine(e);n.innerPoints.push(t)}),this.addTransition("connecting","connecting",function(e){return e.isKeyPressed("delete","backspace")&&n.innerPoints.length>0},function(e){n.innerPoints.pop(),n.preConnectLine(e)}),this.addTransition("connecting","idle",function(e){return e.isKeyPressed("delete","backspace")&&0==n.innerPoints.length},function(e){n.editorModel.snap_info(null),n.editorModel.preConnectLine(null,!0),n.handle(e)}),n.editorModel.colorMap)for(var o in n.editorModel.colorMap)i(o)}else this.addTransition("connecting","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN},function(e){n.editorModel.snap_info(null),n.editorModel.preConnectLine(null,!0),n.handle(e)});this.addTransition("connecting","idle",function(e){return e.isKeyPressed("escape","C_y")},function(e){n.editorModel.snap_info(null),n.editorModel.preConnectLine(null,!0),n.handle(e)}),this.addTransition("connecting","idle",function(e){return e.isKeyPressed("C_z")||e.type()==Circuits.GuiEvents.UNDO_BUTTON||e.type()==Circuits.GuiEvents.REMOVE_BUTTON},function(e){n.editorModel.snap_info(null),n.editorModel.preConnectLine(null,!0)})},Circuits.ConnectingStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.ConnectingStateMachine.prototype.constructor=Circuits.ConnectingStateMachine},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.SchematicAddComponentStateMachine=function(e,t){var i=this;Circuits.MovingStateMachine.call(this,e,t),i.removeState("mouse_down"),i.addTransition("idle","moving",function(e){return e.type()==Circuits.GuiEvents.NODE_MOUSE_DOWN},function(e){i.startCoord=i.editorModel.toRealCoord(e.data("mouseCoord")),i.root.rec(),i.editorModel.emptySelection(),i.editorModel.selectionHandles.removeAll(),i.addComponent(e.data("did")),i.editorModel.selectionHandles.addAll(i.editorModel.selection.copy()),i.editorModel.snap_vec=new n.Coord(0,0);var t=i.editorModel.getInitialSnapSet();i.editorModel.snapTo=t.snapTo,i.editorModel.snapFrom=t.snapFrom,i.editorModel.deviceJustAdded(!0),i.editorModel.onElementMovingStart()}),i.addTransition("moving","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(e){i.cancelMoving(!0),i.handle(e)})},Circuits.SchematicAddComponentStateMachine.prototype=o(Circuits.MovingStateMachine.prototype),Circuits.SchematicAddComponentStateMachine.prototype.constructor=Circuits.SchematicAddComponentStateMachine,Circuits.SchematicAddComponentStateMachine.prototype.addComponent=function(e){var t=this,i=t.root.circuit.addDevice(t.root.deviceLib.getPackagedDeviceDescription(e));i.subdevice.forEach(function(e,i){t.editorModel.selection.add(i),i.pos(t.startCoord)})}},function(e,t,i){i(690),i(691),i(692),i(693),i(694)},function(e,t,i){var n=i(170).inherit,o=i(410),r=i(1).config;Circuits.BreadboardEditorStateMachine=function(e,t,i){function n(e){r.addTransition("select","select",function(t){return t.isKeyPressed(e)},function(t){r.editorModel.setWireSelectionColor(r.editorModel.colorMap[e])})}var r=this;this.circuit=t.circuit,this.type=i;var a=t.editorModel.breadboard();if(Circuits.AbstractEditorStateMachine.call(r,e,t,a,a.state),this.simulator=new o.InteractiveSimulator(t.circuit,r.editorModel.simulatorState,r.editorModel.simulatorTime,r.editorModel.simulatorSlowdown),Circuits.GuiEvents.addEvents({SIMULATOR_START:{id:"bbe_0",name:"SIMULATOR_START",isGuiButton:!0},SIMULATOR_STOP:{id:"bbe_1",name:"SIMULATOR_STOP",isGuiButton:!0},SIMULATOR_MOUSE_DOWN:{id:"bbe_2",name:"SIMULATOR_MOUSE_DOWN"},COMPILE_SUCCES:{id:"bbe_3",name:"COMPILE_SUCCES"},COMPILE_CODE_ERROR:{id:"bbe_4",name:"COMPILE_CODE_ERROR"},COMPILE_FAIL:{id:"bbe_5",name:"COMPILE_FAIL"},BUILDSIM_SUCCES:{id:"bbe_6",name:"BUILDSIM_SUCCES"},BUILDSIM_FAIL:{id:"bbe_7",name:"BUILDSIM_FAIL"},CODEEDITOR_BUTTON:{id:"bbe_8",name:"CODEEDITOR_BUTTON",isGuiButton:!0},POST_SERIAL_MESSAGE:{id:"bbe_9",name:"POST_SERIAL_MESSAGE"},DEBUG_PLAY:{id:"bbe_10",name:"DEBUG_PLAY"},DEBUG_STEP:{id:"bbe_11",name:"DEBUG_STEP"},DEBUG_SETBREAKPOINT:{id:"bbe_12",name:"DEBUG_SETBREAKPOINT"},DEBUG_REMOVEALLBREAKPOINTS:{id:"bbe_13",name:"DEBUG_REMOVEALLBREAKPOINTS"}}),this.setState("select"),this.connectingStateMachine=new Circuits.ConnectingStateMachine(r.root,r.editorModel),this.append("connecting",this.connectingStateMachine,"select",this.emptySelection,"select",null),this.addComponentStateMachine=new Circuits.BreadboardAddComponentStateMachine(this.root,r.editorModel),this.append("adding_component",this.addComponentStateMachine,"select",null,"select",null),this.searchOverlayStateMachine=new Circuits.SearchOverlayStateMachine(t,this.editorModel),this.append("overlay_searching",this.searchOverlayStateMachine,"select",null,"select",null),r.editorModel.colorMap)for(var s in r.editorModel.colorMap)n(s);r.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CODEEDITOR_BUTTON||e.isKeyPressed("e")},function(e){r.editorModel.codeEditorOverlay(!r.editorModel.codeEditorOverlay())},"Code editor window hotkey"),r.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.COMPONENTS_BUTTON||e.isKeyPressed("c")},function(e){r.editorModel.componentsOverlay(!r.editorModel.componentsOverlay())},"Components window hotkey");var c=function(){r.editorModel.componentsOverlay(!1),r.editorModel.codeEditorOverlay(!1),r.editorModel.CSfootprintOverlay(!1)};this.escapeTransition.addActionBefore(c),this.panningStateMachine.panClickTransition.addActionBefore(c),this.movingStateMachine.movingStartTransition.addActionBefore(c),this.connectingStateMachine.startConnectingTransition.addActionBefore(c),r.addTransition("select","compiling",function(e){return e.type()==Circuits.GuiEvents.SIMULATOR_START||e.isKeyPressed("s")},function(e){r.editorModel.componentsOverlay(!1),r.compile()},"Start compiling"),r.addTransition("compiling","select",function(e){return e.type()==Circuits.GuiEvents.SIMULATOR_STOP||e.type()==Circuits.GuiEvents.COMPILE_FAIL},function(e){r.editorModel.code_error(!1),r.simulator.stop()}),r.addTransition("compiling","select",function(e){return e.type()==Circuits.GuiEvents.COMPILE_CODE_ERROR},function(e){r.editorModel.codeEditorOverlay(!0),r.editorModel.code_error(!0),r.simulator.stop()}),r.addTransition("compiling","build",function(e){return e.type()==Circuits.GuiEvents.COMPILE_SUCCES},function(e){r.editorModel.code_error(!1),r.build_simulation_model()}),r.addTransition("build","select",function(e){return e.type()==Circuits.GuiEvents.BUILDSIM_FAIL},function(e){r.simulator.stop()}),r.addTransition("build","simulating",function(e){return e.type()==Circuits.GuiEvents.BUILDSIM_SUCCES},null),r.addTransition("simulating","select",function(e){return e.type()==Circuits.GuiEvents.SIMULATOR_STOP||e.isKeyPressed("s")},function(e){r.simulator.stop()}),r.addTransition("simulating","select",function(e){return e.type().isGuiButton&&!(e.type()==Circuits.GuiEvents.SIMULATOR_STOP||e.type()==Circuits.GuiEvents.CODEEDITOR_BUTTON)},function(e){r.simulator.stop(),r.handle(e)}),r.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.DEBUG_SETBREAKPOINT},function(e){var t=e.element().breadboard().dynamicModel,i=e.data("file")+":"+e.data("line");t.breakpoints.contains(i)?t.breakpoints.remove(i):t.breakpoints.add(i)}),r.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.DEBUG_REMOVEALLBREAKPOINTS},function(e){var t=e.element().breadboard().dynamicModel;t.breakpoints.removeAll()}),o.simulationStateMachines.forEach(function(e,t){var i=new t(r.root,r.editorModel,e);r.append(e,i,"simulating",null,"simulating",null)}),this.sim_zoomingStateMachine=new Circuits.ZoomingStateMachine(t,this.editorModel),this.append("sim_zooming",this.sim_zoomingStateMachine,"simulating",null,"simulating",null),this.sim_panningStateMachine=new Circuits.PanningStateMachine(t,this.editorModel),this.append("sim_panning",this.sim_panningStateMachine,"simulating",null,"simulating",null),this.sim_ComponentSelectStateMachine=new Circuits.ComponentSelectStateMachine(t,this.editorModel),this.append("sim_selecting",this.sim_ComponentSelectStateMachine,"simulating",null,"simulating",null),this.changingPropertyStateMachine=new Circuits.ChangingPropertyStateMachine(t,this.editorModel),this.append("sim_changing_property",this.changingPropertyStateMachine,"simulating",null,"simulating",null),r.addTransition("simulating","simulating",function(e){return e.isKeyPressed("escape","C_d")},r.emptySelection,"Escape pressed while simulating"),this.sim_panningStateMachine.panStartTransition.addActionBefore(this.emptySelection),r.addTransition("simulating","simulating",function(e){return e.type()==Circuits.GuiEvents.CODEEDITOR_BUTTON||e.isKeyPressed("e")},function(e){r.editorModel.codeEditorOverlay(!r.editorModel.codeEditorOverlay())},"Code editor window hotkey while simulating"),r.addTransition("simulating","simulating",function(e){return e.type()==Circuits.GuiEvents.DEBUG_PLAY&&r.editorModel.simulatorState()==o.states.PAUSED},function(e){var t=e.element().breadboard().dynamicModel;t["debugger"].play(),r.simulator.resume()}),r.addTransition("simulating","simulating",function(e){return e.type()==Circuits.GuiEvents.DEBUG_STEP&&r.editorModel.simulatorState()==o.states.PAUSED},function(e){var t=e.element().breadboard().dynamicModel;t["debugger"].step(),r.simulator.resume()}),r.addTransition("simulating","simulating",function(e){return e.type()==Circuits.GuiEvents.DEBUG_SETBREAKPOINT},function(e){var t=e.element().breadboard().dynamicModel,i=e.data("file"),n=e.data("line"),o=i+":"+n;if(t.breakpoints.contains(o))t["debugger"].removeBreakpoint(i,n),t.breakpoints.remove(o);else{var r=t["debugger"].setBreakpoint(i,n),a=i+":"+r;t.breakpoints.contains(a)||t.breakpoints.add(a)}}),r.addTransition("simulating","simulating",function(e){
return e.type()==Circuits.GuiEvents.DEBUG_REMOVEALLBREAKPOINTS},function(e){var t=e.element().breadboard().dynamicModel;t.breakpoints.removeAll()})},Circuits.BreadboardEditorStateMachine.prototype=n(Circuits.SchematicEditorStateMachine.prototype),Circuits.BreadboardEditorStateMachine.prototype.constructor=Circuits.BreadboardEditorStateMachine,Circuits.BreadboardEditorStateMachine.prototype.compile=function(){var e=this,t=[];e.circuit.devices.forEach(function(e){var i=e.breadboard().deviceModelClass;if(i&&i.programmable&&0==e.compiled_worker_url){e.compiler_guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)});var n=i.hardwareDefinition,o={compiler_guid:e.compiler_guid,type:"arduino",code:{"sketch.ino":e.getCode()},variant:n.variant,menu:n.menu,code_opt:$(".js-code_editor__breakpoints__codeOpt_checkbox").is(":checked")};t.push(o)}}),t.length>0?$.ajax({type:"POST",url:r.arduinoServerCompile,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),success:function(t){var i=new Circuits.GuiEvent;i.type(Circuits.GuiEvents.COMPILE_SUCCES),t.length>0?t.forEach(function(t){"success"==t.state?e.circuit.devices.forEach(function(e){e.breadboard().deviceModelClass&&e.breadboard().deviceModelClass.programmable&&e.compiler_guid==t.compiler_guid&&(e.compiled_worker_url=t.url,e.compiled_elf=JSON.parse(t.elf),e.compiled_error=!1)}):"error"==t.state?(e.circuit.devices.forEach(function(e){e.breadboard().deviceModelClass&&e.breadboard().deviceModelClass.programmable&&e.compiler_guid==t.compiler_guid&&(e.compiled_worker_url=!1,e.compiled_error=t.stderr)}),i.type(Circuits.GuiEvents.COMPILE_CODE_ERROR)):(circuitsGui.error("Compile Server Error","Unable to compile code for this circuit. <br><br>Please try again later or contact us if the problem persists."),i.type(Circuits.GuiEvents.COMPILE_FAIL))}):(circuitsGui.error("Compile Server Error","Unable to compile code for this circuit. <br><br>Please try again later or contact us if the problem persists."),i.type(Circuits.GuiEvents.COMPILE_FAIL)),e.handle(i)},error:function(t){circuitsGui.error("Connection Error","Unable to contact the code compilation service. <br><br>Please try again later or contact us if the problem persists."),e.handle(Circuits.GuiEvents.COMPILE_FAIL)}}):setTimeout(function(){e.handle(Circuits.GuiEvents.COMPILE_SUCCES)},250)},Circuits.BreadboardEditorStateMachine.prototype.build_simulation_model=function(){var e=new Circuits.GuiEvent;try{this.simulator.buildModel(),this.simulator.start(),e.type(Circuits.GuiEvents.BUILDSIM_SUCCES),this.handle(e)}catch(t){var i=this.mode==Circuits.GuiMode.EDIT?JSON.stringify(this.root.shareJsDoc.snapshot):"";if(Circuits.logError("Simulator build error",t,i),t.constructor==o.throwSimException?circuitsGui.error("Simulation Start Error","We are very sorry but this circuit can not be simulated (yet)."):circuitsGui.error("Simulation Start Error","An unexpected simulator error occurred, please reload the page and try again ..."),e.type(Circuits.GuiEvents.BUILDSIM_FAIL),this.handle(e),this.DEBUG)throw t}}},function(e,t,i){var n=i(191),o=i(170).inherit,r=i(170).base_url;Circuits.BreadboardAddComponentStateMachine=function(e,t){var i=this;Circuits.MovingStateMachine.call(this,e,t),i.removeState("mouse_down"),i.addTransition("idle","moving",function(e){return e.type()==Circuits.GuiEvents.NODE_MOUSE_DOWN},function(e){i.startCoord=i.editorModel.toRealCoord(e.data("mouseCoord")),i.root.rec(),i.editorModel.emptySelection(),i.editorModel.selectionHandles.removeAll(),"starter"==e.data("type")?i.addStarterCircuit(e.data("did")):i.addComponent(e.data("did")),i.editorModel.selectionHandles.addAll(i.editorModel.selection.copy()),i.editorModel.snap_vec=new n.Coord(0,0);var t=i.editorModel.getInitialSnapSet();i.editorModel.snapTo=t.snapTo,i.editorModel.snapFrom=t.snapFrom,i.editorModel.deviceJustAdded(!0),i.editorModel.onElementMovingStart()}),i.addTransition("moving","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(e){i.cancelMoving(!0),i.handle(e)})},Circuits.BreadboardAddComponentStateMachine.prototype=o(Circuits.MovingStateMachine.prototype),Circuits.BreadboardAddComponentStateMachine.prototype.constructor=Circuits.BreadboardAddComponentStateMachine,Circuits.BreadboardAddComponentStateMachine.prototype.addComponent=function(e){var t=this,i=t.root.circuit.addDevice(t.root.deviceLib.getPackagedDeviceDescription(e));cSite&&cSite.analytics&&cSite.analytics.log("add-component",""+e+"-"+i.description.device.name),i.breadboard().pos(t.startCoord),t.editorModel.selection.add(i.breadboard())},Circuits.BreadboardAddComponentStateMachine.prototype.addStarterCircuit=function(e){var t=this;$.ajax({type:"GET",url:r+"/circuits/"+e+".json",dataType:"json",context:t,async:!1,success:function(i){cSite&&cSite.analytics&&(i.name?cSite.analytics.log("add-starter",""+e+"-"+i.name):cSite.analytics.log("add-starter",""+e)),t.addCircuitFromJSON(i)},error:function(){}})},Circuits.BreadboardAddComponentStateMachine.prototype.addCircuitFromJSON=function(e){var t,i=this,n={};for(t in e.devices){var o=e.devices[t],r=o.properties,a=i.root.circuit.addDevice(i.root.deviceLib.getPackagedDeviceDescription(o.did),r);for(var s in o.terminals){var c=o.terminals[s];n[c.$id]=a.getTerminalBBID(c.bbid)}a.breadboard().pos(i.startCoord.add(o.breadboard.pos)),a.breadboard().setAngle(o.breadboard.angle),i.editorModel.selection.add(a.breadboard()),o.device=a}for(t in e.wires){var l=e.wires[t],d=n[l.begin.$idref],u=n[l.end.$idref],h=new Circuits.BendableWireData(i.root,d,u,!1,l.color);if(l.objects){var p=1;l.objects.slice(1,-1).forEach(function(e){h.addPoint(i.startCoord.add(e.endpoint),p++)})}i.root.circuit.wires.add(h),i.editorModel.selection.add(h)}}},function(e,t,i){var n=i(170).inherit;Circuits.ComponentSelectStateMachine=function(e,t){var i=this;Circuits.MovingStateMachine.call(this,e,t),i.removeState("moving")},Circuits.ComponentSelectStateMachine.prototype=n(Circuits.MovingStateMachine.prototype),Circuits.ComponentSelectStateMachine.prototype.constructor=Circuits.ComponentSelectStateMachine},function(e,t,i){var n=i(170).inherit;Circuits.circuitScribeEditorStateMachine=function(e,t,i){var n=this;Circuits.BreadboardEditorStateMachine.call(n,e,t,i),Circuits.GuiEvents.addEvents({CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN:{id:"cse_0",name:"CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN"},CIRCUITSCRIBE_FOOTPRINT_BUTTON:{id:"cse_1",name:"CIRCUITSCRIBE_FOOTPRINT_BUTTON",isGuiButton:!0},CIRCUITSCRIBE_VIEW_BUTTON:{id:"cse_2",name:"CIRCUITSCRIBE_VIEW_BUTTON",isViewAction:!0},CIRCUITSCRIBE_TOGGLE_VIEW:{id:"cse_3",name:"CIRCUITSCRIBE_TOGGLE_VIEW",isViewAction:!0},CIRCUITSCRIBE_TOGGLE_PAPER:{id:"cse_4",name:"CIRCUITSCRIBE_TOGGLE_PAPER",isViewAction:!0},CIRCUITSCRIBE_TOGGLE_PRINT_INSPECTOR:{id:"cse_5",name:"CIRCUITSCRIBE_TOGGLE_PRINT_INSPECTOR",isGuiButton:!0},CIRCUITSCRIBE_DOWNLOAD_PDF:{id:"cse_6",name:"CIRCUITSCRIBE_DOWNLOAD_PDF",isGuiButton:!0}}),n.addTransition("select","eink",function(e){return e.type()==Circuits.GuiEvents.SET_TOOL&&"eink"==e.data("tool")},function(e){n.editorModel.tool("eink")}),n.addTransition("eink","select",function(e){return e.type()==Circuits.GuiEvents.SET_TOOL&&"eink"==e.data("tool")||e.isKeyPressed("space","escape")},function(e){n.editorModel.tool("select")}),n.addTransition("eink","select",function(e){return e.type().isGuiButton&&e.type()!=Circuits.GuiEvents.SET_TOOL||e.isKeyPressed("C_z","C_y","c")||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element("subelement")&&e.element("subelement").constructor==Circuits.PathSegmentModel},function(e){n.editorModel.tool("select"),n.handle(e)}),this.pathStateMachine=new Circuits.EInkPathStateMachine(t,n.editorModel,Circuits.EinkPathData,n.root.circuit.eink().elements),this.panToNexState=this.pathStateMachine.getStateObj("pan_to_next"),this.append("einking",this.pathStateMachine,"eink",this.emptySelection,"eink",null),["select","simulating","eink",this.panToNexState].forEach(function(e){n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_VIEW_BUTTON||e.isKeyPressed("v")},function(e){n.editorModel.circuitscribe_view_dialog(!n.editorModel.circuitscribe_view_dialog())}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_VIEW},function(e){var t="sketch"==n.editorModel.circuitscribe_view()?"wireframe":"sketch";n.editorModel.circuitscribe_view(t)}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_PAPER},function(e){n.root.rec();var t=n.circuit.breadboardpaper();t.visible(!t.visible()),n.root.stopRec()})}),this.eink_zoomingStateMachine=new Circuits.ZoomingStateMachine(t,this.editorModel),this.append("eink_zooming",this.eink_zoomingStateMachine,"eink",null,"eink",null),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_FOOTPRINT_BUTTON},function(e){n.editorModel.CSfootprintOverlay(!n.editorModel.CSfootprintOverlay())},"Circuit Scribe footprint dialog"),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_PRINT_INSPECTOR},function(e){var t=n.circuit.breadboardpaper(),i=t.selected;n.root.rec(),t.visible(!0),n.root.stopRec(),n.editorModel.emptySelection(),0==i&&n.editorModel.selection.add(t)}),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_DOWNLOAD_PDF},function(e){n.root.rec();var t=n.circuit.breadboardpaper();t.visible(!0),n.root.stopRec(),n.circuitscribe_print(t)})},Circuits.circuitScribeEditorStateMachine.prototype=n(Circuits.BreadboardEditorStateMachine.prototype),Circuits.circuitScribeEditorStateMachine.prototype.constructor=Circuits.circuitScribeEditorStateMachine,Circuits.circuitScribeEditorStateMachine.prototype.circuitscribe_print=function(e){var t=.254,i=e.width(),n=e.height(),o=$(".js-circuitscribe-download-pdf"),r=this.root.circuit.to_circuitscribe_printable_svg(i,n);$(".js-circuitscribe-download-pdf-svgdata",o).val(r),$(".js-circuitscribe-download-pdf-doc_width",o).val(Math.round(i*t)),$(".js-circuitscribe-download-pdf-doc_height",o).val(Math.round(n*t)),o.submit()}},function(e,t,i){var n=i(179),o=i(170).inherit;Circuits.EInkPathStateMachine=function(e,t,i,o){var r=this;Circuits.PathStateMachine.call(this,e,t,i,o,null,Circuits.PathPointMode.SMOOTH),this.devices_needing_footprint=new n.HashSet,this.element_mouse_down_transition_idle.condition=function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&!e.data("isEinkPad")&&e.element("subelement")&&e.element("subelement").constructor!=Circuits.PathSegmentModel},this.element_mouse_down_transition_pan_to_next.condition=function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&!e.data("isEinkPad")&&e.element("subelement")&&e.element("subelement").constructor!=Circuits.PathSegmentModel},this.element_mouse_down_transition_just_added_point.condition=function(e){var t=(new Date).getTime();return(e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&!e.data("isEinkPad"))&&t-r.timestamp_previous<500},r.addTransition("idle","just_added_point",function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.data("isEinkPad")},function(e){var t=e.element("terminal");r.root.rec(),r.devices_needing_footprint.add(t.parent()),r.start_terminal=t,r.startNewPath(t.getBreadboardPos())}),r.addTransition("pan_to_next","idle",function(e){return e.type()==Circuits.GuiEvents.CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.data("isEinkPad")},function(e){var t=e.element("terminal");r.editorModel.snap_info(null),r.moveToCoord(t.getBreadboardPos()),r.devices_needing_footprint.add(t.parent()),r.start_terminal==t&&r.currentPath.objects.size()<=2&&(r.currentPath.remove(),r.devices_needing_footprint=new n.HashSet),r.stopDrawing(),r.root.stopRec()})},Circuits.EInkPathStateMachine.prototype=o(Circuits.PathStateMachine.prototype),Circuits.EInkPathStateMachine.prototype.constructor=Circuits.EInkPathStateMachine,Circuits.EInkPathStateMachine.prototype.stopDrawing=function(){this.currentPath.setEditingState(!1),this.addFootprints(),this.devices_needing_footprint=new n.HashSet},Circuits.EInkPathStateMachine.prototype.addFootprints=function(e){var t=this;t.devices_needing_footprint.forEach(function(e){if("circuitscribe_module"===e.breadboard().getDescription().symbol_type&&!t.editorModel.hasFootprint(e)){var i=e.getDescription().device.circuitscribe_footprint_id,n=t.root.circuit.addDevice(t.root.deviceLib.getPackagedDeviceDescription(i));n.breadboard().pos(e.breadboard().pos()),n.breadboard().angle(e.breadboard().angle()),n.breadboard().flip(e.breadboard().flip()),n.breadboard().rotate(e.getDescription().device.circuitscribe_footprint_rotation)}})}},function(e,t,i){i(696),i(697),i(698),i(699),i(700)},function(e,t,i){var n=i(170).inherit,o=i(190);Circuits.PCBEditorStateMachine=function(e,t,i){var n=this;this.circuit=t.circuit,this.type=i;var o=t.editorModel.pcb();Circuits.AbstractEditorStateMachine.call(n,e,t,o,o.state),Circuits.GuiEvents.addEvents({DRAWINGAIDS_BUTTON:{id:"pcb_0",name:"DRAWINGAIDS_BUTTON",isViewAction:!0},LAYERS_BUTTON:{id:"pcb_1",name:"LAYERS_BUTTON",isViewAction:!0},CHANGE_LAYER:{id:"pcb_2",name:"CHANGE_LAYER"},CHANGE_NUMBER_OF_LAYERS:{id:"pcb_3",name:"CHANGE_NUMBER_OF_LAYERS"},CHANGE_FOOTPRINT_CLICK:{id:"pcb_4",name:"CHANGE_FOOTPRINT_CLICK",isGuiButton:!0},CHANGE_FOOTPRINT_ELEMENT:{id:"pcb_5",name:"CHANGE_FOOTPRINT_ELEMENT"},CHANGE_COPPER_TRACE_WIDTH:{id:"pcb_6",name:"CHANGE_COPPER_TRACE_WIDTH"},CHANGE_COPPER_TRACE_CORNER:{id:"pcb_7",name:"CHANGE_COPPER_TRACE_CORNER"},DRAWINGAIDS_TOGGLE_GRID:{id:"pcb_8",name:"DRAWINGAIDS_TOGGLE_GRID"},DRAWINGAIDS_TOGGLE_BOARD:{id:"pcb_9",name:"DRAWINGAIDS_TOGGLE_BOARD"},DRAWINGAIDS_SHOW_BOARD_SETTINGS:{id:"pcb_10",name:"DRAWINGAIDS_SHOW_BOARD_SETTINGS"},DRAWINGAIDS_TOGGLE_GRID_INSPECTOR:{id:"pcb_11",name:"DRAWINGAIDS_TOGGLE_GRID_INSPECTOR"}}),this.setState("select");var r=new Circuits.CopperTraceStateMachine(t,this.editorModel);this.append("copper_tracing",r,"trace",this.emptySelection,"trace",null);var a=new Circuits.CopperPourTraceStateMachine(t,this.editorModel);this.append("copper_pouring",a,"poly",this.emptySelection,"poly",null);var s=function(){return 0==n.editorModel.layer()?n.root.circuit.silkscreen().elements:1==n.editorModel.layer()?n.root.circuit.bottomsilk().elements:null},c=function(){return 0==n.editorModel.layer()?{font:"pcbfont",fontSize:4233,flip:1,fill:!1,strokeWidth:250}:1==n.editorModel.layer()?{font:"pcbfont",fontSize:4233,flip:-1,fill:!1,strokeWidth:250}:null},l=new Circuits.TextStateMachine(t,this.editorModel,s,c);this.append("tool_text",l,"text",this.emptySelection,"text",null);var d=new Circuits.PathStateMachine(t,this.editorModel,Circuits.PathData,s,c);this.append("tool_path",d,"path",this.emptySelection,"path",null);var u=new Circuits.CircleStateMachine(t,this.editorModel,s,c);this.append("tool_circle",u,"circle",this.emptySelection,"circle",null);var h=new Circuits.RectStateMachine(t,this.editorModel,s,c);this.append("tool_rectangle",h,"rect",this.emptySelection,"rect",null);var p=new Circuits.ThermalViaStateMachine(t,this.editorModel);this.append("tool_via",p,"via",this.emptySelection,"via",null);var g=new Circuits.PCBAddDrillStateMachine(t,this.editorModel);this.append("tool_drillhole",g,"drillhole",this.emptySelection,"drillhole",null);var m=["trace","poly","text","path","circle","rect","via","drillhole"];m.forEach(function(e){var i=new Circuits.ZoomingStateMachine(t,n.editorModel);if(n.append(e+"_zooming",i,e,null,e,null),n.addTransition("select",e,function(t){return t.type()==Circuits.GuiEvents.SET_TOOL&&t.data("tool")==e},function(e){n.editorModel.tool(e.data("tool")),n.editorModel.change_footprint_show()&&n.editorModel.change_footprint_show(!1)}),n.addTransition(e,"select",function(e){return e.type()==Circuits.GuiEvents.SET_TOOL},function(t){n.editorModel.snap_info(null),n.editorModel.tool("select"),t.data("tool")!=e&&n.handle(t)}),n.addTransition(e,"select",function(e){return e.isKeyPressed("escape")},function(e){n.editorModel.tool("select")}),n.addTransition(e,"select",function(e){return e.type().isGuiButton&&e.type()!=Circuits.GuiEvents.SET_TOOL||e.isKeyPressed("C_z","C_y")},function(e){n.editorModel.tool("select"),n.handle(e)}),["trace","poly","via"].indexOf(e)>=0){var o=new Circuits.PanningStateMachine(t,n.editorModel);n.append(e+"_panning",o,e,null,e,null),o.panClickTransition.addActionAfter(function(){var e=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL);e.data("tool","select"),n.handle(e)})}else n.addTransition(e,"select",function(e){return e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN},function(e){n.editorModel.tool("select"),n.handle(e)})});var f=m;f.push("select"),f.push(r.getStateObj("connecting")),f.push(a.getStateObj("connecting")),f.push(p.getStateObj("moving")),f.push(l.getStateObj("moving")),f.forEach(function(e){n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.DRAWINGAIDS_BUTTON||e.isKeyPressed("v")},function(e){n.editorModel.viewPanel(!n.editorModel.viewPanel())}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.LAYERS_BUTTON||e.isKeyPressed("l")},function(e){n.editorModel.layerPanel(!n.editorModel.layerPanel())}),n.getStateObj(e).hasChangeLayerTransition||n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.CHANGE_LAYER},function(e){var t=e.data("layer");n.editorModel.changeLayer(t)}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_GRID},function(e){n.root.rec(),n.editorModel.origin().grid_show(!n.editorModel.origin().grid_show()),n.root.stopRec()}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_GRID_INSPECTOR},function(e){n.editorModel.gridInspector(!n.editorModel.gridInspector())}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_BOARD},function(e){n.editorModel.boardFilled(!n.editorModel.boardFilled())}),n.addTransition(e,e,function(e){return e.type()==Circuits.GuiEvents.DRAWINGAIDS_SHOW_BOARD_SETTINGS},function(e){n.circuit.outline().toggleInFocus()})}),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CHANGE_FOOTPRINT_CLICK},function(e){n.editorModel.change_footprint_show()||(n.editorModel.change_footprint_device(e.element()),n.editorModel.change_footprint_show(!0))},"Change footprint"),n.addTransition("select","select",function(e){return e.type()==Circuits.GuiEvents.CHANGE_FOOTPRINT_ELEMENT},function(e){n.root.rec(),n.editorModel.change_footprint_device().changeFootprint(e.data("footprint_id")),n.root.stopRec(),n.editorModel.change_footprint_show()&&n.editorModel.change_footprint_show(!1)},"Change footprint element"),this.panningStateMachine.panStartTransition.addActionBefore(function(){n.editorModel.change_footprint_show()&&n.editorModel.change_footprint_show(!1)})},Circuits.PCBEditorStateMachine.prototype=n(Circuits.AbstractEditorStateMachine.prototype),Circuits.PCBEditorStateMachine.prototype.constructor=Circuits.PCBEditorStateMachine,Circuits.PCBEditorStateMachine.setSegments=function(e,t,i,n,r){var a=t.x-i.x,s=t.y-i.y;if(n.point(t),r.point(i),e==Circuits.PCBEditor.RoutingStyle.SR||e==Circuits.PCBEditor.RoutingStyle.RS){var c,l;e==Circuits.PCBEditor.RoutingStyle.SR?(c=n,l=r):(c=r,l=n),a>0?s>0?c.direction(new o.Coord(1,1)):c.direction(new o.Coord(1,-1)):s>0?c.direction(new o.Coord(-1,1)):c.direction(new o.Coord(-1,-1)),Math.abs(a)>Math.abs(s)?a>0?l.direction(new o.Coord(1,0)):l.direction(new o.Coord(-1,0)):s>0?l.direction(new o.Coord(0,1)):l.direction(new o.Coord(0,-1))}else e==Circuits.PCBEditor.RoutingStyle.HV?(n.direction(new o.Coord(1,0)),r.direction(new o.Coord(0,1))):e==Circuits.PCBEditor.RoutingStyle.VH&&(r.direction(new o.Coord(1,0)),n.direction(new o.Coord(0,1)));n.setMoved(!0),r.setMoved(!0)}},function(e,t,i){var n=i(170).inherit,o=i(190);Circuits.CopperPourTraceStateMachine=function(e,t){this.root=e,this.editorModel=t,this.style=Circuits.PCBEditor.RoutingStyle.SR,Circuits.StateMachine.call(this);var i=new Circuits.ZoomingStateMachine(e,t);this.append("zooming",i,"connecting",null,"connecting",null),this.addTransitions()},Circuits.CopperPourTraceStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.CopperPourTraceStateMachine.prototype.constructor=Circuits.CopperPourTraceStateMachine,Circuits.CopperPourTraceStateMachine.prototype.addTransitions=function(){var e=this;e.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_CORNER},function(t){var i=t.data("corner");e.style=i,e.editorModel.copper_trace_style(i)}),e.addTransition("idle","idle",function(e){return e.isKeyPressed("space")},function(t){var i=e.style+1;i>=4&&(i=0),e.style=i,e.editorModel.copper_trace_style(i)}),e.addTransition("idle","ending_mouse_down",function(e){return e.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element().constructor===Circuits.RoutingSegmentData&&!e.data("shiftKey")},function(t){e.startEnding=t.element(),e.startCoord=e.startEnding.closestPointTo(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.layer(t.element().getLayer()),e.startLayer=e.editorModel.layer()}),e.addTransition("idle","ending_mouse_down",function(e){return e.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element("subelement")&&e.element("subelement").constructor===Circuits.TerminalData},function(t){e.startEnding=t.element("subelement"),e.startCoord=e.startEnding.getPcbPos(),e.startLayer=e.editorModel.layer()}),e.addTransition("ending_mouse_down","connecting",function(t){if(t.type()!=Circuits.GuiEvents.GUI_MOUSE_UP)return!1;var i=e.startEnding.getNet();if(null===i)return!1;var n=i.getHighestNet();return n.isTopNet()?!0:!1},function(t){e.root.rec(),e.editorModel.snapTo=e.editorModel.getTraceSnapSet(e.editorModel.thickness()),e.elMovingEnabled=!1,e.netData=e.startEnding.getNet().getHighestNet(),e.editorModel.netWithAttention(e.netData),e.previousEnding=e.startEnding,e.endCoord=e.startCoord,e.seg0Data=e.netData.newSegment(e.editorModel.thickness(),e.startLayer,!0),e.seg0Data.dummy(!0),e.seg1Data=e.netData.newSegment(e.editorModel.thickness(),e.startLayer,!0),e.seg1Data.dummy(!0),e.segStartData=e.netData.newPin(e.startCoord),e.segEndData=e.netData.newPin(e.endCoord),e.previousEnding.connect(e.segStartData),e.seg0Data.connect(e.segStartData),e.previousEnding.connect(e.seg0Data),e.seg0Data.connect(e.seg1Data),e.seg1Data.connect(e.segEndData),e.segEndData.pos(e.endCoord),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,e.endCoord,e.seg0Data,e.seg1Data)}),e.addTransition("ending_mouse_down","idle",function(t){if(t.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN){var i=e.startEnding.getNet();if(null===i)return!0;var n=i.getHighestNet();if(!n.isTopNet())return!0}return!1},function(e){}),e.addTransition("ending_mouse_down","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE?!0:!1},function(t){e.totalLength-=e.seg0Data.length()+e.seg1Data.length(),e.endCoord=e.editorModel.snapPoint(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.segEndData.setPoint(e.endCoord),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,e.endCoord,e.seg0Data,e.seg1Data)}),e.addTransition("connecting","connecting",function(e){if(e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==e.data("which")){if(e.element().constructor==Circuits.PCBElementData){if(e.element("subelement").constructor==Circuits.TerminalData)var t=e.element("subelement")}else t=e.element();if(!t||!t.isTraceElement)return!0}return!1},function(t){e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.snap_info(null)}),e.addTransition("connecting","connecting",function(t){if(t.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==t.data("which")){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();if(i&&i.isTraceElement){var n=i.getNet();if(n&&!n.isTopNet()&&(n=n.getTopNet),n!=e.netData||!i.polySeg||!i.polySeg()||i.layerIndex()!==e.startLayer)return!0}}return!1},function(t){e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.snap_info(null)}),e.addTransition("connecting","idle",function(t){if(t.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==t.data("which")){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();if(i&&i.isTraceElement){var n=i.getNet();if(n&&!n.isTopNet()&&(n=n.getTopNet),n==e.netData&&i.polySeg&&i.polySeg()&&i.layerIndex()===e.startLayer)return!0}}return!1},function(t){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();if(i.constructor===Circuits.TerminalData){var n=new o.Coord(i.getPcbX(),i.getPcbY());e.segEndData.setPoint(n),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,n,e.seg0Data,e.seg1Data)}e.seg1Data.connect(i,e.segEndData.getPoint()),e.seg0Data.dummy(!1),e.seg1Data.dummy(!1),e.seg1Data.layerIndex(e.startLayer),e.seg0Data=null,e.seg1Data=null,e.netData.trymerge(),e.netData.cleanup(),e.editorModel.netWithAttention(null),e.root.stopRec(),e.editorModel.snap_info(null)}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&1==e.data("which")?!0:!1},function(t){e.previousEnding=e.seg0Data,e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord")))}),e.addTransition("connecting","idle",function(e){return e.isKeyPressed("escape")?!0:!1},function(t){e.cancelRouting()}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_CORNER?!0:!1},function(t){e.changeCornerType(t.data("corner"))}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&3==e.data("which")?!0:!1},function(t){e.cycleCornerType()}),e.addTransition("connecting","connecting",function(e){return e.isKeyPressed("space")},function(t){e.cycleCornerType()}),e.addTransition("connecting","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(t){e.cancelRouting(),e.handle(t)})},Circuits.CopperPourTraceStateMachine.prototype.changeCornerType=function(e){this.totalLength-=this.seg0Data.length()+this.seg1Data.length(),this.style=e,this.editorModel.copper_trace_style(e),this.segEndData.setPoint(this.endCoord),Circuits.PCBEditorStateMachine.setSegments(this.style,this.startCoord,this.endCoord,this.seg0Data,this.seg1Data)},Circuits.CopperPourTraceStateMachine.prototype.cycleCornerType=function(){var e=this,t=e.style+1;t>=4&&(t=0),e.changeCornerType(t)},Circuits.CopperPourTraceStateMachine.prototype.advanceRouting=function(e){var t=this.seg0Data.endPoint(this.seg1Data),i=this.netData.newPin(t);this.seg0Data.dummy(!1),this.seg0Data.connect(i),this.seg1Data.connect(i);var n=this.netData.newSegment(this.editorModel.thickness(),this.startLayer,!0);this.seg1Data.connect(n),this.seg1Data.disconnectEnding(this.segEndData),n.connect(this.segEndData),this.startCoord=t,this.segStart=i,this.seg0Data=this.seg1Data,this.seg1Data=n,this.seg1Data.dummy(!0),this.style==Circuits.PCBEditor.RoutingStyle.RS?this.style=Circuits.PCBEditor.RoutingStyle.SR:this.style==Circuits.PCBEditor.RoutingStyle.SR?this.style=Circuits.PCBEditor.RoutingStyle.RS:this.style==Circuits.PCBEditor.RoutingStyle.HV?this.style=Circuits.PCBEditor.RoutingStyle.VH:this.style==Circuits.PCBEditor.RoutingStyle.VH&&(this.style=Circuits.PCBEditor.RoutingStyle.HV),this.segEndData.setPoint(e),Circuits.PCBEditorStateMachine.setSegments(this.style,this.startCoord,e,this.seg0Data,this.seg1Data)},Circuits.CopperPourTraceStateMachine.prototype.cancelRouting=function(){this.totalLength-=this.seg0Data.length()+this.seg1Data.length(),this.seg1Data.ripup(),this.seg0Data.ripup(),this.state("idle"),this.parent.panEnabled=!0,this.parent.elMovingEnabled=!0,this.netData.trymerge(),this.netData.cleanup(),this.root.stopRec(),this.editorModel.netWithAttention(null),this.editorModel.snap_info(null)},Circuits.CopperPourTraceStateMachine.prototype.afterHandle=function(){}},function(e,t,i){var n=i(170).inherit,o=i(190);Circuits.CopperTraceStateMachine=function(e,t){this.root=e,this.editorModel=t,this.drawPolygon=!1,this.style=Circuits.PCBEditor.RoutingStyle.SR,Circuits.StateMachine.call(this);var i=new Circuits.ZoomingStateMachine(e,t);this.append("zooming",i,"connecting",null,"connecting",null),this.addTransitions()},Circuits.CopperTraceStateMachine.prototype=n(Circuits.StateMachine.prototype),Circuits.CopperTraceStateMachine.prototype.constructor=Circuits.CopperTraceStateMachine,Circuits.CopperTraceStateMachine.prototype.addTransitions=function(){var e=this;e.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_WIDTH},function(t){var i=parseInt(t.data("width"));e.editorModel.thickness(i)}),e.addTransition("idle","idle",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_CORNER},function(t){var i=t.data("corner");e.style=i,e.editorModel.copper_trace_style(i)}),e.addTransition("idle","idle",function(e){return e.isKeyPressed("space")},function(t){var i=e.style+1;i>=4&&(i=0),e.style=i,e.editorModel.copper_trace_style(i)}),e.addTransition("idle","ending_mouse_down",function(e){return e.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element().constructor===Circuits.RoutingSegmentData&&!e.data("shiftKey")},function(t){e.startEnding=t.element(),e.startCoord=e.startEnding.closestPointTo(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.layer(t.element().getLayer())}),e.addTransition("idle","ending_mouse_down",function(e){return e.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element("subelement")&&e.element("subelement").constructor===Circuits.TerminalData},function(t){e.startFromTerminalOrVia(t.element("subelement"))}),e.addTransition("idle","ending_mouse_down",function(e){return e.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&e.element()&&e.element().constructor===Circuits.ViaData},function(t){e.startFromTerminalOrVia(t.element())}),e.addTransition("ending_mouse_down","idle",function(t){if(t.type()===Circuits.GuiEvents.ELEMENT_MOUSE_DOWN){var i=e.startEnding.getNet();if(null===i)return!0;var n=i.getHighestNet();if(!n.isTopNet())return!0}return!1},null),e.addTransition("ending_mouse_down","connecting",function(t){if(t.type()!=Circuits.GuiEvents.GUI_MOUSE_UP)return!1;var i=e.startEnding.getNet();if(null===i)return!1;var n=i.getHighestNet();return n.isTopNet()?!0:!1},function(t){e.root.rec(),e.editorModel.snapTo=e.editorModel.getTraceSnapSet(e.editorModel.thickness()),e.elMovingEnabled=!1,e.netData=e.startEnding.getNet().getHighestNet(),e.editorModel.netWithAttention(e.netData),e.previousEnding=e.startEnding,e.endCoord=e.editorModel.snapPoint(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.seg0Data=e.netData.newSegment(e.editorModel.thickness(),e.editorModel.layer(),e.drawPolygon),e.seg0Data.dummy(!0),e.seg1Data=e.netData.newSegment(e.editorModel.thickness(),e.editorModel.layer(),e.drawPolygon),e.seg1Data.dummy(!0),e.segStartData=e.netData.newPin(e.startCoord),e.segEndData=e.netData.newPin(e.endCoord),e.previousEnding.connect(e.segStartData),e.seg0Data.connect(e.segStartData),e.previousEnding.connect(e.seg0Data),e.seg0Data.connect(e.seg1Data),e.seg1Data.connect(e.segEndData),e.segEndData.pos(e.endCoord),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,e.endCoord,e.seg0Data,e.seg1Data);
}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(t){e.totalLength-=e.seg0Data.length()+e.seg1Data.length(),e.endCoord=e.editorModel.snapPoint(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.segEndData.setPoint(e.endCoord),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,e.endCoord,e.seg0Data,e.seg1Data)}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.CHANGE_LAYER},function(t){var i=t.data("layer");e.changeLayer(i)}),e.getStateObj("connecting").hasChangeLayerTransition=!0,e.addTransition("connecting","connecting",function(t){for(var i=e.root.circuit.number_of_layers(),n=[],o=1;i>=o;o++)n.push(o.toString());return t.isKeyPressed(n)},function(t){var i=parseInt(t.data("keyCode"))-1;i>=0&&i<e.root.circuit.number_of_layers()&&e.changeLayer(i)}),e.addTransition("connecting","connecting",function(e){if(e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==e.data("which")){if(e.element().constructor==Circuits.PCBElementData){if(e.element("subelement").constructor==Circuits.TerminalData)var t=e.element("subelement")}else t=e.element();if(!t||!t.isTraceElement)return!0}return!1},function(t){e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.snap_info(null)}),e.addTransition("connecting","connecting",function(t){if(t.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==t.data("which")){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();if(i&&i.isTraceElement){var n=i.getNet();if(n&&!n.isTopNet()&&(n=n.getTopNet),n!=e.netData||!(!e.drawPolygon||i.polySeg&&i.polySeg()&&i.layerIndex()===e.editorModel.layer()))return!0}}return!1},function(t){e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord"))),e.editorModel.snap_info(null)}),e.addTransition("connecting","idle",function(t){if(t.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==t.data("which")){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();if(i&&i.isTraceElement){var n=i.getNet();if(n&&!n.isTopNet()&&(n=n.getTopNet),n==e.netData&&(!e.drawPolygon||i.polySeg&&i.polySeg()&&i.layerIndex()===e.editorModel.layer()))return!0}}return!1},function(t){if(t.element().constructor==Circuits.PCBElementData){if(t.element("subelement").constructor==Circuits.TerminalData)var i=t.element("subelement")}else i=t.element();var n=i.getNet();n&&!n.isTopNet()&&(n=n.getTopNet);var r=e.editorModel.layer();if(i.constructor===Circuits.TerminalData){var a=new o.Coord(i.getPcbX(),i.getPcbY());e.segEndData.setPoint(a),Circuits.PCBEditorStateMachine.setSegments(e.style,e.startCoord,a,e.seg0Data,e.seg1Data),i.hasLayer(e.editorModel.layer())||(i.hasLayer(0)?r=0:i.hasLayer(1)&&(r=1))}e.seg1Data.connect(i,e.segEndData.getPoint()),e.seg0Data.dummy(!1),e.seg1Data.dummy(!1),e.seg1Data.layerIndex(r),e.seg0Data=null,e.seg1Data=null,e.netData.trymerge(),e.netData.cleanup(),e.editorModel.layer(r),e.editorModel.netWithAttention(null),e.root.stopRec(),e.editorModel.snap_info(null)}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&3==e.data("which")?!0:!1},function(t){e.cycleCornerType()}),e.addTransition("connecting","connecting",function(e){return e.isKeyPressed("space")},function(t){e.cycleCornerType()}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN&&1==e.data("which")?!0:!1},function(t){e.previousEnding=e.seg0Data,e.advanceRouting(e.editorModel.toRealCoord(t.data("mouseCoord")))}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_WIDTH?!0:!1},function(t){var i=parseInt(t.data("width"));e.editorModel.thickness(i),e.seg0Data.setThickness(i),e.seg1Data.setThickness(i)}),e.addTransition("connecting","connecting",function(e){return e.type()==Circuits.GuiEvents.CHANGE_COPPER_TRACE_CORNER},function(t){e.changeCornerType(t.data("corner"))}),e.addTransition("connecting","idle",function(e){return e.isKeyPressed("escape")?!0:!1},function(t){e.cancelRouting()}),e.addTransition("connecting","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(t){e.cancelRouting(),e.handle(t)})},Circuits.CopperTraceStateMachine.prototype.changeCornerType=function(e){this.totalLength-=this.seg0Data.length()+this.seg1Data.length(),this.style=e,this.editorModel.copper_trace_style(e),this.segEndData.setPoint(this.endCoord),Circuits.PCBEditorStateMachine.setSegments(this.style,this.startCoord,this.endCoord,this.seg0Data,this.seg1Data)},Circuits.CopperTraceStateMachine.prototype.cycleCornerType=function(){var e=this,t=e.style+1;t>=4&&(t=0),e.changeCornerType(t)},Circuits.CopperTraceStateMachine.prototype.advanceRouting=function(e){var t=this.seg0Data.endPoint(this.seg1Data),i=this.netData.newPin(t);this.seg0Data.dummy(!1),this.seg0Data.connect(i),this.seg1Data.connect(i);var n=this.netData.newSegment(this.editorModel.thickness(),this.editorModel.layer(),this.drawPolygon);this.seg1Data.connect(n),this.seg1Data.disconnectEnding(this.segEndData),n.connect(this.segEndData),this.startCoord=t,this.segStart=i,this.seg0Data=this.seg1Data,this.seg1Data=n,this.seg1Data.dummy(!0),this.style==Circuits.PCBEditor.RoutingStyle.RS?this.style=Circuits.PCBEditor.RoutingStyle.SR:this.style==Circuits.PCBEditor.RoutingStyle.SR?this.style=Circuits.PCBEditor.RoutingStyle.RS:this.style==Circuits.PCBEditor.RoutingStyle.HV?this.style=Circuits.PCBEditor.RoutingStyle.VH:this.style==Circuits.PCBEditor.RoutingStyle.VH&&(this.style=Circuits.PCBEditor.RoutingStyle.HV),this.segEndData.setPoint(e),Circuits.PCBEditorStateMachine.setSegments(this.style,this.startCoord,e,this.seg0Data,this.seg1Data)},Circuits.CopperTraceStateMachine.prototype.cancelRouting=function(){this.totalLength-=this.seg0Data.length()+this.seg1Data.length(),this.seg1Data.ripup(),this.seg0Data.ripup(),this.state("idle"),this.parent.panEnabled=!0,this.parent.elMovingEnabled=!0,this.netData.trymerge(),this.netData.cleanup(),this.root.stopRec(),this.editorModel.netWithAttention(null),this.editorModel.snap_info(null)},Circuits.CopperTraceStateMachine.prototype.afterHandle=function(){},Circuits.CopperTraceStateMachine.prototype.startFromTerminalOrVia=function(e){var t=this;t.startEnding=e,t.startCoord=t.startEnding.getPcbPos(),t.drawPolygon||t.startEnding.hasLayer(t.editorModel.layer())||(t.startEnding.hasLayer(0)?t.editorModel.layer(0):t.startEnding.hasLayer(1)&&t.editorModel.layer(1))},Circuits.CopperTraceStateMachine.prototype.changeLayer=function(e){var t=this;t.seg0Data.layerIndex(e),t.seg1Data.layerIndex(e),t.seg0Data.connect(t.segStartData),t.previousEnding.connect(t.segStartData),t.netData&&(t.netData.cleanup(),t.netData.trymerge()),t.editorModel.changeLayer(e)}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.PCBAddDrillStateMachine=function(e,t){var i=this;Circuits.MovingStateMachine.call(this,e,t),i.removeState("mouse_down"),i.addTransition("idle","moving",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN},function(e){var t=i.editorModel.toRealCoord(e.data("mouseCoord"));i.addPCBDrill(t)})},Circuits.PCBAddDrillStateMachine.prototype=o(Circuits.MovingStateMachine.prototype),Circuits.PCBAddDrillStateMachine.prototype.constructor=Circuits.PCBAddDrillStateMachine,Circuits.PCBAddDrillStateMachine.prototype.addPCBDrill=function(e){var t=this;t.root.rec();var i=t.root.circuit.addDrill(100,"mil");i.moveNoSnap(e),t.editorModel.emptySelection(),t.editorModel.selection.add(i),t.editorModel.selectionHandles.removeAll(),t.editorModel.selectionHandles.add(i),t.startCoord=e,t.editorModel.snap_vec=new n.Coord(0,0);var o=t.editorModel.getInitialSnapSet(i);t.editorModel.snapTo=o.snapTo,t.editorModel.snapFrom=o.snapFrom},Circuits.PCBAddDrillStateMachine.prototype.cancelMoving=function(e){Circuits.MovingStateMachine.prototype.cancelMoving.call(this,e),this.editorModel.emptySelection()}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.ThermalViaStateMachine=function(e,t){var i=this;i.net=null,Circuits.MovingStateMachine.call(i,e,t),i.removeState("mouse_down"),i.addTransition("idle","select_net_mouse_down",function(e){if(e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN&&1==e.data("which")){var t=i.getNet(e);if(t)return i.net=t,!0}return!1},function(e){i.startCoord=i.editorModel.toRealCoord(e.data("mouseCoord"))}),i.addTransition("select_net_mouse_down","moving",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_UP},function(e){i.root.rec();var t=i.net.newVia(i.editorModel.toRealCoord(e.data("mouseCoord")),Circuits.fab.viaMinEndsize(),!0);i.editorModel.emptySelection(),i.editorModel.selection.add(t),i.editorModel.selectionHandles.removeAll(),i.editorModel.selectionHandles.add(t),i.editorModel.snap_vec=new n.Coord(0,0);var o=i.editorModel.getInitialSnapSet();i.editorModel.snapTo=o.snapTo,i.editorModel.snapFrom=o.snapFrom}),i.addTransition("select_net_mouse_down","idle",function(e){return e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE},function(e){}),i.addTransition("select_net_mouse_down","idle",function(e){return e.isKeyPressed("escape")},function(e){i.cancelMoving(!0)}),i.addTransition("moving","idle",function(e){return e.type().isGuiButton||e.isKeyPressed("C_z","C_y")},function(e){i.cancelMoving(!0),i.handle(e)})},Circuits.ThermalViaStateMachine.prototype=o(Circuits.MovingStateMachine.prototype),Circuits.ThermalViaStateMachine.prototype.constructor=Circuits.ThermalViaStateMachine,Circuits.ThermalViaStateMachine.prototype.getNet=function(e){return e.element("subelement")&&e.element("subelement").constructor===Circuits.TerminalData?e.element("subelement").getNet()?e.element("subelement").getNet():null:e.element().constructor==Circuits.RoutingSegmentData||e.element().constructor==Circuits.ViaData?e.element().getNet():null}},function(e,t,i){i(702),i(703),i(704),i(705)},function(e,t){window.Circuits=window.Circuits||{},Circuits.API=function(){var e=this;this.registeredFunctions={},window.addEventListener("message",function(t){t.data.name&&e.registeredFunctions.hasOwnProperty(t.data.name)&&e.registeredFunctions[t.data.name](t.data.data)},!1)},Circuits.API.prototype.registerAPI=function(e,t){this.registeredFunctions[e]=t},Circuits.API.prototype.setStateMachine=function(e){this.stateMachine=e},"undefined"!=typeof window&&(window.circuitsAPI=new Circuits.API),Circuits.APIClient=function(e,t){this.otherWindow=e,this.targetOrigin=t},Circuits.APIClient.prototype.post=function(e,t){var i={name:e,data:t};this.otherWindow.postMessage(i,this.targetOrigin)}},function(e,t,i){window.Circuits=window.Circuits||{};var n=i(131);Circuits.ModalDialog=function(e,t,i,o){var r=this;$(e).append(n.modal_dialog),this.$dialog=$(".editor__modal__container",e),$(".editor__modal__top__close,.editor__modal__background",this.$dialog).click(function(e){r.close()}),this.configure(t,i,o)},Circuits.ModalDialog.prototype.configure=function(e,t,i){i&&(this.callback=i),this.title(e),this.setBody(t)},Circuits.ModalDialog.prototype.close=function(){this.$dialog.remove(),this.callback&&this.callback()},Circuits.ModalDialog.prototype.title=function(e){return $(".editor__modal__top__title",this.$dialog).text(e)},Circuits.ModalDialog.prototype.setBody=function(e){var t=this,i=$(".editor__modal__body",this.$dialog);i.children().remove(),e&&e.forEach(function(e,n){var o=e.frame?"editor__modal__block__frame":0===n?"editor__modal__block__top":"editor__modal__block";e["class"]&&(o+=" "+e["class"]);var r=$('<div class="'+o+'"></div>');if(i.append(r),e.title&&r.append('<p class="editor__modal__block__header">'+e.title+"</p>"),e.description&&r.append('<div class="editor__modal__block__description">'+e.description+"</div>"),e.buttons){var a="";e.buttonsClass&&(a+=" "+e.buttonsClass);var s=$('<div class="'+a+'"></div>');r.append(s),e.buttons.forEach(function(e){if(e.custom)var i=$(e.custom);else{var n="btn btn--m btn--none_base_borders";e["class"]&&(n+=" "+e["class"]);var i=$('<button class="'+n+'" target="_blank">'+e.text+"</button>")}s.append(i),e.action&&i.click(function(){e.action(),e.close&&t.close()})})}e.custom&&r.append(e.custom)})}},function(e,t){!function(e,t,i){var n;if(e.check_for_rendered=function(i){t(".rendered").length&&(console.log("Render init"),t("body").css("background","none"),t("#breadboardTab").css("background","none"),t("#schematicTab").css("background","none"),t("#pcbTab").css("background","none"),t("#circuitscribeTab").css("background","none"),t(".editor").css("top","0"),i.pcbEditor&&(i.pcbEditor.drcFlag=!1,i.pcbEditor.reLoadData()),t(".loading").length&&t(".loading").remove(),t(".viewer--circuits").length&&t(".viewer--circuits").removeClass("viewer--circuits"),t("#bomTab").length&&t("#bomTab").remove(),t(".js-sitemenu").length&&t(".js-sitemenu").remove(),t(".controls").length&&t(".controls").remove(),t(".js-error-message").length&&t(".js-error-message").remove(),window.onhashchange=function(){e.focus_one_at_the_time()},e.focus_one_at_the_time(),n=setTimeout(function(){console.log("--- CIRCUIT LOADED ---")},5e3),0===i.schematicEditor.workersMutex&&(console.log("--- CIRCUIT LOADED ---"),clearTimeout(n)))},t(".footprintRenderHolder").length){t("body").css("background","none");var o=JSON.parse(t(".footprint_json").text()),r=new Circuits.FootprintEditor(null,t(".footprintRenderHolder"),{},Circuits.GuiMode.RENDER);r.loadFootprint(o),r.zoomToFit(),test=r,console.log("--- CIRCUIT LOADED ---")}if(t(".symbolRenderHolder").length){t("body").css("background","none");var o=JSON.parse(t(".schematic_symbol_json").text()),a=new Circuits.DeviceEditor(null,t(".symbolRenderHolder"),{noLabels:!0},Circuits.GuiMode.RENDER);a.loadSymbol(o),a.zoomBox(a.data.devices.getIndex(0).subdevice.getIndex(0).schematicView.bbox()),test=a,console.log("--- CIRCUIT LOADED ---")}e.focus_one_at_the_time=function(){switch(t("#breadboardTab").hide(),t("#schematicTab").hide(),t("#pcbTab").hide(),t("#circuitscribeTab").hide(),document.location.hash){case"#circuitscribe":t("#circuitscribeTab").show();break;case"#breadboard":t("#breadboardTab").show();break;case"#schematic":t("#schematicTab").show();break;case"#pcb":t("#pcbTab").show()}t(".circuitsDialog").length&&t(".circuitsDialog").remove()}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,n){var o=n(3);!function(e,t,n){e.template_helper={embedded_svg:function(e){var t=e.replace(/-/g,"_").replace(".svg","");return o[t]},params:function(e){var t=window.location.href.split(/[\?&]+/);for(i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return null},link_to_s3_file:function(e,t){return""==e?"":-1!=e.indexOf("http://")||-1!=e.indexOf("https://")?e:t?"https://s3-us-west-1.amazonaws.com/123d-circuits-"+t+"/"+e:"https://s3-us-west-1.amazonaws.com/123d-circuits-assets/"+e},image_tag:function(e){var t=e[0],i=e[1],n='<img src="'+t+'" ';return Object.keys(i).forEach(function(e){n+=" "+e+'="'+i[e]+'"'}),n+=">"}},e.template=function(t,i){i=i||{};var n=_.template(t);return i=_.extend(i,e.template_helper),n(i)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(707),i(708),i(709),i(716),i(726),i(731),i(750),i(776),i(778)},function(e,t,i){var n=i(131),o=i(179),r=i(191),a=i(187).shareJsIncoming,s=i(170).base_url,c=i(3);Circuits.GuiMode={VIEW:0,EDIT:1,MAP:2,RENDER:3},Circuits.CircuitEditor=function(e,t,i,o,a){var s=this;this.guiholder=e,this.mode=t,this.root=i,this.data=i.circuit,this.type=i.circuit.circuit_type(),this.stateMachine=o,this.app=a,this.template(n.circuit_editor,".js-editor--circuit"),"breadboard"==this.type&&this.template(n.breadboard,".js-tpl-target__breadboard"),this.template(n.bom,".js-tpl-target__bom"),this.template(n.dialogue,".js-tpl-target__dialogue"),this.template(n.error,".js-tpl-target__error"),this.schematicTab=$("#schematicTab",e),this.pcbTab=$("#pcbTab",e),this.breadboardTab=$("#breadboardTab",e),this.circuitscribeTab=$("#circuitscribeTab",e),this.activeEditors=[],window.gui=s,Modernizr.svg&&Modernizr.webworkers&&Modernizr.hashchange&&Modernizr.cssanimations||circuitsGui.warning("We're sorry!","123D Circuits uses a lot of the new shiny features of modern browsers<br><br>The following operating systems and browser are known to work well with 123D Circuits<br><br><a href='http://www.microsoft.com' target='_blank'>Windows 7</a> (or newer) <br><a href='http://www.apple.com/' target='_blank'>Mac OSX 10.6</a> (or newer)<br><br>In combination with the latest <a href='https://www.google.com/intl/en/chrome/browser/' target='_blank'>Google Chrome</a>","browser support"),window.unsavedChanges=!1,window.onbeforeunload=function(){return window.unsavedChanges?"There could be unsaved changes!":void 0},$(".loading").length&&circuitsGui.addCurtains();var c;c=t==Circuits.GuiMode.VIEW?n.menu_view:t==Circuits.GuiMode.EDIT?n.menu_edit:t==Circuits.GuiMode.MAP?n.menu_map:n.menu_render,c&&this.template(c,".js-tpl-target__menu"),t==Circuits.GuiMode.EDIT&&("breadboard"==this.type&&this.template(n.menu_sub_breadboard,".js-tpl-target__menu_sub"),"circuitscribe"==this.type&&this.template(n.menu_sub_circuitscribe,".js-tpl-target__menu_sub"),this.template(n.menu_sub_schematic,".js-tpl-target__menu_sub"),this.template(n.menu_sub_pcb,".js-tpl-target__menu_sub"),this.template(n.menu_sub_other,".js-tpl-target__menu_sub"));var l=$(".js-sitemenu__logo");l.click(function(e){s._generatingThumb||(s._generatingThumb=!0,e.preventDefault(),s.app.uploadThumbnails(function(){s._generatingThumb=!1,window.document.location=l[0].href}))}),this.circuitGui=new circuitsGui.CircuitGui(this),s.chatGui=new circuitsGui.chat(s,n.chat,".js-tpl-target__chat",".js-chat__toggle"),s.pcbLayersGui=new circuitsGui.layers(s,n.layers,".js-tpl-target__layers",".js-layers__toggle"),s.drawing_aids=new circuitsGui.drawing_aids(s,n.drawing_aids,".js-tpl-target__drawing_aids",".js-drawing_aids__toggle"),"circuitscribe"==s.type&&(s.circuitscribeView=new circuitsGui.circuitscribe_view(s,n.circuitscribe_view,".js-tpl-target__circuitscribe_view",".js-circuitscribe_view__toggle")),s.code_editor=new circuitsGui.code_editor(s,n.code_editor,".js-tpl-target__code_editor",".js-code_editor__textarea");for(var d={},u=window.location.search.substring(1),h=u.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if("undefined"==typeof d[g[0]])d[g[0]]=decodeURIComponent(g[1]);else if("string"==typeof d[g[0]]){var m=[d[g[0]],decodeURIComponent(g[1])];d[g[0]]=m}else d[g[0]].push(decodeURIComponent(g[1]))}d.lessonid&&(s.instructables_lesson=new circuitsGui.instructables_lesson({id:d.lessonid,step:d.step,project:d.projectid,collection:d.collectionid},n.instructables_lesson,".js-tpl-target__ignite_lesson")),s.startEditors(),circuitsGui.switchTo("schematic"),this.switchToPage(),s.root.editorModel.connection.onChange("view",function(e,t,i){"saving"==i?s.connection_status.status_saving():"ok"==i?s.connection_status.status_ok():"error"==i?s.connection_status.status_error():"failed"==i&&s.connection_status.status_failed(),window.ga&&window.ga("send","event","EDITOR_CONNECTION_STATE",i)},10),s.mouseCoord=new r.Coord(0,0),this.mode===Circuits.GuiMode.EDIT&&this.addKeyBindings(),circuitsGui.openCurtains()},extend(Circuits.CircuitEditor,Circuits.AbstractView),Circuits.CircuitEditor.prototype.startEditors=function(){var e=this;if("breadboard"===this.type){this.component_search=this.createSearchOverlay("component",n.add_component,"breadboard",Circuits.GuiEvents.COMPONENTS_BUTTON,[{ref:"basic-components",template:n.components_search_results,filter:{collection:"basic_components",type:"breadboard"}},{ref:"basic-components-list",template:n.all_search_results,filter:{collection:"basic_components",type:"breadboard"}},{ref:"all-components",template:n.components_search_results,filter:{collection:"all_components",type:"breadboard"}},{ref:"all-components-list",template:n.all_search_results,filter:{collection:"all_components",type:"breadboard"}},{ref:"starter-circuits",template:n.components_search_results,filter:{collection:"starter_circuits",type:"breadboard"}},{ref:"starter-circuits-list",template:n.all_search_results,filter:{collection:"starter_circuits",type:"breadboard"}}],{base_url:s}),this.breadboardTab.empty(),this.breadboardEditor=new Circuits.BreadboardEditor(this,this.breadboardTab,this.mode,this.root,this.stateMachine),this.schematicTab.empty(),this.schematicEditor=new Circuits.SchematicBreadboardEditor(this,this.schematicTab,this.mode,this.root,this.stateMachine),this.pcbTab.empty(),this.pcbEditor=new Circuits.PCBEditor(this,this.pcbTab,this.mode,this.root,this.stateMachine),this.pcbEditor.setOutlineVisible(!0),this.breadboardEditor.resize(),this.schematicEditor.resize(),this.pcbEditor.resize(),this.breadboardEditor.loadData(),this.schematicEditor.loadData(),this.pcbEditor.loadData();var t=new Circuits.GuiEvent;t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","breadboard"),e.stateMachine.handle(t),t=new Circuits.GuiEvent,t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","schematic"),e.stateMachine.handle(t),t=new Circuits.GuiEvent,t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","pcb"),e.stateMachine.handle(t),this.activeEditors.push(this.breadboardEditor),this.activeEditors.push(this.schematicEditor),this.activeEditors.push(this.pcbEditor)}else if("schematic"===this.type||"classic"===this.type||null===this.type||"mesh_pcb"==this.type)this.component_search=this.createSearchOverlay("component",n.add_component,"schematic",Circuits.GuiEvents.COMPONENTS_BUTTON,[{ref:"123d-components",template:n.components_search_results,filter:{collection:"schematic_devices",type:"schematic"}},{ref:"all-components",template:n.all_search_results,filter:{type:"schematic"}},{ref:"my-components",template:n.all_search_results,filter:{type:"schematic",user:"current_user"}}]),this.schematicTab.empty(),this.schematicEditor=new Circuits.SchematicEditor(this,this.schematicTab,this.mode,this.root,this.stateMachine),this.pcbTab.empty(),this.pcbEditor=new Circuits.PCBEditor(this,this.pcbTab,this.mode,this.root,this.stateMachine),this.pcbEditor.setOutlineVisible(!0),this.schematicEditor.resize(),this.pcbEditor.resize(),this.schematicEditor.loadData(),this.pcbEditor.loadData(),t=new Circuits.GuiEvent,t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","schematic"),e.stateMachine.handle(t),t=new Circuits.GuiEvent,t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","pcb"),e.stateMachine.handle(t),this.activeEditors.push(this.schematicEditor),this.activeEditors.push(this.pcbEditor);else if("circuitscribe"===this.type){this.component_search=this.createSearchOverlay("component",n.circuitscribe_add_component,"circuitscribe",Circuits.GuiEvents.COMPONENTS_BUTTON,[{ref:"all-modules",template:n.circuitscribe_all_components_search_results,filter:{collection:"circuitscribe_all_modules",type:"breadboard"}},{ref:"power",template:n.circuitscribe_all_components_search_results,filter:{collection:"circuitscribe_power",type:"breadboard"}},{ref:"input",template:n.circuitscribe_all_components_search_results,filter:{collection:"circuitscribe_input",type:"breadboard"}},{ref:"connect",template:n.circuitscribe_all_components_search_results,filter:{collection:"circuitscribe_connect",type:"breadboard"}},{ref:"output",template:n.circuitscribe_all_components_search_results,filter:{collection:"circuitscribe_output",type:"breadboard"}}]),this.template_search=this.createSearchOverlay("circuitscribe_footprint",n.circuitscribe_add_footprint,"circuitscribe",Circuits.GuiEvents.CIRCUITSCRIBE_FOOTPRINT_BUTTON,[{ref:"circuitscribe-footprints",template:n.circuitscribe_all_footprints_search_results,filter:{collection:"circuitscribe_footprints",type:"breadboard"}}]),this.circuitscribeTab.empty(),this.circuitscribeEditor=new Circuits.BreadboardEditor(this,this.circuitscribeTab,this.mode,this.root,this.stateMachine),this.schematicTab.empty(),this.schematicEditor=new Circuits.SchematicBreadboardEditor(this,this.schematicTab,this.mode,this.root,this.stateMachine),this.circuitscribeEditor.resize(),this.schematicEditor.resize(),this.circuitscribeEditor.loadData(),this.schematicEditor.loadData();var t=new Circuits.GuiEvent;t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","breadboard"),e.stateMachine.handle(t),t=new Circuits.GuiEvent,t.type(Circuits.GuiEvents.ZOOM_TO_FIT_EDITOR),t.data("editor_type","schematic"),e.stateMachine.handle(t),this.activeEditors.push(this.circuitscribeEditor),this.activeEditors.push(this.schematicEditor)}this.root.runHeavies(this.root.heavy_order)},Circuits.CircuitEditor.prototype.switchToPage=function(e){var t=new Circuits.GuiEvent;if(!e)switch(this.type){case"breadboard":e="#breadboard";break;case"classic":case"schematic":e="#schematic";break;case"circuitscribe":e="#circuitscribe"}switch("#"!=e[0]&&(e="#"+e),e){case"#breadboard":t.type(Circuits.GuiEvents.SWITCH_TO_BREADBOARD);break;case"#schematic":t.type(Circuits.GuiEvents.SWITCH_TO_SCHEMATIC);break;case"#pcb":t.type(Circuits.GuiEvents.SWITCH_TO_PCB);break;case"#circuitscribe":t.type(Circuits.GuiEvents.SWITCH_TO_CIRCUITSCRIBE);break;case"#bom":Circuits.CircuitEditor.bomRender(this.bomGui,this.data.devices),t.type(Circuits.GuiEvents.SWITCH_TO_BOM);break;case"#settings":t.type(Circuits.GuiEvents.SWITCH_TO_SETTINGS)}t.type&&this.stateMachine.handle(t)},Circuits.CircuitEditor.bomRender=function(e,t){e.showLoading(),e.csvArray=[];var i=function(e){var t="";return e.properties.forEach(function(e,i){if(t.length>0&&(t+=", "),"hidden"!=i.unit)if(void 0!=i.prefix&&"none"!=i.prefix)if("["==i.unit[0]){var n=JSON.parse(i.unit);if(Array.isArray(n)){var o={};n.forEach(function(e){o[e[0]]=e[1]}),t+=o[i.prefix]}else t+=i.value+" "+i.prefix}else"code"!=i.unit&&(t+=i.value+" "+i.prefix+i.unit);else t+=void 0!=i.unit&&"none"!=i.unit?i.value+" "+i.unit:i.value}),t},r=function(e){return e?e:""},a=new o.HashMap,s=[];t.forEach(function(e){if(1e6!=e.did()){var t=e.did()+" $ "+i(e);a.get(t)||(a.put(t,new o.HashSet),e.getDescription().octo_uid&&s.push(e.getDescription().octo_uid)),a.get(t).add(e)}});var c=function(t,o,s,c){t=["Mouser","Digi-Key","element14 APAC","Newark"];var l={shop_links:[]};t.forEach(function(e,t){l.shop_links[t]={name:e.toLowerCase().split(" ").join("_")}});var d=[];a.forEach(function(n,a){var l,u,h,p,g="";a.forEach(function(e){l||(l=e.getDescription()),u||(u=i(e)),g.length>0&&(g+=", "),g+=l.device.base+e.name(),h=e.did(),p=l.device.version_root_id});var m=l.footprint_name;if("dummy"==m&&(m=""),"LABEL"!=l.device.base&&"LABELNO"!=l.device.base&&l.pinmaps_attributes&&l.pinmaps_attributes.length>0){if(7449==h){var f={ids:g,versionroot:p,device_name:"Arduino Uno Rev3",footprint:"",properties:"",nr:a.size(),shop_links:[]};t.forEach(function(e,t){f.shop_links[t]={name:e.toLowerCase().split(" ").join("_"),sku:"arduino.cc",link:"http://store.arduino.cc/index.php?main_page=product_info&cPath=11&products_id=195",unit_price:"$28.49"}})}else{var f={ids:g,versionroot:p,device_name:r(l.device.name)+" "+r(l.name),footprint:m,properties:u,nr:a.size(),shop_links:[]};t.forEach(function(e,t){var i=l.octo_uid;c[i]&&c[i][e]?f.shop_links[t]={name:e.toLowerCase().split(" ").join("_"),sku:s[i][e],link:c[i][e],unit_price:"$"+o[i][e]}:f.shop_links[t]={name:e.toLowerCase().split(" ").join("_"),sku:"",link:"",unit_price:""}})}d.push(f),e&&e.csvArray.push(f)}}),$(".js-bom-table-target").html(circuitsGui.template(n.bom_table,{bom:d})),e&&e.hideLoading()};c([],[],[],[])},Circuits.CircuitEditor.prototype.flashSchematicWarningIfNeeded=function(){this.root.logging||a||"pcbEditor"!==this.visibleEditor||circuitsGui.warning("Warning","This action changed the schematic view.",!1)},Circuits.CircuitEditor.prototype.flashPcbWarningIfNeeded=function(){this.root.logging||a||"schematicEditor"!==this.visibleEditor||circuitsGui.warning("Warning","This action changed the PCB view.",!1)},Circuits.CircuitEditor.prototype.cssCalc=function(e,t){return e+": -moz-calc("+t+");"+e+": -webkit-calc("+t+");"+e+": -o-calc("+t+");"+e+": calc("+t+");"},Circuits.CircuitEditor.prototype.getVisibleEditor=function(){switch(this.stateMachine.state()){case"schematic":return this.schematicEditor;case"pcb":return this.pcbEditor;case"breadboard":if("breadboard"==this.type)return this.breadboardEditor;if("circuitscribe"==this.type)return this.circuitscribeEditor;break;default:return null}},Circuits.CircuitEditor.prototype.hideAllInspectors=function(){this.breadboardEditor&&this.breadboardEditor.inspector.hide(),this.circuitscribeEditor&&this.circuitscribeEditor.inspector.hide(),this.schematicEditor&&(this.schematicEditor.editorModel.overNet=null,this.schematicEditor.inspector.hide()),this.pcbEditor&&(this.pcbEditor.afterMove(),this.pcbEditor.inspector.hide())};var l=0;Circuits.CircuitEditor.prototype.handleShout=function(e){var t=JSON.parse(e),i=t[0];if(this.root.shareJsDoc.get("users").get(i).get()){var n=(this.root.shareJsDoc.get("users").get(i).get("name").get(),t[1]);if("join"===n){var o=this.schematicEditor.svg.getElementById(i+"b");if(!o){if("breadboard"===this.type){a=this.breadboardEditor;var r=1;o=a.svg.group(a.zoomGroup,i+"b",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]})}a=this.schematicEditor;var r=1;o=a.svg.group(a.zoomGroup,i+"s",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]}),a=this.pcbEditor;var r=250;o=a.svg.group(a.zoomGroup,i+"p",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]}),l++}}else if("mousePos"===n){var a,s=t[2],c=t[3],o=this.schematicEditor.svg.getElementById(i+"b");if(!o){if("breadboard"===this.type){a=this.breadboardEditor;var r=1;o=a.svg.group(a.zoomGroup,i+"b",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]})}a=this.schematicEditor;var r=1;o=a.svg.group(a.zoomGroup,i+"s",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]}),a=this.pcbEditor;var r=250;o=a.svg.group(a.zoomGroup,i+"p",{opacity:0}),a.svg.circle(o,0,0,11*r,{strokeWidth:2*r,fill:"none",stroke:index2color[l%index2color.length]}),l++}"pcb"===c?(i+="p",a=this.pcbEditor):"breadboard"===c?(i+="b",a=this.breadboardEditor):(i+="s",a=this.schematicEditor);var o=a.svg.getElementById(i);$(o).stop(!0,!0).animate({opacity:.4},0).animate({opacity:0},5e3);var d="translate("+s.x+","+s.y+")";a.svg.change(o,{transform:d})}else if("chat"===n){var u=t[2];this.chatGui&&this.chatGui.showMessage(u)}}else 0==l&&l++},Circuits.CircuitEditor.prototype.chat=function(e){e=e.replace(/(\r\n|\n|\r)/gm," "),e="<div class='chat__username'>"+($(".username_holder").text()?$(".username_holder").text():"Anonymous")+"</div><div class='chat__message'>"+e+"</div>",shareJsDoc.shout(JSON.stringify([shareJsDoc.connection.id,"chat",e])),this.chatGui&&this.chatGui.showMessage(e)},Circuits.CircuitEditor.prototype.template=function(e,t){$(circuitsGui.template(e,{model:this.root.editorModel,mode:this.mode,type:this.type})).appendTo(t)},Circuits.CircuitEditor.prototype.generateThumbnail=function(e,t){var i=$(".js-tpl-target__breadboard .hasSVG>svg"),n=i[0].getBBox(),o=$(".js-tpl-target__render-canvas")[0],r=o.getContext("2d");o.width=e.width||725,o.height=e.height||453,r.clearRect(0,0,o.width,o.height);var a=o.width,s=o.height,l=a/n.width,d=s/n.height,u=d>l?l:d;u*=.9;var h='<svg version="1.1" width="'+o.width+'" height="'+o.height+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">';if(h+='<defs><style type="text/css"><![CDATA[.hidden { display: none; }]]></style></defs>',e.transparent===!1&&(h+='<rect width="100%" height="100%" fill="#f4f5f6"></rect>'),h+='<g transform="translate('+(.5*a-u*(n.x+.5*n.width))+","+(.5*s-u*(n.y+.5*n.height))+") scale("+u+')">',h+=i.html().replace(new RegExp("cgfx__selected","g"),"hidden"),
h+="</g>",e.watermark){var p=$(c.icon_tinkercad);h+='<g transform="translate(10,'+(o.height-58)+') scale(.3)">'+p.html()+"</g>"}h+="</svg>";var g=new Blob([h],{type:"image/svg+xml"}),m=window.URL||window.webkitURL||window,f=m.createObjectURL(g),_=new Image;_.onload=function(){r.drawImage(this,0,0),m.revokeObjectURL(f),t(o.toDataURL())},_.src=f}},function(e,t){circuitsGui.CircuitGui=function(e){this.editor=e,this.initialize_editor()},circuitsGui.CircuitGui.prototype.initialize_editor=function(){var e=this.editor,t=this.editor.type,i=new circuitsGui.draggable_containers;e.draggable_containers=i;var n=new circuitsGui.connection_status(e,".editor__topnav__connection-menu__normal");e.connection_status=n;var o=new circuitsGui.pcb(e,e.pcbEditor);e.pcbGui=o;var r=new circuitsGui.pcb_copper_trace(e,".js-pcb-copper-trace",".js-pcb-change-corner",".js-pcb-copper-trace-options");e.pcb_copper_trace=r;var a=new circuitsGui.settings(e);e.settingsGui=a;var s=new circuitsGui.bom($(".bom__loading"));e.bomGui=s;var c=new circuitsGui.breadboard(e);e.breadboardGui=c;var l=new circuitsGui.schematic(e);e.schematicGui=l;var d=new circuitsGui.simulator(e,".js-simulation",".js-code_editor__container");e.simulatorGui=d;new circuitsGui.exportEagleBoard(e,".js-export_btn",""),new circuitsGui.shareDialog(e,".js-share_btn","");if($(".tutorial").length){new circuitsGui.tutorial(e,$(".tutorial__tid").text(),$(".tutorial"),$(".js-tutorial--loading"))}var u=new circuitsGui.collaborative(".js-invite-collaborator");if(e.collaborative=u,circuitsGui.click_events_tools(e),"circuitscribe"==t){var h=new circuitsGui.circuitscribe(e,".js-download_circuitscribe_pdf",".js-circuitscribe-papersettings");e.circuitscribeGui=h}},circuitsGui.CircuitGui.prototype.switchToPage=function(e){return this.editor.switchToPage(e)}},function(e,t,i){i(711),i(712),i(713),i(710),i(714),i(715)},function(e,t,i){var n=i(173);!function(e,t,i){e.code_editor=function(o,r,a,s){var c=this;c.gui=o,c.readOnly=!(c.gui.mode==Circuits.GuiMode.EDIT),c.blockEditorActive=!1,c.blockCodePreamble="//BLOCK_CODE_XML:";var l=e.template(r,{edit:1==o.mode?!0:!1});this.overlayContainer=t(l).appendTo(a),c.overlay=new e.overlay(o,".js-code_editor__container",".js-code_editor__inner","n",320,".js-toggle_code_editor",60,".js-root_container",Circuits.GuiEvents.CODEEDITOR_BUTTON),c.overlay_container=c.overlay.overlay_div,c.overlay_container_inner=c.overlay.overlay_div__inner,c.code_textarea=s,c.programmable_components=[],c.activeDevice=null,c.socket=new n.HashMap,c.codeMirror,c.suppress=!1,c.serial_monitor_visible=!1,c.debugger_visible=!1,c.getBreakpointMarker=function(e){var t=document.createElement("div");return t.className="code_editor__breakpoint",t.innerHTML='<div class="code_editor__breakpoint__background">',t.innerHTML+='<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg width="41px" height="17px" viewBox="0 0 41 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"> <g id="MVP" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="ElectronicsLab_LabView_Debugger_MVP_Simulating" sketch:type="MSArtboardGroup" transform="translate(0.000000, -770.000000)" stroke-opacity="0.222514719" stroke="#34495E" fill="#0696D7"> <g id="Code" sketch:type="MSLayerGroup" transform="translate(0.000000, 587.000000)"> <g id="Breakpoint-12" transform="translate(0.000000, 183.000000)" sketch:type="MSShapeGroup"> <path d="M0,0.944444444 L37.195122,0.944444444 L41,9.0739019 L37.195122,17 L0,17 L0,0.944444444 Z" id="Rectangle-675"></path> </g> </g> </g> </g> </svg>',t.innerHTML+="</div>",t.innerHTML+='<div class="code_editor__breakpoint__linenumber">'+e+"</div>",t},t(".js-code_editor__selector",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.toggleSelectComponent()}),t(".js-code_editor__toggle_block_editor",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.toggleEditorMode(i,function(e){return confirm(e?"Enabling the blocks editor will clear any code that you have in the text editor. Are you sure that you want to continue?":"Are you sure that you want to close the blocks editor? Any blocks that you currently have will be lost. The code in the text editor will remain and become editable.")})}),t(".js-code_editor__toggle_libraries",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.toggleSelectLibraries()}),t(".js-code_editor__toggle_serial-monitor",c.overlay_container).click(function(e){c.programmable_components.length>0&&(c.toggleSerialMonitor(),c.blockEditor&&c.blockEditor.onresize(!1,c.blockEditorActive))}),t(".js-code_editor__library-btn",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.addLibrary(t(e.currentTarget).data("library"))}),t(".js-code-editor__upload",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.gui.stateMachine.handle(Circuits.GuiEvents.SIMULATOR_START)}),t(".js-code-editor__download_code",c.overlay_container).click(function(e){c.programmable_components.length>0&&c.downloadCode()}),t(".js-code_editor__serial-monitor--form",c.overlay_container).submit(function(e){if(e.preventDefault(),c.programmable_components.length>0){var i=t(".js-code_editor__serial-monitor__input",this);c.postSerialMessage(i.val()),i.val("")}}),c.debuggerUi=new e.debuggerUi(c),c.debuggerUi.hidePause(),c.debuggerUi.hideDeactivateBreakpoints(),c.debuggerUi.hideActivateBreakpoints(),c.debuggerUi.disableResume(),c.debuggerUi.disableStep(),c.overlay.custom_resize_event=function(){c.codeMirror&&(t(".js-code_editor__error",c.overlay_container).is(":visible")&&t(c.overlay_container_inner).css("height",t(c.overlay_container).height()-50-150),t(c.codeMirror.display.wrapper).css("height",t(c.overlay_container_inner).height()),c.codeMirror.refresh()),c.blockEditor&&c.blockEditor.onresize(!1,c.blockEditorActive),t(".js-code_editor__libraries").css("height",t(c.overlay_container).height()-50)},c.overlay.custom_open_event=function(){c.overlay.match_heights(),c.overlay.custom_resize_event()},c.toggleBlockEditor(!0)},e.code_editor.prototype.setup=function(i){function n(e,t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.DEBUG_SETBREAKPOINT).element(o.activeDevice).data("file",e).data("line",t);o.gui.stateMachine.handle(i)}var o=this;o.codeMirror||(o.readOnly?o.codeMirror=CodeMirror.fromTextArea(t(o.code_textarea,o.overlay_container).get(0),{lineNumbers:!0,gutters:["CodeMirror-linenumbers","breakpoints"],matchBrackets:!0,mode:"text/x-c++src",readOnly:!0}):(o.codeMirror=CodeMirror.fromTextArea(t(o.code_textarea,o.overlay_container).get(0),{lineNumbers:!0,gutters:["CodeMirror-linenumbers","breakpoints"],matchBrackets:!0,mode:"text/x-c++src"}),o.codeMirror.on("changes",function(e,t){var i=0;for(var r in t)i+=t[r].text.length-t[r].removed.length;if(0!=i){var a=[];o.activeDevice.codemirrorDoc.eachLine(function(e){e.gutterMarkers&&e.gutterMarkers.breakpoints&&a.push(o.activeDevice.codemirrorDoc.getLineNumber(e)+1)});var s=new Circuits.GuiEvent(Circuits.GuiEvents.DEBUG_REMOVEALLBREAKPOINTS).element(o.activeDevice);o.gui.stateMachine.handle(s),a.forEach(function(e){n("sketch.ino",e)})}}),o.codeMirror.on("update",function(e,t){o.activeDevice.showVarToolTips&&o.setVarToolTips()})),o.codeMirror.on("gutterClick",function(e,t){o.activeDevice&&n("sketch.ino",t+1)})),t(".disabled",this.overlay_container).each(function(e,i){t(i).removeClass("disabled code_editor_disabled")}),t(".js-code_editor__tab").hide(),t(".js-code_editor__texteditor").show(),i&&!o.blockEditor&&(o.blockEditor=new e.BlockCodeEditor(o.gui,t(".js-code_editor__blockly__area",o.overlay_container),o),gui.app&&(gui.app.toggleBlockEditor=function(e){o.toggleBlockEditor(e)}))},e.code_editor.prototype.toggleBlockEditor=function(e){var i=t(".js-code_editor__block_editor",this.overlay_container);"undefined"==typeof e&&i.hasClass("hidden")&&(e=!0),e?(i.removeClass("hidden"),this.blockEditor&&this.blockEditor.onresize(!0,this.blockEditorActive),!this.readOnly&&this.codeMirror&&this.codeMirror.setOption("readOnly",!0),this.blockEditor&&(this.blockEditor.render(!0),this.blockEditor.resetZoom()),t(".js-code_editor__toggle_libraries",this.overlay_container).addClass("disabled"),t(".js-code_editor__toggle_block_editor",this.overlay_container).addClass("active"),this.blockEditorActive=!0):(i.addClass("hidden"),!this.readOnly&&this.codeMirror&&this.codeMirror.setOption("readOnly",!1),t(".js-code_editor__toggle_libraries",this.overlay_container).removeClass("disabled"),t(".js-code_editor__toggle_block_editor",this.overlay_container).removeClass("active"),this.blockEditorActive=!1)},e.code_editor.prototype.toggleEditorMode=function(e,t){if(this.activeDevice){var i=this.activeDevice.codemirrorDoc,n=i.blockXml?!0:!1;"undefined"==typeof e&&(e=!n),e!=n&&(t&&1!=t(e)||(this.hideAllSelections(),e?(this.setCode(this.exampleTextCode(),this.exampleBlockCode()),this.blockEditor.setCode(this.exampleBlockCode())):this.setCode(i.getValue()),this.toggleBlockEditor(e)))}},e.code_editor.prototype.onresize=function(){this.blockEditor&&this.blockEditor.onresize(!1,this.blockEditorActive)},e.code_editor.prototype.stopSimulation=function(){this.programmable_components.length>0&&this.gui.simulatorGui.running&&this.gui.stateMachine.handle(Circuits.GuiEvents.SIMULATOR_STOP)},e.code_editor.prototype.destroy=function(){t("a",this.overlay_container).each(function(e,i){t(i).addClass("disabled code_editor_disabled")}),t(".js-code_editor__tab").hide(),t(".js-code_editor__none-found").show(),t(".js-code_editor__selector__text",this.overlay_container).html("none")},e.code_editor.prototype.triggerRecompile=function(e){e.compiled_worker_url=!1},e.code_editor.prototype.getCodeFromDevice=function(e){var t=programmable_component_device_data.getCode();return t.split(this.blockPreamble)},e.code_editor.prototype.addProgrammableComponent=function(e){var t=this;0==t.programmable_components.length&&t.setup(!0),e.code_editor_active=!0,e.ui_id=t.programmable_components.length+1,e.compiled_worker_url=!1,t.programmable_components.push(e);var i=e.getCode();i||(i=t.example_code());var n=i.split(t.blockCodePreamble);textCode=n[0],blockXml=n[1],e.setCode(i);var o=e.breadboard().dynamicModel.breakpoints;if(o&&(o.onAdd("breakpoints",function(i,n){var o=n.split(":");t.activeDevice==e&&t.codeMirror.setGutterMarker(o[1]-1,"breakpoints",t.getBreakpointMarker(o[1]))},10),o.onRemove("breakpoints",function(i,n){var o=n.split(":");t.activeDevice==e&&t.codeMirror.setGutterMarker(o[1]-1,"breakpoints",null)},10)),t.readOnly){if(t.gui.mode==Circuits.GuiMode.VIEW){var r=CodeMirror.Doc(textCode,"text/x-c++src");r.blockXml=blockXml,e.codemirrorDoc=r,t.switchProgrammableComponent(e)}}else{var a=e.getShareJSCodeDoc(),r=CodeMirror.Doc(textCode,"text/x-c++src");r.blockXml=blockXml,e.codemirrorDoc=r,a.on("insert",function(i,n){r.replaceRange(n,r.posFromIndex(i)),t.triggerRecompile(e)}),a.on("delete",function(i,n){var o=r.posFromIndex(i),a=r.posFromIndex(i+n.length);r.replaceRange("",o,a),t.triggerRecompile(e)}),CodeMirror.on(r,"beforeChange",function(i,n){n.origin&&"setValue"!=n.origin&&(t.applyToShareJS(a,e,n),t.triggerRecompile(e))}),t.switchProgrammableComponent(e)}},e.code_editor.prototype.applyToShareJS=function(e,t,i){var n,o,r;for(r=0,o=0;o<i.from.line;)r+=t.codemirrorDoc.getLine(o).length+1,o++;if(r+=i.from.ch,i.to.line===i.from.line&&i.to.ch===i.from.ch){var a=t.getCode();t.setCode(a.slice(0,r)+i.text.join("\n")+a.slice(r)),e.insert(r,i.text.join("\n"),function(){})}else{for(n=i.to.ch-i.from.ch;o<i.to.line;)n+=t.codemirrorDoc.getLine(o).length+1,o++;var a=t.getCode();if(t.setCode(a.slice(0,r)+a.slice(r+n)),i.text){var a=t.getCode();t.setCode(a.slice(0,r)+i.text.join("\n")+a.slice(r))}e.remove(r,n,function(){}),i.text&&e.insert(r,i.text.join("\n"),function(){})}},e.code_editor.prototype.removeProgrammableComponent=function(e){var i=this;t.each(i.programmable_components,function(t){return i.programmable_components[t]===e?(i.programmable_components.splice(t,1),!1):void 0}),0==i.programmable_components.length?i.destroy():i.switchProgrammableComponent(i.programmable_components[i.programmable_components.length-1])},e.code_editor.prototype.setCode=function(e,t){var i=this.activeDevice;if(i.parent()){var n=i.getShareJSCodeDoc(),o=i.codemirrorDoc,r=e;t&&(r+=this.blockCodePreamble+t),i.setCode(r),n.set(r),o.setValue(e),o.blockXml=t,this.triggerRecompile(i)}},e.code_editor.prototype.isBlockEditorActive=function(){return this.blockEditorActive},e.code_editor.prototype.rebuildComponentSelection=function(){var e=this;t(".js-code_editor__select__container").empty(),t.each(e.programmable_components,function(i,n){var o=t(".js-code_editor__select__option--template").clone().removeClass("hide js-code_editor__select__option--template").appendTo(".js-code_editor__select__container"),r=n.ui_id+" ("+n.getDescription().device.name+")";t(".js-code_editor__select__option__text",o).html(r),n.code_editor_active?(o.addClass("active"),t(".js-code_editor__select__option__btn",o).html("Active")):t(".js-code_editor__select__option__btn",o).html("Edit Code"),t(".js-code_editor__select__option__action",o).click(function(t){t.preventDefault(),e.switchProgrammableComponent(n)})})},e.code_editor.prototype.switchProgrammableComponent=function(e){var i=this;if(t.each(this.programmable_components,function(e,t){t.code_editor_active=!1}),e.code_editor_active=!0,this.activeDevice=e,this.hideAllSelections(),e){var n=e.ui_id+" ("+e.getDescription().device.name+")",o=e.codemirrorDoc;this.codeMirror.swapDoc(o),this.codeMirror.refresh(),this.blockEditor&&(o.blockXml?(this.blockEditor.setTargetDevice(e.getDescription().device.name),this.blockEditor.setCode(o.blockXml),this.toggleBlockEditor(!0)):this.toggleBlockEditor(!1))}else var n="none";t(".js-code_editor__selector__text",this.overlay_container).html(n),this.rebuildComponentSelection(),this.refreshSerialMonitor();var r=this.activeDevice.breadboard().dynamicModel.breakpoints;r&&(i.codeMirror.clearGutter("breakpoints"),r.forEach(function(e){var t=e.split(":");i.codeMirror.setGutterMarker(t[1]-1,"breakpoints",i.getBreakpointMarker(t[1]))})),this.programmable_components.forEach(function(t){t!=e&&t.breadboard().dynamicModel["debugger"]&&t.breadboard().dynamicModel["debugger"].play()}),this.activeDevice.showVarToolTips&&this.setVarToolTips()},e.code_editor.prototype.hideAllSelections=function(){this.toggleSelectComponent(!0),this.toggleSelectLibraries(!0),this.showCodeEditor()},e.code_editor.prototype.showCodeEditor=function(){0==this.programmable_components.length?t(".js-code_editor__none-found").show():(t(".js-code_editor__texteditor").show(),t(".js-code_editor__block_editor").show()),this.showCompileErrorOverlay(),this.codeMirror.refresh()},e.code_editor.prototype.hideCodeEditor=function(){t(".js-code_editor__none-found").hide(),t(".js-code_editor__texteditor").hide(),t(".js-code_editor__block_editor").hide(),this.hideCompileErrorOverlay()},e.code_editor.prototype.toggleSelectComponent=function(e){e||this.toggleSelectLibraries(!0),t(".js-code_editor__select").is(":visible")||e?(t(".js-rotate-dropdown-arrow").removeClass("flipped-arrow"),t(".js-code_editor__select").hide(),this.showCodeEditor()):(this.hideCodeEditor(),t(".js-rotate-dropdown-arrow").addClass("flipped-arrow"),t(".js-code_editor__select").show())},e.code_editor.prototype.toggleSelectLibraries=function(e){e||this.toggleSelectComponent(!0),t(".js-code_editor__libraries").is(":visible")||e?(t(".js-code_editor__libraries").hide(),t('[data-rel="js-code_editor__libraries"]').removeClass("active"),this.showCodeEditor()):(this.hideCodeEditor(),t(".js-code_editor__libraries").show(),t('[data-rel="js-code_editor__libraries"]').addClass("active"))},e.code_editor.prototype.toggleSelection=function(e,i){var n=this;0!=n.programmable_components.length&&(t.each(t(".js-code_editor__tab"),function(i,n){t(n).hasClass(e.replace(".",""))||t(n).hide()}),t(".js-code_editor__toggle-btn").removeClass("active"),t(".js-rotate-dropdown-arrow").removeClass("flipped-arrow"),t(e).toggle(),t(e).is(":visible")?i&&(t(".js-rotate-dropdown-arrow",i.currentTarget).addClass("flipped-arrow"),t(i.currentTarget).hasClass("js-code_editor__toggle-btn")&&t(i.currentTarget).addClass("active")):0==n.programmable_components.length?t(".js-code_editor__none-found").show():t(".js-code_editor__texteditor").show())},e.code_editor.prototype.toggleSerialMonitor=function(){t(".js-code_editor__serial-monitor").is(":visible")?(t(".js-code_editor__serial-monitor").hide(),t(".js-code_editor__toggle_serial-monitor").removeClass("active"),this.serial_monitor_visible=!1):(t(".js-code_editor__serial-monitor").show(),t(".js-code_editor__toggle_serial-monitor").addClass("active"),this.serial_monitor_visible=!0,this.refreshSerialMonitor()),this.positionSerialAndDebugger()},e.code_editor.prototype.positionSerialAndDebugger=function(){this.serial_monitor_visible&&this.debugger_visible?(t(this.overlay_container_inner).css("right",404),t(".js-code_editor__debugger").css("right",202)):(t(".js-code_editor__debugger").css("right",0),this.serial_monitor_visible||this.debugger_visible?t(this.overlay_container_inner).css("right",202):t(this.overlay_container_inner).css("right",0))},e.code_editor.prototype.flash_successfull_compile_message=function(){t(".js-code-editor__success-compiled").velocity("stop",!0).velocity({opacity:1},300).velocity({opacity:0},{delay:1e3,duration:1500})},e.code_editor.prototype.editorOutOfFocus=function(){this.codeMirror&&t(this.codeMirror.getInputField()).blur()},e.code_editor.prototype.enableEditing=function(){this.readOnly||this.blockEditorActive||this.codeMirror&&1==this.codeMirror.getOption("readOnly")&&this.codeMirror.setOption("readOnly",!1)},e.code_editor.prototype.disableEditing=function(){this.codeMirror&&0==this.codeMirror.getOption("readOnly")&&this.codeMirror.setOption("readOnly",!0),this.blockEditor},e.code_editor.prototype.enableDebugging=function(){t(".js-code_editor__toggle_debugger",this.overlay_container).removeClass("disabled")},e.code_editor.prototype.disableDebugging=function(){t(".js-code_editor__toggle_debugger",this.overlay_container).addClass("disabled"),this.debuggerUi.hideDebugger(),this.codeMirror.clearGutter("breakpoints")},e.code_editor.prototype.checkForCompileErrors=function(){var e=null;this.programmable_components.forEach(function(t){t.compiled_error&&(e=t,t.codeErrorsAt=[],t.compiled_error.split("\n").forEach(function(e){var i=parseInt(e.substr(0,e.indexOf(":")));isNaN(i)||(t.codeErrorsAt.push(i-1),t.codemirrorDoc.addLineClass(i-1,null,"lineError"))}))}),this.activeDevice.compiled_error||null==e||this.switchProgrammableComponent(e),this.showCompileErrorOverlay()},e.code_editor.prototype.hideCodeErrorFor=function(e){e.compiled_error=null;for(var t in e.codeErrorsAt)e.codemirrorDoc.removeLineClass(e.codeErrorsAt[t],null,"lineError");e.codeErrorsAt=null},e.code_editor.prototype.hideAllCompileErrors=function(){var e=this;this.programmable_components.forEach(function(t){e.hideCodeErrorFor(t)}),this.hideCompileErrorOverlay()},e.code_editor.prototype.showCompileErrorOverlay=function(){var e=this;if(this.activeDevice.compiled_error){var i=t(".js-code_editor__error",this.overlay_container);i.show(),t(".js-code_editor__error__content",i).html(this.activeDevice.compiled_error),t(".js-code_editor__error__close",i).click(function(){e.hideCodeErrorFor(e.activeDevice),e.hideCompileErrorOverlay()}),t(this.overlay_container_inner).css("bottom",150),t(this.overlay_container_inner).css("height",t(this.overlay_container).height()-50-150),e.codeMirror.refresh()}else this.hideCompileErrorOverlay()},e.code_editor.prototype.hideCompileErrorOverlay=function(){t(".js-code_editor__error",this.overlay_container).is(":visible")&&(t(".js-code_editor__error",this.overlay_container).hide(),t(this.overlay_container_inner).css("bottom",0),this.overlay.match_heights(),this.codeMirror.refresh())},e.code_editor.prototype.prepareDebugger=function(){var e=this;this.programmable_components.forEach(function(t){var i=t.breadboard().dynamicModel["debugger"],n=i&&i.getCurrentLine();n&&(e.debuggerUi.showDebugger(),e.debuggerUi.enableResume(),e.debuggerUi.enableStep(),n.breakpointReached&&(e.activeDevice!=t&&e.switchProgrammableComponent(t),e.setVarToolTips()),t.breakLineAt=n.line-1,t.codemirrorDoc.addLineClass(t.breakLineAt,null,"breakLine"),e.codeMirror.scrollIntoView({line:t.breakLineAt,ch:0},40))})},e.code_editor.prototype.finishDebugger=function(){this.programmable_components.forEach(function(e){null!=e.breakLineAt&&e.codemirrorDoc.removeLineClass(e.breakLineAt,null,"breakLine"),e.breakLineAt=null,e.showVarToolTips=!1,e.currentVars=null}),this.debuggerUi.disableResume(),this.debuggerUi.disableStep(),this.codeMirror.refresh()},e.code_editor.prototype.setVarToolTips=function(){function e(t,i){var n="",o=(t.getName(),t.getType(),t.getValue());if(t.isReference()){var r=t.dereference();r&&(t=r,o=r.getValue())}if(null==o)n="&ltOptimized out&gt";else if(0==i)n=t.isArray()?"[...]":t.isObject()?"{...}":o;else if(t.isPointer()){n=o;var a=t.dereference();a&&(n=o+" -> "+e(a,i-1))}else if(t.isArray()&&o.constructor==Array){n="[";for(var s in o)if(n+=e(o[s],i-1)+", ",s>100){n+="...(+more), ";break}n=n.substr(0,n.length-2)+"]"}else if(t.isObject()){n="{";for(var c in o)n+=c+": "+e(o[c],i-1)+", ";n=n.substr(0,n.length-2)+"}"}else n=o;return n}var i=this,o=this.activeDevice.breadboard().dynamicModel["debugger"];!this.activeDevice.currentVars&&o&&(i.activeDevice.currentVars=new n.HashMap,o.getCurrentVars().forEach(function(t,n){i.activeDevice.currentVars.put(t,e(n,2))})),this.activeDevice.showVarToolTips=!0,this.activeDevice.currentVars.forEach(function(e,n){var o=t(".cm-variable,.cm-keyword",i.overlay_container).filter(function(){return t(this).text()==e});o.attr("title",n),o.tipsy({gravity:"n",offset:3})})},e.code_editor.prototype.hideVarToolTips=function(){this.activeDevice.showVarToolTips=!1,this.activeDevice.currentVars=null,this.codeMirror.refresh()},e.code_editor.prototype.refreshSerialMonitor=function(){var e=this;if(this.serial_monitor_visible){var i=t.each(this.programmable_components,function(i,n){if(n.code_editor_active&&n.breadboard().dynamicModel.stdout){var o=n.breadboard().dynamicModel.stdout.getData().content.join("");return t(".js-code_editor__serial-monitor__content",e.overlay_container).text(o).scrollTop(t(".js-code_editor__serial-monitor__content",e.overlay_container)[0].scrollHeight),!0}});i||t(".js-code_editor__serial-monitor__content",e.overlay_container).text("")}},e.code_editor.prototype.postSerialMessage=function(e){var i=this;t.each(this.programmable_components,function(t,n){if(n.code_editor_active){var o=new Circuits.GuiEvent(Circuits.GuiEvents.POST_SERIAL_MESSAGE).element("element",n.breadboard()).data("msg",e);return void i.gui.stateMachine.handle(o)}})},e.code_editor.prototype.addLibrary=function(e){var t=this.library(e);this.codeMirror.getDoc().replaceRange(t,{line:0,ch:0},{line:0,ch:0}," "),this.hideAllSelections()},e.code_editor.prototype.downloadCode=function(){var e=this,i=e.gui.root.editorModel.meta("name")||"download";t.each(this.programmable_components,function(e,n){console.log(e),window.setTimeout(function(){var o=t("a.js-code-editor__download_code_internal"),r=n.codemirrorDoc.getValue();o.attr("href","data:application/octet-stream,"+encodeURIComponent(r)),o.attr("download",i+(e+1)+".ino"),o[0].click()},1500*e)})},e.code_editor.prototype.formSubmitDownloadCode=function(e){target_url=t(".js-absolute-url").text()+"/download_code";var i=document.createElement("input");i.setAttribute("name","code"),i.setAttribute("value",e),i.setAttribute("type","hidden");var n=document.createElement("input");n.setAttribute("name","type"),n.setAttribute("value","arduino"),n.setAttribute("type","hidden");var o=document.createElement("input");o.setAttribute("name","authenticity_token"),o.setAttribute("value",t('meta[name="csrf-token"]').attr("content")),o.setAttribute("type","hidden");var r=document.createElement("form");r.method="post",r.action=target_url,r.appendChild(i),r.appendChild(n),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},e.code_editor.prototype.example_code=function(){return this.exampleTextCode()+this.blockCodePreamble+this.exampleBlockCode()},e.code_editor.prototype.exampleTextCode=function(){return"void setup()\n{\n  pinMode(13, OUTPUT);\n}\n\nvoid loop()\n{\n  digitalWrite(13, HIGH);\n  delay(1000); // Wait for 1000 millisecond(s)\n  digitalWrite(13, LOW);\n  delay(1000); // Wait for 1000 millisecond(s)\n}"},e.code_editor.prototype.exampleBlockCode=function(){return'<xml xmlns="http://www.w3.org/1999/xhtml"><variables></variables><block type="output_set_built_in_led" id="JDi{W~K2.+#~E|yNcObJ" x="101" y="77"><field name="VALUE">HIGH</field><next><block type="control_wait_seconds" id="gkveW0DdCUvcRMY9nrJT"><value name="DURATION"><shadow type="math_positive_number" id="oq`U3?9kpUDs=(P;6WG)"><field name="NUM">1</field></shadow></value><next><block type="output_set_built_in_led" id=".tF5sat=@BAQpVsLnAfn"><field name="VALUE">LOW</field><next><block type="control_wait_seconds" id="Y+.9Yy%xI@9k/|:v0pfw"><value name="DURATION"><shadow type="math_positive_number" id="KLC8OfU,~:t4Phh)~C*4"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></xml>'},e.code_editor.prototype.library=function(e){switch(e){case"eeprom":return"#include <EEPROM.h>\n\n";case"servo":return"#include <Servo.h>\n\n";case"wire":return"#include <Wire.h>\n\n";case"softwareserial":return"#include <SoftwareSerial.h>\n\n";case"stepper":return"#include <Stepper.h>\n\n";case"liquidcrystal":return"#include <LiquidCrystal.h>\n\n";case"keypad":return"#include <Keypad.h>\n\n";case"neopixel":return"#include <Adafruit_NeoPixel.h>\n\n";case"sd":return"#include <SD.h>\n\n";case"spi":return"#include <SPI.h>\n\n";case"IRremote":return"#include <IRremote.h>\n\n";case"IRremoteInterrupts":return"#include <IRremoteInterrupts.h>\n\n"}}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(173);Circuits.AbstractElement=function(e,t,i,o){var r=this;this.data=t,this.gui=e,this.terminals=new n.HashSet,this.name2terminal=new n.HashMap,this.description=t.description,this.initGroups(o),this.setTransform(),r.groupInfos.forEach(function(e,t){t.isHandle&&(r.gui.mode==Circuits.GuiMode.EDIT?$(t.svgGroup).mousedown(function(e){return r.onMouseDown(e,Circuits.GuiEvents.ELEMENT_MOUSE_DOWN)}):$(t.svgGroup).mousedown(function(e){return r.onMouseDown(e,Circuits.GuiEvents.ELEMENT_MOUSE_DOWN_VIEWMODUS)}))})},extend(Circuits.AbstractElement,Circuits.DrawingElement),Circuits.AbstractElement.prototype.getTerminalByName=function(e){return this.name2terminal.get(e)},Circuits.AbstractElement.prototype.getTerminals=function(){return this.terminals},Circuits.AbstractElement.prototype.onMouseDown=function(e,t){var i=new Circuits.GuiEvent(t).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(i)},Circuits.AbstractElement.prototype.clickAction=function(){},Circuits.AbstractElement.prototype.removeToolAction=function(e){return this.remove(),!1},Circuits.AbstractElement.prototype.flipVerToolAction=function(e){return this.angle%180==0?this.setTransform(this.data.pos(),this.data.angle(),-1*this.data.flip()):this.setTransform(this.data.pos(),this.data.angle()+180,-1*this.data.flip()),!1},Circuits.AbstractElement.prototype.flipHorToolAction=function(e){return this.angle%180==0?this.setTransform(this.data.pos(),this.data.angle()+180,-1*this.data.flip()):this.setTransform(this.data.pos(),this.data.angle(),-1*this.data.flip()),!1}},function(e,t,i){i(179);Circuits.AbstractNet=function(e,t,i){var n=this;this.gui=e,this.data=t,this.data.registerView(this.gui,this),this.groups=i,n.groups.forEach(function(e,t){t.svgGroup=n.gui.svg.group(n.gui.layers.get(t.layer).svgGroup)})},Circuits.AbstractNet.prototype.remove=function(){this.groups.forEach(function(e,t){$(t.svgGroup).remove()})},Circuits.AbstractNet.prototype.emptyGroups=function(){this.groups.forEach(function(e,t){$(t.svgGroup).empty()})},Circuits.AbstractNet.prototype.draw=function(){},Circuits.AbstractNet.prototype.addTerminal=function(e){this.data.addTerminal(e.data)},Circuits.AbstractNet.prototype.mergeNet=function(e){this.data.mergeNet(e.data),e.remove()},Circuits.AbstractNet.prototype.removeTerminal=function(e){this.data.terminals.removeTerminal(e.data)},Circuits.AbstractNet.prototype.disconnectAllTerminals=function(){this.data.disconnectAllTerminals()},Circuits.AbstractNet.prototype.hasTerm=function(e){return this.data.hasTerm(e.data)},Circuits.AbstractNet.prototype.getId=function(){return this.data.getId()},Circuits.AbstractNet.prototype.size=function(){return this.data.size()}},function(e,t){Circuits.AbstractTerminal=function(e,t,i){this.gui=e.gui,this.ouder=e,this.data=i,this.description=t},Circuits.AbstractTerminal.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.TERMINAL_MOUSE_DOWN).fromJSEvent(e).element("terminal",this.data);return this.gui.stateMachine.handle(t),!1},Circuits.AbstractTerminal.prototype.remove=function(){$(this.outerGroup).remove()},Circuits.AbstractTerminal.prototype.setNet=function(e){this.data.setNet(e.data)},Circuits.AbstractTerminal.prototype.hasNet=function(){return this.data.hasNet()},Circuits.AbstractTerminal.prototype.disconnect=function(){this.data.disconnect()}},function(e,t){!function(e,t,i){e.debuggerUi=function(e){var i=this;i.code_editor=e,t(".js-code_editor__toggle_debugger",e.overlay_container).click(function(e){i.code_editor.programmable_components.length>0&&(t(".js-code_editor__debugger").is(":visible")?i.hideDebugger():i.showDebugger(),i.code_editor.onresize())}),t(".js-code_editor__breakpoints__pause",e.overlay_container).click(function(e){}),t(".js-code_editor__breakpoints__play",e.overlay_container).click(function(n){if(!t(".js-code_editor__breakpoints__play",e.overlay_container).hasClass("code_editor__debugger__top__icon__disabled")&&i.code_editor.programmable_components.length>0){var o=new Circuits.GuiEvent(Circuits.GuiEvents.DEBUG_PLAY).element(i.code_editor.activeDevice);i.code_editor.gui.stateMachine.handle(o)}}),t(".js-code_editor__breakpoints__step",e.overlay_container).click(function(n){if(!t(".js-code_editor__breakpoints__step",e.overlay_container).hasClass("code_editor__debugger__top__icon__disabled")&&i.code_editor.programmable_components.length>0){var o=new Circuits.GuiEvent(Circuits.GuiEvents.DEBUG_STEP).element(i.code_editor.activeDevice);i.code_editor.gui.stateMachine.handle(o)}}),t(".js-code_editor__breakpoints__deactivate",e.overlay_container).click(function(e){}),t(".js-code_editor__breakpoints__activate",e.overlay_container).click(function(e){}),t(".js-code_editor__breakpoints__codeOpt_checkbox",e.overlay_container).click(function(e){for(var t in i.code_editor.programmable_components)i.code_editor.programmable_components[t].compiled_worker_url=!1})},e.debuggerUi.prototype.showDebugger=function(){t(".js-code_editor__debugger").is(":visible")||(t(".js-code_editor__debugger").show(),t(".js-code_editor__toggle_debugger").addClass("active"),this.code_editor.debugger_visible=!0,this.code_editor.positionSerialAndDebugger())},e.debuggerUi.prototype.hideDebugger=function(){t(".js-code_editor__debugger").is(":visible")&&(t(".js-code_editor__debugger").hide(),t(".js-code_editor__toggle_debugger").removeClass("active"),this.code_editor.debugger_visible=!1,this.code_editor.positionSerialAndDebugger())},e.debuggerUi.prototype.showResume=function(){t(".js-code_editor__breakpoints__play",this.code_editor.overlay_container).show()},e.debuggerUi.prototype.hideResume=function(){t(".js-code_editor__breakpoints__play",this.code_editor.overlay_container).hide()},e.debuggerUi.prototype.showPause=function(){t(".js-code_editor__breakpoints__pause",this.code_editor.overlay_container).show();
},e.debuggerUi.prototype.hidePause=function(){t(".js-code_editor__breakpoints__pause",this.code_editor.overlay_container).hide()},e.debuggerUi.prototype.showDeactivateBreakpoints=function(){t(".js-code_editor__breakpoints__deactivate",this.code_editor.overlay_container).show()},e.debuggerUi.prototype.hideDeactivateBreakpoints=function(){t(".js-code_editor__breakpoints__deactivate",this.code_editor.overlay_container).hide()},e.debuggerUi.prototype.showActivateBreakpoints=function(){t(".js-code_editor__breakpoints__activate",this.code_editor.overlay_container).show()},e.debuggerUi.prototype.hideActivateBreakpoints=function(){t(".js-code_editor__breakpoints__activate",this.code_editor.overlay_container).hide()},e.debuggerUi.prototype.disableResume=function(){t(".js-code_editor__breakpoints__play",this.code_editor.overlay_container).addClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.enableResume=function(){t(".js-code_editor__breakpoints__play",this.code_editor.overlay_container).removeClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.disablePause=function(){t(".js-code_editor__breakpoints__pause",this.code_editor.overlay_container).addClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.enablePause=function(){t(".js-code_editor__breakpoints__pause",this.code_editor.overlay_container).removeClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.disableStep=function(){t(".js-code_editor__breakpoints__step",this.code_editor.overlay_container).addClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.enableStep=function(){t(".js-code_editor__breakpoints__step",this.code_editor.overlay_container).removeClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.disableDeactivateBreakpoints=function(){t(".js-code_editor__breakpoints__deactivate",this.code_editor.overlay_container).addClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.enableDeactivateBreakpoints=function(){t(".js-code_editor__breakpoints__deactivate",this.code_editor.overlay_container).removeClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.disableActivateBreakpoints=function(){t(".js-code_editor__breakpoints__activate",this.code_editor.overlay_container).addClass("code_editor__debugger__top__icon__disabled")},e.debuggerUi.prototype.enableActivateBreakpoints=function(){t(".js-code_editor__breakpoints__activate",this.code_editor.overlay_container).removeClass("code_editor__debugger__top__icon__disabled")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.connection_status=function(e,t){var i=this;i.gui=e,i.connectionMenuContainer=t},e.connection_status.prototype.status_saving=function(e){t(this.connectionMenuContainer).length&&(t(this.connectionMenuContainer).removeClass("connection_menu__warning connection_menu__error"),t(this.connectionMenuContainer).html("Saving...")),window.unsavedChanges=!1},e.connection_status.prototype.status_ok=function(e){t(this.connectionMenuContainer).length&&(t(this.connectionMenuContainer).removeClass("connection_menu__warning connection_menu__error"),t(this.connectionMenuContainer).html("All changes saved")),window.unsavedChanges=!1},e.connection_status.prototype.status_error=function(e){t(this.connectionMenuContainer).length&&(t(this.connectionMenuContainer).addClass("connection_menu__warning"),t(this.connectionMenuContainer).html("Connection lost! Changes will be saved on reconnect.")),window.unsavedChanges=!0},e.connection_status.prototype.status_failed=function(e){t(this.connectionMenuContainer).length&&(t(this.connectionMenuContainer).addClass("connection_menu__error"),t(this.connectionMenuContainer).html("Connection failed! Please contact support!")),window.unsavedChanges=!0}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(717),i(718),i(719),i(720),i(721),i(722),i(723),i(724),i(725)},function(e,t,i){var n=i(173),o=(i(191),i(170).inherit);Circuits.SchematicLayers={MEASURE:0,ELEMENT:1,NET:2,SNAP:3,LINECONTROL:4,NETCONTROL:5,ELEMENTCONTROL:6,MEASURECONTROL:7},Circuits.SchematicComponentsArray=[null,null,null,null,null,null,null,null],Circuits.SchematicEditor=function(e,t,i,o,r){var a=this;this.type="schematic",this.circuitEditor=e,this.root=o,this.data=o.circuit,this.editorModel=o.editorModel.schematic(),this.unit=null,a.viewFactory=a.createViewFactory(),this.settings={showTerminals:!1};var s=new n.HashMap;for(var c in Circuits.SchematicLayers)s.put(Circuits.SchematicLayers[c],new Circuits.LayerInfo(Circuits.SchematicLayers[c],!1,null,null));s.get(Circuits.SchematicLayers.ELEMENT).visible=!0,s.get(Circuits.SchematicLayers.NET).visible=!0,s.get(Circuits.SchematicLayers.SNAP).zooms=!1,this.groupInfos=this.createGroupInfos(),Circuits.AbstractEditor.call(this,e,t,i,s,r),this.elementGroup=this.layers.get(Circuits.SchematicLayers.ELEMENT).svgGroup,this.netGroup=this.layers.get(Circuits.SchematicLayers.NET).svgGroup,this.lineControl=this.layers.get(Circuits.SchematicLayers.LINECONTROL).svgGroup,this.netControl=this.layers.get(Circuits.SchematicLayers.NETCONTROL).svgGroup,this.elementControl=this.layers.get(Circuits.SchematicLayers.ELEMENTCONTROL).svgGroup,this.snapGroup=this.layers.get(Circuits.SchematicLayers.SNAP).svgGroup,this.line=null,this.overlay_reference=null,this.editorModel.deviceJustAdded.onChange("view",function(){1==a.editorModel.deviceJustAdded()?a.circuitEditor.component_search.overlay.close_overlay():a.circuitEditor.component_search.overlay.open_overlay()},10),a.editorModel.netWithAttention.onChange("layer",function(e,t,i){null!=t&&(t.getView(a).removeTools(),t.getView(a).setAttention(!1)),null!=i&&(i.getView(a).showTools(),i.getView(a).setAttention(!0))},10),a.editorModel.hasAttention.onChange("layer",function(e,t,i){null!=t&&t!=a.editorModel.netWithAttention()&&t.getView(a).setAttention(!1),null!=i&&i!=a.editorModel.netWithAttention()&&i.getView(a).setAttention(!0)},10),a.editorModel.preConnectLine.onChange("view",function(e,t,i){i&&i.startTerminal&&i.mouseCoord?a.drawLine(i.startTerminal.getSchematicX(),i.startTerminal.getSchematicY(),i.mouseCoord.getX(),i.mouseCoord.getY()):a.removeLine()},10),a.editorModel.componentsOverlay.onChange("view",function(e,t,i){t!=i&&(i?a.circuitEditor.component_search.overlay.open_overlay():(a.circuitEditor.component_search.blurSearch(),a.circuitEditor.component_search.overlay.close_overlay(!1)))},10),this.editorModel.searchFocusTrigger.onChange("view",function(){a.editorModel.componentsOverlay()&&a.circuitEditor.component_search.focusSearch()},10),a.editorModel.searchOverlayTab.onChange("view",function(e,t,i){a.circuitEditor.component_search.open_tab(i)},10)},Circuits.SchematicEditor.prototype=o(Circuits.AbstractEditor.prototype),Circuits.SchematicEditor.prototype.constructor=Circuits.SchematicEditor,Circuits.SchematicEditor.prototype.createViewFactory=function(){return new Circuits.SchematicViewFactory},Circuits.SchematicEditor.prototype.drawLine=function(e,t,i,n){this.removeLine(),this.line=this.svg.line(this.lineControl,e,t,i,n,{fill:"blue",stroke:"blue",strokeWidth:"2"})},Circuits.SchematicEditor.prototype.removeLine=function(){$(this.line).remove()},Circuits.SchematicEditor.prototype.createGroupInfos=function(){var e=new n.HashMap;for(var t in Circuits.SchematicLayers)e.put(Circuits.SchematicLayers[t],new Circuits.GroupInfo(Circuits.SchematicLayers[t],!0,Circuits.SchematicLayers[t],null,!0,!0));return e},Circuits.SchematicEditor.prototype.loadData=function(){this.rootGroup=this.viewFactory.newSchematicGroup(this,this.data,this),this.rootGroup.setInFocus(!0),this.setGroupInFocus(this.rootGroup)},Circuits.SchematicEditor.prototype.loadJSON=function(e){var t=this;if(e){var i=$.parseJSON(e);void 0!==i.device?this.loadPackagedDevice(e):void 0!==i.subdevices_attributes?this.loadDevice(e):void 0!==i.schematic_symbol_terminals?this.loadSchematicSymbol(e):(this.root=new Circuits.DesignRoot,t.data=new Circuits.CircuitData(this.root,3,2))}},Circuits.SchematicEditor.prototype.setSchematicBreadboardEditor=function(e){this.editorModel.isSchematicBreadboardEditor(e)}},function(e,t,i){var n=i(173),o=i(191),r=i(170).debug_opacity,a=i(170).inherit;Circuits.SchematicElementGroups={ELEMENT:0,LABEL:1,CONTROL:2},Circuits.SchematicElement=function(e,t,i){function o(){a.bboxCache=null,a.data.isLife()&&(a.setTransform(),a.getTerminals().forEach(function(e){if(e.hasNet()){var t=e.getNet();t.ripup(),a.data.root.scheduleHeavy("route_schematic_net",t.draw,t,[],"net"+n.getHash(t))}}),a.positionLabels(),a.gui.circuitEditor&&a.gui.circuitEditor.flashSchematicWarningIfNeeded())}var a=this;Circuits.AbstractElement.call(this,e,t,null,i),this.data.registerView(e,this),this.device=this.data.parent().getDescription().device,this.description=this.data.getDescription(),this.subdevice=this.description,this.symbol=this.description.schematic_symbol_attributes,this.data.parent().subdevice.size()>1&&this.description.name?this.name=this.description.name:this.name=null,this.outerGroup=this.getGroupInfo(Circuits.SchematicElementGroups.ELEMENT).svgGroup,this.controlGroup=this.getGroupInfo(Circuits.SchematicElementGroups.CONTROL).svgGroup,this.group=this.gui.svg.group(this.outerGroup,this.id),this.symbolGroup=this.gui.svg.group(this.group),this.gui.svg.add(this.symbolGroup,this.symbol.svg);var s=this.internalbbox(Circuits.SchematicElementGroups.ELEMENT);this.gui.svg.rect(this.controlGroup,s.x1,s.y1,s.x2-s.x1,s.y2-s.y1,0,0,{fill:"blue",stroke:"none",opacity:r});for(var c=0;c<this.subdevice.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;c++){var l=this.subdevice.schematic_symbol_attributes.schematic_symbol_terminals_attributes[c],d=a.gui.viewFactory.newSchematicTerminal(a,l,t.parent().getTerminalSPID(this.description.id,l.id));this.terminals.add(d),this.name2terminal.put(l.name,d)}"nolabel"!=this.device.base&&"LABELNO"!=this.device.base&&(this.labelGroup=this.groupInfos.get(Circuits.SchematicElementGroups.LABEL).svgGroup,this.labelText=null),this.data.pos.onChange(this,o,10),this.data.angle.onChange(this,o,10),this.data.flip.onChange(this,o,10),this.data.parent().name.onChange(this,function(){a.data.isLife()&&(a.positionLabels(),a.gui.circuitEditor&&a.gui.circuitEditor.flashSchematicWarningIfNeeded())},10),this.data.parent().properties.onPut(this,function(){a.data.isLife()&&(a.positionLabels(),a.gui.circuitEditor&&a.gui.circuitEditor.flashSchematicWarningIfNeeded())},10),this.data.onDie(a,function(){a.gui.circuitEditor&&a.gui.circuitEditor.flashSchematicWarningIfNeeded(),a.gui.inspector.hide()},10)},Circuits.SchematicElement.prototype=a(Circuits.AbstractElement.prototype),Circuits.SchematicElement.prototype.constructor=Circuits.SchematicElement,Circuits.SchematicElement.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.SchematicElementGroups.ELEMENT,new Circuits.GroupInfo(Circuits.SchematicElementGroups.ELEMENT,!1,Circuits.SchematicLayers.ELEMENT,null,!0,!0)),e.put(Circuits.SchematicElementGroups.LABEL,new Circuits.GroupInfo(Circuits.SchematicElementGroups.LABEL,!0,Circuits.SchematicLayers.ELEMENT,null,!0,!1)),e.put(Circuits.SchematicElementGroups.CONTROL,new Circuits.GroupInfo(Circuits.SchematicElementGroups.CONTROL,!0,Circuits.SchematicLayers.ELEMENTCONTROL,null,!0,!0)),e},Circuits.SchematicElement.prototype.remove=function(){this.gui.data.removeDevice(this.data.parent())},Circuits.SchematicElement.prototype.setColor=function(e){this.gui.svg.change(this.symbolGroup,{fill:e,stroke:e,opacity:1})},Circuits.SchematicElement.prototype.positionLabels=function(){function e(){for(var e=0;e<o.length&&!n[o[e]];e++);return n[o[e]]=!1,o[e]}function t(e,t){var n=i.gui.svg.group(i.labelGroup);i.gui.svg.text(n,0,0,e);i.gui.svg.change(n,{style:"text-anchor: middle;font-family: verdana; font-size : 10px;"});var o,r=i.bbox(),a=0,s=0;switch(t){case 0:case 1:case 7:o="text-anchor: start;font-family: verdana; font-size : 10px;";break;case 3:case 4:case 5:o="text-anchor: end;font-family: verdana; font-size : 10px;";break;case 2:case 6:o="text-anchor: middle;font-family: verdana; font-size : 10px;";break;default:o="text-anchor: middle;font-family: verdana; font-size : 10px;"}i.gui.svg.change(n,{style:o});var c,l=3,d=0;try{c=n.getBBox()}catch(u){c={x:0,y:0,width:0,height:0}}switch(t){case 0:case 1:case 7:a=r.getXMax()+l;break;case 4:case 3:case 5:a=r.getXMin()-l;break;case 2:case 6:a=(r.getXMax()+r.getXMin())/2}switch(t){case 0:case 4:s=(r.getYMax()+r.getYMin())/2-c.y-c.height/2;break;case 5:case 6:case 7:s=r.getYMin()-c.y-c.height-d;break;case 1:case 2:case 3:s=r.getYMax()-c.y+d}a-=i.data.pos().x,s-=i.data.pos().y,i.gui.svg.change(n,{transform:"translate("+a+","+s+")"})}var i=this,n=[!0,!0,!0,!0,!0,!0,!0,!0],o=[6,2,0,1,7,4,3,5];if(!i.gui.settings.noLabels){$(this.labelGroup).empty(),n[7]=!1,this.getTerminals().forEach(function(e){0==e.getDir()?n[0]=!1:90==e.getDir()?n[2]=!1:180==e.getDir()?n[4]=!1:270==e.getDir()&&(n[6]=!1)});var r=this.createLabelText();r&&t(r,e())}},Circuits.SchematicElement.prototype.createLabelText=function(){var e=this,t=this.gui.svg.createText(),i=!0;if("nolabel"!=this.device.base&&"LABELNO"!=this.device.base){if("none"==this.device.base||"LABEL"==this.device.base)t.span(this.data.parent().name(),{});else{t.span(this.device.base,{});var n=[];this.data.parent().name()&&n.push(this.data.parent().name()),this.name&&n.push(this.name),t.span(n.join("_"),{dy:"3","font-size":"8px"})}i=!1}return e.data.parent().properties.forEach(function(e,n){if(n.show){var o=n.unit;"ohm"==o&&(o="Ω");var r=n.prefix;r&&"none"!=r||(r=""),"u"==r&&(r="μ");var a=n.value;o&&(a+=r+o),t.span(a,{x:0,dy:12}),i=!1}}),i?null:t},Circuits.SchematicElement.prototype.disconnect=function(){this.getTerminals().forEach(function(e){if(e.hasNet()){var t=e.getNet();e.disconnect(),t.size()<2&&this.gui.removeNet(t)}})},Circuits.SchematicElement.prototype.redrawNets=function(){var e=this;e.getTerminals().forEach(function(e){e.redrawNet()})},Circuits.SchematicElement.prototype.bbox=function(){if(!this.bboxCache){var e;try{e=this.symbolGroup.getBBox()}catch(t){e={x:0,y:0,width:0,height:0}}var i=e.x,n=e.x+e.width,r=e.y,a=e.y+e.height,s=new o.Coord(this.data.flip()*i,r),c=new o.Coord(this.data.flip()*n,a),l=s.rotate(this.data.angle()),d=c.rotate(this.data.angle());i=Math.min(l.x,d.x),n=Math.max(l.x,d.x),r=Math.min(l.y,d.y),a=Math.max(l.y,d.y),i+=this.data.pos().x,n+=this.data.pos().x,r+=this.data.pos().y,a+=this.data.pos().y,this.getTerminals().forEach(function(e){e.getX()<i&&(i=e.getX()),e.getX()>n&&(n=e.getX()),e.getY()<r&&(r=e.getY()),e.getY()>a&&(a=e.getY())}),this.bboxCache=new o.BoundingBox(i,r,n-i,a-r)}return this.bboxCache},Circuits.SchematicElement.prototype.flipVerToolAction=function(e){return this.data.flipVer(),!1},Circuits.SchematicElement.prototype.flipHorToolAction=function(e){return this.data.flipHor(),!1},Circuits.SchematicElement.prototype.removeTools=function(){$(this.toolsGroup).empty(),this.getTerminals().forEach(function(e){e.removeTools()})},Circuits.SchematicElement.prototype.removeFromSVG=function(){$(this.outerGroup).remove(),$(this.controlGroup).remove()},Circuits.SchematicElement.prototype.showInspector=function(){var e=[{label:"Name",type:Circuits.inspectorInputType.TEXT,datamember:this.data.parent().deviceName}];this.data.parent().propertiesShadow.forEach(function(t,i){e.push({label:i.name,type:i.type==Circuits.inspectorInputType.VALUE_AND_UNIT?Circuits.inspectorInputType.VALUE_UNIT_CHECK:i.type,datamember:i.valueMember,unitmember:i.unitMember,list:i.list,checkmember:i.checkMember})});var t={name:this.device.name,version_root_id:this.device.version_root_id,summary:this.device.summary};this.gui.inspector.buildAndShow(e,t,{})},Circuits.SchematicElement.prototype.getTerminalName=function(e){var t=null;return this.terminals.forEach(function(i){i.data.getSchematicName()==e&&(t=i.data)}),t},Circuits.SchematicElement.prototype.setSelected=function(e){var t=this;this.groupInfos.forEach(function(i,n){e?t.gui.svg.change(n.svgGroup,{stroke:"black"}):t.gui.svg.change(n.svgGroup,{stroke:""})})}},function(e,t,i){var n=i(173);i(170).inherit;Circuits.SchematicGroup=function(e,t,i){var o=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i),this.inFocus=!1,this.elements=new n.HashSet,this.loadData(this.data.circuit),this.data.number_of_layers.onChange(o,function(){var e=new n.HashSet;e.add("undo"),e.add("share"),o.data.root.circuit.removeAllHandlersExcept_rec(e),o.data.root.newIndexes(),o.data.root.circuit.init_rec(),o.gui.circuitEditor.startEditors(o.gui.circuitEditor.stateMachine),o.gui.circuitEditor.getVisibleEditor().holder.focus()}),this.data.devices.onAdd(o,function(e,t){t.subdevice.forEach(function(e,t){var i=o.gui.viewFactory.newSchematicElement(o.gui,t,o);i.positionLabels(),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()})},10),this.data.devices.onRemove(o,function(e,t){t.subdevice.forEach(function(e,t){t.getView(o.gui).removeSvg(),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()})},10),this.data.nets.onAdd(o,function(e,t){t.subnets.onAdd(o,function(e,t){o.gui.viewFactory.newSchematicNet(o.gui,t);o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()},10),t.subnets.onRemove(o,function(e,t){t.getView(o.gui).remove(),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()},10)},10),this.data.nets.onRemove(o,function(e,t){t.subnets.forEach(function(e){e.getView(o.gui).remove(),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()})},10),this.data.nets.forEach(function(e){e.subnets.onAdd(o,function(e,t){o.gui.viewFactory.newSchematicNet(o.gui,t);o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()},10),e.subnets.onRemove(o,function(e,t){t.getView(o.gui).remove(),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()},10)}),this.data.schematicSvg().elements.onAdd(o,function(e,t,i){var n;switch(i.constructor){case Circuits.CircleData:n=new Circuits.Circle(o.gui,i,o,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.PathData:n=new Circuits.Path(o.gui,i,o,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.RectData:n=new Circuits.Rect(o.gui,i,o,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.TextData:n=new Circuits.Text(o.gui,i,o,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL)}o.add(n)}),this.data.schematicSvg().elements.onRemove(o,function(e,t,i){i.view.removeSvg(),o.elements.remove(i.view)}),this.data.onDie(o,function(){o.editorModel.selection.remove(o),o.gui.circuitEditor&&o.gui.circuitEditor.flashSchematicWarningIfNeeded()},10)},extend(Circuits.SchematicGroup,Circuits.DrawingElement),Circuits.SchematicGroup.getGroupInfos=function(){var e=new n.HashMap;for(var t in Circuits.SchematicLayers)e.put(Circuits.SchematicLayers[t],new Circuits.GroupInfo(Circuits.SchematicLayers[t],!0,Circuits.SchematicLayers[t],null,!0,!0));return e},Circuits.SchematicGroup.prototype.loadData=function(e){var t=this;e||(e=this.data),e.devices.forEach(function(i){try{i.subdevice.forEach(function(e,i){var n=t.gui.viewFactory.newSchematicElement(t.gui,i,t);n.positionLabels(),t.add(n)})}catch(n){console.log("Removing broken device"),e.devices.remove(i)}}),e.nets.forEach(function(e){e.subnets.forEach(function(e){var i=t.gui.viewFactory.newSchematicNet(t.gui,e,t);t.add(i)})}),e.schematicSvg().elements.forEach(function(e,i){var n;switch(i.constructor){case Circuits.CircleData:n=new Circuits.Circle(t.gui,i,t,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.PathData:n=new Circuits.Path(t.gui,i,t,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.RectData:n=new Circuits.Rect(t.gui,i,t,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL);break;case Circuits.TextData:n=new Circuits.Text(t.gui,i,t,Circuits.SchematicLayers.ELEMENT,Circuits.SchematicLayers.ELEMENTCONTROL)}t.add(n)})},Circuits.SchematicGroup.prototype.add=function(e){this.elements.add(e)},Circuits.SchematicGroup.prototype.setSelected=function(e){this.elements.forEach(function(t){t.setSelected(e)})},Circuits.SchematicGroup.prototype.setInFocus=function(e){this.inFocus=e,this.gui.setGroupInFocus(this)},Circuits.SchematicGroup.prototype.isInFocus=function(){return this.inFocus},Circuits.SchematicGroup.prototype.getPos=function(){var e=new n.HashSet;this.elements.forEach(function(t){t.getPos&&e.add(t)});var t=e.collect(function(e){return e.getPos()}),i=new Geometry.PointSet(t).centroid();return i},Circuits.SchematicGroup.prototype.getSnapLines=function(){var e=new Circuits.SnaplineSet;return this.elements.forEach(function(t){t.getSnapLines&&e.addAll(t.getSnapLines())}),e}},function(e,t,i){var n=i(173),o=i(191),r=i(170).inherit;Circuits.SchematicNetGroups={NET:0,CONTROL:1},Circuits.SchematicNet=function(e,t){var i=this,o=new n.HashMap;o.put(Circuits.SchematicNetGroups.NET,new Circuits.GroupInfo(Circuits.SchematicNetGroups.NET,!1,Circuits.SchematicLayers.NET,null,!0,!0)),o.put(Circuits.SchematicNetGroups.CONTROL,new Circuits.GroupInfo(Circuits.SchematicNetGroups.CONTROL,!1,Circuits.SchematicLayers.NETCONTROL,null,!0,!0)),Circuits.AbstractNet.call(this,e,t,o),this.data.registerView(e,this),this.group=this.groups.get(Circuits.SchematicNetGroups.NET).svgGroup,this.controlGroup=this.groups.get(Circuits.SchematicNetGroups.CONTROL).svgGroup,this.netLines=this.gui.svg.group(this.group),this.setAttention(!1),this.highlightGroup=this.gui.svg.group(this.controlGroup),this.setHighlight(!1),this.mouseOverArea=this.gui.svg.group(this.controlGroup),this.gui.mode==Circuits.GuiMode.EDIT&&($(this.mouseOverArea).mousedown(function(e){return i.onMouseDown(e)}),$(this.mouseOverArea).mouseover(function(e){return i.onMouseOver(e)}),$(this.mouseOverArea).mouseout(function(e){return i.onMouseOut(e)})),this.data.segments&&this.data.bollekes&&this.data.segments[0]&&this.data.segments[0].x1?this.drawNet(null,this.gui.svg,this.data.segments,this.data.bollekes,this.netLines,this.highlightGroup,this.mouseOverArea):i.data.root.scheduleHeavy("route_schematic_net",i.draw,i,[],"net"+n.getHash(i)),this.data.terminals.onAdd(this,function(){i.data.isLife()&&(i.data.root.scheduleHeavy("route_schematic_net",i.draw,i,[],"net"+n.getHash(i)),i.gui.circuitEditor&&i.gui.circuitEditor.flashSchematicWarningIfNeeded())},10),this.data.terminals.onRemove(this,function(){i.data.isLife()&&(i.data.root.scheduleHeavy("route_schematic_net",i.draw,i,[],"net"+n.getHash(i)),i.gui.circuitEditor&&i.gui.circuitEditor.flashSchematicWarningIfNeeded())},10)},Circuits.SchematicNet.prototype=r(Circuits.AbstractNet.prototype),Circuits.SchematicNet.prototype.constructor=Circuits.SchematicNet,Circuits.SchematicNet.prototype.ripup=function(){this.data.segments=[],this.data.bollekes=[]},Circuits.SchematicNet.prototype.draw=function(){function e(){t.data.terminals.forEach(function(e){var n=e.getView(t.gui);n&&i.addTerminal(n)});var e=t.data.terminals.filter(function(e){return e.hasSchematic()}).collect(function(e){return e.getSchematicPos()}),n=new o.PointSet(e).getBB().buffer(10);return i.setBB(n),t.gui.data.getAllSchematicElements().forEach(function(e){var n=e.getView(t.gui).bbox();n.net=!1,n.hor=!0,n.ver=!0,i.addBlockage(n)}),t.data.parent().parent().nets.forEach(function(e){e.subnets.forEach(function(e){var n=e.getView(t.gui);if(n&&n!==t&&n.data.segments&&null!==n.data.segments)for(var r=0;r<n.data.segments.length;r++){var a=n.data.segments[r],s=new o.BoundingBox(a.x1,a.y1,a.x2-a.x1,a.y2-a.y1);s.net=!0,s.hor=a.hor,s.ver=a.ver,i.addBlockage(s)}})}),i.jsonifyWorkerMessage(t.data.versions_id)}var t=this;if(0!=t.data.isLife()){var i=new Circuits.RouteGraph;t.gui.routerWorkerQueue&&t.gui.routerWorkerQueue.addToQueue(e)}},Circuits.SchematicNet.prototype.drawNet=function(e,t,i,n,o,r,a){if($(this.netLines).empty(),$(this.mouseOverArea).empty(),$(this.highlightGroup).empty(),this.setHighlight(!1),i)for(var s=0;s<i.length;s++){var c=i[s];t.line(o,c.x1,c.y1,c.x2,c.y2,{fill:"blue",stroke:"black","stroke-linecap":"round"}),t.line(r,c.x1,c.y1,c.x2,c.y2,{fill:"blue",stroke:"red",strokeWidth:"3","stroke-linecap":"round"}),t.line(a,c.x1,c.y1,c.x2,c.y2,{fill:"blue",stroke:"black",strokeWidth:"10",opacity:"0","stroke-linecap":"round",id:this.data.local_id+"_"+s})}n&&n.forEach(function(e){t.circle(o,e.getX(),e.getY(),2,{fill:"black"})})},Circuits.SchematicNet.prototype.onMouseOver=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.NET_MOUSE_OVER,this.data,e);return this.gui.stateMachine.handle(t)},Circuits.SchematicNet.prototype.onMouseOut=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.NET_MOUSE_OUT,this.data,e);return this.gui.stateMachine.handle(t)},Circuits.SchematicNet.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.NET_MOUSE_DOWN,this.data,e);return this.gui.stateMachine.handle(t)},Circuits.SchematicNet.prototype.setHighlight=function(e){e?$(this.highlightGroup).attr("opacity","1"):$(this.highlightGroup).attr("opacity","0")},Circuits.SchematicNet.prototype.setAttention=function(e){e?$(this.netLines).attr("stroke-width","2"):$(this.netLines).attr("stroke-width","1")},Circuits.SchematicNet.prototype.showTools=function(){var e=this.gui;this.data.terminals.forEach(function(t){t.getView(e)&&t.getView(e).showTools()})},Circuits.SchematicNet.prototype.removeTools=function(){var e=this.gui;this.data.terminals.forEach(function(t){t.getView(e)&&t.getView(e).removeTools()})}},function(e,t,i){var n=i(170).inherit;i(190);Circuits.SchematicTerminal=function(e,t,i){Circuits.AbstractTerminal.apply(this,arguments),i.registerView(this.gui,this),this.controlGroup=this.gui.svg.group(this.ouder.controlGroup),this.outerGroup=this.gui.svg.group(this.ouder.outerGroup),this.group=this.gui.svg.group(this.outerGroup),this.gui.svg.change(this.outerGroup,{transform:"translate("+this.description.x+","+this.description.y+") rotate("+this.description.dir+")"}),this.gui.svg.change(this.controlGroup,{transform:"translate("+this.description.x+","+this.description.y+") rotate("+this.description.dir+")"}),this.draw(),this.tools=this.gui.svg.group(this.outerGroup),this.controlTools=this.gui.svg.group(this.controlGroup),this.gui.svg.change(this.tools,{class_:"tools"}),$(this.group).attr("opacity","0");var n=this;n.data.subnet.onChange("subnet",function(e,t,i){null==i&&n.removeTools()})},Circuits.SchematicTerminal.prototype=n(Circuits.AbstractTerminal.prototype),Circuits.SchematicTerminal.prototype.constructor=Circuits.SchematicTerminal,Circuits.SchematicTerminal.prototype.draw=function(){var e=this;this.rect=this.gui.svg.rect(this.group,-2.5,-2.5,5,5,0,0,{fill:"red",stroke:"black",strokeWidth:"2"}),this.mouseOverArea=this.gui.svg.rect(this.controlGroup,-5,-5,15,15,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"}),e.gui.mode==Circuits.GuiMode.EDIT&&($(this.mouseOverArea).mouseover(function(t){return e.onMouseOver(t)}),$(this.mouseOverArea).mouseout(function(t){return e.onMouseOut(t)}),$(this.mouseOverArea).mousedown(function(t){return e.onMouseDown(t)}))},Circuits.SchematicTerminal.prototype.getX=function(){return this.data.getSchematicX()},Circuits.SchematicTerminal.prototype.getY=function(){return this.data.getSchematicY()},Circuits.SchematicTerminal.prototype.getPos=function(){return this.data.getSchematicPos()},Circuits.SchematicTerminal.prototype.getDir=function(){return this.data.getSchematicDir()},Circuits.SchematicTerminal.prototype.redrawNet=function(){this.hasNet()&&this.getNet().draw()},Circuits.SchematicTerminal.prototype.hasNet=function(){return this.data.hasNet()},Circuits.SchematicTerminal.prototype.getNet=function(){return this.data.getSubNet().getView(this.gui)},Circuits.SchematicTerminal.prototype.onMouseOver=function(e){this.setHighlight(!0);var t=new Circuits.GuiEvent(Circuits.GuiEvents.TERMINAL_MOUSE_OVER).fromJSEvent(e).element("terminal",this.data);return this.gui.stateMachine.handle(t),!1},Circuits.SchematicTerminal.prototype.onMouseOut=function(e){this.setHighlight(!1);var t=new Circuits.GuiEvent(Circuits.GuiEvents.TERMINAL_MOUSE_OUT).fromJSEvent(e).element("terminal",this);return this.gui.stateMachine.handle(t)},Circuits.SchematicTerminal.prototype.showTools=function(){var e=this.gui.svg.group(this.tools,"removeTool");this.gui.svg.rect(e,5,5,5,5,0,0,{fill:"white",stroke:"none"}),this.gui.svg.line(e,5,5,10,10,{stroke:"blue",strokeWidth:"1.5"}),this.gui.svg.line(e,5,10,10,5,{stroke:"blue",strokeWidth:"1.5"});var t=this.gui.svg.group(this.controlTools,"removeTool");if(this.gui.svg.rect(t,4,4,7,7,0,0,{fill:"red",stroke:"none",opacity:"0"}),this.gui.mode==Circuits.GuiMode.EDIT){var i=this;$(t).mousedown(function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.REMOVENET_CLICK,i.data,e);return i.gui.stateMachine.handle(t)})}},Circuits.SchematicTerminal.prototype.removeTools=function(){$(this.tools).empty(),$(this.controlTools).empty()},Circuits.SchematicTerminal.prototype.setHighlight=function(e){e?$(this.group).attr("opacity","1"):$(this.group).attr("opacity","0")}},function(e,t,i){var n=i(170).create;Circuits.SchematicViewFactory=function(){},Circuits.SchematicViewFactory.prototype.newSchematicTerminal=function(){return n(Circuits.SchematicTerminal,arguments)},Circuits.SchematicViewFactory.prototype.newSchematicElement=function(){return n(Circuits.SchematicElement,arguments)},Circuits.SchematicViewFactory.prototype.newSchematicGroup=function(){return n(Circuits.SchematicGroup,arguments)},Circuits.SchematicViewFactory.prototype.newSchematicNet=function(){return n(Circuits.SchematicNet,arguments)}},function(e,t){!function(e,t,i){e.schematic=function(e,i){var n=this;this.circuitEditor=e,t(".js-download_schematic_vector").click(function(e){n.downloadvector()}),navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t(".js-download_schematic_image").click(function(e){n.downloadimage()}):t(".js-download_schematic_image").closest("li").remove()},e.schematic.prototype.downloadimage=function(t){e.download_image(this.circuitEditor.schematicEditor,"#schematicTab","schematic","jpg","/image","#f4f5f6")},e.schematic.prototype.downloadvector=function(t){e.download_vector(this.circuitEditor.schematicEditor,"#schematicTab","schematic","svg","/image","#f4f5f6")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(173),o=i(190);!function(){Circuits.RouteNode=function(e,t,i,n,o,r,a,s){var c=this;e.routeNodes.push(this),this.type=t,this.dir=i,this.x1=o,this.y1=r,this.x2=a,this.y2=s,this.isReached=!0,this.isBlocked=!1,this.previous=null,this.neighbors=[],this.costMult=n,c.type==Circuits.RouteGraph.NodeType.TERM?c.cost=0:c.type==Circuits.RouteGraph.NodeType.WIRE&&(c.cost=n*this.length())},Circuits.RouteNode.prototype.length=function(){return Math.sqrt(Math.pow(this.x1-this.x2,2)+Math.pow(this.y1-this.y2,2))},Circuits.RouteNode.prototype.multCost=function(e){this.costMult*=e,this.cost*=e},Circuits.RouteNode.prototype.isHorWire=function(){return this.type===Circuits.RouteGraph.NodeType.WIRE&&this.dir===Circuits.RouteGraph.NodeDir.HOR},Circuits.RouteNode.prototype.isVerWire=function(){return this.type===Circuits.RouteGraph.NodeType.WIRE&&this.dir===Circuits.RouteGraph.NodeDir.VER},Circuits.RouteNode.prototype.leftNeighbour=function(){for(var e=null,t=0;t<this.neighbors.length;t++){var i=this.neighbors[t];i.isHorWire()&&this.x1>i.x1&&(e=i)}return e},Circuits.RouteNode.prototype.rightNeighbour=function(){for(var e=null,t=0;t<this.neighbors.length;t++){var i=this.neighbors[t];i.isHorWire()&&this.x1<i.x1&&(e=i)}return e},Circuits.RouteNode.prototype.upNeighbour=function(){for(var e=null,t=0;t<this.neighbors.length;t++){var i=this.neighbors[t];i.isVerWire()&&this.y1>i.y1&&(e=i)}return e},Circuits.RouteNode.prototype.downNeighbour=function(){
for(var e=null,t=0;t<this.neighbors.length;t++){var i=this.neighbors[t];i.isVerWire()&&this.y1<i.y1&&(e=i)}return e},Circuits.RouteGraph=function(){this.terminals=[],this.all_blockages=[],this.xExtra=[],this.yExtra=[],this.goldenMean=!0,this.preferTermDir=!0,this.path_angle_cost=100,this.term_dir=1,this.term_not_dir=1,this.mid_way=1,this.out_bb_mult=1.1,this.block_full_mult=400,this.block_part_mult=1.5,this.net_block_edge=1.1,this.element_block_edge=20,this.easy_way_round=1,this.blockage_margin=4,this.blockage_overlap_threshold=300,this.bollekes=new n.HashSet},Circuits.RouteGraph.NodeType={TERM:0,WIRE:1},Circuits.RouteGraph.NodeDir={HOR:0,VER:1},Circuits.RouteGraph.prototype.jsonifyWorkerMessage=function(e){for(var t=[],i=[],n=0;n<this.terminals.length;n++){var o={getDir:this.terminals[n].getDir(),getX:this.terminals[n].getX(),getY:this.terminals[n].getY()};t.push(o)}for(var n=0;n<this.all_blockages.length;n++){var r=this.all_blockages[n],o={x:r.x,y:r.y,width:r.width,height:r.height,net:r.net,hor:r.hor,ver:r.ver};i.push(o)}var a={versions_id:e,bb:{x:this.getBB().x,y:this.getBB().y,width:this.getBB().width,height:this.getBB().height},terminals:t,all_blockages:i};return a},Circuits.RouteGraph.prototype.dejsonifyWorkerMessage=function(e){var t=this;e.terminals.forEach(function(e){var i={getDir:function(){return e.getDir},getX:function(){return e.getX},getY:function(){return e.getY}};t.addTerminal(i)}),e.all_blockages.forEach(function(e){var i=new o.BoundingBox(e.x,e.y,e.width,e.height);i.net=e.net,i.hor=e.hor,i.ver=e.ver,t.addBlockage(i)}),this.setBB(new o.BoundingBox(e.bb.x,e.bb.y,e.bb.width,e.bb.height))},Circuits.RouteGraph.prototype.jsonifyWorkerResponse=function(e){var t={versions_id:e,bollekes:JSON.stringify(this.bollekes.getData()),segments:this.segments};return t},Circuits.RouteGraph.prototype.addTerminal=function(e){this.terminals.push(e)},Circuits.RouteGraph.prototype.addBlockage=function(e){this.all_blockages.push(e)},Circuits.RouteGraph.prototype.setBB=function(e){this.bb=e},Circuits.RouteGraph.prototype.getBB=function(){return this.bb},Circuits.RouteGraph.prototype.filterCoreBlockages=function(e,t){for(var i=this,n=[e],o=[];o.length<n.length;)o=n,n=t.filter(function(e){return e=e.buffer(i.blockage_margin),_.any(n,function(t){return e.overlapArea(t.buffer(i.blockage_margin))>i.blockage_overlap_threshold})});return n},Circuits.RouteGraph.prototype.filterBlockagesOverlappingWithRoutingSegments=function(e,t,i){var n=this;return i.filter(function(i){if(-1!=t.indexOf(i))return!1;var r=i.buffer(n.blockage_margin);return _.any(e,function(e){return r.intersects(new o.BoundingBox(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1))})})},Circuits.RouteGraph.prototype.constructGridLines=function(){var e,t=this;this.xValues=new n.HashMap,this.xValues.fput=function(e,i){var n=t.getBB();(e<n.getXMin()||e>n.getXMax())&&(i*=t.out_bb_mult),void 0!=this.get(e)&&(i=Math.min(this.get(e),i)),this.put(e,i)},this.yValues=new n.HashMap,this.yValues.fput=function(e,i){var n=t.getBB();(e<n.getYMin()||e>n.getYMax())&&(i*=t.out_bb_mult),void 0!=this.get(e)&&(i=Math.min(this.get(e),i)),this.put(e,i)};var i=this.xValues,o=this.yValues;for(e=0;e<this.terminals.length;e++){var r=this.terminals[e],a=r.getDir();(0==a||180==a)&&(i.fput(r.getX(),this.term_not_dir),o.fput(r.getY(),this.term_dir)),(90==a||270==a)&&(i.fput(r.getX(),this.term_dir),o.fput(r.getY(),this.term_not_dir))}var s=[];for(i.forEach(function(e,t){s.push(e)}),s.sort(function(e,t){return e-t}),e=0;e<s.length-1;e++)i.fput((s[e]+s[e+1])/2,this.mid_way);var c=[];for(o.forEach(function(e,t){c.push(e)}),c.sort(function(e,t){return e-t}),e=0;e<c.length-1;e++)o.fput((c[e]+c[e+1])/2,this.mid_way);for(e=0;e<this.all_blockages.length;e++){var l,d=this.all_blockages[e];l=d.net?this.net_block_edge:this.element_block_edge,i.fput(d.getXMin(),l),i.fput(d.getXMax(),l),o.fput(d.getYMin(),l),o.fput(d.getYMax(),l),//!blockage.net) {
i.fput(d.getXMin()-5,this.easy_way_round),i.fput(d.getXMax()+5,this.easy_way_round),o.fput(d.getYMin()-5,this.easy_way_round),o.fput(d.getYMax()+5,this.easy_way_round)}var s=[];i.forEach(function(e,t){s.push(e)}),s.sort(function(e,t){return e-t});var c=[];o.forEach(function(e,t){c.push(e)}),c.sort(function(e,t){return e-t}),this.xArray=s,this.yArray=c},Circuits.RouteGraph.prototype.constructGridPoints=function(){var e,t,i=this;this.routeNodes=[];var n=this.xArray,o=this.yArray;for(this.points=new Object,e=0;e<n.length;e++){var r=n[e];for(this.points[r]=new Object,t=0;t<o.length;t++){var a=o[t],s=new Object;this.points[r][a]=s,0!=e?s.west=i.points[n[e-1]][a].east:s.west=null,e!=n.length-1?s.east=new Circuits.RouteNode(i,Circuits.RouteGraph.NodeType.WIRE,Circuits.RouteGraph.NodeDir.HOR,i.yValues.get(a),r,a,n[e+1],a):s.east=null,0!=t?s.north=i.points[n[e]][o[t-1]].south:s.north=null,t!=o.length-1?s.south=new Circuits.RouteNode(i,Circuits.RouteGraph.NodeType.WIRE,Circuits.RouteGraph.NodeDir.VER,i.xValues.get(r),r,a,r,o[t+1]):s.south=null,s.north&&(s.west&&s.north.neighbors.push(s.west),s.east&&s.north.neighbors.push(s.east),s.south&&s.north.neighbors.push(s.south)),s.east&&(s.west&&s.east.neighbors.push(s.west),s.north&&s.east.neighbors.push(s.north),s.south&&s.east.neighbors.push(s.south)),s.south&&(s.west&&s.south.neighbors.push(s.west),s.north&&s.south.neighbors.push(s.north),s.east&&s.south.neighbors.push(s.east)),s.west&&(s.north&&s.west.neighbors.push(s.north),s.east&&s.west.neighbors.push(s.east),s.south&&s.west.neighbors.push(s.south))}}for(e=0;e<this.terminals.length;e++){var c,r=this.terminals[e].getX(),a=this.terminals[e].getY(),l=this.terminals[e].getDir();c=90==l||270==l?Circuits.RouteGraph.NodeDir.VER:Circuits.RouteGraph.NodeDir.HOR;var s=this.points[r][a];s.term=new Circuits.RouteNode(this,Circuits.RouteGraph.NodeType.TERM,c,1,r,a),s.term.isTerm=!0,s.north&&s.term.neighbors.push(s.north),s.east&&s.term.neighbors.push(s.east),s.south&&s.term.neighbors.push(s.south),s.west&&s.term.neighbors.push(s.west),s.north&&s.north.neighbors.push(s.term),s.east&&s.east.neighbors.push(s.term),s.south&&s.south.neighbors.push(s.term),s.west&&s.west.neighbors.push(s.term)}},Circuits.RouteGraph.prototype.applyBlockageCost=function(){var e,t,i,n=this.xArray,o=this.yArray;for(e=0;e<this.all_blockages.length;e++){var r=this.all_blockages[e];for(t=0;t<n.length;t++){var a=n[t];if(!(a<r.getXMin()-this.blockage_margin)){if(a>r.getXMax()+this.blockage_margin)break;for(i=0;i<o.length;i++){var s=o[i];if(!(s<r.getYMin()-this.blockage_margin)){if(s>r.getYMax()+this.blockage_margin)break;var c=this.points[a][s];r.hor?(c.east&&!c.east.isBlocked&&(c.east.multCost(this.block_full_mult),c.east.isBlocked=!0),c.west&&!c.west.isBlocked&&(c.west.multCost(this.block_full_mult),c.west.isBlocked=!0)):(c.east&&c.east.multCost(this.block_part_mult),c.west&&c.west.multCost(this.block_part_mult)),r.ver?(c.north&&!c.north.isBlocked&&(c.north.multCost(this.block_full_mult),c.north.isBlocked=!0),c.south&&!c.south.isBlocked&&(c.south.multCost(this.block_full_mult),c.south.isBlocked=!0)):(c.north&&c.north.multCost(this.block_part_mult),c.south&&c.south.multCost(this.block_part_mult))}}}}}},Circuits.RouteGraph.prototype.buildGraph=function(){this.constructGridLines(),this.constructGridPoints(),this.applyBlockageCost()},Circuits.RouteGraph.prototype.resetPathCost=function(){for(var e=0;e<this.routeNodes.length;e++)this.routeNodes[e].pathCost=1e5},Circuits.RouteGraph.prototype.resetPrevious=function(){for(var e=0;e<this.routeNodes.length;e++)this.routeNodes[e].previous=null},Circuits.RouteGraph.prototype.resetUsed=function(){for(var e=0;e<this.routeNodes.length;e++)this.routeNodes[e].isUsed=!1},Circuits.RouteGraph.prototype.expandTop=function(e){for(var t=e.pop(),i=0;i<t.neighbors.length;i++){var n=t.neighbors[i],o=t.pathCost+n.cost;t.dir!=n.dir&&(o+=this.path_angle_cost),o<n.pathCost&&(e.push(n,o),n.pathCost=o,n.previous=t)}},Circuits.RouteGraph.prototype.constructRoutingTree=function(){this.routing=[],this.resetPathCost(),this.resetPrevious(),this.resetUsed();var e=this.terminals[0],t=this.points[e.getX()][e.getY()].term;t.isReached=!0,t.isUsed=!0,t.pathCost=0;var i=new n.Heap(!1);i.push(t,0);for(var o=1;o<this.terminals.length;o++){this.points[this.terminals[o].getX()][this.terminals[o].getY()].term.isReached=!1;for(var r=i.top();r&&(r.type!=Circuits.RouteGraph.NodeType.TERM||r.isReached);)this.expandTop(i),r=i.top();if(!r)break;var a=i.top();a.isReached=!0;var s=a;if(!s.previous);for(;s.previous&&!s.previous.isUsed;)if(s=s.previous,s.isUsed=!0,this.routing.push(s),!s.previous);this.resetPathCost(),this.resetPrevious(),i.empty();for(var c=0;c<this.routing.length;c++)i.push(this.routing[c],0),this.routing[c].pathCost=0}for(var o=1;o<this.terminals.length;o++)console.assert(this.points[this.terminals[o].getX()][this.terminals[o].getY()].term.isReached)},Circuits.RouteGraph.prototype.constructRoutingSegmentTree=function(){this.segments=[];for(var e=0;e<this.routing.length;e++){var t=this.routing[e];if(!t.isHorWire()||t.leftNeighbour()&&t.leftNeighbour().isUsed){if(t.isVerWire()&&(!t.upNeighbour()||!t.upNeighbour().isUsed)){var i={};i.x1=t.x1,i.y1=t.y1,i.hor=!1,i.ver=!0;for(var n=t;n.downNeighbour()&&n.downNeighbour().isUsed;)n=n.downNeighbour();i.x2=n.x2,i.y2=n.y2,this.segments.push(i)}}else{var i={};i.x1=t.x1,i.y1=t.y1,i.hor=!0,i.ver=!1;for(var n=t;n.rightNeighbour()&&n.rightNeighbour().isUsed;)n=n.rightNeighbour();i.x2=n.x2,i.y2=n.y2,this.segments.push(i)}}},Circuits.RouteGraph.prototype.calculateIntersections=function(){for(var e=this,t=new n.HashMap(function(e){return e.toString()}),i=0;i<this.routing.length;i++){var r=this.routing[i],a=new o.Coord(r.x1,r.y1),s=new o.Coord(r.x2,r.y2),c=t.get(a);c?t.put(a,c+1):t.put(a,1);var l=t.get(s);l?t.put(s,l+1):t.put(s,1)}this.bollekes=new n.HashSet,t.forEach(function(t,i){i>2&&e.bollekes.add(t)})},Circuits.RouteGraph.prototype.route=function(){var e=this;if(e.terminals.length<2)return void(e.segments=[]);e.blockages=[];var t=e.filterCoreBlockages(e.getBB(),e.all_blockages);do e.blockages=e.blockages.concat(t),e.buildGraph(),e.constructRoutingTree(),e.constructRoutingSegmentTree(),t=e.filterBlockagesOverlappingWithRoutingSegments(e.segments,e.blockages,e.all_blockages);while(0!=t.length);e.calculateIntersections()},Circuits.RouteGraph.prototype.drawGraph=function(e,t){for(var i in this.points)for(var n in this.points[i]){var o=parseFloat(i),r=parseFloat(n),a=function(e){return{fill:"blue",stroke:10>e?"blue":"red",strokeWidth:"1.5",opacity:10>e?.5/e:e/1e3}},s=2.5;this.points[o][r].north&&e.line(t,o,r,o,r-s,a(this.points[o][r].north.costMult)),this.points[o][r].east&&e.line(t,o,r,o+s,r,a(this.points[o][r].east.costMult)),this.points[o][r].south&&e.line(t,o,r,o,r+s,a(this.points[o][r].south.costMult)),this.points[o][r].west&&e.line(t,o,r,o-s,r,a(this.points[o][r].west.costMult))}}}()},function(e,t,i){var n=i(1).config;Circuits.RouterWorkerQueue=function(e){var t=this;this.onsuccess=e,this.schematicNetWorker=new Worker(n.worker),this.workersMutex=0,this.jobs=[],this.is_running=!1,this.schematicNetWorker.onmessage=function(e){e.data&&"error"!=e.data&&t.onsuccess(e),t.mutexChange(),t.runNext(!0)},this.schematicNetWorker.onerror=function(e){t.mutexChange(),t.runNext(!0)}},Circuits.RouterWorkerQueue.prototype.mutexChange=function(){var e=this;e.workersMutex-=1,0===e.workersMutex&&console.log("--- CIRCUIT LOADED ---")},Circuits.RouterWorkerQueue.prototype.runNext=function(e){if(e&&(this.is_running=!1),!this.is_running){var t=this.jobs.pop(0);if(void 0!==t){this.is_running=!0;var i=t.call();this.schematicNetWorker.postMessage(i)}}},Circuits.RouterWorkerQueue.prototype.addToQueue=function(e){this.workersMutex+=1,this.jobs.push(e),this.runNext()},Circuits.RouterWorkerQueue.prototype.isDone=function(){return 0===this.workersMutex}},function(e,t,i){i(727),i(728),i(729),i(730)},function(e,t,i){var n=i(170).inherit;Circuits.SchematicBreadboardEditor=function(e,t,i,n,o){Circuits.SchematicEditor.call(this,e,t,i,n,o),this.setSchematicBreadboardEditor(!0)},Circuits.SchematicBreadboardEditor.prototype=n(Circuits.SchematicEditor.prototype),Circuits.SchematicBreadboardEditor.prototype.constructor=Circuits.SchematicBreadboardEditor,Circuits.SchematicBreadboardEditor.prototype.generateUI=function(){},Circuits.SchematicBreadboardEditor.prototype.createViewFactory=function(){return new Circuits.SchematicBreadboardViewFactory}},function(e,t,i){var n=i(170).inherit;Circuits.SchematicBreadboardNet=function(e,t){Circuits.SchematicNet.call(this,e,t)},Circuits.SchematicBreadboardNet.prototype=n(Circuits.SchematicNet.prototype),Circuits.SchematicBreadboardNet.prototype.constructor=Circuits.SchematicBreadboardNet,Circuits.SchematicBreadboardNet.prototype.onMouseDown=function(e){return!0}},function(e,t,i){var n=i(170).inherit;Circuits.SchematicBreadboardTerminal=function(e,t,i){Circuits.SchematicTerminal.call(this,e,t,i)},Circuits.SchematicBreadboardTerminal.prototype=n(Circuits.SchematicTerminal.prototype),Circuits.SchematicBreadboardTerminal.prototype.constructor=Circuits.SchematicBreadboardTerminal,Circuits.SchematicBreadboardTerminal.prototype.onMouseOver=function(e){},Circuits.SchematicBreadboardTerminal.prototype.onMouseOut=function(e){},Circuits.SchematicBreadboardTerminal.prototype.onMouseDown=function(e){}},function(e,t,i){var n=i(170).create,o=i(170).inherit;Circuits.SchematicBreadboardViewFactory=function(){},Circuits.SchematicBreadboardViewFactory.prototype=o(Circuits.SchematicViewFactory.prototype),Circuits.SchematicBreadboardViewFactory.prototype.constructor=Circuits.SchematicBreadboardViewFactory,Circuits.SchematicBreadboardViewFactory.prototype.newSchematicTerminal=function(){return n(Circuits.SchematicBreadboardTerminal,arguments)},Circuits.SchematicBreadboardViewFactory.prototype.newSchematicNet=function(){return n(Circuits.SchematicBreadboardNet,arguments)}},function(e,t,i){i(733),i(734),i(735),i(736),i(737),i(738),i(739),i(740),i(741),i(732),i(742),i(743),i(744),i(745),i(746),i(747),i(748),i(749)},function(e,t,i){var n=i(170).inherit;Circuits.EinkPath=function(e,t,i,n,o){Circuits.Path.apply(this,arguments)},Circuits.EinkPath.prototype=n(Circuits.Path.prototype),Circuits.EinkPath.prototype.constructor=Circuits.EinkPath,Circuits.EinkPath.prototype.setSelected=function(e){this.selected=e,this.draw()},Circuits.EinkPath.prototype.draw=function(){$(this.svgGroup).empty(),this.gui.svg.add(this.svgGroup,this.data.toSVG()),this.selected?this.gui.svg.change(this.svgGroup,{stroke:"#3b8ed7"}):this.gui.svg.change(this.svgGroup,{stroke:"#bfbfbf"})},Circuits.EinkPath.prototype.showInspector=function(){}},function(e,t,i){var n=i(173),o=i(170).inherit,r=i(410);Circuits.BreadboardLayers={MEASURE:0,PAPER:1,EINK:2,BACKGROUND:3,NET:4,ELEMENT:5,INTERACTION:6,SNAP:7,LINECONTROL:8,PAPERCONTROL:9,EINKCONTROL:10,BACKGROUNDCONTROL:11,ELEMENTCONTROL:12,NETCONTROL:13,MEASURECONTROL:14,INTERACTIONCONTROL:15},Circuits.BreadboardEditor=function(e,t,i,o,a){var s=this;this.type="breadboard",this.circuitEditor=e,this.root=o,this.data=o.circuit,this.editorModel=o.editorModel.breadboard(),s.viewFactory=s.createViewFactory(),this.settings={showTerminals:!1};var c=new n.HashMap;for(var l in Circuits.BreadboardLayers)c.put(Circuits.BreadboardLayers[l],new Circuits.LayerInfo(Circuits.BreadboardLayers[l],!1,null,null));if(c.get(Circuits.BreadboardLayers.ELEMENT).visible=!0,c.get(Circuits.BreadboardLayers.NET).visible=!0,this.groupInfos=this.createGroupInfos(),Circuits.AbstractEditor.call(this,e,t,i,c,a),this.netWithAttention=null,this.einkGroup=this.layers.get(Circuits.BreadboardLayers.EINK).svgGroup,this.backgroundGroup=this.layers.get(Circuits.BreadboardLayers.BACKGROUND).svgGroup,this.elementGroup=this.layers.get(Circuits.BreadboardLayers.ELEMENT).svgGroup,this.netGroup=this.layers.get(Circuits.BreadboardLayers.NET).svgGroup,this.lineControl=this.layers.get(Circuits.BreadboardLayers.LINECONTROL).svgGroup,this.einkControl=this.layers.get(Circuits.BreadboardLayers.EINKCONTROL).svgGroup,this.netControl=this.layers.get(Circuits.BreadboardLayers.NETCONTROL).svgGroup,this.backgroundControl=this.layers.get(Circuits.BreadboardLayers.BACKGROUNDCONTROL).svgGroup,this.elementControl=this.layers.get(Circuits.BreadboardLayers.ELEMENTCONTROL).svgGroup,this.snapGroup=this.layers.get(Circuits.BreadboardLayers.SNAP).svgGroup,this.svg.change(this.einkGroup,{fill:"#bfbfbf",stroke:"#bfbfbf",style:"stroke-linecap:round;stroke-linejoin:round"}),this.svg.change(this.einkControl,{fill:"green",stroke:"green",opacity:0}),this.line=null,this.sourceWell=this.svg.group(),this.sources=new Array,this.overlay_reference=null,this.editorModel.state.onChange("view",function(e){"select"==e()?(s.circuitEditor.simulatorGui.simulatorStopped(),s.circuitEditor.breadboardGui.hideHelp(),s.circuitEditor.code_editor.enableEditing()):"compiling"==e()?(s.circuitEditor.simulatorGui.simulatorCompiling(),s.circuitEditor.code_editor.disableEditing()):"building_model"==e()?(s.circuitEditor.simulatorGui.simulatorCompiling(),s.circuitEditor.code_editor.disableEditing()):"build"==e()?(s.circuitEditor.simulatorGui.compileSuccessfull(),s.circuitEditor.code_editor.disableEditing()):"simulating"==e()&&(s.circuitEditor.simulatorGui.simulatorRunning(),s.circuitEditor.code_editor.disableEditing())},10),this.data.devices.forEach(function(e){s.checkForProgrammableComponent(e)}),this.data.devices.onAdd("view",function(e,t){s.checkForProgrammableComponent(t)},10),this.data.devices.onRemove("view",function(e,t){s.checkToRemoveProgrammableComponent(t)},10),this.editorModel.selection.onAdd("CodeEditorUpdate",function(e,t){t.constructor==Circuits.BreadboardElementData&&s.switchProgrammableComponent(t.parent())},10),s.editorModel.preConnectLine.onChange("view",function(e,t,i){if(s.clearSnap(),i&&i.startTerminal&&i.mouseCoord){var n=i.mouseCoord;if(i.innerPoints){var o=i.innerPoints.slice(0);o.unshift(i.startTerminal.getBreadboardPos()),n=s.editorModel.snapPointAlign(n,o),o.push(n),s.drawBendableWire(o,i.color)}else n=s.editorModel.snapPointAlign(n,[i.startTerminal.getBreadboardPos()]),s.drawBendableWire([i.startTerminal.getBreadboardPos(),n],i.color);i.mouseCoord.x=n.x,i.mouseCoord.y=n.y}else s.removeLine()},10),this.editorModel.deviceJustAdded.onChange("view",function(){circuitsGui.active_overlay&&(s.editorModel.deviceJustAdded()?(circuitsGui.active_overlay.close_overlay(),$(".overlay_container__callout_container").addClass("hidden")):circuitsGui.active_overlay.open_overlay())},10),this.editorModel.tool.onChange("tool",function(){s.circuitEditor.breadboardGui.clearActiveTool(),s.inspector.hide(),s.circuitEditor.breadboardGui.setToolActive(s.editorModel.tool())},10),this.editorModel.circuitscribe_view.onChange(this,function(e,t,i){s.circuitEditor.circuitscribeView&&("wireframe"==s.editorModel.circuitscribe_view()?s.circuitEditor.circuitscribeView.modules_are_hidden():"sketch"==s.editorModel.circuitscribe_view()&&s.circuitEditor.circuitscribeView.modules_are_visible())}),this.editorModel.state.onChange("set component inspector",function(e,t,i){var n="simulating"==i;s.editorModel.elementsInFocus.forEach(function(e){var t=e.getView(s);t.setComponentInspector&&t.setComponentInspector(n)})},10),this.editorModel.circuitscribe_view_dialog.onChange("view",function(e,t,i){s.circuitEditor.circuitscribeView&&t!=i&&s.circuitEditor.circuitscribeView.viewBox.toggleBox()},10),s.editorModel.componentsOverlay.onChange("view",function(e,t,i){i&&(s.editorModel.codeEditorOverlay()&&s.editorModel.codeEditorOverlay(!1),s.editorModel.CSfootprintOverlay()&&s.editorModel.CSfootprintOverlay(!1)),t!=i&&(i?s.circuitEditor.component_search.overlay.open_overlay():(s.circuitEditor.component_search.blurSearch(),s.circuitEditor.component_search.overlay.close_overlay(!1),$(".overlay_container__callout_container").addClass("hidden")))},10),s.editorModel.codeEditorOverlay.onChange("view",function(e,t,i){i&&(s.editorModel.componentsOverlay()&&s.editorModel.componentsOverlay(!1),s.editorModel.CSfootprintOverlay()&&s.editorModel.CSfootprintOverlay(!1)),t!=i&&(i?s.circuitEditor.code_editor.overlay.open_overlay():(s.circuitEditor.code_editor.editorOutOfFocus(),s.circuitEditor.code_editor.overlay.close_overlay(!1)))},10),this.editorModel.code_error.onChange("view",function(e,t,i){i?s.circuitEditor.code_editor.checkForCompileErrors():s.circuitEditor.code_editor.hideAllCompileErrors()}),this.editorModel.simulatorState.onChange("show breakpoints",function(e,t,i){s.circuitEditor.code_editor.programmable_components.length>0&&(i==r.states.PAUSED?(s.editorModel.codeEditorOverlay(!0),s.circuitEditor.code_editor.prepareDebugger()):s.circuitEditor.code_editor.finishDebugger())},10),this.editorModel.simulatorTime.onChange("show simulator time",function(e,t,i){var n=Math.floor(i/3600),o=Math.floor((i-3600*n)/60),a=Math.floor(i-3600*n-60*o),c=Math.floor(1e3*(i-3600*n-60*o-a));10>n&&(n="0"+n),10>o&&(o="0"+o),10>a&&(a="0"+a),100>c&&(c="0"+c),10>c&&(c="0"+c);var l=n+":"+o+":"+a;(s.editorModel.simulatorState()==r.states.PAUSED||s.editorModel.simulatorSlowdown()>3)&&(l+="."+c),s.circuitEditor.breadboardGui.showHelp("Simulator time: "+l)},10),this.editorModel.simulatorSlowdown.onChange("show simulator slowdown",function(e,t,i){},10),s.editorModel.CSfootprintOverlay.onChange("view",function(e,t,i){i&&(s.editorModel.componentsOverlay()&&s.editorModel.componentsOverlay(!1),s.editorModel.codeEditorOverlay()&&s.editorModel.codeEditorOverlay(!1)),t!=i&&(i?s.circuitEditor.template_search.overlay.open_overlay():(s.circuitEditor.template_search.blurSearch(),s.circuitEditor.template_search.overlay.close_overlay(!1)))},10),this.editorModel.searchFocusTrigger.onChange("view",function(){s.editorModel.componentsOverlay()?s.circuitEditor.component_search.focusSearch():s.editorModel.CSfootprintOverlay()&&s.circuitEditor.template_search.focusSearch()},10),this.editorModel.searchOverlayTab.onChange("view",function(e,t,i){s.editorModel.componentsOverlay()&&s.circuitEditor.component_search.open_tab(i),s.editorModel.codeEditorOverlay()&&s.circuitEditor.code_editor.open_tab(i),s.editorModel.CSfootprintOverlay()&&s.circuitEditor.template_search.open_tab(i)}),this.editorModel.snap_info.onChange("snapped",function(e,t,i){if(i){if(i.from.parent){var n=i.from.parent.getView(s);n.setSnapped&&n.setSnapped(!0,i.to.parent)}if(i.to.parent){var n=i.to.parent.getView(s);n.setSnapped&&n.setSnapped(!0,i.from.parent)}}if(t&&(!i||t.from!=i.to&&t.to!=i.to)){if(t.from.parent){var n=t.from.parent.getView(s);n.setSnapped&&n.setSnapped(!1)}if(t.to.parent){var n=t.to.parent.getView(s);n.setSnapped&&n.setSnapped(!1)}}},10),i==Circuits.GuiMode.EDIT&&(!this.data||0==this.data.devices.size())){s.editorModel.componentsOverlay(!0);var d='<div class="overlay_container__callout_container"><p class="overlay_container__callout"><span style="color:#666;font-size:125%;font-weight:500">Select a component below to get started!</span><br/><br/>You can also find pre-made circuits to build from<br/>under <span style="font-weight:500">Starters</span>.</p></div>';s.componentCallout=s.circuitEditor.component_search.overlay.overlay_div.append(d)}},Circuits.BreadboardEditor.prototype=o(Circuits.SchematicEditor.prototype),Circuits.BreadboardEditor.prototype.constructor=Circuits.BreadboardEditor,Circuits.BreadboardEditor.prototype.createGroupInfos=function(){var e=new n.HashMap;for(var t in Circuits.BreadboardLayers)e.put(Circuits.BreadboardLayers[t],new Circuits.GroupInfo(Circuits.BreadboardLayers[t],!0,Circuits.BreadboardLayers[t],null,!0,!0));return e},Circuits.BreadboardEditor.prototype.createViewFactory=function(){return new Circuits.BreadboardViewFactory},Circuits.BreadboardEditor.prototype.checkForProgrammableComponent=function(e){e.breadboard().deviceModelClass&&e.breadboard().deviceModelClass.programmable&&this.circuitEditor.code_editor.addProgrammableComponent(e)},Circuits.BreadboardEditor.prototype.checkToRemoveProgrammableComponent=function(e){e.breadboard().deviceModelClass&&e.breadboard().deviceModelClass.programmable&&this.circuitEditor.code_editor.removeProgrammableComponent(e)},Circuits.BreadboardEditor.prototype.switchProgrammableComponent=function(e){e.breadboard().deviceModelClass&&e.breadboard().deviceModelClass.programmable&&this.circuitEditor.code_editor.switchProgrammableComponent(e)},Circuits.BreadboardEditor.prototype.removeTools=function(){},Circuits.BreadboardEditor.prototype.loadData=function(){Circuits.SchematicEditor.prototype.loadData.call(this)},Circuits.BreadboardEditor.prototype.drawBendableWire=function(e,t){if(this.removeLine(),e.length>1){var i=this.root,n=new Circuits.PathData(i,e[0]);n.independentEndpoints=!0,e.forEach(function(e,t){t>0&&n.addObject(new Circuits.PathObjectData(i,e,Circuits.PathType.BENDABLE))});var o=$(n.toSVG({})).attr("d");this.lineBorder=this.svg.path(this.lineControl,o,{fill:"none",stroke:Circuits.BreadboardWire.ColorMap[t||"green"][1],"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),this.line=this.svg.path(this.lineControl,o,{fill:"none",stroke:Circuits.BreadboardWire.ColorMap[t||"green"][0],"stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})}},Circuits.BreadboardEditor.prototype.drawLine=function(e,t,i,n){this.removeLine(),this.lineBorder=this.svg.line(this.lineControl,e,t,i,n,{fill:"green",stroke:"#369936",strokeWidth:"2.5","stroke-linecap":"round"}),this.line=this.svg.line(this.lineControl,e,t,i,n,{fill:"green",stroke:"#40b942",strokeWidth:"1.8","stroke-linecap":"round"})},Circuits.SchematicEditor.prototype.removeLine=function(){this.line&&$(this.line).remove(),this.lineBorder&&$(this.lineBorder).remove()},Circuits.BreadboardEditor.prototype.drawBoundingBox=function(e){this.svg.rect(this.layers.get(Circuits.BreadboardLayers.SNAP).svgGroup,e.x,e.y,e.width,e.height,0,0,{strokeWidth:2,fill:"none",stroke:"green"})}},function(e,t,i){var n=i(173),o=i(170).debug_opacity,r=i(170).inherit,a=i(190);Circuits.BreadboardElementGroups={ELEMENT:0,LABEL:1,CONTROL:2,BACKGROUND:3,BACKGROUNDCONTROL:4,EINK:5,EINKCONTROL:6,INTERACTIONCONTROL:7},Circuits.BreadboardElement=function(e,t,i){function n(){r.bboxCache=null,r.data.isLife()&&(r.setTransform(),r.getTerminals().forEach(function(e){e.data.wires.forEach(function(e){e.getView(r.gui).draw()})}),r.gui.circuitEditor&&r.gui.circuitEditor.flashSchematicWarningIfNeeded())}var r=this;switch(Circuits.AbstractElement.call(this,e,t,null,i),this.data.registerView(e,this),this.device=this.data.parent().getDescription().device,this.description=this.data.getDescription(),this.subdevice=this.description,this.symbol=this.description,this.type=this.description.symbol_type,this.type){case"breadboard_background":case"circuitscribe_module":this.outerGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.BACKGROUND).svgGroup,this.controlGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.BACKGROUNDCONTROL).svgGroup;break;case"schematic":console.warn("Warning: symbol_type of "+this.device.name+" breadboard component cannot be 'schematic'");case"breadboard":this.outerGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.ELEMENT).svgGroup,this.controlGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.CONTROL).svgGroup;break;case"eink_footprint":this.outerGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.EINK).svgGroup,this.controlGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.EINKCONTROL).svgGroup}this.interactionControlGroup=this.getGroupInfo(Circuits.BreadboardElementGroups.INTERACTIONCONTROL).svgGroup,this.group=this.gui.svg.group(this.outerGroup,this.id),this.symbolGroup=this.gui.svg.group(this.group);this.gui.svg.add(this.symbolGroup,this.symbol.svg);this.gui.svg.change(this.controlGroup,{opacity:o}),this.gui.svg.change(this.interactionControlGroup,{opacity:o});var a=$(".selected,.cgfx__hitarea",r.group);if(a.length>0){var s=SvgHelpers.cloneWithTransformations(this.gui.svg,this.controlGroup,a);s.attr("display","inline")}else{switch(this.type){case"breadboard_background":case"circuitscribe_module":var c=this.internalbbox(Circuits.BreadboardElementGroups.BACKGROUND);break;case"breadboard":c=this.internalbbox(Circuits.BreadboardElementGroups.ELEMENT);break;case"eink_footprint":}c&&this.gui.svg.rect(this.controlGroup,c.x1,c.y1,c.x2-c.x1,c.y2-c.y1,0,0,{display:"inline",opacity:"0",fill:"blue",stroke:"none"})}for(var l=0;l<this.subdevice.schematic_symbol_terminals_attributes.length;l++){var d=this.subdevice.schematic_symbol_terminals_attributes[l];switch(d.terminal_type){case"lbmagnetic-in":case"lbmagnetic-out":var u=new Circuits.littlebitsMagnetTerminal(r,d,t.parent().getTerminalBBID(d.id));break;case"circuitscribe_magnet":var u=new Circuits.CircuitsScribeMagnetTerminal(r,d,t.parent().getTerminalBBID(d.id));break;case"eink_pad":var u=new Circuits.EinkPadTerminal(r,d,t.parent().getTerminalBBID(d.id));break;case"breadboard":case"breadboard_female":u=r.gui.viewFactory.newSchematicTerminal(r,d,t.parent().getTerminalBBID(d.id))}this.terminals.add(u),this.name2terminal.put(d.name,u)}this.dynamicView=new r.data.deviceModelClass.View(r,r.data.parent(),r.data.dynamicModel,e.editorModel),this.data.pos.onChange(this,n,10),this.data.angle.onChange(this,n,10),this.data.flip.onChange(this,n,10),this.data.parent().name.onChange(this,function(){r.data.isLife()&&r.gui.circuitEditor&&r.gui.circuitEditor.flashSchematicWarningIfNeeded()},10),this.data.parent().properties.onPut(this,function(){r.data.isLife()&&r.gui.circuitEditor&&r.gui.circuitEditor.flashSchematicWarningIfNeeded()},10),this.data.onDie(r,function(){"breadboard_arduino"==r.subdevice.name&&r.gui.circuitEditor.code_editor.removeProgrammableComponent(r),r.gui.inspector.hide(),r.gui.circuitEditor&&r.gui.circuitEditor.flashSchematicWarningIfNeeded()},10),"circuitscribe_module"==this.type&&(r.gui.editorModel.circuitscribe_view.onChange(this,function(e,t,i){r.changeCircuitScribeView(i)}),r.changeCircuitScribeView(r.gui.editorModel.circuitscribe_view())),r.setComponentInspector(!1)},Circuits.BreadboardElement.prototype=r(Circuits.AbstractElement.prototype),Circuits.BreadboardElement.prototype.constructor=Circuits.BreadboardElement,Circuits.BreadboardElement.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.BreadboardElementGroups.ELEMENT,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.ELEMENT,!1,Circuits.BreadboardLayers.ELEMENT,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.BACKGROUND,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.BACKGROUND,!1,Circuits.BreadboardLayers.BACKGROUND,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.LABEL,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.LABEL,!1,Circuits.BreadboardLayers.ELEMENT,null,!0,!1)),e.put(Circuits.BreadboardElementGroups.CONTROL,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.CONTROL,!0,Circuits.BreadboardLayers.ELEMENTCONTROL,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.BACKGROUNDCONTROL,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.BACKGROUNDCONTROL,!0,Circuits.BreadboardLayers.BACKGROUNDCONTROL,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.EINK,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.EINK,!1,Circuits.BreadboardLayers.EINK,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.EINKCONTROL,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.EINKCONTROL,!0,Circuits.BreadboardLayers.EINKCONTROL,null,!0,!0)),e.put(Circuits.BreadboardElementGroups.INTERACTIONCONTROL,new Circuits.GroupInfo(Circuits.BreadboardElementGroups.INTERACTIONCONTROL,!0,Circuits.BreadboardLayers.INTERACTIONCONTROL,null,!0,!0)),e},Circuits.BreadboardElement.prototype.positionLabels=function(){function e(){for(var e=0;e<o.length&&!n[o[e]];e++);return n[o[e]]=!1,o[e]}function t(e,t){var n=i.gui.svg.group(i.labelGroup);i.gui.svg.text(n,0,0,e);i.gui.svg.change(n,{style:"text-anchor: middle;font-family: verdana; font-size : 10px;"});var o,r=i.bbox(),a=0,s=0;switch(t){case 0:case 1:case 7:o="text-anchor: start;font-family: verdana; font-size : 10px;";break;case 3:case 4:case 5:o="text-anchor: end;font-family: verdana; font-size : 10px;";break;case 2:case 6:o="text-anchor: middle;font-family: verdana; font-size : 10px;";break;default:o="text-anchor: middle;font-family: verdana; font-size : 10px;"}i.gui.svg.change(n,{style:o});var c,l=3,d=0;try{c=n.getBBox()}catch(u){c={x:0,y:0,width:0,height:0}}switch(t){case 0:case 1:case 7:a=r.getXMax()+l;break;case 4:case 3:case 5:a=r.getXMin()-l;break;case 2:case 6:a=(r.getXMax()+r.getXMin())/2}switch(t){case 0:case 4:s=(r.getYMax()+r.getYMin())/2-c.y-c.height/2;break;case 5:case 6:case 7:s=r.getYMin()-c.y-c.height-d;break;case 1:case 2:case 3:s=r.getYMax()-c.y+d}a-=i.data.pos().x,s-=i.data.pos().y,i.gui.svg.change(n,{transform:"translate("+a+","+s+")"})}var i=this,n=[!0,!0,!0,!0,!0,!0,!0,!0],o=[6,2,0,1,7,4,3,5];$(this.labelGroup).empty(),n[7]=!1,this.getTerminals().forEach(function(e){0==e.getDir()?n[0]=!1:90==e.getDir()?n[2]=!1:180==e.getDir()?n[4]=!1:270==e.getDir()&&(n[6]=!1)});var r=this.gui.svg.createText(),a=!0;if("nolabel"!=this.device.base&&"LABELNO"!=this.device.base){if("none"==this.device.base||"LABEL"==this.device.base)r.span(this.data.parent().name(),{});else{r.span(this.device.base,{});var s=[];this.data.parent().name()&&s.push(this.data.parent().name()),this.data.parent().subdevice.size()>1&&this.description.name&&s.push(this.description.name),r.span(s.join("_"),{dy:"3","font-size":"8px"})}a=!1}i.data.parent().properties.forEach(function(e,t){if(t.show){var i=t.unit;"ohm"==i&&(i="Ω");var n=t.prefix;n&&"none"!=n||(n=""),"u"==n&&(n="μ");var o=t.value;i&&(o+=n+i),r.span(o,{x:0,dy:12}),a=!1}}),a||t(r,e())},Circuits.BreadboardElement.prototype.disconnect=function(){this.getTerminals().forEach(function(e){if(e.hasNet()){var t=e.getNet();e.disconnect(),t.size()<2&&this.gui.removeNet(t)}})},Circuits.BreadboardElement.prototype.redrawNets=function(){var e=this;e.getTerminals().forEach(function(e){e.redrawNet()})},Circuits.BreadboardElement.prototype.bbox=function(){if(!this.bboxCache){var e;try{e=this.symbolGroup.getBBox()}catch(t){e={x:0,y:0,width:0,height:0}}var i=e.x,n=e.x+e.width,o=e.y,r=e.y+e.height,s=new a.Coord(this.data.flip()*i,o),c=new a.Coord(this.data.flip()*n,r),l=s.rotate(this.data.angle()),d=c.rotate(this.data.angle());i=Math.min(l.x,d.x),n=Math.max(l.x,d.x),o=Math.min(l.y,d.y),r=Math.max(l.y,d.y),i+=this.data.pos().x,n+=this.data.pos().x,o+=this.data.pos().y,r+=this.data.pos().y,this.getTerminals().forEach(function(e){e.getX()<i&&(i=e.getX()),e.getX()>n&&(n=e.getX()),e.getY()<o&&(o=e.getY()),e.getY()>r&&(r=e.getY())}),this.bboxCache=new a.BoundingBox(i,o,n-i,r-o)}return this.bboxCache},Circuits.BreadboardElement.prototype.removeTools=function(){$(this.toolsGroup).empty(),this.getTerminals().forEach(function(e){e.removeTools()})},Circuits.BreadboardElement.prototype.removeFromSVG=function(){$(this.outerGroup).remove(),$(this.controlGroup).remove()},Circuits.BreadboardElement.prototype.showInspector=function(){var e=[{label:"Name",type:Circuits.inspectorInputType.TEXT,datamember:this.data.parent().deviceName}];this.data.parent().propertiesShadow.forEach(function(t,i){e.push({label:i.name,type:i.type,datamember:i.valueMember,unitmember:i.unitMember,list:i.list,unit:i.unit})}),"oscilloscoop_bb"==this.subdevice.name&&e.push({label:"Autoscale",type:Circuits.inspectorInputType.CHECKBOX,datamember:this.data.dynamicModel.autoscale});var t={name:this.device.name,version_root_id:this.device.version_root_id,summary:this.device.summary,usage:this.device.usage};this.gui.inspector.buildAndShow(e,t)},Circuits.BreadboardElement.prototype.changeCircuitScribeView=function(e){var t=this;switch(e){case"sketch":$(".cgfx__sketchview",this.group).attr("display","inline"),$(".cgfx__sketchview",this.controlGroup).attr("display","inline"),$(".cgfx__wireframeview",this.group).attr("display","none"),$(".cgfx__wireframeview",this.controlGroup).attr("display","none"),this.data.parent().terminals.forEach(function(e,i){
var n=i.getView(t.gui);n.constructor==Circuits.CircuitsScribeMagnetTerminal&&$(n.mouseOverArea).attr("display","inline")});break;case"wireframe":$(".cgfx__sketchview",this.group).attr("display","none"),$(".cgfx__sketchview",this.controlGroup).attr("display","none"),$(".cgfx__wireframeview",this.group).attr("display","inline"),$(".cgfx__wireframeview",this.controlGroup).attr("display","inline"),this.data.parent().terminals.forEach(function(e,i){var n=i.getView(t.gui);n.constructor==Circuits.CircuitsScribeMagnetTerminal&&$(n.mouseOverArea).attr("display","none")})}},Circuits.BreadboardElement.prototype.setSelected=function(e){var t=this,i=e?"inline":"none";$(".selected,.cgfx__selected",t.group).length>0?$(".selected,.cgfx__selected",t.group).attr("display",i):this.groupInfos.forEach(function(i,n){e===!0?(t.gui.svg.change(n.svgGroup,{stroke:"black"}),t.gui.svg.change(n.svgGroup,{"stroke-opacity":.6})):(t.gui.svg.change(n.svgGroup,{stroke:""}),t.gui.svg.change(n.svgGroup,{"stroke-opacity":""}))})},Circuits.BreadboardElement.prototype.setFocus=function(e){var t=e&&"simulating"==this.gui.editorModel.state();this.setComponentInspector(t)},Circuits.BreadboardElement.prototype.setGroupHighlighting=function(e,t){var i=t?"inline":"none";$(".cgfx__terminalgrouphighlight-"+e,this.group).attr("display",i)},Circuits.BreadboardElement.prototype.setComponentInspector=function(e){var e=e?"inline":"none";$(".cgfx__inspector",this.group).attr("display",e),$(".cgfx__inspector",this.interactionControlGroup).attr("display",e)}},function(e,t,i){var n=i(173);Circuits.BreadboardGroup=function(e,t,i){var o=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i),this.inFocus=!1,this.elements=new n.HashSet,this.loadData(this.data.circuit),this.data.number_of_layers.onChange(o,function(){var e=new n.HashSet;e.add("undo"),e.add("share"),o.data.root.circuit.removeAllHandlersExcept_rec(e),o.data.root.newIndexes(),o.data.root.circuit.init_rec(),o.gui.circuitEditor.startEditors(o.gui.circuitEditor.stateMachine),o.gui.circuitEditor.getVisibleEditor().holder.focus()}),this.data.devices.onAdd(o,function(e,t){if(t.breadboard()){o.gui.viewFactory.newSchematicElement(o.gui,t.breadboard(),o)}},10),this.data.devices.onRemove(o,function(e,t){t.breadboard().getView(o.gui).removeSvg()},10),this.data.wires.onAdd(o,function(e,t){o.gui.viewFactory.newWire(o.gui,t)},10),this.data.wires.onRemove(o,function(e,t){var i=t.getView(o.gui);i&&i.remove()},10)},extend(Circuits.BreadboardGroup,Circuits.DrawingElement),Circuits.BreadboardGroup.getGroupInfos=function(){var e,t=new n.HashMap;for(e in Circuits.BreadboardLayers)t.put(Circuits.BreadboardLayers[e],new Circuits.GroupInfo(Circuits.BreadboardLayers[e],!0,Circuits.BreadboardLayers[e],null,!0,!0));return t},Circuits.BreadboardGroup.prototype.loadData=function(e){var t=this;if(e||(e=this.data),e.devices.forEach(function(i){try{if(i.breadboard()){t.gui.viewFactory.newSchematicElement(t.gui,i.breadboard(),t)}}catch(n){console.log("Removing broken device"),e.devices.remove(i)}}),"circuitscribe"==e.circuit_type()){var i=[Circuits.BreadboardLayers.EINK,Circuits.BreadboardLayers.EINKCONTROL,Circuits.BreadboardLayers.INTERACTION,Circuits.BreadboardLayers.INTERACTIONCONTROL];t.connectView(Circuits.EinkPathData,e.eink().elements,Circuits.EinkPath,i),t.connectView(Circuits.PathInteractionModel,e.eink().elements,Circuits.PathInteraction,i),e.breadboardpaper()&&(view=new Circuits.BreadboardPaper(t.gui,e.breadboardpaper(),t),t.add(view))}if("breadboard"==e.circuit_type()){var n=[Circuits.BreadboardLayers.NET,Circuits.BreadboardLayers.NETCONTROL,Circuits.BreadboardLayers.INTERACTION,Circuits.BreadboardLayers.INTERACTIONCONTROL];t.connectView(Circuits.PathInteractionModel,e.wires,Circuits.PathInteraction,n)}e.wires.forEach(function(e){t.gui.viewFactory.newWire(t.gui,e,t)})},Circuits.BreadboardGroup.prototype.add=function(e){this.elements.add(e)},Circuits.BreadboardGroup.prototype.setSelected=function(e){this.elements.forEach(function(t){t.setSelected(e)})},Circuits.BreadboardGroup.prototype.setInFocus=function(e){this.inFocus=e,this.gui.setGroupInFocus(this)},Circuits.BreadboardGroup.prototype.isInFocus=function(){return this.inFocus},Circuits.BreadboardGroup.prototype.getPos=function(){var e=new n.HashSet;this.elements.forEach(function(t){t.getPos&&e.add(t)});var t=e.collect(function(e){return e.getPos()}),i=new Geometry.PointSet(t).centroid();return i},Circuits.BreadboardGroup.prototype.getSnapLines=function(){var e=new Circuits.SnaplineSet;return this.elements.forEach(function(t){t.getSnapLines&&e.addAll(t.getSnapLines())}),e}},function(e,t,i){var n=i(179);Circuits.BreadboardPaper=function(e,t,i){var n=this;n.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i),this.group=this.getGroupInfo(Circuits.BreadboardLayers.PAPER).svgGroup,this.controlGroup=this.getGroupInfo(Circuits.BreadboardLayers.PAPERCONTROL).svgGroup,this.data.paperType.onChange(this,function(e,t,i){n.draw()},10),n.draw(),this.data.visible.onChange(this,function(e,t,i){n.setVisible(i)},10),n.setVisible(n.data.visible()),this.gui.editorModel.viewS.onChange(n,function(){var e=1+4/n.gui.editorModel.viewS();n.controlRect&&$(n.controlRect).attr("stroke-width",e)},10)},extend(Circuits.BreadboardPaper,Circuits.DrawingElement),Circuits.BreadboardPaper.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.BreadboardLayers.PAPER,new Circuits.GroupInfo(Circuits.BreadboardLayers.PAPER,!1,Circuits.BreadboardLayers.PAPER,null,!0,!0)),e.put(Circuits.BreadboardLayers.PAPERCONTROL,new Circuits.GroupInfo(Circuits.BreadboardLayers.PAPERCONTROL,!0,Circuits.BreadboardLayers.PAPERCONTROL,null,!0,!0)),e},Circuits.BreadboardPaper.prototype.draw=function(){var e=this;$(this.group).empty(),$(this.controlGroup).empty();var t=this.data.upperLeft(),i=this.data.width(),n=this.data.height(),o=this.data.margin(),r=1+4/e.gui.editorModel.viewS();this.outRect=this.gui.svg.rect(this.group,t.x,t.y,i,n,0,0,{fill:"white",stroke:"black",strokeWidth:"1"}),this.inRect=this.gui.svg.rect(this.group,t.x+o,t.y+o,i-2*o,n-2*o,0,0,{fill:"white",stroke:"red",strokeWidth:"1"}),e.data.selected===!0?e.gui.svg.change(e.outRect,{stroke:"#3b8ed7",strokeWidth:"3.5"}):e.gui.svg.change(e.outRect,{stroke:"black",strokeWidth:"1"}),this.controlRect=this.gui.svg.rect(e.controlGroup,t.x,t.y,i,n,0,0,{fill:"none",stroke:"green",strokeWidth:r,opacity:"0"}),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlRect).mousedown(function(t){return e.onMouseDown(t)})},Circuits.BreadboardPaper.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.BreadboardPaper.prototype.setVisible=function(e){e?($(this.group).show(),$(this.controlGroup).show(),this.gui.circuitEditor.circuitscribeView.paper_is_visible()):($(this.group).hide(),$(this.controlGroup).hide(),this.gui.circuitEditor.circuitscribeView.paper_is_hidden())},Circuits.BreadboardPaper.prototype.setSelected=function(e){this.data.selected=e,this.draw()},Circuits.BreadboardPaper.prototype.showInspector=function(){var e=[{label:"Type",type:Circuits.inspectorInputType.SELECTBOX,datamember:this.data.paperType,list:this.data.paperTypes}],t={name:"Paper"};this.gui.inspector.buildAndShow(e,t)}},function(e,t,i){var n=i(170).inherit;Circuits.BreadboardTerminal=function(e,t,i){Circuits.SchematicTerminal.call(this,e,t,i),this.draw()},Circuits.BreadboardTerminal.prototype=n(Circuits.SchematicTerminal.prototype),Circuits.BreadboardTerminal.prototype.constructor=Circuits.BreadboardTerminal,Circuits.BreadboardTerminal.prototype.getX=function(){return this.data.getBreadboardX()},Circuits.BreadboardTerminal.prototype.getY=function(){return this.data.getBreadboardY()},Circuits.BreadboardTerminal.prototype.getPos=function(){return this.data.getBreadboardPos()},Circuits.BreadboardTerminal.prototype.getDir=function(){return this.data.getBreadboardDir()},Circuits.BreadboardTerminal.prototype.getNet=function(){return this.data.getSubNet().getView(this.gui)},Circuits.BreadboardTerminal.prototype.draw=function(){var e=this,t=7,i=8;if(this.rect=this.gui.svg.rect(this.group,-t/2,-t/2,t,t,0,0,{fill:"red",stroke:"black",strokeWidth:"2"}),this.mouseOverArea=this.gui.svg.rect(this.controlGroup,-i/2,-i/2,i,i,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"}),this.gui.mode==Circuits.GuiMode.EDIT&&("breadboard"==this.description.terminal_type||"breadboard_female"==this.description.terminal_type)){var n=$(this.mouseOverArea);n.mouseover(function(t){return e.data.isLabel()&&e.ouder.setGroupHighlighting(e.data.getLabel().split("_")[0],!0),e.onMouseOver(t)}),n.mouseout(function(t){return e.data.isLabel()&&e.ouder.setGroupHighlighting(e.data.getLabel().split("_")[0],!1),e.onMouseOut(t)}),e.data.isLabel()||(n.attr("title",e.description.name),n.tipsy&&n.tipsy({gravity:"n",offset:3,zoom_stuff:e.gui.zoom_stuff})),n.mousedown(function(t){return e.onMouseDown(t)})}}},function(e,t,i){var n=i(170).create,o=i(170).inherit;Circuits.BreadboardViewFactory=function(){},Circuits.BreadboardViewFactory.prototype=o(Circuits.SchematicViewFactory.prototype),Circuits.BreadboardViewFactory.prototype.constructor=Circuits.BreadboardViewFactory,Circuits.BreadboardViewFactory.prototype.newSchematicTerminal=function(){return n(Circuits.BreadboardTerminal,arguments)},Circuits.BreadboardViewFactory.prototype.newSchematicNet=function(){return null},Circuits.BreadboardViewFactory.prototype.newWire=function(){return n(Circuits.BreadboardWire,arguments)},Circuits.BreadboardViewFactory.prototype.newSchematicElement=function(){return n(Circuits.BreadboardElement,arguments)},Circuits.BreadboardViewFactory.prototype.newSchematicGroup=function(){return n(Circuits.BreadboardGroup,arguments)}},function(e,t,i){var n=i(173),o=i(170).inherit;Circuits.BreadboardWireGroups={WIRE:0,CONTROL:1},Circuits.BreadboardWire=function(e,t){var i=this,o=new n.HashMap;o.put(Circuits.BreadboardWireGroups.WIRE,new Circuits.GroupInfo(Circuits.BreadboardWireGroups.WIRE,!1,Circuits.BreadboardLayers.NET,null,!0,!0)),o.put(Circuits.BreadboardWireGroups.CONTROL,new Circuits.GroupInfo(Circuits.BreadboardWireGroups.CONTROL,!1,Circuits.BreadboardLayers.NETCONTROL,null,!0,!0)),Circuits.AbstractNet.call(this,e,t,o),this.data.registerView(e,this),this.group=this.groups.get(Circuits.BreadboardWireGroups.WIRE).svgGroup,this.controlGroup=this.groups.get(Circuits.BreadboardWireGroups.CONTROL).svgGroup,this.netLines=this.gui.svg.group(this.group),this.mouseOverArea=this.gui.svg.group(this.controlGroup),this.data.begin.onChange(this,function(){i.draw()},10),this.data.end.onChange(this,function(){i.draw()},10),this.data.color.onChange(this,function(){i.draw(),(i.selected||i.hasSelectedHandles())&&i.drawHandles()},10),this.data.onDie(i,function(){i.gui.inspector.hide()},10),this.draw(),this.svgGroup=this.group,this.data.onBubble("view",function(){i.data.isLife()&&i.draw()},10)},Circuits.BreadboardWire.prototype=o(Circuits.AbstractNet.prototype),Circuits.BreadboardWire.prototype.constructor=Circuits.BreadboardWire,extend(Circuits.BreadboardWire,Circuits.Path),extend(Circuits.BreadboardWire,Circuits.DrawingElement),Circuits.BreadboardWire.ColorMap={black:["#3C4042","#171919"],red:["#EC2222","#C11F1F"],orange:["#F78300","#CC6600"],yellow:["#FFDF01","#CCAE02"],green:["#40B942","#369936"],turquoise:["#71cedc","#58a1a8"],blue:["#009ed9","#007ea5"],indigo:["#3853a5","#283c70"],purple:["#7f3b9a","#522866"],pink:["#d9288c","#a52073"],brown:["#aa7b4c","#755335"],grey:["#999ea1","#63696b"],white:["#ffffff","#b8b8b8"]},Circuits.BreadboardWire.prototype.setSelected=function(e){var t=this;t.selected!=e&&(t.selected=e,t.data.interactionModel&&t.data.interactionModel.infocus&&t.data.interactionModel.infocus(e),t.draw(e))},Circuits.BreadboardWire.prototype.hasSelectedHandles=function(){var e=this,t=!1;return this.data.interactionModel&&this.data.interactionModel.handles&&this.data.interactionModel.handles.forEach(function(i,n){var o=n.getView(e.gui);o&&o.selected&&(t=!0)}),t},Circuits.BreadboardWire.prototype.setHighlight=function(e){this.highlight&&$(this.highlight).attr("opacity",e||this.selected||this.hasSelectedHandles()?.5:0)},Circuits.BreadboardWire.prototype.draw=function(e){if(this.highlight=null,$(this.netLines).empty(),$(this.mouseOverArea).empty(),e=null===e||void 0===e?this.selected:e,!this.data.insert()&&this.data.begin()&&this.data.end()){var t=$(this.data.toSVG({})).attr("d");this.highlight=this.gui.svg.path(this.netLines,t,{fill:"none",stroke:"#3b8ed7","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round",opacity:e?.5:0}),this.gui.svg.path(this.netLines,t,{fill:"none",stroke:this.borderColor(),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),this.gui.svg.path(this.netLines,t,{fill:"none",stroke:this.color(),"stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})}},Circuits.BreadboardWire.prototype.drawHandles=function(){var e=this;e.data.interactionModel.handles.forEach(function(t,i){i.views.get(e.gui).draw()})},Circuits.BreadboardWire.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data.interactionModel?this.data.interactionModel:this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.BreadboardWire.prototype.removeToolAction=function(){this.data.remove()},Circuits.BreadboardWire.prototype.showInspector=function(){var e=[{label:"Color",type:Circuits.inspectorInputType.SELECTBOX,datamember:this.data.color,list:this.data.colors}],t={name:"Breadboardwire"};this.gui.inspector.buildAndShow(e,t)},Circuits.BreadboardWire.prototype.color=function(){return Circuits.BreadboardWire.ColorMap[this.data.color()][0]||this.data.color()},Circuits.BreadboardWire.prototype.borderColor=function(){return Circuits.BreadboardWire.ColorMap[this.data.color()][1]||"darkslategray"}},function(e,t,i){var n=i(170).inherit;Circuits.CircuitsScribeMagnetTerminal=function(e,t,i){var n=this;Circuits.SchematicTerminal.call(this,e,t,i),this.data.subnet.onChange(this,function(e,t,i){n.drawState()},10),this.draw()},Circuits.CircuitsScribeMagnetTerminal.prototype=n(Circuits.SchematicTerminal.prototype),Circuits.CircuitsScribeMagnetTerminal.prototype.constructor=Circuits.CircuitsScribeMagnetTerminal,Circuits.CircuitsScribeMagnetTerminal.prototype.getX=function(){return this.data.getBreadboardX()},Circuits.CircuitsScribeMagnetTerminal.prototype.getY=function(){return this.data.getBreadboardY()},Circuits.CircuitsScribeMagnetTerminal.prototype.getPos=function(){return this.data.getBreadboardPos()},Circuits.CircuitsScribeMagnetTerminal.prototype.getDir=function(){return this.data.getBreadboardDir()},Circuits.CircuitsScribeMagnetTerminal.prototype.getNet=function(){return this.data.getSubNet().getView(this.gui)},Circuits.CircuitsScribeMagnetTerminal.prototype.draw=function(){var e=this;$(this.mouseOverArea).remove(),this.mouseOverArea=this.gui.svg.circle(this.controlGroup,0,0,15,{fill:"#ff0000",fillOpacity:"0",stroke:"none"}),this.drawState(),this.gui.mode==Circuits.GuiMode.EDIT&&($(this.mouseOverArea).mouseover(function(t){return e.onMouseOver(t)}),$(this.mouseOverArea).mouseout(function(t){return e.onMouseOut(t)}),$(this.mouseOverArea).attr("title",e.description.name),$(this.mouseOverArea).tipsy({gravity:"n",offset:3,zoom_stuff:e.gui.zoom_stuff}),$(this.mouseOverArea).mousedown(function(t){return e.onMouseDown(t)}))},Circuits.CircuitsScribeMagnetTerminal.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN).fromJSEvent(e).element("terminal",this.data);return this.gui.stateMachine.handle(t),!1},Circuits.CircuitsScribeMagnetTerminal.prototype.drawState=function(){var e=this.description.name,t=null;t=this.data.subnet()?"connected":"unconnected","connected"==t?($(".cgfx__"+e+".cgfx__terminalstate-connected",this.ouder.outerGroup).show(),$(".cgfx__"+e+".cgfx__terminalstate-unconnected",this.ouder.outerGroup).hide(),$(".cgfx__"+e+".cgfx__terminalstate-hover",this.ouder.outerGroup).hide()):"unconnected"==t?($(".cgfx__"+e+".cgfx__terminalstate-connected",this.ouder.outerGroup).hide(),$(".cgfx__"+e+".cgfx__terminalstate-unconnected",this.ouder.outerGroup).show(),$(".cgfx__"+e+".cgfx__terminalstate-hover",this.ouder.outerGroup).hide()):console.log("Trouble")},Circuits.CircuitsScribeMagnetTerminal.prototype.setHighlight=function(e){var t=this,i=this.description.name;e?($(".cgfx__"+i+".cgfx__terminalstate-connected",this.ouder.outerGroup).hide(),$(".cgfx__"+i+".cgfx__terminalstate-unconnected",this.ouder.outerGroup).hide(),$(".cgfx__"+i+".cgfx__terminalstate-hover",this.ouder.outerGroup).show()):t.drawState()}},function(e,t,i){var n=i(170).inherit;Circuits.EinkPadTerminal=function(e,t,i){Circuits.SchematicTerminal.call(this,e,t,i),this.draw()},Circuits.EinkPadTerminal.prototype=n(Circuits.SchematicTerminal.prototype),Circuits.EinkPadTerminal.prototype.constructor=Circuits.EinkPadTerminal,Circuits.EinkPadTerminal.prototype.getX=function(){return this.data.getBreadboardX()},Circuits.EinkPadTerminal.prototype.getY=function(){return this.data.getBreadboardY()},Circuits.EinkPadTerminal.prototype.getPos=function(){return this.data.getBreadboardPos()},Circuits.EinkPadTerminal.prototype.draw=function(){var e=this;this.mouseOverArea=this.gui.svg.circle(this.controlGroup,0,0,12.5,{fill:"#ff0000",fillOpacity:"0",stroke:"none"}),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.mouseOverArea).mousedown(function(t){return e.onMouseDown(t)})},Circuits.EinkPadTerminal.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.ouder.data).element("terminal",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e)).data("isEinkPad",!0);return this.gui.stateMachine.handle(t)},Circuits.EinkPadTerminal.prototype.setHighlight=function(e){}},function(e,t){!function(e,t,i){e.exportEagleBoard=function(e,i,n){var o=this;this.gui=e,this.baseName=e.root.editorModel.meta("name")||"circuit",this["export"]=function(){var e=o.gui.data.eagleBreadboardExport();console.log(".BRD download"),o.$download.attr("href","data:application/octet-stream,"+encodeURIComponent(e)),o.$download.attr("download",o.baseName+".brd"),o.$download[0].click()},t(i).click(function(){var e=new Circuits.ModalDialog(t(o.gui.guiholder),"Download",[{title:"Download an EAGLE .BRD for circuit board layout.",buttons:[{text:".BRD","class":"editor__modal__block__button__file_type",close:!0,action:function(){o["export"]()}}]}]);o.$download=t('<a class="js-eagle-board-export-download-brd-internal hidden"></a>'),e.$dialog.append(o.$download)})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(170).inherit;Circuits.littlebitsMagnetTerminal=function(e,t,i){var n=this;this.connectedToLittlebits=!1,this.connectorGroup=$(".cgfx__connector.cgfx__connector-"+t.name,e.symbolGroup)[0],Circuits.BreadboardTerminal.call(this,e,t,i),this.data.subnet.onBubble(this,function(e,t,i){n.checkTerminalState(),n.drawState()},10),this.checkTerminalState(),this.draw()},Circuits.littlebitsMagnetTerminal.prototype=n(Circuits.BreadboardTerminal.prototype),Circuits.littlebitsMagnetTerminal.prototype.constructor=Circuits.littlebitsMagnetTerminal,Circuits.littlebitsMagnetTerminal.prototype.draw=function(){var e=this,t=8;$(this.mouseOverArea).remove(),this.mouseOverArea=this.gui.svg.rect(this.controlGroup,-t/2,-t/2,t,t,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});this.description.name;this.drawState(),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.mouseOverArea).mousedown(function(t){return e.onMouseDown(t)})},Circuits.littlebitsMagnetTerminal.prototype.checkTerminalState=function(){var e=this;this.connectedToLittlebits=!1,this.data.subnet()&&(e.connectedToLittlebits=!0)},Circuits.littlebitsMagnetTerminal.prototype.drawState=function(){this.description.name;this.connectedToLittlebits?($(".cgfx__terminalstate-connected",this.connectorGroup).show(),$(".cgfx__terminalstate-unconnected",this.connectorGroup).hide()):($(".cgfx__terminalstate-connected",this.connectorGroup).hide(),$(".cgfx__terminalstate-unconnected",this.connectorGroup).show())},Circuits.littlebitsMagnetTerminal.prototype.setSnapped=function(e,t){e&&t&&t.constructor==Circuits.TerminalData&&"lbmagnetic"==t.getType().split("-")[0]&&this.data.getBreadboardPos().distance(t.getBreadboardPos())<1?this.connectedToLittlebits=!0:this.checkTerminalState(),this.drawState()},Circuits.littlebitsMagnetTerminal.prototype.setHighlight=function(e){}},function(e,t){!function(e,t,i){e.breadboard=function(e,i){var n=this;this.circuitEditor=e,navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t(".js-download_breadboard_image").click(function(e){n.downloadimage()}):t(".js-download_breadboard_image").closest("li").remove()},e.breadboard.prototype.setToolActive=function(e){var i=this,n=!1;switch(e){case"eink":n=t(".js-einkTool"),i.circuitEditor.breadboardGui.showHelp("Click anywhere to add a electroninks polyline.")}n&&n.addClass("active")},e.breadboard.prototype.clearActiveTool=function(){t(".js-breadboard_button .active").removeClass("active"),this.helpVisible&&this.hideHelp()},e.breadboard.prototype.showHelp=function(e){t(".js-breadboard-menu-info").html(e),this.helpVisible=!0},e.breadboard.prototype.hideHelp=function(){this.helpVisible=!1,t(".js-breadboard-menu-info").html("")},e.breadboard.prototype.downloadimage=function(t){e.download_image(this.circuitEditor.breadboardEditor,"#breadboardTab","breadboard","jpg","/image","#f4f5f6")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.circuitscribe_view=function(i,n,o,r){var a=this;a.gui=i,this.viewContainer=t(e.template(n)).appendTo(o),this.viewBox=new e.overlay_box(i,".js-circuitscribe_view",r,Circuits.GuiEvents.CIRCUITSCRIBE_VIEW_BUTTON),a.modules_visible=!0,a.paper_visible=!1,t(".js-toggle_modules_visibility",a.viewContainer).click(function(e){a.toggleModules(this)}),t(".js-toggle_paper_visibility",a.viewContainer).click(function(e){a.togglePaper(this)})},e.circuitscribe_view.prototype.modules_are_visible=function(e){t(".js-eye-active",t(".js-toggle_modules_visibility",this.viewContainer)).show(),t(".js-eye-disabled",t(".js-toggle_modules_visibility",this.viewContainer)).hide(),this.modules_visible=!0},e.circuitscribe_view.prototype.modules_are_hidden=function(e){t(".js-eye-active",t(".js-toggle_modules_visibility",this.viewContainer)).hide(),t(".js-eye-disabled",t(".js-toggle_modules_visibility",this.viewContainer)).show(),this.modules_visible=!1},e.circuitscribe_view.prototype.toggleModules=function(e){this.gui.stateMachine.handle(Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_VIEW)},e.circuitscribe_view.prototype.paper_is_visible=function(e){t(".js-eye-active",t(".js-toggle_paper_visibility",this.viewContainer)).show(),t(".js-eye-disabled",t(".js-toggle_paper_visibility",this.viewContainer)).hide(),this.paper_visible=!0},e.circuitscribe_view.prototype.paper_is_hidden=function(e){t(".js-eye-active",t(".js-toggle_paper_visibility",this.viewContainer)).hide(),t(".js-eye-disabled",t(".js-toggle_paper_visibility",this.viewContainer)).show(),this.paper_visible=!1},e.circuitscribe_view.prototype.togglePaper=function(e){this.gui.stateMachine.handle(Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_PAPER)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.circuitscribe=function(e,i,n){var o=this;o.gui=e,o.downloadPdfBtn=t(i),o.papersettingsBtn=t(n),o.downloadDialogue=!1,o.downloadPdfBtn.click(function(e){o.gui.stateMachine.handle(Circuits.GuiEvents.CIRCUITSCRIBE_DOWNLOAD_PDF)}),o.papersettingsBtn.click(function(e){o.gui.stateMachine.handle(Circuits.GuiEvents.CIRCUITSCRIBE_TOGGLE_PRINT_INSPECTOR)})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.shareDialog=function(e,i,n){var o=this;this.gui=e,this.docid=e.root.editorModel.meta("docid")||"circuit",this.docid=this.docid.split("-")[0],this.baseName=e.root.editorModel.meta("name")||"circuit",this.calculateHoursRemaining=function(e){return Math.round((e-Date.now()/1e3)/3600)},this.getCollaboration=function(e,i){var n="/api/assemblies/"+o.docid+"/sharecodes";t.ajax({type:"GET",url:n,success:function(t){e&&e(t),console.log("Share URL: "+window.location.href+"?sharecode="+t.edit)},error:function(t,n,r){o.getNewCollaboration(e,i)}})},this.getNewCollaboration=function(e,i){var n="/api/assemblies/"+o.docid+"/sharecodes";t.ajax({type:"POST",url:n,success:function(t){e&&e(t)},error:function(e,t,n){i&&i(n)}})},this.displayError=function(e){o.dialog.configure("Oops! We encountered an error.",[{title:"Close this dialog and try again."}])},this.displayHoursRemaining=function(e,i){var n=t(".editor__share_dialog__timer",this.dialog.$dialog);i?n.html("New link created.<br/>This link will be available for "+this.calculateHoursRemaining(e.expires)+" hours"):n.html("About "+this.calculateHoursRemaining(e.expires)+" hours till the link expires.")},this.collaborate=function(e,i){this.showCollaborate(),t(".editor__share_dialog__url",this.dialog.$dialog).val(window.location.href+"?sharecode="+e.edit),this.displayHoursRemaining(e,i)},this.showCollaborate=function(){this.showingCollaborate||(this.showingCollaborate=!0,o.dialog.configure("Collaborate",[{title:"Share this link over IM or Email",description:"People with this link may view and make changes to your design.",buttons:[{custom:'<input type="text" class="editor__share_dialog__url js-inspector__textinput__value" readonly="readonly">'},{text:"Copy","class":"editor__share_dialog__copy",action:function(){t(".editor__share_dialog__url",o.dialog.$dialog).select();var e=(window.document.execCommand("copy"),t(".editor__share_dialog__link_copied",o.dialog.$dialog));e.attr("style",""),setTimeout(function(){e.attr("style","visibility:hidden")},3e3),console.log("Copy")}}],custom:'<p class="editor__share_dialog__link_copied" style="visibility:hidden">Link copied to your clipboard</p>'},{buttons:[{custom:'<span class="editor__share_dialog__timer"></span>'},{text:"Generate new link","class":"editor__share_dialog__generate",action:function(){o.getNewCollaboration(function(e){o.collaborate(e,!0),setTimeout(function(){o.displayHoursRemaining(e)},3e3)},function(e){o.displayError(e)})}}]}]))},t(i).click(function(){o.showingCollaborate=!1,o.dialog=new Circuits.ModalDialog(t(o.gui.guiholder),"Share this design",[{title:"Snapshot of your design",frame:!0,buttonsClass:"editor__share_dialog__snapshot_container",buttons:[{custom:'<div id="share_preview" class="editor__modal__preview" width="70" height="70" style="border:1px solid"></div>'},{custom:'<svg class="editor__share_dialog__svg_button" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" role="img" title="icon download circle"><defs><style>.cls-1{fill:#475E7A;opacity:1.0;}</style></defs><title>icon-downlad-circle-40</title><path class="cls-1" d="M20,0A20,20,0,1,0,40,20,20,20,0,0,0,20,0ZM19,21.25V10.13h0a1,1,0,0,1,2,0h0V21.25h4l-5,5-5-5Zm12,8a1,1,0,0,1-1,1H10a1,1,0,0,1-1-1v-4a1,1,0,1,1,2,0v3H29v-3a1,1,0,1,1,2,0Z"></path></svg>',close:!0,action:function(){o.previewImage&&(o.$download.attr("href",o.previewImage),o.$download.attr("download",o.baseName+".png"),o.$download[0].click())}}]},{title:"Share over IM or email",frame:!0,description:"Create with others by sharing a link to your design. People with the link may view and make changes to your design.",buttons:[{text:"Invite people","class":"editor__modal__share_dialog__invite",action:function(){o.getCollaboration(function(e){o.collaborate(e)},function(e){o.displayError(e)})}}]}]),o.$download=t('<a class="js-eagle-board-export-download-brd-internal hidden"></a>'),o.dialog.$dialog.append(o.$download);var e=t(".editor__content",o.gui.guiholder[0])[0].getBoundingClientRect();o.gui.generateThumbnail({width:e.width,height:e.height,transparent:!1,watermark:!0},function(e){o.previewImage=e;var i=t("#share_preview");i.append('<img class="js-imgPreview" style="height:100%" src="'+e+'"></img>')})})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.simulator=function(e,i,n){var o=this;o.gui=e,o.simulationContainer=t(i),o.codeEditorContainer=t(n),o.running=!1;var r=new Spinner({lines:13,length:3,width:1,color:"#fff",radius:4,corners:1,speed:1.8}).spin();t(".js-simulation-spinner",this.simulationContainer).html(r.el),t(".js-code-editor__upload__spinner",this.codeEditorContainer).html(t(r.el).clone()),t(".js-toggleSimulation",o.simulationContainer).click(function(t){o.running?e.stateMachine.handle(Circuits.GuiEvents.SIMULATOR_STOP):e.stateMachine.handle(Circuits.GuiEvents.SIMULATOR_START)})},e.simulator.prototype.editorOutOfFocus=function(){this.gui.code_editor.editorOutOfFocus()},e.simulator.prototype.compileSuccessfull=function(){this.gui.code_editor.flash_successfull_compile_message()},e.simulator.prototype.simulatorRunning=function(){t(".js-simulation-play",this.simulationContainer).hide(),t(".js-simulation-stop",this.simulationContainer).show(),t(".js-simulation-spinner",this.simulationContainer).hide(),t(".js-simulation-text",this.simulationContainer).html("Stop Simulation"),t(".js-simulation-menu",this.simulationContainer).addClass("active"),t(".js-code-editor__upload__spinner",this.codeEditorContainer).hide(),t(".js-code-editor__upload__icon",this.codeEditorContainer).show(),t(".js-code-editor__upload__text",this.codeEditorContainer).html("Upload & Run"),t(".js-code-editor__upload",this.codeEditorContainer).removeClass("active"),this.running=!0},e.simulator.prototype.simulatorCompiling=function(){t(".js-simulation-play",this.simulationContainer).hide(),t(".js-simulation-stop",this.simulationContainer).hide(),t(".js-simulation-spinner",this.simulationContainer).show(),t(".js-simulation-text",this.simulationContainer).html("Initializing..."),t(".js-simulation-menu",this.simulationContainer).addClass("active"),t(".js-code-editor__upload__spinner",this.codeEditorContainer).show(),t(".js-code-editor__upload__icon",this.codeEditorContainer).hide(),t(".js-code-editor__upload__text",this.codeEditorContainer).html("Compiling..."),t(".js-code-editor__upload",this.codeEditorContainer).addClass("active"),this.running=!1},e.simulator.prototype.simulatorStopped=function(){t(".js-simulation-play",this.simulationContainer).show(),t(".js-simulation-stop",this.simulationContainer).hide(),t(".js-simulation-spinner",this.simulationContainer).hide(),t(".js-simulation-text",this.simulationContainer).html("Start Simulation"),t(".js-simulation-menu",this.simulationContainer).removeClass("active"),t(".js-code-editor__upload__spinner",this.codeEditorContainer).hide(),t(".js-code-editor__upload__icon",this.codeEditorContainer).show(),t(".js-code-editor__upload__text",this.codeEditorContainer).html("Upload & Run"),t(".js-code-editor__upload",this.codeEditorContainer).removeClass("active"),this.running=!1},e.simulator.prototype.setSimulatorSpeed=function(e){}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.click_events_tools=function(e){t(".js-circuits_menu_hash_btn").click(function(e){e.preventDefault(),window.circuit_editor.circuitEditor.switchToPage(t(this).attr("href").split("#")[1])}),t(".schematic .js-rotate").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.ROTATE_BUTTON,null,t);e.stateMachine.handle(i)}),t(".schematic .js-flipH").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.FLIP_HOR_BUTTON)}),t(".schematic .js-flipV").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.FLIP_VER_BUTTON)}),t(".schematic .js-redo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REDO_BUTTON)}),t(".schematic .js-undo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.UNDO_BUTTON)}),t(".schematic .js-delete").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REMOVE_BUTTON);
}),t(".schematic .js-zoomToFit").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON)}),t(".pcb .js-rotate").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.ROTATE_BUTTON,null,t);e.stateMachine.handle(i)}),t(".pcb .js-redo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REDO_BUTTON)}),t(".pcb .js-undo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.UNDO_BUTTON)}),t(".pcb .js-delete").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REMOVE_BUTTON)}),t(".pcb .js-zoomToFit").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON)}),t(".pcb .js-selectTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","select");e.stateMachine.handle(i)}),t(".pcb .js-trace").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","trace");e.stateMachine.handle(i)}),t(".pcb .js-fill").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","poly");e.stateMachine.handle(i)}),t(".pcb .js-via").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","via");e.stateMachine.handle(i)}),t(".pcb .js-drillhole").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","drillhole");e.stateMachine.handle(i)}),t(".pcb .js-circleTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","circle");e.stateMachine.handle(i)}),t(".pcb .js-rectTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","rect");e.stateMachine.handle(i)}),t(".pcb .js-textTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","text");e.stateMachine.handle(i)}),t(".pcb .js-penTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","path");e.stateMachine.handle(i)}),t(".breadboard .js-rotate").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.ROTATE_BUTTON,null,t);e.stateMachine.handle(i)}),t(".breadboard .js-redo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REDO_BUTTON)}),t(".breadboard .js-undo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.UNDO_BUTTON)}),t(".breadboard .js-delete").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REMOVE_BUTTON)}),t(".breadboard .js-zoomToFit").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON)}),t(".circuitscribe .js-rotate").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.ROTATE_BUTTON,null,t);e.stateMachine.handle(i)}),t(".circuitscribe .js-redo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REDO_BUTTON)}),t(".circuitscribe .js-undo").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.UNDO_BUTTON)}),t(".circuitscribe .js-delete").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.REMOVE_BUTTON)}),t(".circuitscribe .js-zoomToFit").click(function(t){e.stateMachine.handle(Circuits.GuiEvents.ZOOM_TO_FIT_BUTTON)}),t(".circuitscribe .js-einkTool").click(function(t){var i=new Circuits.GuiEvent(Circuits.GuiEvents.SET_TOOL).data("tool","eink");e.stateMachine.handle(i)})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(751),i(752),i(753),i(754),i(755),i(756),i(757),i(758),i(759),i(760),i(761),i(762),i(763),i(764),i(765),i(766),i(767),i(768),i(769),i(770),i(771)},function(e,t,i){var n=i(173),o=i(170).inherit;Circuits.PCBLayers_base={MEASURE:0,OUTLINE:1,BOTTOMSILK:2,SOLDERMASKBOTTOM:3,BOTTOMMETAL:4,BOTTOMFR4:5,FR4:6,TOPMETAL:7,SOLDERMASKTOP:8,SILKSCREEN:9,DRILL:10,LABEL:11,RATSNEST:12,DRC:13,INTERACTION:14,SNAP:15,SILKSCREENCONTROL:16,BOTTOMSILKCONTROL:17,OUTLINECONTROL:18,BOTTOMCONTROL:19,TOPCONTROL:20,DRILLCONTROL:21,DRCCONTROL:22,MEASURECONTROL:23,INTERACTIONCONTROL:24},Circuits.MetalLayers={TOP:0,BOTTOM:1},Circuits.MetalLayerInfo=function(e,t,i,n,o,r,a){this.index=t,this.name=e,this.color=i,this.svgLayerIndex=n,this.svgLayer=o,this.controlLayerIndex=r,this.controlLayer=a},Circuits.PCBEditor=function(e,t,i,o,r){function a(){s.editorModel.selectionRemovable()?s.circuitEditor.pcbGui.showPCBDelete():s.circuitEditor.pcbGui.hidePCBDelete()}var s=this;this.type="pcb",this.circuitEditor=e,this.root=o,this.data=o.circuit,this.editorModel=o.editorModel.pcb(),this.unit="μm",this.drcFlag=!0,this.viewFactory=this.createViewFactory();var c=this.data.number_of_layers(),l=c-2;Circuits.PCBLayers={};var d=0;for(var u in Circuits.PCBLayers_base){if(Circuits.PCBLayers[u]=d,d++,Circuits.PCBLayers_base[u]==Circuits.PCBLayers_base.BOTTOMMETAL)for(var h=l-1;h>=0;h--)Circuits.PCBLayers["inner_"+h]=d,d++;if(Circuits.PCBLayers_base[u]==Circuits.PCBLayers_base.BOTTOMCONTROL)for(var h=l-1;h>=0;h--)Circuits.PCBLayers["inner_c_"+h]=d,d++}var p=new n.HashMap;for(var u in Circuits.PCBLayers)p.put(Circuits.PCBLayers[u],new Circuits.LayerInfo(Circuits.PCBLayers[u],!1,null,null));p.get(Circuits.PCBLayers.OUTLINE).visible=!0,p.get(Circuits.PCBLayers.BOTTOMSILK).visible=!0,p.get(Circuits.PCBLayers.SOLDERMASKBOTTOM).visible=!0,p.get(Circuits.PCBLayers.BOTTOMMETAL).visible=!0,p.get(Circuits.PCBLayers.BOTTOMFR4).visible=!0,p.get(Circuits.PCBLayers.FR4).visible=!0,p.get(Circuits.PCBLayers.TOPMETAL).visible=!0,p.get(Circuits.PCBLayers.SOLDERMASKTOP).visible=!0,p.get(Circuits.PCBLayers.SILKSCREEN).visible=!0,p.get(Circuits.PCBLayers.DRILL).visible=!0,p.get(Circuits.PCBLayers.OUTLINE).name="outline",p.get(Circuits.PCBLayers.BOTTOMSILK).name="bottomsilk",p.get(Circuits.PCBLayers.SOLDERMASKBOTTOM).name="soldermaskbottom",p.get(Circuits.PCBLayers.BOTTOMMETAL).name="bottommetal",p.get(Circuits.PCBLayers.BOTTOMFR4).name="bottomfr4",p.get(Circuits.PCBLayers.FR4).name="fr4",p.get(Circuits.PCBLayers.TOPMETAL).name="topmetal",p.get(Circuits.PCBLayers.SOLDERMASKTOP).name="soldermasktop",p.get(Circuits.PCBLayers.SILKSCREEN).name="silkscreen",p.get(Circuits.PCBLayers.DRILL).name="drill",p.get(Circuits.PCBLayers.RATSNEST).name="ratsnest",this.groupInfos=this.createGroupInfos(),Circuits.AbstractEditor.call(this,e,t,i,p,r),this.outlineVisible=!0,this.padLabelsVisible=!1,this.renderMode=!1,this.snapGroup=this.layers.get(Circuits.PCBLayers.SNAP).svgGroup;var g=["#f41d1d","#0078ff","#eb2bbc","#611deb","#21d761","#1febe4"];this.metalLayers=new n.HashMap;var m=new Circuits.MetalLayerInfo("Top",Circuits.MetalLayers.TOP,g[Circuits.MetalLayers.TOP],Circuits.PCBLayers.TOPMETAL,this.layers.get(Circuits.PCBLayers.TOPMETAL).svgGroup,Circuits.PCBLayers.TOPCONTROL,this.layers.get(Circuits.PCBLayers.TOPCONTROL).svgGroup);m.order=0,this.metalLayers.put(Circuits.MetalLayers.TOP,m);var f=new Circuits.MetalLayerInfo("Bottom",Circuits.MetalLayers.BOTTOM,g[Circuits.MetalLayers.BOTTOM],Circuits.PCBLayers.BOTTOMMETAL,this.layers.get(Circuits.PCBLayers.BOTTOMMETAL).svgGroup,Circuits.PCBLayers.BOTTOMCONTROL,this.layers.get(Circuits.PCBLayers.BOTTOMCONTROL).svgGroup);f.order=c-1,this.metalLayers.put(Circuits.MetalLayers.BOTTOM,f);for(var h=0;l>h;h++){var d;if(h<Math.ceil(l/2))d=2*(h+1);else{var _=l-h-1;d=2*(_+1)+1}var v=new Circuits.MetalLayerInfo("Inner"+(h+1),d,"",Circuits.PCBLayers["inner_"+h],this.layers.get(Circuits.PCBLayers["inner_"+h]).svgGroup,Circuits.PCBLayers["inner_c_"+h],this.layers.get(Circuits.PCBLayers["inner_c_"+h]).svgGroup);v.order=h+1,this.metalLayers.put(d,v),Circuits.MetalLayers["inner_"+h]=d}this.metalLayers.forEach(function(e,t){t.color=g[e],s.svg.change(t.svgLayer,{fill:t.color,stroke:t.color}),s.svg.change(t.controlLayer,{fill:"green",stroke:"green",opacity:0})}),this.drillLayerInfo=new Circuits.MetalLayerInfo("drill",0,"#11181f",Circuits.PCBLayers.DRILL,this.layers.get(Circuits.PCBLayers.DRILL).svgGroup,Circuits.PCBLayers.DRILLCONTROL,this.layers.get(Circuits.PCBLayers.DRILLCONTROL).svgGroup),s.svg.change(s.drillLayerInfo.controlLayer,{fill:"green",stroke:"green",opacity:0}),this.silkscreenLayerInfo=new Circuits.MetalLayerInfo("silkscreen",0,"white",Circuits.PCBLayers.SILKSCREEN,this.layers.get(Circuits.PCBLayers.SILKSCREEN).svgGroup,Circuits.PCBLayers.SILKSCREENCONTROL,this.layers.get(Circuits.PCBLayers.SILKSCREENCONTROL).svgGroup),s.svg.change(s.silkscreenLayerInfo.svgLayer,{fill:s.silkscreenLayerInfo.color,stroke:s.silkscreenLayerInfo.color,opacity:1}),s.svg.change(s.silkscreenLayerInfo.controlLayer,{fill:"green",stroke:"green",opacity:0}),this.bottomsilkLayerInfo=new Circuits.MetalLayerInfo("bottomsilk",0,"white",Circuits.PCBLayers.BOTTOMSILK,this.layers.get(Circuits.PCBLayers.BOTTOMSILK).svgGroup,Circuits.PCBLayers.BOTTOMSILKCONTROL,this.layers.get(Circuits.PCBLayers.BOTTOMSILKCONTROL).svgGroup),s.svg.change(s.bottomsilkLayerInfo.svgLayer,{fill:s.bottomsilkLayerInfo.color,stroke:s.bottomsilkLayerInfo.color,opacity:.2}),s.svg.change(s.bottomsilkLayerInfo.controlLayer,{fill:"green",stroke:"green",opacity:0}),this.outlineLayerInfo=new Circuits.MetalLayerInfo("outline",0,"#ff6e02",Circuits.PCBLayers.OUTLINE,this.layers.get(Circuits.PCBLayers.OUTLINE).svgGroup,Circuits.PCBLayers.OUTLINECONTROL,this.layers.get(Circuits.PCBLayers.OUTLINECONTROL).svgGroup),s.svg.change(s.outlineLayerInfo.svgLayer,{fill:"#ff6e02",stroke:"#ffa210",strokeWidth:"100","fill-opacity":.25}),s.svg.change(s.outlineLayerInfo.controlLayer,{fill:"green",stroke:"green",opacity:0}),this.labelLayerInfo=new Circuits.MetalLayerInfo("label",0,"white",Circuits.PCBLayers.LABEL,this.layers.get(Circuits.PCBLayers.LABEL).svgGroup,null,null),s.svg.change(s.labelLayerInfo.svgLayer,{fill:s.labelLayerInfo.color,stroke:s.labelLayerInfo.color,"stroke-width":1}),this.drcLayerInfo=new Circuits.MetalLayerInfo("drc",0,"yellow",Circuits.PCBLayers.DRC,this.layers.get(Circuits.PCBLayers.DRC).svgGroup,null,this.layers.get(Circuits.PCBLayers.DRCCONTROL).svgGroup),s.svg.change(s.drcLayerInfo.svgLayer,{fill:s.drcLayerInfo.color,stroke:s.drcLayerInfo.color,"stroke-width":2,opacity:.5}),this.measureLayerInfo=new Circuits.MetalLayerInfo("measure",0,"#34495e",Circuits.PCBLayers.MEASURE,this.layers.get(Circuits.PCBLayers.MEASURE).svgGroup,null,this.layers.get(Circuits.PCBLayers.MEASURECONTROL).svgGroup),s.svg.change(s.measureLayerInfo.svgLayer,{fill:"#34495e",stroke:"#34495e","stroke-width":2,opacity:1}),s.svg.change(s.measureLayerInfo.controlLayer,{fill:"#1da750",stroke:"#1da750","stroke-width":2,opacity:1}),this.soldermasktopLayerInfo=new Circuits.MetalLayerInfo("soldermasktop",0,"purple",Circuits.PCBLayers.SOLDERMASKTOP,this.layers.get(Circuits.PCBLayers.SOLDERMASKTOP).svgGroup,null,null),s.svg.change(s.soldermasktopLayerInfo.svgLayer,{fill:s.soldermasktopLayerInfo.color,"fill-rule":"evenodd",stroke:s.soldermasktopLayerInfo.color,opacity:0,"stroke-width":2}),this.soldermaskbottomLayerInfo=new Circuits.MetalLayerInfo("soldermaskbottom",0,"purple",Circuits.PCBLayers.SOLDERMASKBOTTOM,this.layers.get(Circuits.PCBLayers.SOLDERMASKBOTTOM).svgGroup,null,null),s.svg.change(s.soldermaskbottomLayerInfo.svgLayer,{fill:s.soldermaskbottomLayerInfo.color,"fill-rule":"evenodd",stroke:s.soldermaskbottomLayerInfo.color,opacity:0,"stroke-width":2}),this.fr4LayerInfo=new Circuits.MetalLayerInfo("fr4",0,"white",Circuits.PCBLayers.FR4,this.layers.get(Circuits.PCBLayers.FR4).svgGroup,null,null),s.svg.change(s.fr4LayerInfo.svgLayer,{fill:s.fr4LayerInfo.color,"fill-rule":"evenodd",stroke:s.fr4LayerInfo.color,opacity:0,"stroke-width":2}),this.bottomfr4LayerInfo=new Circuits.MetalLayerInfo("bottomfr4",0,"white",Circuits.PCBLayers.BOTTOMFR4,this.layers.get(Circuits.PCBLayers.BOTTOMFR4).svgGroup,null,null),s.svg.change(s.bottomfr4LayerInfo.svgLayer,{fill:s.bottomfr4LayerInfo.color,"fill-rule":"evenodd",stroke:s.bottomfr4LayerInfo.color,opacity:0,"stroke-width":2}),$(this.snapGroup).insertAfter(this.layers.get(Circuits.PCBLayers.RATSNEST).svgGroup),s.svg.change(this.layers.get(Circuits.PCBLayers.RATSNEST).svgGroup,{fill:"red","fill-rule":"evenodd",stroke:"green",opacity:.5,"stroke-width":2}),this.selectWidth=100,this.net=null,this.routing=!0,this.select_net=!1,this.totalLength=0,this.startCoord=null,this.groups=new n.HashSet,this.blobInfos=new n.HashSet,this.editorModel.viewS.onChange("measure",function(){s.origin.draw()},10),this.editorModel.tool.onChange("tool",function(){s.circuitEditor.pcbGui.clearActiveTool(),s.inspector.hide(),s.circuitEditor.pcbGui.setToolActive(s.editorModel.tool()),s.clearSnap()},10),this.editorModel.layer.onChange("layer",function(){s.changeLayer(s.editorModel.layer())},10),s.changeLayer(s.editorModel.layer()),this.editorModel.layerPanel.onChange("layerPanel show",function(e,t,i){t!=i&&s.circuitEditor.pcbLayersGui.layersBox.toggleBox()},10),this.editorModel.viewPanel.onChange("viewPanel show",function(e,t,i){t!=i&&s.circuitEditor.drawing_aids.aidsBox.toggleBox()},10),this.editorModel.netWithAttention.onChange("layer",function(e,t,i){if(t&&(s.root.circuit.getAllNets().forEach(function(e){s.svg.change(e.getView(s).drc,{opacity:1})}),s.root.circuit.getAllNets().forEach(function(e){s.svg.change(e.getView(s).ratsnest,{opacity:1})}),s.root.circuit.getAllTraceElements(!0).forEach(function(e){e.getView(s).setSelected(!1)})),i){var n=s.root.circuit.getAllTraceElements(!0).copy();n.removeAll(i.getAllTraceElements()),n.forEach(function(e){e.getView(s).setSelected(!0)});var o=s.root.circuit.getAllNets().copy();o.remove(i),o.forEach(function(e){s.svg.change(e.getView(s).ratsnest,{opacity:0})}),o.forEach(function(e){s.svg.change(e.getView(s).drc,{opacity:0})})}},10),this.editorModel.state.onChange("view",function(e){["trace","copper_tracing","poly","copper_pouring"].indexOf(e())>-1?s.circuitEditor.pcb_copper_trace.show_copper_trace_btns():s.circuitEditor.pcb_copper_trace.hide_copper_trace_btns()},10),this.editorModel.change_footprint_show.onChange("view",function(e){e()?(s.circuitEditor.footprintSelector.query=s.editorModel.change_footprint_device().getDescription().device.id,s.circuitEditor.footprintSelector.extra_data.pcb_element_reference=s.editorModel.change_footprint_device(),s.circuitEditor.footprintSelector.first_time=!0,s.circuitEditor.footprintSelector.overlay.open_overlay()):(s.circuitEditor.footprintSelector.blurSearch(),s.circuitEditor.footprintSelector.overlay.close_overlay())},10),this.editorModel.thickness.onChange("copper_trace",function(){s.circuitEditor.pcb_copper_trace.change_copper_trace_option_value(s.editorModel.thickness())},10),this.editorModel.copper_trace_style.onChange("copper_trace",function(){s.circuitEditor.pcb_copper_trace.change_copper_trace_corner_btn(s.editorModel.copper_trace_style())},10),s.editorModel.selection.onAdd("removability",function(e,t){a()},10),s.editorModel.selection.onRemove("removability",function(e,t){a()},10),s.editorModel.lineEnd.onChange("view",function(){var e=s.editorModel.lineStart(),t=s.editorModel.lineEnd();null!==e&&null!=t?s.drawLine(e.getX(),e.getY(),t.getX(),t.getY(),2/s.editorModel.viewS()):s.removeLine()},10),this.editorModel.searchFocusTrigger.onChange("view",function(){s.editorModel.change_footprint_show()&&s.circuitEditor.footprintSelector.focusSearch()},10),s.editorModel.origin().grid_show.onChange("view",function(){s.circuitEditor.drawing_aids.toggleGrid()},10),s.editorModel.boardFilled.onChange("view",function(e,t,i){s.svg.change(s.outlineLayerInfo.svgLayer,{"fill-opacity":i?0:.25}),s.circuitEditor.drawing_aids.toggleBoardFill()},10),s.editorModel.gridInspector.onChange("inspector",function(e,t,i){i?s.origin.showInspector():s.origin.hideInspector()})},Circuits.PCBEditor.prototype=o(Circuits.AbstractEditor.prototype),Circuits.PCBEditor.prototype.constructor=Circuits.PCBEditor,Circuits.PCBEditor.prototype.drawLine=function(e,t,i,n,o){this.removeLine(),this.line=this.svg.line(this.snapGroup,e,t,i,n,{fill:"blue",stroke:"blue",strokeWidth:o})},Circuits.PCBEditor.prototype.removeLine=function(){$(this.line).remove()},Circuits.PCBEditor.prototype.createViewFactory=function(){return new Circuits.PcbViewFactory},Circuits.PCBEditor.prototype.createGroupInfos=function(){var e=new n.HashMap;for(var t in Circuits.PCBLayers)e.put(Circuits.PCBLayers[t],new Circuits.GroupInfo(Circuits.PCBLayers[t],!0,Circuits.PCBLayers[t],null,!0,!0));return e},Circuits.PCBEditor.prototype.setOutlineVisible=function(e){this.outlineVisible=e},Circuits.PCBEditor.prototype.setPadLabelsVisible=function(e){this.padLabelsVisible=e},Circuits.PCBEditor.prototype.changeLayer=function(e){var t=this;"undefined"==typeof t.previous_layer&&(t.previous_layer=Circuits.MetalLayers.BOTTOM);var i=t.metalLayers.get(t.previous_layer),n=t.metalLayers.get(e);e==Circuits.MetalLayers.TOP?($(this.silkscreenLayerInfo.svgLayer).insertBefore(this.layers.get(Circuits.PCBLayers.DRILL).svgGroup),$(this.silkscreenLayerInfo.controlLayer).insertBefore(this.layers.get(Circuits.PCBLayers.OUTLINECONTROL).svgGroup),this.svg.change(this.silkscreenLayerInfo.svgLayer,{opacity:1}),this.svg.change(this.bottomsilkLayerInfo.svgLayer,{opacity:.1})):e==Circuits.MetalLayers.BOTTOM?($(this.bottomsilkLayerInfo.svgLayer).insertBefore(this.layers.get(Circuits.PCBLayers.DRILL).svgGroup),$(this.bottomsilkLayerInfo.controlLayer).insertBefore(this.layers.get(Circuits.PCBLayers.OUTLINECONTROL).svgGroup),this.svg.change(this.silkscreenLayerInfo.svgLayer,{opacity:.1}),this.svg.change(this.bottomsilkLayerInfo.svgLayer,{opacity:1})):(this.svg.change(this.silkscreenLayerInfo.svgLayer,{opacity:.1}),this.svg.change(this.bottomsilkLayerInfo.svgLayer,{opacity:.1})),this.svg.change(i.svgLayer,{opacity:.5}),this.svg.change(n.svgLayer,{opacity:1}),$(n.svgLayer).insertBefore(this.layers.get(Circuits.PCBLayers.SOLDERMASKTOP).svgGroup),$(n.controlLayer).insertBefore(this.layers.get(Circuits.PCBLayers.DRILLCONTROL).svgGroup);var o=[];t.metalLayers.forEach(function(e,t){o[t.order]=t}),t.circuitEditor.pcbLayersGui.reconstructLayerSelector(o),t.circuitEditor.pcbLayersGui.selectLayer(e),t.previous_layer=e},Circuits.PCBEditor.prototype.redrawNets=function(){var e=this;this.data.getAllNets().forEach(function(t){t.getView(e).draw()})},Circuits.PCBEditor.prototype.redrawOutline=function(){var e=this;this.data.outline().getView(e).draw()},Circuits.PCBEditor.prototype.afterBigChange=function(){},Circuits.PCBEditor.prototype.redrawPolys=function(){var e=this;this.data.getAllHighestNets().forEach(function(t){t.calculatePolyData(),t.getView(e).drawPolies()})},Circuits.PCBEditor.prototype.reLoadData=function(){this.emptyLayers(),this.loadData(),this.mode==Circuits.GuiMode.EDIT&&(this.data.getAllNets(!0).forEach(function(e){e.calculateCycleData()}),this.drc(!0))},Circuits.PCBEditor.prototype.loadData=function(){var e=this;this.mode==Circuits.GuiMode.MAP&&this.svg_text_field_controller.reset(),this.mode==Circuits.GuiMode.EDIT,this.origin=new Circuits.Origin(this,this.editorModel.origin(),this.measureLayerInfo.svgLayer,this.measureLayerInfo.controlLayer),this.rootGroup=e.viewFactory.newPCBGroup(this,this.data,this,this.outlineVisible),this.rootGroup.setInFocus(!0),this.setGroupInFocus(this.rootGroup),this.redrawPolys()},Circuits.PCBEditor.prototype.loadJSON=function(e){var t=$.parseJSON(e);t&&(void 0!==t.device?this.loadPackagedDevice(e):void 0!==t.pads_attributes?this.loadFootprint(e):void 0!==t.layer0?this.loadPad(e):(this.root=new Circuits.DesignRoot,this.data=new Circuits.CircuitData(this.root,3,2)))},Circuits.PCBEditor.RoutingStyle={SR:0,RS:1,HV:2,VH:3},Circuits.PCBEditor.prototype.changeFootprintForElementWithId=function(e){},Circuits.PCBEditor.prototype.computeTotalLengthSelection=function(){var e=this.origin.grid_unit(),t=this.origin.getGridFactor(),i=new n.HashSet,o=0,r=0;this.selection.forEach(function(e){100>r&&e.constructor==Circuits.RoutingSegment&&(i.add(e.getNet()),o+=e.data.length(),r+=1)}),o=100==r?"Too Large":(o/t).toFixed(2);var a=0;return r=0,i.forEach(function(e){100>r&&e.data.getAllSegments().forEach(function(e){100>r&&(a+=e.length(),r+=1)})}),a=100==r?"Too Large":(a/t).toFixed(2),{segmentLength:o,segmentUnit:e,totalLength:a,totalUnit:e}},Circuits.PCBEditor.prototype.drawBoundingBox=function(e){this.svg.rect(this.layers.get(Circuits.PCBLayers.SNAP).svgGroup,e.x,e.y,e.width,e.height,0,0,{strokeWidth:250,fill:"none",stroke:"green"})}},function(e,t,i){var n=i(173),o=i(191);Circuits.DRCedElement={initDRCedElement:function(e){function t(){i.data.root.scheduleHeavy("drc",i.calculateDrcBlobs,i,[],"drc"+n.getHash(i)),i.constructor===Circuits.RoutingSegment&&i.data.polySeg&&i.data.root.scheduleHeavy("drc",i.calculatePolyDrc,i,[],"drc_poly")}var i=this;if(i.gui.drcFlag){this.blobInfos=new n.HashSet,this.boardBlobInfos=new n.HashSet,this.passed_drc=!0,i.gui.drcElements||(i.gui.drcElements=new n.HashSet),i.gui.drcElements.add(this),i.gui.blobInfos||(i.gui.blobInfos=new n.HashSet),i.data.root.scheduleHeavy("drc",i.calculateDrcBlobs,i,[],"drc"+n.getHash(i));for(var o=0;o<e.length;o++){var r=e[o];r.isVal()?r.onChange("drc"+n.getHash(i),t,10):r.isSet()&&(r.onAdd("drc"+n.getHash(i),t,10),r.onRemove("drc"+n.getHash(i),t,10))}i.data.onDie("drc"+n.getHash(i),function(e){e.getView(i.gui).removeDrcBlobs(),i.gui.drcElements.remove(i)},10)}},removeDrcBlobs:function(){var e=this.blobInfos;e.forEach(function(e){e.te0&&e.te0.blobInfos.remove(e),e.te1&&e.te1.blobInfos.remove(e),$(e.blob).attr("title","destroy"),$(e.blob).tipsy({gravity:"n",offset:3}),$(e.blob).remove()})},removeBoardDrcBlobs:function(){var e=this.boardBlobInfos;e.forEach(function(e){e.te0&&e.te0.blobInfos.remove(e),e.te1&&e.te1.blobInfos.remove(e),$(e.blob).attr("title","destroy"),$(e.blob).tipsy({gravity:"n",offset:3}),$(e.blob).remove()})},calculatePolyDrc:function(){var e=this;e.passed_drc=!0,e.gui.blobInfos.forEach(function(e){$(blobinfo.blob).attr("title","destroy"),$(e.blob).tipsy({gravity:"n",offset:3}),$(e.blob).remove()}),e.gui.blobInfos=new n.HashSet;for(var t in Circuits.MetalLayers){var i=Circuits.MetalLayers[t],r=e.gui.metalLayers.get(i),a=new jsts.index.strtree.STRtree;e.gui.data.getAllNets(!0).forEach(function(e){var t=e.cyclePolys.get(i);t.forEach(function(t){t.net=e,a.insert(t.getEnvelopeInternal(),t)})}),e.gui.data.getAllNets(!0).forEach(function(t){var n=t.cyclePolys.get(i);n.forEach(function(t){for(var i=t.buffer(Circuits.fab.OTT),n=a.query(i.getEnvelopeInternal()),s=0;s<n.length;s++){var c=n[s];if(t.net!==c.net&&i.intersects(c)){e.passed_drc=!1;var l=i.intersection(c).buffer(500),d=l.getCoordinates(),u=new o.Polyglon(d),h=u.addToSVG(e.gui.svg,e.gui.drcLayerInfo.svgLayer),p={};p.blob=h,e.gui.blobInfos.add(p);var g=r.name.charAt(0).toUpperCase()+r.name.slice(1);$(h).attr("title",g+" layer polygons are too close together for manufacturing. Drag them further apart."),$(h).tipsy({gravity:"n",offset:3})}}})})}},calculateBoardDrcBlobs:function(){var e=this;if(e.removeBoardDrcBlobs(),e.data.isLife())for(var t in Circuits.MetalLayers){var i=Circuits.MetalLayers[t],n=e.data.indexInfo.get(i);if(n.indexPoly){var r=n.indexPoly,a=e.data.root.outline().getPoly().buffer(-Circuits.fab.min_copper_to_boarder);if(!a.covers(r)){var s=r.difference(a).buffer(500),c=new o.Polyglon(s),l=c.addToSVG(e.gui.svg,e.gui.drcLayerInfo.svgLayer),d={};d.blob=l,d.te0=e,d.te1=null,e.boardBlobInfos.add(d)}}}},calculateDrcBlobs:function(){var e=this;if(e.passed_drc=!0,e.calculateBoardDrcBlobs(),e.removeDrcBlobs(),e.data.isLife())for(var t in Circuits.MetalLayers){var i=Circuits.MetalLayers[t],n=e.gui.metalLayers.get(i),r=e.data.indexInfo.get(i),a=e.data.root.getSpacialIndex().get(i);if(r.indexPoly)for(var s=(r.indexPoly,r.indexPoly.buffer(Circuits.fab.OTT)),c=a.quadtree.query(s.getEnvelopeInternal()),l=0;l<c.length;l++){var d=c[l],u=d.indexInfo.get(i);if(e.data!==d){var h=e.data.net()?e.data.net().getHighestNet():null,p=d.net()?d.net().getHighestNet():null;if((h!==p||!h||!p)&&s.intersects(u.indexPoly)){e.passed_drc=!1;var g=s.intersection(u.indexPoly).buffer(500),m=g.getCoordinates(),f=new o.Polyglon(m),_=f.addToSVG(e.gui.svg,e.gui.drcLayerInfo.svgLayer),v={};v.blob=_,v.te0=e,v.te1=d.getView(e.gui),e.blobInfos.add(v),d.getView(e.gui).blobInfos.add(v);var y=n.name.charAt(0).toUpperCase()+n.name.slice(1);e.data.constructor!=Circuits.DrillData&&d.constructor!=Circuits.DrillData?($(_).attr("title",y+" layer nets are too close together for manufacturing. Drag them further apart."),$(_).tipsy({gravity:"n",offset:3,zoom_stuff:e.gui.zoom_stuff})):e.data.constructor==Circuits.DrillData&&d.constructor==Circuits.DrillData?($(_).attr("title","Drills are too close together for manufacturing. Drag them further apart."),$(_).tipsy({gravity:"n",offset:3,zoom_stuff:e.gui.zoom_stuff})):($(_).attr("title",y+" layer net is too close to drill for manufacturing. Drag them further apart."),$(_).tipsy({gravity:"n",offset:3,zoom_stuff:e.gui.zoom_stuff}))}}}}var C=!1;e.gui.drcElements.forEach(function(e){0!==e.blobInfos.size()&&(C=!0),0!==e.boardBlobInfos.size()&&(C=!0)}),0!==e.gui.blobInfos.size()&&(C=!0),e.gui.data.drc(C)}}},function(e,t,i){var n=i(173);i(191);Circuits.TraceElement={initTraceElement:function(){this._hasMoved=!1,this._hasChanged=!1,this.isTraceElement=!0},getPoly:function(e){return null},scheduleRedraw:function(){var e=this;e.data.root.scheduleHeavy("update_nets",e.draw,e,[],e.data.versions_id),e.getNet()&&e.data.root.scheduleHeavy("update_ratsnest",e.getNet().drawRatsnest,e.getNet(),[!0],e.getNet().data.versions_id),e.data.endings.forEach(function(t){var i=t.getView(e.gui);i&&i.draw&&e.data.root.scheduleHeavy("update_nets",i.draw,i,[],t.versions_id),i&&i.getNet&&i.getNet()&&e.data.root.scheduleHeavy("update_ratsnest",i.getNet().drawRatsnest,i.getNet(),[!0],i.getNet().data.versions_id)})},setMoved:function(e){this._hasMoved=e},hasMoved:function(){return this._hasMoved},setChanged:function(e){this._hasChanged=e},setNet:function(e){this.data.setNet(e.data)},getNet:function(){var e=this;return null!==this.data.getNet()?this.data.getNet().getView(e.gui):null},hasNet:function(){return this.data.hasNet()},addEnding:function(e){this.data.addEnding(e.data)},removeEnding:function(e){this.data.removeEnding(e.data)},getEndings:function(){var e=this,t=new n.HashSet;return this.data.endings.forEach(function(i){t.add(i.getView(e.gui))}),t},getSegments:function(){var e=this,t=new n.HashSet;return this.data.endings.forEach(function(i){i.constructor===Circuits.RoutingSegmentData&&t.add(i.getView(e.gui))}),t}}},function(e,t,i){var n=i(173),o=i(191),r=i(170).inherit;Circuits.PCBElementGroups={SILKSCREENLABEL:1e3,BOTTOMSILKLABEL:1001},Circuits.PCBElement=function(e,t,i){function n(){o.data.isLife()&&(o.draw(),o.setLabel(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded(),o.data.parent().terminals.forEach(function(e,t){t.getView(o.gui)&&t.getView(o.gui).scheduleRedraw()})),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly")}var o=this;Circuits.AbstractElement.call(this,e,t,null,i),this.data.registerView(e,this),this.device=this.data.parent().getDescription().device;for(var r=0;r<this.data.getDescription().pads_attributes.length;r++){var a=this.data.getDescription().pads_attributes[r],s=o.gui.viewFactory.newPCBTerminal(o,a,this.data.parent().getTerminalPPID(a.id,0));this.terminals.add(s),this.name2terminal.put(a.name,s)}o.draw(),this.data.pos.onChange(this,n,10),this.data.angle.onChange(this,n,10),this.data.flip.onChange(this,n,10),this.data.parent().name.onChange(this,n,10),this.data.onDie(o,function(){o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded(),o.gui.inspector.hide()},10),n()},Circuits.PCBElement.prototype=r(Circuits.AbstractElement.prototype),Circuits.PCBElement.prototype.constructor=Circuits.PCBElement,Circuits.PCBElement.prototype.draw=function(){$(this.groupInfos.get(Circuits.PCBLayers.SILKSCREEN).svgGroup).empty(),$(this.groupInfos.get(Circuits.PCBLayers.BOTTOMSILK).svgGroup).empty();var e=this.data.getDescription().outline;e&&("<g>"!==e.substr(0,3)?(e=$.parseJSON(e),e=new o.Polyglon(e),1===this.data.flip()?this.gui.svg.add(this.groupInfos.get(Circuits.PCBLayers.SILKSCREEN).svgGroup,e.toSVG(!1,!0,50)):this.gui.svg.add(this.groupInfos.get(Circuits.PCBLayers.BOTTOMSILK).svgGroup,e.toSVG(!1,!0,50))):1===this.data.flip()?this.gui.svg.add(this.groupInfos.get(Circuits.PCBLayers.SILKSCREEN).svgGroup,e):this.gui.svg.add(this.groupInfos.get(Circuits.PCBLayers.BOTTOMSILK).svgGroup,e)),this.setTransform(),this.setLabel(),this.terminals.forEach(function(e){e.draw()})},Circuits.PCBElement.prototype.createGroupInfos=function(){var e=new n.HashMap;return this.gui.metalLayers.forEach(function(t,i){e.put(i.svgLayerIndex,new Circuits.GroupInfo(i.svgLayerIndex,!1,i.svgLayerIndex,null,!0,!0)),e.put(i.controlLayerIndex,new Circuits.GroupInfo(i.controlLayerIndex,!1,i.controlLayerIndex,null,!0,!0))}),e.put(Circuits.PCBLayers.SILKSCREEN,new Circuits.GroupInfo(Circuits.PCBLayers.SILKSCREEN,!0,Circuits.PCBLayers.SILKSCREEN,null,!0,!0)),e.put(Circuits.PCBLayers.DRILL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILL,!1,Circuits.PCBLayers.DRILL,null,!0,!0)),e.put(Circuits.PCBLayers.LABEL,new Circuits.GroupInfo(Circuits.PCBLayers.LABEL,!1,Circuits.PCBLayers.LABEL,null,!0,!0)),e.put(Circuits.PCBElementGroups.SILKSCREENLABEL,new Circuits.GroupInfo(Circuits.PCBElementGroups.SILKSCREENLABEL,!0,Circuits.PCBLayers.SILKSCREEN,null,!0,!1)),e.put(Circuits.PCBLayers.DRILLCONTROL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILLCONTROL,!1,Circuits.PCBLayers.DRILLCONTROL,null,!0,!0)),e.put(Circuits.PCBLayers.BOTTOMSILK,new Circuits.GroupInfo(Circuits.PCBLayers.BOTTOMSILK,!1,Circuits.PCBLayers.BOTTOMSILK,null,!0,!0)),e.put(Circuits.PCBElementGroups.BOTTOMSILKLABEL,new Circuits.GroupInfo(Circuits.PCBElementGroups.BOTTOMSILKLABEL,!0,Circuits.PCBLayers.BOTTOMSILK,null,!0,!1)),e},Circuits.PCBElement.prototype.setLabel=function(){var e;$(this.groupInfos.get(Circuits.PCBElementGroups.SILKSCREENLABEL).svgGroup).empty(),$(this.groupInfos.get(Circuits.PCBElementGroups.BOTTOMSILKLABEL).svgGroup).empty(),1===this.data.flip()?e=this.gui.svg.group(this.groupInfos.get(Circuits.PCBElementGroups.SILKSCREENLABEL).svgGroup):(e=this.gui.svg.group(this.groupInfos.get(Circuits.PCBElementGroups.BOTTOMSILKLABEL).svgGroup),this.gui.svg.change(e,{transform:"scale(-1,1)"}));var t=this.data.parent().getDescription().device.base;if("nolabel"!=t&&"LABELNO"!=t){var i=this.data.parent().getPcbNameSVG();this.gui.svg.add(e,i)}},Circuits.PCBElement.prototype.getPos=function(){return this.data.pos()},Circuits.PCBElement.prototype.showInspector=function(){var e=[{label:"Name",type:Circuits.inspectorInputType.TEXT,datamember:this.data.parent().deviceName},{label:"Layer",type:Circuits.inspectorInputType.SELECTBOX,datamember:this.data.flip,list:this.data.layerMap}];if(this.data.parent().isToplevel()){var t=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_FOOTPRINT_CLICK,this.data.parent());e.push({label:"Change Footprint",type:Circuits.inspectorInputType.BUTTON,cEvent:t})}var i={name:this.device.name,version_root_id:this.device.version_root_id,summary:this.device.summary};this.gui.inspector.buildAndShow(e,i)},Circuits.PCBElement.prototype.setSelected=function(e){var t=this;this.groupInfos.forEach(function(i,n){e?t.gui.svg.change(n.svgGroup,{stroke:"#3b8ed7"}):t.gui.svg.change(n.svgGroup,{stroke:""})})}},function(e,t,i){var n=i(173),o=i(191);Circuits.PCBGroup=function(e,t,i,o){var r=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.visOutline=!1,this.initGroups(i),this.outlineVisible=o,this.inFocus=!1,this.elements=new n.HashSet,this.data.circuit?(this.circuit=this.data.circuit(),this.loadData(this.circuit)):(this.circuit=this.data,this.loadData(this.circuit)),this.circuit.devices.onAdd(r,function(e,t){if(t.footprint()){var i=r.gui.viewFactory.newPCBElement(r.gui,t.footprint(),r);r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.add(i),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}if(t.module()){var n=r.gui.viewFactory.newPCBGroup(r.gui,t.module(),r,!1);r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.add(n),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}}),this.circuit.devices.onRemove(r,function(e,t){t.footprint()&&(t.footprint().getView(r.gui).removeSvg(),
r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded())}),this.circuit.nets.onAdd(r,function(e,t){var i=r.gui.viewFactory.newPCBNet(r.gui,t,r);r.add(i),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}),this.circuit.nets.onRemove(r,function(e,t){t.getView(r.gui).remove(),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}),this.circuit.drills.onAdd(r,function(e,t){var i=new Circuits.Drill(r.gui,t,r);r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.add(i),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}),this.circuit.drills.onRemove(r,function(e,t){t.getView(r.gui).removeSvg(),r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()}),this.circuit.outline.onChange(r,function(e,t,i){if(t.getView(r.gui)&&t.getView(r.gui).removeSvg(),i)if(i.constructor==Circuits.PCBOutlineData){var n=new Circuits.PCBOutline(r.gui,i);r.add(n)}else if(i.constructor==Circuits.BezierOutlineData){var n=new Circuits.BezierOutline(r.gui,i);r.add(n)}r.data.root.scheduleHeavy("poly",r.gui.redrawPolys,r.gui,[],"poly"),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded()})},extend(Circuits.PCBGroup,Circuits.DrawingElement),Circuits.PCBGroup.prototype.loadData=function(e){e||(e=this.data);var t=this;e.devices.forEach(function(i){try{if(i.footprint()){var n=t.gui.viewFactory.newPCBElement(t.gui,i.footprint(),t);t.add(n)}if(i.module()){var o=t.gui.viewFactory.newPCBGroup(t.gui,i.module(),t,!1);t.add(o)}}catch(r){console.log("Removing broken device"),e.devices.remove(i)}}),e.nets.forEach(function(e){var i=t.gui.viewFactory.newPCBNet(t.gui,e,t);t.add(i)}),e.drills.forEach(function(e){var i=new Circuits.Drill(t.gui,e,t);t.add(i)});var i=[{collection:e.silkscreen().elements,idx:[Circuits.PCBLayers.SILKSCREEN,Circuits.PCBLayers.SILKSCREENCONTROL,Circuits.PCBLayers.INTERACTION,Circuits.PCBLayers.INTERACTIONCONTROL]},{collection:e.bottomsilk().elements,idx:[Circuits.PCBLayers.BOTTOMSILK,Circuits.PCBLayers.BOTTOMSILKCONTROL,Circuits.PCBLayers.INTERACTION,Circuits.PCBLayers.INTERACTIONCONTROL]}];i.forEach(function(e){t.connectView(Circuits.CircleData,e.collection,Circuits.Circle,e.idx),t.connectView(Circuits.PathData,e.collection,Circuits.Path,e.idx),t.connectView(Circuits.RectData,e.collection,Circuits.Rect,e.idx),t.connectView(Circuits.TextData,e.collection,Circuits.Text,e.idx),t.connectView(Circuits.CircleInteractionModel,e.collection,Circuits.CircleInteraction,e.idx),t.connectView(Circuits.PathInteractionModel,e.collection,Circuits.PathInteraction,e.idx),t.connectView(Circuits.RectInteractionModel,e.collection,Circuits.RectInteraction,e.idx),t.connectView(Circuits.TextInteractionModel,e.collection,Circuits.TextInteraction,e.idx)}),this.outlineVisible===!0&&(this.visOutline=new Circuits.BezierOutline(t.gui,e.outline()))},Circuits.PCBGroup.prototype.updateData=function(){this.data&&(this.data.pos=this.pos)},Circuits.PCBGroup.prototype.add=function(e){this.elements.add(e)},Circuits.PCBGroup.prototype.moveNoSnap=function(e){this.setTranslation(this.getTranslation().add(e))},Circuits.PCBGroup.prototype.realyMove=function(){var e=this.getTranslation();this.setTranslation(new o.Coord(0,0)),this.circuit.move(e)},Circuits.PCBGroup.prototype.rotate=function(e){var t=this.circuit.centroid();this.circuit.rotate(e,t)},Circuits.PCBGroup.prototype.setSelected=function(e){this.elements.forEach(function(t){t.setSelected(e)})},Circuits.PCBGroup.prototype.setInFocus=function(e){this.inFocus=e},Circuits.PCBGroup.prototype.isInFocus=function(){return this.inFocus},Circuits.PCBGroup.prototype.getPos=function(){var e=new n.HashSet;this.elements.forEach(function(t){t.getPos&&e.add(t)});var t=e.collect(function(e){return e.getPos()}),i=new o.PointSet(t).centroid();return i}},function(e,t,i){var n=i(173);Circuits.Drill=function(e,t,i){var n=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initDRCedElement([this.data.point,this.data.val,this.data.unit]),this.initGroups(i),this.controlGroup=this.getGroupInfo(Circuits.PCBLayers.DRILLCONTROL).svgGroup,this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlGroup).mousedown(function(e){return n.onMouseDown(e)}),this._hasChanged=!1,this.selected=!1,this.draw(),this.data.val.onChange(n,function(){n.data.isLife()&&(n.draw(),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()),n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly")},10),this.data.unit.onChange(n,function(){n.data.isLife()&&(n.draw(),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()),n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly")},10),this.data.point.onChange(n,function(){n.data.isLife()&&(n.draw(),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()),n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly")},10)},extend(Circuits.Drill,Circuits.DRCedElement),extend(Circuits.Drill,Circuits.DrawingElement),Circuits.Drill.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.PCBLayers.DRILL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILL,!1,Circuits.PCBLayers.DRILL,null,!0,!0)),e.put(Circuits.PCBLayers.DRILLCONTROL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILLCONTROL,!1,Circuits.PCBLayers.DRILLCONTROL,null,!0,!0)),e},Circuits.Drill.prototype.getPoly=function(e,t){return this.data.getPoly(e,t)},Circuits.Drill.prototype.remove=function(){this.gui.data.removeDrill(this.data)},Circuits.Drill.prototype.setPoint=function(e){this.data.point(e)},Circuits.Drill.prototype.getPoint=function(){return this.data.point()},Circuits.Drill.prototype.getPos=function(){return this.getPoint()},Circuits.Drill.prototype.getX=function(){return this.data.getX()},Circuits.Drill.prototype.getY=function(){return this.data.getY()},Circuits.Drill.prototype.rotate=function(e,t){var i=this;i.data.point(i.data.point().rotate(e,t))},Circuits.Drill.prototype.hasChanged=function(){return this._hasChanged},Circuits.Drill.prototype.setChanged=function(e){this._hasChanged=e},Circuits.Drill.prototype.draw=function(){var e=this;e.emptySvgGroups();var t=e.getGroupInfo(Circuits.PCBLayers.DRILL).svgGroup;e.gui.svg.circle(t,e.data.point().getX(),e.data.point().getY(),this.data.endsize()/2);var i=e.getGroupInfo(Circuits.PCBLayers.DRILLCONTROL).svgGroup,n=.8/e.gui.editorModel.viewS(),o=this.data.endsize()/2+this.data.endsize()/2/5;this.control=e.gui.svg.circle(i,e.data.point().getX(),e.data.point().getY(),this.data.endsize()/2,{fill:"#11181f"}),e.gui.svg.circle(i,e.data.point().getX(),e.data.point().getY(),this.data.endsize()/2,{stroke:"#ffa210","stroke-width":n}),e.svgLineH=e.gui.svg.line(i,e.data.point().getX()-o,e.data.point().getY(),e.data.point().getX()+o,e.data.point().getY(),{stroke:"#ffa210","stroke-width":n}),e.svgLineV=e.gui.svg.line(i,e.data.point().getX(),e.data.point().getY()-o,e.data.point().getX(),e.data.point().getY()+o,{stroke:"#ffa210","stroke-width":n}),e.setSelected(e.selected)},Circuits.Drill.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.Drill.prototype.showInspector=function(){if(this.parentGroup.isInFocus()){var e=[{label:"Diameter",type:Circuits.inspectorInputType.VALUE_AND_UNIT,datamember:this.data.checkedValue,unitmember:this.data.checkedUnit,list:this.data.units}],t={name:"Drillhole"};this.gui.inspector.buildAndShow(e,t)}}},function(e,t,i){var n=i(173),o=i(191),r=i(170).inherit;Circuits.PCBNet=function(e,t,i){var o=this;o.gui=e,o.parentGroup=i,Circuits.AbstractNet.call(this,e,t,this.createGroupInfos()),this.ratsnest=this.groups.get(Circuits.PCBLayers.RATSNEST).svgGroup,this.drc=this.groups.get(Circuits.PCBLayers.DRC).svgGroup,this.metalLayers=new n.HashMap;for(var r in Circuits.MetalLayers){var a=Circuits.MetalLayers[r],s=this.gui.metalLayers.get(a).svgLayerIndex;this.metalLayers.put(a,this.groups.get(s).svgGroup)}this.data.segments.forEach(function(e){new Circuits.RoutingSegment(o.gui,e,o.parentGroup)}),this.data.vias.forEach(function(e){new Circuits.Via(o.gui,e,o.parentGroup)}),this.data.pins.forEach(function(e){new Circuits.SegmentPindown(o.gui,e,o.parentGroup)}),this.draw(),this.data.subnets.onAdd(o,function(e,t){o.draw(),t.terminals.onAdd(o,function(e,t){o.data.isLife()&&o.draw(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),t.terminals.onRemove(o,function(e,t){o.data.isLife()&&o.draw(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},10),this.data.subnets.onSwap(o,function(e,t,i){o.draw();var n=i.getObj().getView(o.gui);n.draw(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded(),t.removeHandlersFor(o),t.terminals.onAdd(n,function(e,t){n.draw(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),t.terminals.onRemove(n,function(e,t){n.draw(),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},10),this.data.segments.onAdd(o,function(e,t){var i=new Circuits.RoutingSegment(o.gui,t,o.parentGroup);o.data.root.scheduleHeavy("update_nets",i.draw,i,[],t.versions_id),o.data.root.scheduleHeavy("update_ratsnest",o.drawRatsnest,o,[!0],o.versions_id),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.segments.onRemove(o,function(e,t){t.getView(o.gui).setSelected(!1),t.getView(o.gui).removeSvg(),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.vias.onAdd(o,function(e,t){var i=new Circuits.Via(o.gui,t,o.parentGroup);o.data.root.scheduleHeavy("update_nets",i.draw,i,[],t.versions_id),o.data.root.scheduleHeavy("update_ratsnest",o.drawRatsnest,o,[!0],o.versions_id),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.vias.onRemove(o,function(e,t){t.getView(o.gui).removeSvg(),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.pins.onAdd(o,function(e,t){var i=new Circuits.SegmentPindown(o.gui,t,o.parentGroup);o.data.root.scheduleHeavy("update_nets",i.draw,i,[],t.versions_id),o.data.root.scheduleHeavy("update_ratsnest",o.drawRatsnest,o,[!0],o.versions_id),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.pins.onRemove(o,function(e,t){o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},Circuits.PCBNet.prototype=r(Circuits.AbstractNet.prototype),Circuits.PCBNet.prototype.constructor=Circuits.PCBNet,Circuits.PCBNet.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.PCBLayers.DRC,new Circuits.GroupInfo(Circuits.PCBLayers.DRC,!1,Circuits.PCBLayers.DRC,null,!0,!0)),e.put(Circuits.PCBLayers.RATSNEST,new Circuits.GroupInfo(Circuits.PCBLayers.RATSNEST,!1,Circuits.PCBLayers.RATSNEST,null,!0,!0)),this.gui.metalLayers.forEach(function(t,i){e.put(i.svgLayerIndex,new Circuits.GroupInfo(i.svgLayerIndex,!1,i.svgLayerIndex,null,!0,!0)),e.put(i.controlLayerIndex,new Circuits.GroupInfo(i.controlLayerIndex,!1,i.controlLayerIndex,null,!0,!0))}),e},Circuits.PCBNet.prototype.setSelected=function(e){var t=new n.HashSet;t.addAll(this.data.segments),t.addAll(this.data.vias),t.addAll(this.data.pins),t.forEach(function(t){t.getView(self.gui).setSelected(e)})},Circuits.PCBNet.prototype.moveNoSnap=function(e){var t=new n.HashSet;t.addAll(this.data.segments),t.addAll(this.data.vias),t.addAll(this.data.pins),t.forEach(function(t){t.getView(self.gui).moveNoSnap(e)})},Circuits.PCBNet.prototype.rotate=function(e,t){var i=new n.HashSet;i.addAll(this.visseg),i.addAll(this.vias),i.addAll(this.pins),i.forEach(function(i){i.rotate(e,t)})},Circuits.PCBNet.prototype.registerSegment=function(e){this.data.segments.add(e.data)},Circuits.PCBNet.prototype.deregisterSegment=function(e){this.data.segments.remove(e.data)},Circuits.PCBNet.prototype.registerVia=function(e){this.data.vias.add(e.data)},Circuits.PCBNet.prototype.deregisterVia=function(e){this.data.vias.remove(e.data)},Circuits.PCBNet.prototype.registerPin=function(e){this.data.pins.add(e.data)},Circuits.PCBNet.prototype.deregisterPin=function(e){this.data.pins.remove(e.data)},Circuits.PCBNet.prototype.draw=function(){var e=this;this.emptyGroups(),this.data.isTopNet()&&this.drawRatsnest(!1),this.data.segments.forEach(function(t){t.getView(e.gui).draw()}),this.data.vias.forEach(function(t){t.getView(e.gui).draw()}),this.data.modnets().forEach(function(t){t.getView(e.gui).draw()})},Circuits.PCBNet.prototype.drawPolies=function(){var e=this;e.metalLayers.forEach(function(e,t){$(t).empty()}),e.data.polys.forEach(function(t,i){i.forEach(function(i){e.gui.renderMode?o.drawJstsPolygon(i.poly.toJsts(),e.gui.svg,e.metalLayers.get(t),{opacity:1}):o.drawJstsPolygon(i.poly.toJsts(),e.gui.svg,e.metalLayers.get(t),{opacity:.5})})}),this.data.isTopNet()&&this.drawRatsnest(!0)},Circuits.PCBNet.prototype.drawRatsnest=function(e){var t=this;if(t.data.getPcbTerminals().size()+t.data.modnets().size()!=0){var i=new n.Graph(function(e){return e.toString()});this.data.getPcbTerminals().forEach(function(e){e.hasPcb()&&i.addVertex(e.getPcbPos())}),t.data.vias.forEach(function(e){i.addVertex(e.getPcbPos())}),t.data.segments.forEach(function(e){if(!e.polySeg()){var t=[];e.endings.forEach(function(n){var o=e.endPoint(n);null!==o&&(t.push(o),i.addVertex(o))});var n=e.getLine();t.sort(function(e,t){return n.parameter(e)-n.parameter(t)});for(var o=0;o<t.length-1;o++)i.addEdge(t[o],t[o+1])}}),this.data.modnets().forEach(function(e){e.getPcbTerminals().forEach(function(e){e.hasPcb()&&i.addVertex(e.getPcbPos())}),e.segments.forEach(function(e){var t=[];e.endings.forEach(function(n){var o=e.endPoint(n);null!==o&&(t.push(o),i.addVertex(o))});var n=e.getLine();t.sort(function(e,t){return n.parameter(e)-n.parameter(t)});for(var o=0;o<t.length-1;o++)i.addEdge(t[o],t[o+1])})}),t.data.polys.forEach(function(e,n){n.forEach(function(e){if(e.traceElements.size()>0){var n=e.poly.outline[0];i.addVertex(n),e.traceElements.forEach(function(e){if(e.constructor!==Circuits.RoutingSegmentData){if(e.getView(t.gui)){var o=e.getView(t.gui).getPos();i.addVertex(o),i.addEdge(n,o)}}else{var r=e.endPoints();i.addVertex(r[0]),i.addEdge(n,r[0]),i.addVertex(r[1]),i.addEdge(n,r[1])}})}})});var o=i.connectedComponents(),r=new n.Graph;o.forEach(function(e){r.addVertex(e)}),r.forEachPair(function(e,t){var i=e.element,n=t.element,o=Number.MAX_VALUE,a=null,s=null;i.forEachVertex(function(e){n.forEachVertex(function(t){var i=Math.sqrt(Math.pow(e.element.x-t.element.x,2)+Math.pow(e.element.y-t.element.y,2));o>i&&(o=i,a=e,s=t)})}),r.addEdge(i,n,o,{begin:a.element,end:s.element})});var a=r.MinimumSpanningTree();$(t.drc).empty(),$(t.ratsnest).empty(),a.forEachEdge(function(e){t.gui.svg.line(t.drc,e.data.begin.x,e.data.begin.y,e.data.end.x,e.data.end.y,{stroke:"green",strokeWidth:"1000","stroke-linecap":"round",opacity:"0.3"}),t.gui.svg.line(t.ratsnest,e.data.begin.x,e.data.begin.y,e.data.end.x,e.data.end.y,{stroke:"green",strokeWidth:"200","stroke-linecap":"round"})})}}},function(e,t,i){var n=i(191);Circuits.PCBOutline=function(e,t){var i=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.thickness=10;var o=this.gui.outlineLayerInfo;this.svgGroup=this.gui.svg.group(o.svgLayer),this.controlGroup=this.gui.svg.group(o.controlLayer),this.up=new Circuits.OutlineSegment(this.gui,this,this.data.upperLeft,new n.Coord(1,0)),this.down=new Circuits.OutlineSegment(this.gui,this,this.data.lowerRight,new n.Coord(1,0)),this.left=new Circuits.OutlineSegment(this.gui,this,this.data.upperLeft,new n.Coord(0,1)),this.right=new Circuits.OutlineSegment(this.gui,this,this.data.lowerRight,new n.Coord(0,1)),this.logoGroup=this.gui.svg.group(this.gui.bottomsilkLayerInfo.svgLayer),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.svgGroup).mousedown(function(e){return i.onMouseDown(e)}),this.up.con0=this.left,this.up.con1=this.right,this.left.con0=this.down,this.left.con1=this.up,this.down.con0=this.right,this.down.con1=this.left,this.right.con0=this.up,this.right.con1=this.down,this._hasChanged=!1,i.draw(),this.data.upperLeft.onChange(i,function(){i.draw(),i.gui.origin.draw(),i.data.root.scheduleHeavy("poly",i.gui.redrawPolys,i.gui,[],"poly"),i.gui.circuitEditor&&i.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.lowerRight.onChange(i,function(){i.draw(),i.gui.origin.draw(),i.data.root.scheduleHeavy("poly",i.gui.redrawPolys,i.gui,[],"poly"),i.gui.circuitEditor&&i.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},Circuits.PCBOutline.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove(),this.up.removeSvg(),this.down.removeSvg(),this.left.removeSvg(),this.right.removeSvg()},Circuits.PCBOutline.prototype.hasChanged=function(){return this._hasChanged},Circuits.PCBOutline.prototype.setChanged=function(e){this._hasChanged=e},Circuits.PCBOutline.prototype.draw=function(){var e=this;this.up.draw(),this.left.draw(),this.down.draw(),this.right.draw(),$(this.logoGroup).empty(),this.gui.svg.add(this.logoGroup,Circuits.logoGen.getSVG(this.data.getBB())),e.gui.renderMode||this.gui.svg.change(this.logoGroup,{opacity:.25})},Circuits.PCBOutline.prototype.onMouseDown=function(e){if("idle"!=this.gui.state())return!0;var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.OutlineSegment=function(e,t,i,n){this.gui=e,this.outline=t,this.point=i,this.direction=n,this.con0=null,this.con1=null,this.svgGroup=this.gui.svg.group(this.gui.outlineLayerInfo.svgLayer),this.controlGroup=this.gui.svg.group(this.gui.outlineLayerInfo.controlLayer),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlGroup).mousedown(function(e){return self.onMouseDown(e)}),this.selected=!1},Circuits.OutlineSegment.prototype.setPoint=function(e){this.point(e)},Circuits.OutlineSegment.prototype.getPoint=function(){return this.point()},Circuits.OutlineSegment.prototype.setDir=function(e){this.direction(e)},Circuits.OutlineSegment.prototype.getDir=function(){return this.direction()},Circuits.OutlineSegment.prototype.getLine=function(){return new n.Line(this.direction,this.point())},Circuits.OutlineSegment.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove()},Circuits.OutlineSegment.prototype.draw=function(){var e=this;$(this.svgGroup).empty(),$(this.controlGroup).empty();var t=e.getLine().intersection(e.con0.getLine()),i=e.getLine().intersection(e.con1.getLine());e.svgLine=e.gui.svg.line(e.svgGroup,t.getX(),t.getY(),i.getX(),i.getY(),{"stroke-linecap":"round",strokeWidth:e.thickness}),e.controlLine=e.gui.svg.line(e.controlGroup,t.getX(),t.getY(),i.getX(),i.getY(),{"stroke-linecap":"round",strokeWidth:10*e.thickness})},Circuits.OutlineSegment.prototype.onMouseDown=function(e){if("idle"===this.gui.state()){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}return!0},Circuits.OutlineSegment.prototype.moveNoSnap=function(e){this.point(this.point().add(this.direction.perp().mult(e.dot(this.direction.perp()))))},Circuits.OutlineSegment.prototype.setSelected=function(){},Circuits.OutlineSegment.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return e===e.outline.up&&t.add(new n.Line(n.Line.HOR,e.outline.up.getPoint()),1),e===e.outline.down&&t.add(new n.Line(n.Line.HOR,e.outline.down.getPoint()),1),e===e.outline.left&&t.add(new n.Line(n.Line.VER,e.outline.left.getPoint()),1),e===e.outline.right&&t.add(new n.Line(n.Line.VER,e.outline.right.getPoint()),1),t}},function(e,t,i){var n=i(173);i(191);Circuits.RoutingSegment=function(e,t,i){var n=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initDRCedElement([this.data.direction,this.data.point,this.data.thickness,this.data.layerIndex,this.data.net,this.data.endings]),this.initTraceElement(),this.initGroups(i),this.dummy=!1,this.error=!1,this.controlEnabled=!0;var o=this.getLayerInfo();this.metalGroup=this.gui.svg.group(o.svgLayer),this.controlGroup=this.gui.svg.group(o.controlLayer);var r=this.gui.metalLayers.get(this.getLayer());$(this.groupInfos.get(r.svgLayerIndex).svgGroup).append(this.metalGroup),$(this.groupInfos.get(r.controlLayerIndex).svgGroup).append(this.controlGroup),this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlGroup).mousedown(function(e){return n.onMouseDown(e)}),this.selected=!1,this.data.thickness.onChange(n,function(){n.data.isLife()&&(n.draw(),n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly"),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded())},10),this.data.dummy.onChange(n,function(){n.setDummy(n.data.dummy())},10),this.data.point.onChange(n,function(){n.scheduleRedraw(),n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly"),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.layerIndex.onChange(n,function(){n.data.root.scheduleHeavy("poly",n.gui.redrawPolys,n.gui,[],"poly");var e=n.gui.metalLayers.get(n.getLayer());$(n.groupInfos.get(e.svgLayerIndex).svgGroup).append(n.metalGroup),$(n.groupInfos.get(e.controlLayerIndex).svgGroup).append(n.controlGroup),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},extend(Circuits.RoutingSegment,Circuits.DRCedElement),extend(Circuits.RoutingSegment,Circuits.TraceElement),extend(Circuits.RoutingSegment,Circuits.DrawingElement),Circuits.RoutingSegment.prototype.createGroupInfos=function(){var e=new n.HashMap;return this.gui.metalLayers.forEach(function(t,i){e.put(i.svgLayerIndex,new Circuits.GroupInfo(i.svgLayerIndex,!1,i.svgLayerIndex,null,!0,!0)),e.put(i.controlLayerIndex,new Circuits.GroupInfo(i.controlLayerIndex,!1,i.controlLayerIndex,null,!0,!0))}),e},Circuits.RoutingSegment.prototype.getPoly=function(e,t){return this.data.getPoly(e,t)},Circuits.RoutingSegment.prototype.setThickness=function(e){this.data.setThickness(e)},Circuits.RoutingSegment.prototype.getThickness=function(){return this.data.getThickness()},Circuits.RoutingSegment.prototype.getLayer=function(){return this.data.getLayer()},Circuits.RoutingSegment.prototype.getLayerInfo=function(){return this.gui.metalLayers.get(this.getLayer())},Circuits.RoutingSegment.prototype.setDir=function(e){this.data.setDir(e)},Circuits.RoutingSegment.prototype.getDir=function(){return this.data.getDir()},Circuits.RoutingSegment.prototype.endPoint=function(e){return this.data.endPoint(e.data)},Circuits.RoutingSegment.prototype.isEndEnding=function(e){return this.data.isEndEnding(e.data)},Circuits.RoutingSegment.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.RoutingSegment.prototype.draw=function(){var e=this;$(this.metalGroup).empty(),$(this.controlGroup).empty();var t=this.data.endPoints(),i=(e.getLayerInfo(),e.getThickness());this.data.polySeg()&&(i=200),this.data.polySeg()?this.gui.renderMode||(e.line=e.gui.svg.line(e.metalGroup,t[0].getX(),t[0].getY(),t[1].getX(),t[1].getY(),{"stroke-dasharray":"300 300","stroke-linecap":"round",strokeWidth:i})):e.line=e.gui.svg.line(e.metalGroup,t[0].getX(),t[0].getY(),t[1].getX(),t[1].getY(),{"stroke-linecap":"round",strokeWidth:i}),e.data.dummy()||(e.control=e.gui.svg.line(e.controlGroup,t[0].getX(),t[0].getY(),t[1].getX(),t[1].getY(),{"stroke-linecap":"round",strokeWidth:i}))},Circuits.RoutingSegment.prototype.removeView=function(){$(this.metalGroup).remove(),$(this.controlGroup).remove()},Circuits.RoutingSegment.prototype.setDummy=function(e){this.dummy=e,this.setOpacity()},Circuits.RoutingSegment.prototype.setSelected=function(e){this.selected=e,this.setOpacity()},Circuits.RoutingSegment.prototype.showInspector=function(){var e=[{label:"Thickness",type:Circuits.inspectorInputType.SELECTBOX,datamember:this.data.thickness,list:this.data.thicknessValuesMap}],t={name:"Copper Trace"};this.gui.inspector.buildAndShow(e,t)},Circuits.RoutingSegment.prototype.setSelectedDouble=function(){var e=this.data.getNet(),t=e.segments;t.forEach(function(e){self.data.polySeg()===e.polySeg()&&(e.getView(self.gui).selected=!0,self.gui.editorModel.selection.add(e.getView(self.gui)),e.getView(self.gui).setOpacity())})},Circuits.RoutingSegment.prototype.setOpacity=function(){this.selected||this.dummy?this.gui.svg.change(this.metalGroup,{opacity:.5}):this.gui.svg.change(this.metalGroup,{opacity:1})},Circuits.RoutingSegment.prototype.rotate=function(e,t){this.setPoint(this.getPoint().rotate(e,t)),this.setDir(this.getDir().rotate(e)),this.setMoved(!0)}},function(e,t,i){var n=i(191),o=i(170).inherit;Circuits.PCBTerminal=function(e,t,i){var n=this;Circuits.AbstractTerminal.apply(this,arguments),this.data.registerView(this.gui,this),this.initDRCedElement([this.data.parent().footprint().pos,this.data.parent().footprint().angle,this.data.parent().footprint().flip,this.data.net]),this.initTraceElement(),this.pad=[],this.control=[];for(var o=0;o<this.data.root.number_of_layers();o++){var r=this.gui.metalLayers.get(o);this.pad[o]=this.gui.svg.group(this.ouder.groupInfos.get(r.svgLayerIndex).svgGroup),this.control[o]=this.gui.svg.group(this.ouder.groupInfos.get(r.controlLayerIndex).svgGroup)}if(this.drill=this.gui.svg.group(this.ouder.groupInfos.get(Circuits.PCBLayers.DRILL).svgGroup),this.drillcontrol=this.gui.svg.group(this.ouder.groupInfos.get(Circuits.PCBLayers.DRILLCONTROL).svgGroup),this.gui.mode==Circuits.GuiMode.EDIT){for(var a=0;a<this.control.length;a++)null!==this.control[a]&&$(this.control[a]).mousedown(function(e){return n.onMouseDown(e)});null!==this.drillcontrol&&$(this.drillcontrol).mousedown(function(e){return n.onMouseDown(e)})}this.draw()},Circuits.PCBTerminal.prototype=o(Circuits.AbstractTerminal.prototype),Circuits.PCBTerminal.prototype.constructor=Circuits.PCBTerminal,extend(Circuits.PCBTerminal,Circuits.DRCedElement),extend(Circuits.PCBTerminal,Circuits.TraceElement),Circuits.PCBTerminal.prototype.draw=function(){for(var e=0;e<this.data.root.number_of_layers();e++)$(this.pad[e]).empty(),$(this.control[e]).empty();if($(this.drill).empty(),$(this.drillcontrol).empty(),this.data.isLife()){for(var e=0;e<this.data.root.number_of_layers();e++){var t;this.gui.metalLayers.get(e);t=this.data.parent()&&-1===this.data.parent().footprint().flip()?e%2==0?e+1:e-1:e;var i=this.data.getBasePolygon(t);"nopoly"!==i&&(this.gui.svg.add(this.pad[e],i.toSVG(!0,!1)),this.gui.svg.add(this.control[e],i.toSVG(!0,!1)))}var o=this.description.drill;if(null!==o&&""!==o){o=$.parseJSON(o);var i=this.data.getDrillBasePolygon();"nopoly"!==i&&(this.gui.svg.add(this.drill,i.toSVG(!0,!1)),this.gui.svg.add(this.drillcontrol,i.toSVG(!0,!1)))}if(this.gui.padLabelsVisible&&this.control[0]){this.padNameGroup=this.gui.svg.group(this.ouder.groupInfos.get(Circuits.PCBLayers.LABEL).svgGroup),this.padNameText=this.gui.svg.text(this.padNameGroup,0,0,this.description.name.toString()),this.gui.svg.change(this.padNameGroup,{style:"fill: black; text-anchor: middle;font-family: verdana; font-size : 100px;"});var r=n.fitBBinBB(this.padNameGroup.getBBox(),this.control[0].getBBox());this.gui.svg.change(this.padNameGroup,{transform:" translate("+r.transX+","+r.transY+") scale("+r.scale+","+r.scale+")"})}}},Circuits.PCBTerminal.prototype.getPoly=function(e,t){return this.data.getPoly(e,t)},Circuits.PCBTerminal.prototype.getX=function(){return this.data.getPcbX()},Circuits.PCBTerminal.prototype.getY=function(){return this.data.getPcbY()},Circuits.PCBTerminal.prototype.getPos=function(e){return this.data.getPcbPos()},Circuits.PCBTerminal.prototype.getLayer=function(){return this.data.getLayer()},Circuits.PCBTerminal.prototype.getDir=function(){return 0},Circuits.PCBTerminal.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.ouder.data).element("subelement",this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.PCBTerminal.prototype.setSelected=function(e){var t=this;this.selected=e,this.pad.forEach(function(e){t.gui.svg.change(e,{opacity:t.selected?.5:1})})}},function(e,t,i){var n=i(173);Circuits.Via=function(e,t,i){var o=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initDRCedElement([this.data.point,this.data.endsize,this.data.net]),this.initTraceElement(),this.initGroups(i),this.metalGroups=new n.HashSet,this.controlGroup=this.getGroupInfo(Circuits.PCBLayers.DRILLCONTROL).svgGroup,this.gui.mode==Circuits.GuiMode.EDIT&&$(this.controlGroup).mousedown(function(e){return o.onMouseDown(e)}),this.selected=!1,this.data.point.onChange(o,function(){o.data.root.scheduleHeavy("update_nets",o.draw,o,[],o.data.versions_id),o.getNet()&&o.data.root.scheduleHeavy("update_ratsnest",o.getNet().drawRatsnest,o.getNet(),[!0],o.getNet().data.versions_id),o.data.root.scheduleHeavy("poly",o.gui.redrawPolys,o.gui,[],"poly"),o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.onDie(o,function(){o.gui.circuitEditor&&o.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},extend(Circuits.Via,Circuits.DRCedElement),extend(Circuits.Via,Circuits.TraceElement),extend(Circuits.Via,Circuits.DrawingElement),Circuits.Via.prototype.createGroupInfos=function(){var e=new n.HashMap;return this.gui.metalLayers.forEach(function(t,i){e.put(i.svgLayerIndex,new Circuits.GroupInfo(i.svgLayerIndex,!1,i.svgLayerIndex,null,!0,!0)),e.put(i.controlLayerIndex,new Circuits.GroupInfo(i.controlLayerIndex,!1,i.controlLayerIndex,null,!0,!0))}),e.put(Circuits.PCBLayers.DRILL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILL,!1,Circuits.PCBLayers.DRILL,null,!0,!0)),e.put(Circuits.PCBLayers.DRILLCONTROL,new Circuits.GroupInfo(Circuits.PCBLayers.DRILLCONTROL,!1,Circuits.PCBLayers.DRILLCONTROL,null,!0,!0)),e},Circuits.Via.prototype.getPoly=function(e,t){return this.data.getPoly(e,t)},Circuits.Via.prototype.setPoint=function(e){this.data.point(e)},Circuits.Via.prototype.getPoint=function(){return this.data.point()},Circuits.Via.prototype.getPos=function(){return this.getPoint()},Circuits.Via.prototype.getLayers=function(){return this.data.getLayers()},Circuits.Via.prototype.getX=function(){return this.data.getX()},Circuits.Via.prototype.getY=function(){return this.data.getY()},Circuits.Via.prototype.rotate=function(e,t){var i=this;i.data.point(i.data.point().rotate(e,t)),i.data.root.scheduleHeavy("update_nets",i.draw,i,[],i.data.versions_id)},Circuits.Via.prototype.draw=function(){var e=this;e.emptySvgGroups();var t=this.data.endsize()/2,i=Circuits.fab.viaPadDiameter(this.data.endsize())/2;e.gui.metalLayers.forEach(function(t,n){var o=e.getGroupInfo(n.svgLayerIndex),r=o.svgGroup;e.metalGroups.add(r),e.gui.svg.circle(r,e.data.point().getX(),e.data.point().getY(),i)});var n=e.getGroupInfo(Circuits.PCBLayers.DRILL).svgGroup;e.gui.svg.circle(n,e.data.point().getX(),e.data.point().getY(),t),this.control=e.gui.svg.circle(this.controlGroup,e.data.point().getX(),e.data.point().getY(),i),e.setSelected(e.selected)},Circuits.Via.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN,this.data,e).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)},Circuits.Via.prototype.ripup=function(){this.data.ripup()}},function(e,t,i){var n=i(170).create;Circuits.PcbViewFactory=function(){},
Circuits.PcbViewFactory.prototype.newPCBTerminal=function(){return n(Circuits.PCBTerminal,arguments)},Circuits.PcbViewFactory.prototype.newPCBElement=function(){return n(Circuits.PCBElement,arguments)},Circuits.PcbViewFactory.prototype.newPCBGroup=function(){return n(Circuits.PCBGroup,arguments)},Circuits.PcbViewFactory.prototype.newPCBNet=function(){return n(Circuits.PCBNet,arguments)}},function(e,t,i){var n=i(191);Circuits.Logo=function(e,t,i,n,o){var r=this;this.gui=e,this.data=t,this.data.view=this,this.layerIndex=n,this.controlIndex=o,this.initGroups(i);this.gui.outlineLayerInfo;this.svgGroup=this.getGroupInfo(this.layerIndex).svgGroup,this.controlGroup=this.getGroupInfo(this.controlIndex).svgGroup,this.logoGroup=this.gui.svg.group(this.svgGroup),this.handleGroup=this.gui.svg.group(this.svgGroup),this.logoControlGroup=this.gui.svg.group(this.controlGroup),this.handleControlGroup=this.gui.svg.group(this.controlGroup);this._hasChanged=!1,this.selected=!1,this.draw(),this.data.width.onChange(r,function(){r.data.isLife()&&(r.draw(),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded())},10),this.data.center.onChange(r,function(){r.data.isLife()&&(r.draw(),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded())},10),this.data.angle.onChange(r,function(){r.data.isLife()&&(r.draw(),r.gui.circuitEditor&&r.gui.circuitEditor.flashPcbWarningIfNeeded())},10)},extend(Circuits.Logo,Circuits.DrawingElement),Circuits.Logo.prototype.draw=function(){$(this.logoGroup).empty(),$(this.logoControlGroup).empty();var e=null;e=this.gui.svg.add(this.logoGroup,this.data.toSVG()),e=this.gui.svg.add(this.logoControlGroup,this.data.toSVG())},Circuits.Logo.prototype.drawHandles=function(){},Circuits.Logo.stateMachine=function(e,t,i,o,r){var a=this;if(void 0==i&&(i=new n.Coord(0,0)),this.current_logo&&e.type()==Circuits.GuiEvents.GUI_KEY_PRESSED)switch(e.data("which")){case 187:this.current_logo.setStrokeWidth(this.current_logo.getStrokeWidth()+1);break;case 189:this.current_logo.setStrokeWidth(this.current_logo.getStrokeWidth()-1);break;case 84:this.current_logo.setFill(!this.current_logo.getFill())}switch(this.state){case"idle":if(e.type()==Circuits.GuiEvents.GUI_MOUSE_PAN||e.type()==Circuits.GuiEvents.ELEMENT_MOUSE_DOWN){this.root.rec();var s=this.editorModel.getInitialSnapSet();this.snapTo=s.snapTo,this.snapFrom=s.snapFrom,this.panEnabled=!1,this.panning=!1,this.current_logo=new Circuits.LogoData(this.root,0,this.snapPoint(this.getMousePos(e)).sub(i),0,r),t.isList()?t.push(this.current_logo):o(this.current_logo),this.state="setting_width_height_new_logo",this.current_logo.view.inFocus=!0}else e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE?this.snapPoint(this.getMousePos(e)):a.escapeIfNeeded(e);break;case"setting_width_height_new_logo":if(e.type()==Circuits.GuiEvents.GUI_MOUSE_MOVE){var c=this.snapPoint(this.getMousePos(e)).sub(this.current_logo.center());this.current_logo.width(2*Math.abs(c.getX()))}else e.type()==Circuits.GuiEvents.GUI_MOUSE_UP&&(this.state="idle",this.panEnabled=!0,this.current_logo.width()<=1e4&&this.current_logo.width(1e4),this.current_logo=null,this.root.stopRec(),$(this.snapGroup).empty(),this.setTool("select"))}},Circuits.Logo.prototype.remove=function(){this.data.parent().elements.remove(this.data.parent().elements.indexOf(this.data))},Circuits.Logo.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove()},Circuits.Logo.prototype.removeHandlePoint=function(){},Circuits.Logo.prototype.moveNoSnap=function(e){this.data.center(this.data.center().add(e))},Circuits.Logo.prototype.getSnapSet=function(){var e=this,t=new Circuits.SnapSet;return t.addHor(e.data.center(),1),t.addVer(e.data.center(),1),t},Circuits.Logo.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this);return this.gui.stateMachine.handle(t),!1},Circuits.Logo.prototype.clickAction=function(){this.draw();var e=this;this.draw();var t=[];t.push({label:"X",type:circuitsGui.inspectorInputType.NUMBER,value:e.data.x(),callbacks:[{events:"focus",selector:".js-valueInput",callback:function(t){e.data.root.rec()}},{events:"keyup",selector:".js-valueInput",callback:function(t){e.data.x($(this).val())}},{events:"blur",selector:".js-valueInput",callback:function(t){e.data.root.stopRec()}}]}),t.push({label:"Y",type:circuitsGui.inspectorInputType.NUMBER,value:e.data.y(),callbacks:[{events:"focus",selector:".js-valueInput",callback:function(t){e.data.root.rec()}},{events:"keyup",selector:".js-valueInput",callback:function(t){e.data.y($(this).val())}},{events:"blur",selector:".js-valueInput",callback:function(t){e.data.root.stopRec()}}]}),t.push({label:"width",type:circuitsGui.inspectorInputType.NUMBER,value:e.data.width(),callbacks:[{events:"focus",selector:".js-valueInput",callback:function(t){e.data.root.rec()}},{events:"keyup",selector:".js-valueInput",callback:function(t){e.data.width($(this).val())}},{events:"blur",selector:".js-valueInput",callback:function(t){e.data.root.stopRec()}}]}),t.push({label:"height",type:circuitsGui.inspectorInputType.NUMBER,value:e.data.height(),callbacks:[{events:"focus",selector:".js-valueInput",callback:function(t){e.data.root.rec()}},{events:"keyup",selector:".js-valueInput",callback:function(t){e.data.height($(this).val())}},{events:"blur",selector:".js-valueInput",callback:function(t){e.data.root.stopRec()}}]});var i={name:"Logo Tool"};this.gui.inspector.build(t,i),this.gui.inspector.show()}},function(e,t,i){var n=i(173),o=i(191);Circuits.ModuleOutline=function(e,t,i){var n=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initGroups(i),this.svgGroup=this.groupInfos.get(Circuits.PCBLayers.SILKSCREEN).svgGroup,this.data.upperLeft.onChange(n,function(){n.draw(),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()},10),this.data.lowerRight.onChange(n,function(){n.draw(),n.gui.circuitEditor&&n.gui.circuitEditor.flashPcbWarningIfNeeded()},10)},extend(Circuits.ModuleOutline,Circuits.DrawingElement),Circuits.ModuleOutline.prototype.createGroupInfos=function(){var e=new n.HashMap;return e.put(Circuits.PCBLayers.SILKSCREEN,new Circuits.GroupInfo(Circuits.PCBLayers.SILKSCREEN,!0,Circuits.PCBLayers.SILKSCREEN,null,!0,!0)),e},Circuits.ModuleOutline.prototype.draw=function(){this.emptySvgGroups();var e=this.data,t=new o.PointSet([e.lowerRight(),e.upperLeft()]).getBB(),i=t.getPoly();this.gui.svg.add(this.svgGroup,i.toSVG(!1,!0,100,"400 200"))},Circuits.ModuleOutline.prototype.moveNoSnap=function(e){this.data.lowerRight(this.data.lowerRight().add(e)),this.data.upperLeft(this.data.upperLeft().add(e)),this.draw()},Circuits.ModuleOutline.prototype.rotate=function(e,t){this.data.lowerRight(this.data.lowerRight().rotate(e,t)),this.data.upperLeft(this.data.upperLeft().rotate(e,t)),this.draw()}},function(e,t){Circuits.SegmentPindown=function(e,t){var i=this;this.gui=e,this.data=t,this.data.registerView(e,this),this.initDRCedElement([]),this.initTraceElement(),this.data.pos.onChange(this,function(){i.setMoved(!0),i.data.root.scheduleHeavy("poly",i.gui.redrawPolys,i.gui,[],"poly")},10)},extend(Circuits.SegmentPindown,Circuits.DRCedElement),extend(Circuits.SegmentPindown,Circuits.TraceElement),Circuits.SegmentPindown.prototype.getPoint=function(){return this.data.getPoint()},Circuits.SegmentPindown.prototype.setPoint=function(e){this.data.setPoint(e)},Circuits.SegmentPindown.prototype.setSelected=function(){},Circuits.SegmentPindown.prototype.getPos=function(){return this.getPoint()},Circuits.SegmentPindown.prototype.rotate=function(e,t){this.setPoint(this.getPoint().rotate(e,t)),this.setMoved(!0)},Circuits.SegmentPindown.prototype.draw=function(e){}},function(e,t){!function(e,t,i){e.pcb=function(e,i){var n=this;n.gui=e,n.pcbEditor=i,n.helpVisible=!1,navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t(".js-download_pcb_image").click(function(e){n.downloadimage()}):t(".js-download_pcb_image").closest("li").remove()},e.pcb.prototype.setToolActive=function(e){var i=this,n=!1;switch(e){case"trace":n=t(".js-trace");break;case"poly":n=t(".js-fill");break;case"via":n=t(".js-via"),i.gui.pcbGui.showHelp("First select a net of wires you want to reference for a via.");break;case"drillhole":n=t(".js-drillhole");break;case"text":n=t(".js-textTool"),i.gui.pcbGui.showHelp("Click anywhere to add a silkscreen textlabel.");break;case"path":n=t(".js-penTool"),i.gui.pcbGui.showHelp("Click anywhere to add a silkscreen polyline.");break;case"circle":n=t(".js-circleTool"),i.gui.pcbGui.showHelp("Click anywhere to add a silkscreen circle.");break;case"rect":n=t(".js-rectTool"),i.gui.pcbGui.showHelp("Click anywhere to add a silkscreen rectangle.")}n&&n.addClass("active")},e.pcb.prototype.clearActiveTool=function(){t(".js-pcb_buttons .active").removeClass("active"),this.helpVisible&&this.hideHelp()},e.pcb.prototype.showHelp=function(e){t(".js-pcb-menu-info").html(e),this.helpVisible=!0},e.pcb.prototype.hideHelp=function(){this.helpVisible=!1,t(".js-pcb-menu-info").html("")},e.pcb.prototype.showPCBDelete=function(){t(".js-pcb-delete").show()},e.pcb.prototype.hidePCBDelete=function(){t(".js-pcb-delete").hide()},e.pcb.prototype.downloadimage=function(t){e.download_image(this.gui.pcbEditor,"#pcbTab","pcb","jpg","/image","#000")}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.download_gerbers_click=function(){var i=document.URL;"/"==i[i.length-1]&&(i=i.slice(0,-1)),i+=".json";var n;t.ajax({type:"GET",url:i,dataType:"json",context:this,success:function(e){n=e},async:!1});try{var o,r=new Circuits.DesignRoot;if("string"==typeof n)var o=Circuits.CircuitData.createFromJSON(n,r);else var o=Circuits.CircuitData.createFromJSON(JSON.stringify(n),r);r.attachCircuit(o),r.runHeavies(r.heavy_order);for(var a=["gtl","gbl","gts","gbs","gto","gbo","drl","outline"],s=0;s<o.number_of_layers()-2;s++)a.push("g"+(s+2)+"l");for(var c={},l=0;l<a.length;l++)c[a[l]]=o.getGerber(a[l]);t(this).hasClass("oshpark")?(t("#osh_gerbers").val(JSON.stringify(c)),t("#osh_gerber_form").submit()):(t("#gerbers").val(JSON.stringify(c)),t("#gerber_form").submit())}catch(d){throw new e.error("Gerber generation","Something went wrong during the gerber generation",d),d}return!1},e.download_gerbers_click=e.download_gerbers_click}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.drawing_aids=function(i,n,o,r){var a=this;a.gui=i,this.aidsContainer=t(e.template(n)).appendTo(o),this.aidsBox=new e.overlay_box(i,".js-drawing_aids",r,Circuits.GuiEvents.DRAWINGAIDS_BUTTON),t(".js-grid-settings",a.aidsContainer).click(function(e){a.gui.stateMachine.handle(Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_GRID_INSPECTOR)}),t(".js-toggle_grid_visibility",a.aidsContainer).click(function(e){a.gui.stateMachine.handle(Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_GRID)}),t(".js-board-settings",a.aidsContainer).click(function(e){a.gui.stateMachine.handle(Circuits.GuiEvents.DRAWINGAIDS_SHOW_BOARD_SETTINGS)}),t(".js-toggle_board_visibility",a.aidsContainer).click(function(e){a.gui.stateMachine.handle(Circuits.GuiEvents.DRAWINGAIDS_TOGGLE_BOARD)})},e.drawing_aids.prototype.toggleGrid=function(){t(".js-toggle_grid_visibility .js-eye-active",this.aidsContainer).toggle(),t(".js-toggle_grid_visibility .js-eye-disabled",this.aidsContainer).toggle()},e.drawing_aids.prototype.toggleBoardFill=function(){t(".js-toggle_board_visibility .js-eye-active",this.aidsContainer).toggle(),t(".js-toggle_board_visibility .js-eye-disabled",this.aidsContainer).toggle()}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.pcb_copper_trace=function(e,i,n,o){var r=this;r.gui=e,r.copper_trace_options=t(o),r.copper_trace_corners=t(n),r.copper_trace_container=t(i),r.copper_trace_options.on("change",function(){var e=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_COPPER_TRACE_WIDTH).data("width",t(this).val());r.gui.stateMachine.handle(e)}),r.copper_trace_corners.on("click",function(){var e=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_COPPER_TRACE_CORNER).data("corner",t(this).data("corner"));r.gui.stateMachine.handle(e)}),this.hide_copper_trace_btns()},e.pcb_copper_trace.prototype.show_copper_trace_btns=function(){this.copper_trace_container.show()},e.pcb_copper_trace.prototype.hide_copper_trace_btns=function(){this.copper_trace_container.hide()},e.pcb_copper_trace.prototype.change_copper_trace_option_value=function(e){this.copper_trace_options.val(e)},e.pcb_copper_trace.prototype.change_copper_trace_corner_btn=function(e){this.copper_trace_corners.each(function(){t(this).removeClass("sitemenu__svg_block_btn--active"),parseInt(t(this).data("corner"))==e&&t(this).addClass("sitemenu__svg_block_btn--active")})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(131);!function(e,t,i){e.layers=function(i,n,o,r){this.gui=i,this.layersContainer=t(e.template(n)).appendTo(o),this.layersBox=new e.overlay_box(i,".js-layers",r,Circuits.GuiEvents.LAYERS_BUTTON)},e.layers.prototype.reconstructLayerSelector=function(i){var o=this,r=t(e.template(n.layers_list,{layers:i}));t(".js-layers__body",this.layersContainer).html(r),t(".js-layers__layer",r).click(function(){var e=t(this).data("layer"),i=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_LAYER).data("layer",e);o.gui.stateMachine.handle(i)})},e.layers.prototype.selectLayer=function(e){var i=this;t("[data-layer]",i.layersContainer).each(function(i,n){t(n).data("layer")===e&&t(n).addClass("active")})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(772),i(773),i(774),i(775)},function(e,t){Circuits.BezierHandle=function(e,t,i){this.gui=e,this.outline=t,this.data=i,this.data.registerView(e,this),this.svgGroup=this.gui.svg.group(this.outline.handleGroup),this.controlGroup=this.gui.svg.group(this.outline.handleControlGroup),this.tan_0_handle_view=new Circuits.BezierTangentHandle(this.gui,this,this.data.tan_0_handle),this.tan_1_handle_view=new Circuits.BezierTangentHandle(this.gui,this,this.data.tan_1_handle)},Circuits.BezierHandle.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove()},Circuits.BezierHandle.prototype.draw=function(){var e=this;if($(this.svgGroup).empty(),$(this.controlGroup).empty(),this.outline.data.interactionModel.infocus()){this.tan_0_handle_view.draw(),this.tan_1_handle_view.draw();var t=10/this.gui.editorModel.viewS(),i=1/this.gui.editorModel.viewS();this.gui.svg.rect(this.svgGroup,e.data.point().x-t/2,e.data.point().y-t/2,t,t,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:i});var n=this.gui.svg.rect(this.controlGroup,e.data.point().x-t/2,e.data.point().y-t/2,t,t,{fill:"red",stroke:"red"});this.gui.mode==Circuits.GuiMode.EDIT&&$(n).mousedown(function(t){return e.onMouseDown(t)})}},Circuits.BezierHandle.prototype.setSelected=function(e){this.selected=e,this.draw()},Circuits.BezierHandle.prototype.getPos=function(){return this.data.point()},Circuits.BezierHandle.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e)).data("notFocusable",!0);return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.BezierOutline=function(e,t){var i=this;this.gui=e,this.data=t,this.data.registerView(e,this);var n=this.gui.outlineLayerInfo;this.svgGroup=this.gui.svg.group(n.svgLayer),this.controlGroup=this.gui.svg.group(n.controlLayer),this.outlineGroup=this.gui.svg.group(this.svgGroup),this.segmentGroup=this.gui.svg.group(this.svgGroup),this.handleGroup=this.gui.svg.group(this.svgGroup),this.outlineControlGroup=this.gui.svg.group(this.controlGroup),this.segmentControlGroup=this.gui.svg.group(this.controlGroup),this.handleControlGroup=this.gui.svg.group(this.controlGroup),this.logoGroup=this.gui.svg.group(this.gui.bottomsilkLayerInfo.svgLayer),this.data.points.forEach(function(e,t){new Circuits.BezierHandle(i.gui,i,t)}),this.data.interactionModel.segments.forEach(function(e,t){var t=new Circuits.BezierSegment(i.gui,i,t)}),i.draw(),this.data.interactionModel.segments.onAdd(i,function(e,t,n){var n=new Circuits.BezierSegment(i.gui,i,n)}),this.data.interactionModel.segments.onRemove(i,function(e,t,n){var o=n.getView(i.gui);o.removeSvg(),i.gui.editorModel.viewS.removeHandlersFor(o),i.data.removeHandlersFor(o,!0)}),this.data.boardPoly.onChange(i,function(){i.data.root.scheduleHeavy("poly",i.gui.redrawPolys,i.gui,[],"poly"),i.data.root.scheduleHeavy("drc",i.calculateBoardDrc,i,[],"drc_outline")},10),this.data.points.onBubble(i,function(e,t,n){i.draw()},10),this.data.points.onAdd(i,function(e,t,n){new Circuits.BezierHandle(i.gui,i,n)},10),this.data.points.onRemove(i,function(e,t,n){var o=n.getView(i.gui);o.removeSvg(),i.gui.editorModel.viewS.removeHandlersFor(o),i.data.removeHandlersFor(o,!0)},10),this.data.interactionModel.infocus.onChange("view",function(e,t,n){n?i.showInspector():i.hideInspector(),i.draw()},10),this.gui.editorModel.viewS.onChange(i,function(){i.draw()},10)},Circuits.BezierOutline.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove()},Circuits.BezierOutline.prototype.calculateBoardDrc=function(){var e=this;e.gui.drcElements&&e.gui.drcElements.forEach(function(e){e.calculateBoardDrcBlobs()})},Circuits.BezierOutline.prototype.getSvgPath=function(e){var t=new jQuerySvg.SVGPath;if(this.data.points.size()>0){var i=this.data.points.get(-1);t.move(i.point().x,i.point().y),this.data.points.forEach(function(e,n){var o=i;i=n;var r=i.point();if(o.mode()!==Circuits.BezierMode.LINE)var a=o.tan_1();else a=o.point();if(i.mode()!==Circuits.BezierMode.LINE)var s=i.tan_0();else s=i.point();t.curveC(a.x,a.y,s.x,s.y,r.x,r.y)}),t.close()}return t},Circuits.BezierOutline.prototype.draw=function(){var e=this;$(this.outlineGroup).empty(),$(this.outlineControlGroup).empty();var t=this.getSvgPath(this.gui.svg),i=1/this.gui.editorModel.viewS();this.gui.svg.path(this.outlineGroup,t,{strokeWidth:i,opacity:1,"shape-rendering":"optimizeSpeed"}),$(this.logoGroup).empty(),this.gui.svg.add(this.logoGroup,Circuits.logoGen.getSVG(this.data.boardBoundingBox())),e.gui.renderMode||this.gui.svg.change(this.logoGroup,{opacity:.2}),this.redrawHandles()},Circuits.BezierOutline.prototype.redrawHandles=function(){var e=this;this.data.points.forEach(function(t,i){i.getView(e.gui).draw()})},Circuits.BezierOutline.prototype.setSelected=function(e){this.selected=e,this.draw()},Circuits.BezierOutline.prototype.setFocus=function(e){this.data.interactionModel.infocus(e)},Circuits.BezierOutline.prototype.showInspector=function(){var e=this.data.root.circuit,t=e.possibleNumberOfLayers;-1==e.possibleNumberOfLayers.indexOf(e.numberOfLayers())&&(t=[e.numberOfLayers()]);var i=[{label:"Layers",type:Circuits.inspectorInputType.SELECTBOX,datamember:e.numberOfLayers,list:t},{label:"Price for 3 boards",type:Circuits.inspectorInputType.READ_ONLY,datamember:e.boardPrice,unit:"$"}],n={name:"PCB Board",summary:"Click on the edges of the board to make it bigger or smaller.<br><br>Double click on an edge to create a new vertex that you can use to make a custom shape. Double click on a vertex to enable bezier handles that allow you to draw curves."};this.gui.inspector.buildAndShow(i,n)},Circuits.BezierOutline.prototype.hideInspector=function(){this.gui.inspector.hide()}},function(e,t){Circuits.BezierSegment=function(e,t,i){var n=this;this.gui=e,this.outline=t,this.data=i,this.data.registerView(n.gui,this),this.svgGroup=this.gui.svg.group(this.outline.segmentGroup),this.controlGroup=this.gui.svg.group(this.outline.segmentControlGroup),n.draw(),this.data.begin().point.onChange(n,function(){n.draw()},10),this.data.begin().tan_1.onChange(n,function(){n.draw()},10),this.data.begin().mode.onChange(n,function(){n.draw()},10),this.data.end().point.onChange(n,function(){n.draw()},10),this.data.end().tan_0.onChange(n,function(){n.draw()},10),this.data.end().mode.onChange(n,function(){n.draw()},10),this.gui.editorModel.viewS.onChange(n,function(){n.draw()},10),this.data.onBeforeDie(n,function(){},10)},Circuits.BezierSegment.prototype.removeSvg=function(){$(this.svgGroup).remove(),$(this.controlGroup).remove()},Circuits.BezierSegment.prototype.draw=function(){var e=this;$(this.svgGroup).empty(),$(this.controlGroup).empty();var t=this.data.begin(),i=this.data.end();if(i&&t){var n,o=i.point();n=t.mode()!==Circuits.BezierMode.LINE?t.tan_1():t.point();var r;r=i.mode()!==Circuits.BezierMode.LINE?i.tan_0():i.point();var a=this.gui.svg.createPath();a.move(t.point().x,t.point().y),a.curveC(n.x,n.y,r.x,r.y,o.x,o.y);var s=10/this.gui.editorModel.viewS(),c=this.gui.svg.path(this.controlGroup,a,{fill:"none",stroke:"green",strokeWidth:s,opacity:1});this.gui.mode==Circuits.GuiMode.EDIT&&$(c).mousedown(function(t){return e.onMouseDown(t)})}},Circuits.BezierSegment.prototype.setSelected=function(e){this.outline.setSelected(e)},Circuits.BezierSegment.prototype.showInspector=function(){this.outline.showInspector()},Circuits.BezierSegment.prototype.hideInspector=function(){this.outline.hideInspector()},Circuits.BezierSegment.prototype.setFocus=function(e){this.outline.setFocus(e)},Circuits.BezierSegment.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e));return this.gui.stateMachine.handle(t)}},function(e,t){Circuits.BezierTangentHandle=function(e,t,i){this.gui=e,this.data=i,this.data.registerView(e,this),this.handle=t,this.selected=!1,this.draw()},Circuits.BezierTangentHandle.prototype.draw=function(){var e=this;if(this.data.vertex.mode()!==Circuits.BezierMode.LINE){var t=this.data.vertex.point(),i=this.data.coord(),n=10/this.gui.editorModel.viewS(),o=1/this.gui.editorModel.viewS();if(this.data.primary||this.data.vertex.mode()!=Circuits.BezierMode.SMOOTH)r=1;else var r=.3;this.gui.svg.line(this.handle.svgGroup,t.x,t.y,i.x,i.y,{stroke:"#1da750",opacity:r,strokeWidth:o}),this.gui.svg.rect(this.handle.svgGroup,i.x-n/2,i.y-n/2,n,n,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",opacity:r,strokeWidth:o});var a=this.gui.svg.rect(this.handle.controlGroup,i.x-n/2,i.y-n/2,n,n,{fill:"red",stroke:"red"});this.gui.mode==Circuits.GuiMode.EDIT&&$(a).mousedown(function(t){return e.onMouseDown(t)})}},Circuits.BezierTangentHandle.prototype.setSelected=function(e){this.handle.data.mode()==Circuits.PathPointMode.SMOOTH?(this.handle.tan_0_handle_view&&(this.handle.tan_0_handle_view.selected=e,this.handle.tan_0_handle_view.draw()),this.handle.tan_1_handle_view&&(this.handle.tan_1_handle_view.selected=e,this.handle.tan_1_handle_view.draw())):(this.selected=e,this.draw())},Circuits.BezierTangentHandle.prototype.onMouseDown=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.ELEMENT_MOUSE_DOWN).fromJSEvent(e).element(this.data).data("mouseCoord",this.gui.relativeMouseCoord(e)).data("notFocusable",!0);return this.gui.stateMachine.handle(t)}},function(e,t,i){i(777)},function(e,t){!function(e,t,i){e.bom=function(e){var i=this;this.bomLoading=e,this.loading=!0,this.csvArray=[],t(".js-bom-download-csv").click(function(e){i.downloadcsv()}),t(".js-add-bom-items-to-cart").click(function(e){i.add_bom_to_cart()})},e.bom.prototype.showLoading=function(){var i=this;new e.spinner(i.bomLoading),t(i.bomLoading).removeClass("hidden"),this.loading=!0},e.bom.prototype.hideLoading=function(){var e=t(this.bomLoading);e.empty(),e.addClass("hidden"),this.loading=!1},e.bom.prototype.downloadcsv=function(e){var i=this;if(!this.loading){$download=t("a.js-bom-download-csv-internal");var n="Name,Quantity,Component\n";t.each(i.csvArray,function(e,t){n+='"'+t.ids+'",'+t.nr+',"'+t.properties+" "+t.device_name+'"\n'}),$download.attr("href","data:application/octet-stream,"+encodeURIComponent(n)),$download.attr("download","bom.csv"),$download[0].click()}},e.bom.prototype.add_bom_to_cart=function(){var e=this;if(!this.loading){var i=[];e.csvArray.forEach(function(e,t){i.push(e.versionroot)}),t(".js-add_bom_to_cart-form-data").val(i),t(".js-add_bom_to_cart-form").submit()}}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){i(779),i(780)},function(e,t){!function(e,t,i){e.collaborative=function(e){var i=this;i.collabsettingcontainer=t(e),i.targeturl=t(e).data("targeturl"),t(".js-invite-collaborator__button",i.collabsettingcontainer).on("click",function(e){e.preventDefault(),i.invite()})},e.collaborative.prototype.invite=function(){var e=this,i=t(".js-invite-collaborator__uid",e.collabsettingcontainer).val();t.ajax({url:e.targeturl,data:{authenticity_token:t('meta[name="csrf-token"]').attr("content"),share_uid:i},type:"GET",success:function(i){t(".js-invite-collaborator__message",e.collabsettingcontainer).html("Email send to user to invite him/her to your circuit!")},error:function(){t(".js-invite-collaborator__message",e.collabsettingcontainer).html("Sorry, we were unable to invite this person!")}})}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t){!function(e,t,i){e.settings=function(e){var i=this;i.gui=e,i.autoSaveTimer=!1,i.autoSave(),i.autoCheck(),i.checkmarks(),i.nameCheck(),i.setLicense(),t(".js-number-of-layers").change(function(e){i.changeNumberOfLayers(t(this).val())})},e.settings.prototype.tags=function(){t(".js-settings-tags").importTags(t(".js-settings-tags").data("tags")),t(".js-settings-tags").tagsInput({autocomplete_url:t(".js-settings-tags").data("autocomplete"),placeholder:"+",defaultText:"+",height:"20px",width:"686px"})},e.settings.prototype.autoSave=function(){var e=this;t(".js-circuits-settings .js-settings-autosave").on("input change paste railsAutocomplete.select",function(){var i=t(this).parents("form");e.autoSaveTimer&&clearTimeout(e.autoSaveTimer),e.autoSaveTimer=setTimeout(function(){var e=i.serialize();t.ajax({url:i.attr("action"),type:"POST",dataType:"json",data:e,success:function(e){},error:function(e){}})},1e3)})},e.settings.prototype.autoCheck=function(){var e=this;t(".js-circuits-settings .js-settings-please-fill").on("input change",function(){e.checkmarks()})},e.settings.prototype.nameCheck=function(){t(".js-settings-circuit-name").on("input change",function(){t(".js-circuit-menu-title").html(t(".js-settings-circuit-name").val())})},e.settings.prototype.checkmarks=function(){t.each(t(".js-circuits-settings .js-settings-please-fill"),function(e,i){var n=t(i).data("target");""!=t(i).val()?(t("[data-settings-target="+n+"] .js-settings-arrow").show(),t("[data-settings-target="+n+"]").removeClass("settings-please-fill").addClass("settings-filled"),t("[data-settings-group="+n+"] .js-settings-title").show(),t("[data-settings-group="+n+"] .js-settings-please-fill-title").hide()):(t("[data-settings-target="+n+"] .js-settings-arrow").hide(),t("[data-settings-target="+n+"]").addClass("settings-please-fill").removeClass("settings-filled"),t("[data-settings-group="+n+"] .js-settings-title").hide(),t("[data-settings-group="+n+"] .js-settings-please-fill-title").show())})},e.settings.prototype.setNumberOfLayers=function(e){t(".js-number-of-layers").val(e)},e.settings.prototype.changeprivate=function(e){},e.settings.prototype.setLicense=function(){var e=t(".js-settings-license").text();t(".js-settings-license-select").val(e)},e.settings.prototype.changeNumberOfLayers=function(e){var t=new Circuits.GuiEvent(Circuits.GuiEvents.CHANGE_NUMBER_OF_LAYERS).data("target_number_of_layers",e);this.gui.stateMachine.handle(t)}}(window.circuitsGui=window.circuitsGui||{},jQuery)},function(e,t,i){var n=i(173),o=i(187),r=i(175),a=i(176).dejsonify_construct,s=i(176).dejsonify,c=i(170).base_url,l=i(1).config,d=i(190);Circuits.CircuitEditorApp=function(e,t,i,n,r,a,s){var c=this;this.guiholder=$(e),this.mode=t,this.circuit_type=r,a.lessonid||(a.lessonid=this.getQueryParams().lessonid),this.meta_data=a,this.docname=i,this.appsession=a.appsession||"dingdong31231",this.metaid=a.metaid||i;var d={authentication:"token",connectTime:Date.now,name:$(".username_holder").text(),origin:l.shareJS.url,collection:"circuits",appsession:this.appsession,tenant:l.shareJS.serverTenant,authcallkey:"tinkerauth"};this.eventsAPIServer=l.eventsAPI.url,this.eventsAPIPersist=s,this.eventsAPIAFC=l.eventsAPI.afc,this.authenticationToken=n,this.doc_id=i;var c=this;if("string"==typeof i)try{o.openShareJsDoc(c.docname,d,function(){c.initialize(a)},circuitsGui.error)}catch(u){throw circuitsGui.error("Starting editor","Something went seriously wrong, please try refreshing the page or contact support",u),u}else window.adsk&&window.adsk.collaboration&&window.adsk.collaboration.SharedDoc?(window.adsk.collaboration.SharedDoc={data:i,init:function(e){this.data=e},snapshot:function(){return this.data},get:function(e){var t=this.data;for(index in e)t=t[e[index]];return t},set:function(){},push:function(){},remove:function(){},insert:function(){},validateShareJSCorrectness:function(){},unsubscribe:function(){},document:{connection:{id:"dummy"}}},c.initialize(a)):console.error("ADSK collaboration API not loaded.");cSite&&cSite.analytics&&(cSite.analytics(),cSite.analytics.log("editor-load"))},Circuits.CircuitEditorApp.prototype.initialize=function(e){var t=this;this.root=new Circuits.DesignRoot,this.root.attachShareJsDoc();var i=this.root.shareJsDoc;this.mode!=Circuits.GuiMode.EDIT?i.unsubscribe():(t.delayedThumbnailUpload=_.debounce(_.bind(function(e){t.uploadThumbnails()},t),5e3),this.root.onShareJsDocOpAcknowledged(function(e){t._thumbnailGenerationNeeded=!0,t.delayedThumbnailUpload(e)}));var n=i.snapshot(),o=$.isEmptyObject(n);if(o){var r=e.lessonid;r?(r=""+r,t.initializeDocumentFromUrl(c+"/circuits/"+r.toUpperCase()+".json",!0)||this.createNewCircuit()):this.createNewCircuit()}else this.loadCircuitFromJson(n);"breadboard"==this.circuit_type&&"open"==i.state&&setTimeout(t.root.deviceLib.bulkLoadBreadboardDevices(),0),this.root.buildEditorModel(),e.circuit_type||(e.circuit_type="breadboard"),this.root.setMetaData(e),this.root.setupShareJsDoc();var a=window.CircuitsRecorder;this.eventsAPIPersist&&this.mode==Circuits.GuiMode.EDIT&&a.persist(this.eventsAPIServer,this.doc_id,this.eventsAPIAFC),this.stateMachine=new Circuits.CircuitEditorStateMachine(this.mode,this.root,a),window.hasOwnProperty("CircuitsAPI")&&window.CircuitsAPI.registerAPI("event",function(e){for(var i in Circuits.GuiEvents){var n=Circuits.GuiEvents[i];if(n.name==e.name){var o=(new Circuits.GuiEvent).type(n).data(e.data);t.stateMachine.handle(o);break}}}),this.circuitEditor=new Circuits.CircuitEditor(this.guiholder,this.mode,this.root,this.stateMachine,this)},Circuits.CircuitEditorApp.prototype.getQueryParams=function(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof e[o[0]]){var r=[e[o[0]],decodeURIComponent(o[1])];e[o[0]]=r}else e[o[0]].push(decodeURIComponent(o[1]))}return e},Circuits.CircuitEditorApp.prototype.initializeDocumentFromUrl=function(e,t){var i=!1;return $.ajax({type:"GET",url:e,dataType:"json",context:this,success:function(e){window.adsk.collaboration.SharedDoc.init(e),e.undo=[],this.loadCircuitFromJson(e),i=!0},error:function(e,t,i){new circuitsGui.error("Error","Connection failed to the tinkercad.com servers. Make sure you have internet connectivity or try again later",i,!1)},async:!1}),i},Circuits.CircuitEditorApp.prototype.loadCircuitFromJson=function(e){e.redo=[],a(e,this.root),this.data=s(e,this.root),this.loadDevices(),this.root.attachCircuit(this.data),this.root.createShareJsDoc(this.root.data),this.doLazyMigrations()},Circuits.CircuitEditorApp.prototype.createNewCircuit=function(){this.data=new Circuits.CircuitData(this.root,4,2,this.circuit_type),this.loadDevices(),this.root.attachCircuit(this.data),this.addDefaultCircuit(this.circuit_type),this.root.createShareJsDoc(this.root.data)},Circuits.CircuitEditorApp.prototype.loadDevices=function(){this.deviceLib=this.root.deviceLib;
var e=[];this.data.devices.forEach(function(t){e.push(t.did())}),[19301,2474].forEach(function(t){e.push(t)}),e=e.sort().filter(function(e,t,i){return e!=i[t-1]?1:0}),this.deviceLib.bulkLoadDevices(e),this.data.registerNames()},Circuits.CircuitEditorApp.prototype.addDefaultCircuit=function(e){if("arduino"===e){var t=this.data.addDevice(this.root.deviceLib.getPackagedDeviceDescription("device_2474"));t.breadboard().pos(new d.Coord(-216,-260)),t.subdevice.getIndex(0).pos(new d.Coord(0,-230)),t.footprint().pos(new d.Coord(-11430,53340))}else if("mesh_pcb"===e){var i=this.data.createDeviceInstance(111057);this.data.moveFootprint(i,2540,25400,0,0)}},Circuits.CircuitEditorApp.prototype.doLazyMigrations=function(){this.root.recShareOnly(),("classic"==this.root.circuit.circuit_type()||null==this.root.circuit.circuit_type())&&this.root.circuit.circuit_type("schematic"),this.data.removeDeadDevices(),this.data.pcbOrigin()||this.data.pcbOrigin(new Circuits.OriginModel(this.root,null,this.data.outline().upperLeft())),this.data.localDeviceDescriptions&&this.root.deviceLib.setLocalCache(this.data.localDeviceDescriptions),this.data.silkscreen()||this.data.silkscreen(new Circuits.SvgData(this.root)),this.data.bottomsilk()||this.data.bottomsilk(new Circuits.SvgData(this.root)),this.data.schematicSvg()||this.data.schematicSvg(new Circuits.SvgData(this.root)),this.data.recursiveFix(),this.data.wires.forEach(function(e){var t=e.color();"indigo"==t&&e.color("blue")});var e=this;this.root.data.version()<5&&(this.data.wires.keys().forEach(function(t){var i=e.data.wires.getPair(t).val;if(i instanceof Circuits.WireData){var n=new Circuits.BendableWireData(i.root,i.begin(),i.end(),i.insert(),i.color());e.data.wires.remove(i),e.data.wires.add(n)}}),this.root.data.version(5)),this.data.wires.forEach(function(e){e.repairTerminalConnections&&e.repairTerminalConnections()}),this.root.runHeavies(this.root.heavy_order),this.data.breadboardpaper()&&"a4"==this.data.breadboardpaper().paperType()&&this.data.breadboardpaper().paperType("Letter"),this.data.silkscreen().elements.forEach(function(e,t){t.constructor==Circuits.TextData?(t.fontSize(parseFloat(t.fontSize())),t.fontUnit(t.fontUnit())):t.constructor==Circuits.RectData&&t.angle(t.angle())}),this.data.bottomsilk().elements.forEach(function(e,t){t.constructor==Circuits.TextData?(t.fontSize(parseFloat(t.fontSize())),t.fontUnit(t.fontUnit())):t.constructor==Circuits.RectData&&t.angle(t.angle())}),this.data.devices.forEach(function(e){var t=new n.HashMap;e.terminals.forEach(function(i,n){r.isUid(i)&&(t.put(n.getKey(),n),e.terminals.old_remove(i),e.logMapRemove(e.terminals,i,n))}),t.forEach(function(t,i){e.terminals.old_put(t,i),e.logMapPut(e.terminals,t,i,null),i.parentMember[1]=t});var i=e.getDescription().device.properties_attributes;i.forEach(function(t){null===e.properties.get(t.id)&&e.properties.put(t.id,{id:t.id,name:t.name,prefix:t.default_prefix,show:t.default_show,unit:t.unit,value:t["default"]})})}),this.root.stopRecShareOnly()},Circuits.CircuitEditorApp.prototype.uploadThumbnails=function(e,t){console.log("uploadThumbnails");var i=this;return i._generatingThumb||!i._thumbnailGenerationNeeded?void(e&&e()):(i._generatingThumb=!0,void this.circuitEditor.generateThumbnail({},function(n){$.ajax({type:"POST",url:l.shareJS.thumbnailUrl,dataType:"json",data:{id:i.metaid,sid:i.appsession,imageBody:n,contentType:"image/png",imageType:"snapshot-thumb",displayType:"detail",tenant:l.shareJS.serverTenant},context:i,async:t===!0?!1:!0,timeout:t===!0?2e3:5e3,success:function(t){e&&e(),i._generatingThumb=!1,i._thumbnailGenerationNeeded=!1},error:function(t,n,o){e&&e(),i._generatingThumb=!1,i._thumbnailGenerationNeeded=!1}})}))},window.CircuitEditorApp=Circuits.CircuitEditorApp,window.CircuitsAPI=new Circuits.API,window.CircuitsAPI.registerAPI("userCircuitsList",function(e){var t=null,i=c+"/users/circuits_list";$.ajax({type:"GET",url:i,dataType:"json",context:this,success:function(e){t=e},error:function(e,i,n){t='{"error":"Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later"}'},async:!1}),window.parent.postMessage({name:"userCircuitsList",data:t},"*")})},function(e,t,i){i(783)},function(e,t,i){var n=i(179),o=i(190);Circuits.ToolDefinition=function(e,t,i){this.generator=e,this.type=t,this.diameter=i,this.toolCode=null},Circuits.ToolDefinition.prototype.hash=function(){var e="";return e+=this.type,e+="_"+this.diameter},Circuits.ToolDefinition.prototype.excellon=function(){return"T"+this.toolCode+"C"+Math.round(this.diameter)/1e3+"\n"},Circuits.ToolDefinition.prototype.select=function(){return"T"+this.toolCode+"\n"},Circuits.ApertureDefinition=function(e,t,i,n,o,r,a){this.generator=e,this.type=t,this.p0=i,this.p1=n,this.p2=o,this.p3=r,this.p4=a,this.dcode=null},Circuits.ApertureDefinition.prototype.hash=function(){var e="";return e+=this.type,e+="_"+this.p0,e+="_"+this.p1,e+="_"+this.p2,e+="_"+this.p3,e+="_"+this.p4},Circuits.ApertureDefinition.prototype.gerber=function(){switch(this.type){case"C":return"%ADD"+this.dcode+"C,"+Math.round(this.p0)/1e3+"*%\n";case"P":var e=this.p0,t=this.p1,i=this.p2,n=this.p3,o="_"+t+"_"+e+"_"+n,r="";r+="%AM"+o+"*\n",r+="4,1,",r+=i.points.length+",";for(var a=0;a<i.points.length;a++){var s=i.points[a].flipY();r+=Math.round(s.x)/1e3+","+Math.round(s.y)/1e3+","}var s=i.points[0].flipY();return r+=Math.round(s.x)/1e3+","+Math.round(s.y)/1e3+",",r+=n+"*%\n",r+="%ADD"+this.dcode+o+"*%\n";default:return"Trouble!\n"}},Circuits.ApertureDefinition.prototype.select=function(){return"D"+this.dcode+"*\n"},Circuits.GerberGenerator=function(e){this.circuit=e,this.nextDCode=null,this.apertureLib=null,this.resetApertureLib(),this.nextToolCode=null,this.toolLib=null,this.resetToolLib(),this.objToAperture=new n.HashMap,this.objToTool=new n.HashMap},Circuits.GerberGenerator.prototype.resetApertureLib=function(){this.nextDCode=10,this.apertureLib=new n.HashMap},Circuits.GerberGenerator.prototype.addAperture=function(e,t,i,n,o,r){var a=new Circuits.ApertureDefinition(this,e,t,i,n,o,r);return this.apertureLib.contains(a.hash())?a=this.apertureLib.get(a.hash()):(this.apertureLib.put(a.hash(),a),a.dcode=this.nextDCode++),a},Circuits.GerberGenerator.prototype.apertureDefinitions=function(){var e="";return this.apertureLib.forEach(function(t,i){e+=i.gerber()}),e},Circuits.GerberGenerator.prototype.resetToolLib=function(){this.nextToolCode=1,this.toolLib=new n.HashMap},Circuits.GerberGenerator.prototype.addTool=function(e,t){var i=new Circuits.ToolDefinition(this,e,t);return this.toolLib.contains(i.hash())?i=this.toolLib.get(i.hash()):(this.toolLib.put(i.hash(),i),i.toolCode=this.nextToolCode++),i},Circuits.GerberGenerator.prototype.toolDefinitions=function(){var e="";return this.toolLib.forEach(function(t,i){e+=i.excellon()}),e},Circuits.GerberGenerator.prototype.parseCircuit=function(e,t,i){function n(e,t){var i=e.getAttribute(t);if(null===i){var n=e.getAttribute("style");if(null!==n){var o=n.match(new RegExp(t+"[\\s]*[:][\\s]*([^;]*)"));o&&o.length>1&&(i=o[1])}}return i}function r(e,t){t=t||new o.Matrix,e.children().each(function(e){switch($(this).prop("tagName")){case"LINE":var i=parseFloat(n(this,"stroke-width")),s=a.addAperture("C",i),c=new o.Segment(new o.Coord(parseFloat(this.getAttribute("x1")),parseFloat(this.getAttribute("y1"))),new o.Coord(parseFloat(this.getAttribute("x2")),parseFloat(this.getAttribute("y2"))));c=c.transform(t),a.objToAperture.put(c,s);break;case"CIRCLE":case"RECT":var l=new o.Polyglon((new XMLSerializer).serializeToString(this),100),d=l.transform(t),u=d.toTrace(),h=n(this,"fill"),i=parseFloat(n(this,"stroke-width")),s=a.addAperture("C",i);a.objToAperture.put(u,s),"none"!==h&&a.objToAperture.put(d,null);break;case"PATH":var p=new o.Path(this),u=p.toTrace(100).transform(t),h=n(this,"fill"),s=a.addAperture("C",p.strokeWidth());if(a.objToAperture.put(u,s),"none"!==h){var d=p.toPolygon(100).transform(t);a.objToAperture.put(d,null)}break;case"POLYGON":var d=new o.Polyglon((new XMLSerializer).serializeToString(this));a.objToAperture.put(d,null);break;case"G":var g=this.getAttribute("text-data");if(null!==g){var m=this.getAttribute("font-size"),f=parseFloat(this.getAttribute("x")),_=parseFloat(this.getAttribute("y")),v=new o.Coord(f,_),y=parseFloat(this.getAttribute("flip")),C=parseInt(this.getAttribute("rotate-angle")||(this.getAttribute("transform")||"rotate(0)").split(" ")[0].split("(")[1]),b=Circuits.tracer.text2traces(g,9*parseInt(m)/12,new o.Coord(0,0));b.forEach(function(e){var i=a.addAperture("C",e.width),n=e.flip(y).rotate(C).translate(v);a.objToAperture.put(n.transform(t),i)})}else r($(this),t);break;case"TEXT":var g=$(this).text();if(null!=g){var m=parseFloat(n(this,"font-size")||"16"),f=parseFloat(this.getAttribute("x"))||0,_=parseFloat(this.getAttribute("y"))||0,w=new o.Matrix,M=this.getAttribute("transform"),S=n(this,"text-anchor"),x=n(this,"alignment-baseline");if(S)switch(S){case"start":f+=.3*m*g.length;break;case"end":f-=.3*m*g.length}if(x)switch(x){case"baseline":case"alphabetic":_-=.3*m;break;case"ideographic":case"after-edge":case"text-after-edge":_-=.5*m;break;case"before-edge":case"text-before-edge":case"hanging":_+=.5*m;break;case"middle":case"central":case"mathematical":}M&&(w=w.svgTransform(M));var b=Circuits.tracer.text2traces(g,9*m/12,new o.Coord(0,0));b.forEach(function(e){var i=a.addAperture("C",e.width),n=e.translate(new o.Coord(f,_)).transform(w).transform(t);a.objToAperture.put(n,i)})}break;default:console.log($(this).prop("tagName"))}})}var a=this,s=!1;if("g"===t[0]&&"l"===t[2]){var c=t[1];if("t"==c)var l=0;else if("b"==c)var l=1;else var d=parseInt(t[1])-1,l=e.layerOrder2layerIndex(d);s=!0}else if("gts"===t)var l=0;else if("gbs"===t)var l=1;if(i){var u=a.addAperture("C",100);if(a.objToAperture.put(e.outline(),u),"gbo"===t)for(var h=Circuits.logoGen.getPolies(e.outline().boardBoundingBox()),p=0;p<h.length;p++){var g=h[p];a.objToAperture.put(g,null)}}s&&e.nets.forEach(function(t){if(t.segments.forEach(function(e){if(!e.polySeg()&&e.getLayer()===l){var t=a.addAperture("C",e.getThickness());a.objToAperture.put(e,t)}}),t.isHighestNet()){var i=t.calculatePolys(l,e.root.spacialIndex),n=i[1];n.forEach(function(e){a.objToAperture.put(e.poly.toJsts(),null)})}}),e.nets.forEach(function(e){e.vias.forEach(function(e){if(s){var i=a.addAperture("C",Circuits.fab.viaPadDiameter(e.endsize()));a.objToAperture.put(e,i)}else if("drl"===t){var n=a.addTool("C",e.endsize());a.objToTool.put(e,n)}})}),e.devices.forEach(function(e){if(e.footprint()){if(e.terminals.forEach(function(e,i){if(i.hasPcb()){var n=i.getPcbDescription();if(s||"gts"===t||"gbs"===t){var o=i.getPolygon(l);o&&a.objToAperture.put(o,null)}else if("drl"===t){var r=n.drill;if(""!==r&&null!==r){var c=a.addTool("C",i.toolSize());a.objToTool.put(i,c)}}else if("outline"===t&&i.hasMilledSlot()){var d=a.addAperture("C",100),o=i.getDrillPolygon();o&&a.objToAperture.put(o.toTrace(),d)}}}),"gto"===t&&1===e.footprint().flip()||"gbo"===t&&-1===e.footprint().flip()){var i=e.getPcbNameTraces();i.forEach(function(t){var i=a.addAperture("C",t.width);a.objToAperture.put(t.flip(e.footprint().flip()).translate(e.footprint().pos()),i)});var n=e.getDescription().footprint.outline;if(n)if("<g>"!==n.substr(0,3)){var c=a.addAperture("C",Circuits.fab.silkscreenMinWidth());n=JSON.parse(n),n=new o.Polyglon(n),a.objToAperture.put(n.toTrace().rotate(e.footprint().angle()).translate(e.footprint().pos()),c)}else{var d=e.footprint(),u=(new o.Matrix).flip(d.flip()).rotate(d.angle()).translate(d.pos());r($(n),u)}}}else e.module()&&a.parseCircuit(e.module().circuit(),t,!1)}),e.drills.forEach(function(e){if("drl"===t){var i=a.addTool("C",e.endsize());a.objToTool.put(e,i)}}),"gto"===t&&r($(e.silkscreen().toSVG())),"gbo"===t&&r($(e.bottomsilk().toSVG()))},Circuits.GerberGenerator.prototype.toGerberCoordSystem=function(e){var t=this.circuit.outline().upperLeft(),i=this.circuit.outline().lowerRight(),n=(new o.Coord(i.x,t.y),new o.Coord(t.x,i.y)),r=e.sub(n).flipY();return r},Circuits.GerberGenerator.prototype.coordToGerber=function(e){var t=this.toGerberCoordSystem(e),i=Math.round(t.x),n=Math.round(t.y);return"X"+i+"Y"+n},Circuits.GerberGenerator.prototype.coordToExcellon=function(e){return this.coordToGerber(e)},Circuits.GerberGenerator.prototype.traceToGerber=function(e){for(var t=this,i="",n=0;n<e.points.length;n++){var o=e.points[n];i+=t.coordToGerber(o),i+=0===n?"D02*\n":"D01*\n"}return i},Circuits.GerberGenerator.prototype.gerber=function(e){var t=this;t.parseCircuit(this.circuit,e,!0);var i="";return i+="G75*\n",i+="G71*\n",i+="%OFA0B0*%\n",i+="%FSLAX23Y23*%\n",i+="%IPPOS*%\n",i+="%LPD*%\n",i+=t.apertureDefinitions(),t.objToAperture.forEach(function(e,n){if(e instanceof jsts.geom.Polygon){var r=e;i+="%LPD*%",i+="G36*\n";for(var a=r.getExteriorRing(),s=a.getCoordinates(),c=0;c<s.length;c++){var l=new o.Coord(s[c].x,s[c].y);i+=0===c?t.coordToGerber(l)+"D02*\n":t.coordToGerber(l)+"D01*\n"}i+="G37*\n",i+="%LPC*%";for(var d=0;d<r.getNumInteriorRing();d++){var a=r.getInteriorRingN(d),s=a.getCoordinates();i+="G36*\n";for(var c=0;c<s.length;c++){var l=new o.Coord(s[c].x,s[c].y);i+=0===c?t.coordToGerber(l)+"D02*\n":t.coordToGerber(l)+"D01*\n"}i+="G37*\n"}}}),i+="%LPD*%",t.objToAperture.forEach(function(e,n){switch(e.constructor){case Circuits.RoutingSegmentData:i+=n.select();var r=e.endPoints();i+=t.coordToGerber(r[0])+"D02*\n",i+=t.coordToGerber(r[1])+"D01*\n";break;case Circuits.ViaData:i+=n.select();var a=e.getPoint();i+=t.coordToGerber(a)+"D03*\n";break;case Circuits.TerminalData:i+=n.select();var a=e.getPcbPos();i+=t.coordToGerber(a)+"D03*\n";break;case Circuits.PCBOutlineData:i+=n.select();var s=e.upperLeft(),c=e.lowerRight(),l=new o.Coord(c.x,s.y),d=new o.Coord(s.x,c.y);i+=t.coordToGerber(s)+"D02*\n",i+=t.coordToGerber(l)+"D01*\n",i+=t.coordToGerber(l)+"D02*\n",i+=t.coordToGerber(c)+"D01*\n",i+=t.coordToGerber(c)+"D02*\n",i+=t.coordToGerber(d)+"D01*\n",i+=t.coordToGerber(d)+"D02*\n",i+=t.coordToGerber(s)+"D01*\n";break;case Circuits.BezierOutlineData:i+=n.select();var u=e.getOurPoly(100);i+=t.traceToGerber(u.toTrace());break;case o.Trace:i+=n.select(),i+=t.traceToGerber(e);break;case o.Segment:i+=n.select(),i+=t.coordToGerber(e.a)+"D02*\n",i+=t.coordToGerber(e.b)+"D01*\n";break;case o.Polyglon:i+="G36*\n";for(var u=e,h=0;h<u.points.length;h++){var a=u.points[h];i+=0===h?t.coordToGerber(a)+"D02*\n":t.coordToGerber(a)+"D01*\n"}i+="G37*\n"}}),i+="M02*\n"},Circuits.GerberGenerator.prototype.excellon=function(e){var t=this;t.parseCircuit(this.circuit,e,!0);var i="";return i+="%\n",i+="M48\n",i+="METRIC,TZ,000.000\n",i+="ICI,OFF\n",i+=t.toolDefinitions(),i+="%\n",t.objToTool.forEach(function(e,n){switch(e.constructor){case Circuits.ViaData:i+=n.select();var o=e.getPoint();i+=t.coordToExcellon(o)+"\n";break;case Circuits.TerminalData:i+=n.select();for(var r=e.getDrillPositions(),a=0;a<r.points.length;a++){var o=r.points[a];i+=t.coordToExcellon(o)+"\n"}break;case Circuits.DrillData:i+=n.select();var o=e.getPoint();i+=t.coordToExcellon(o)+"\n"}}),i+="M30\n"}},function(e,t,i){i(785)},function(e,t,i){var n=i(190);"undefined"!=typeof Raphael&&("undefined"==typeof Raphael._ellipsePath&&(Raphael._ellipsePath=function(e,t,i,n){return[["M",e-i,t],["a",i,n,0,1,0,2*i,0],["a",i,n,0,1,0,-2*i,0],["Z"]]}),"undefined"==typeof Raphael._rectPath&&(Raphael._rectPath=function(e,t,i,n,o){return o?[["M",e-i/2+o,t-n/2+o],["a",o,o,0,0,0,-o,o],["l",0,n/2-2*o],["a",o,o,0,0,0,o,o],["l",i/2-2*o,0],["a",o,o,0,0,0,o,-o],["l",0,-n/2+2*o],["a",o,o,0,0,0,-o,-o],["l",-i/2+2*o,0],["Z"]]:[["M",e-i/2,t-n/2],["l",i,0],["l",0,n],["l",-i,0],["Z"]]})),Circuits.Thumbnail=function(){this.backgroundColor="white"},Circuits.Thumbnail.prototype.breadboardDeviceToSvg=function(e){var t=$(e.getDescription().svg),i=$("<g></g>"),n="translate("+e.pos().x+","+e.pos().y+") rotate("+e.angle()+") scale("+e.flip()+",1)";return i.attr("transform",n),i.append(t),i},Circuits.Thumbnail.prototype.schematicSubdeviceLabel=function(e,t,i){function n(){for(var e=0;e<a.length&&!r[a[e]];e++);return r[a[e]]=!1,a[e]}function o(t,i){var n=$(t),o=0,r=0,a="";switch(i){case 0:case 1:case 7:a="start";break;case 3:case 4:case 5:a="end";break;case 2:case 6:a="middle";break;default:a="middle"}n.attr("text-anchor",a);var s=3,c=0,l=Circuits.LooseBounds.svgBounds(n),d={x:0,y:0,width:l.width(),height:l.height()};switch(i){case 0:case 1:case 7:o=e.getXMax()+s;break;case 4:case 3:case 5:o=e.getXMin()-s;break;case 2:case 6:o=(e.getXMax()+e.getXMin())/2}switch(i){case 0:case 4:r=(e.getYMax()+e.getYMin())/2-d.y-d.height/2;break;case 5:case 6:case 7:r=e.getYMin()-d.y-d.height-c;break;case 1:case 2:case 3:r=e.getYMax()-d.y+c}return n.attr("transform","translate("+o+","+r+")"),n}var r=[!0,!0,!0,!0,!0,!0,!0,!0],a=[6,2,0,1,7,4,3,5];r[7]=!1;i.getDescription();t.terminals.forEach(function(e){if(e.getSchematicDir){var t=(e.getSchematicDir()+i.angle())%360;0==t?r[0]=!1:90==t?r[2]=!1:180==t?r[4]=!1:270==t&&(r[6]=!1)}});var s=this.createLabelText(t,i);if(s){var c=o(s,n());return c}return null},Circuits.Thumbnail.prototype.createLabelText=function(e,t){var i='<text x="0" y="0" font-family="verdana" font-size="10px">',n=!0,o=e.getDescription().device,r=o.base;if("nolabel"!=r&&"LABELNO"!=r){if("none"==r||"LABEL"==r)i+="<tspan>"+e.name()+"</tspan>";else{r&&(i+="<tspan>"+r+"</tspan>");var a=[];e.name()&&a.push(e.name()),t.name&&a.push(t.name),a.length&&(i+='<tspan dy="3" font-size="8px">'+a.join("_")+"</tspan>")}n=!1}return e.properties.forEach(function(e,t){if(t.show){var o=t.unit;"ohm"==o&&(o="Ω");var r=t.prefix;r&&"none"!=r||(r=""),"u"==r&&(r="μ");var a=t.value;o&&(a+=r+o),i+='<tspan x="0" dy="12">'+a+"</tspan>",n=!1}}),i+="</text>",n?null:i},Circuits.Thumbnail.prototype.schematicSubdeviceToSvg=function(e){var t=e.getDescription().schematic_symbol_attributes.svg;if(t){var i=$(t),n=$("<g></g>"),o="translate("+e.pos().x+","+e.pos().y+") rotate("+e.angle()+") scale("+e.flip()+",1)";return n.attr("transform",o),n.append(i),n}return null},Circuits.Thumbnail.prototype.schematicDeviceToSvg=function(e){var t=this,i=$("<g></g>");return e.subdevice.forEach(function(o,r){var a=t.schematicSubdeviceToSvg(r);if(a){i.append(a);var s=Circuits.LooseBounds.svgBounds(a),c=new n.BoundingBox(s.x1,s.y1,s.width(),s.height()),l=t.schematicSubdeviceLabel(c,e,r);l&&i.append(l)}}),i},Circuits.Thumbnail.prototype.pcbDeviceToSvg=function(e){var t=$(e.getDescription().outline),i=$("<g></g>"),n="translate("+e.pos().x+","+e.pos().y+") rotate("+e.angle()+") scale("+e.flip()+",1)";return i.attr("transform",n),i.append(t),i},Circuits.Thumbnail.prototype.wireToSvg=function(e){var t=e.begin(),i=e.end();if(t&&i){if(e instanceof Circuits.WireData){var n=$("<line></line>");return n.attr("x1",t.getBreadboardX()),n.attr("y1",t.getBreadboardY()),n.attr("x2",i.getBreadboardX()),n.attr("y2",i.getBreadboardY()),n.attr("style","stroke:"+e.color()+";stroke-width:2.5;stroke-linecap:round"),n}var n=$(e.toSVG({fill:"none",stroke:e.color(),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}));return n}return null},Circuits.Thumbnail.prototype.outlineToSvg=function(e){return $path=$("<path></path>"),$path.attr("d",e.outline().getSvgPath()),$path},Circuits.Thumbnail.prototype.drillsToSvg=function(e){var t=$('<g style="stroke:none;fill:black"></g>');return e.drills.forEach(function(e){t.append($('<circle cx="'+e.point().x+'" cy="'+e.point().y+'" r="'+12.5*e.val()+'"></circle>'))}),t},Circuits.Thumbnail.prototype.renderBreadboard=function(e){var t=this,i=$("<g></g>");if("breadboard"!==e.circuit_type())return i;var n=$("<g></g>"),o=$("<g></g>");e.devices.forEach(function(e){switch(e.getDescription().device.breadboard.symbol_type){case"breadboard":o.append(t.breadboardDeviceToSvg(e.breadboard()));break;case"breadboard_background":n.append(t.breadboardDeviceToSvg(e.breadboard()))}});var r=$("<g></g>");return e.wires.filter(function(e){return!0}).forEach(function(e){$wire=t.wireToSvg(e),$wire&&r.append($wire)}),Object.keys(Circuits.BreadboardLayers).sort(function(e,t){return Circuits.BreadboardLayers[e]-Circuits.BreadboardLayers[t]}).forEach(function(e){switch(e){case"BACKGROUND":i.append(n);break;case"NET":i.append(r);break;case"ELEMENT":i.append(o)}}),i},Circuits.Thumbnail.prototype.renderCircuitscribe=function(e){var t=this,i=$("<g></g>");if("circuitscribe"!==e.circuit_type())return i;var o=$("<g></g>"),r=$("<g></g>");e.devices.forEach(function(e){switch(e.getDescription().device.breadboard.symbol_type){case"circuitscribe_module":r.append(t.breadboardDeviceToSvg(e.breadboard()));break;case"eink_footprint":o.append(t.breadboardDeviceToSvg(e.breadboard()));break;default:t.warning("symbol type: "+e.getDescription().device.breadboard.symbol_type)}});var a=$("<g></g>"),s=e.connectionGraph.connectedComponents();return s.forEach(function(t){var i=[];if(t.vertices().forEach(function(t){t.constructor==Circuits.TerminalData&&"eink_pad"==t.getBreadboardDescription().terminal_type&&i.push(e.einkPolyMap.get(t)),t.constructor==Circuits.EinkPathData&&i.push(e.einkPolyMap.get(t))}),i.length>0){var o=jsts.operation.union.CascadedPolygonUnion.union(i),r=$(n.jstsPolyToSVG(o));r.attr("fill","#bfbfbf"),a.append(r)}}),Object.keys(Circuits.BreadboardLayers).sort(function(e,t){return Circuits.BreadboardLayers[e]-Circuits.BreadboardLayers[t]}).forEach(function(e){switch(e){case"ELEMENT":i.append(r);break;case"EINK":i.append(a),i.append(o)}}),i},Circuits.Thumbnail.prototype.renderSchematicSubNet=function(e,t,i){var o=$("<g></g>"),r=new Circuits.RouteGraph,a=new n.PointSet;e.terminals.filter(function(e){return e.hasSchematic()}).forEach(function(e){e.getX=e.getSchematicX,e.getY=e.getSchematicY,e.getDir=e.getSchematicDir,r.addTerminal(e),a.add(e.getSchematicPos())});var s=a.getBB();return r.setBB(s),t&&t.forEach(function(e){e.overlaps(s)&&r.addBlockage(e)}),i&&i.forEach(function(e){e.overlaps(s)&&r.addBlockage(e)}),r.buildGraph(),r.route(),r.segments.forEach(function(e){var t=$("<line x1="+e.x1+" y1="+e.y1+" x2="+e.x2+" y2="+e.y2+' fill="blue" stroke="black" stroke-linecap="round"></line>');if(o.append(t),i){var r=new n.BoundingBox(e.x1-10,e.y1-10,e.x2-e.x1+20,e.y2-e.y1+20);r.net=!0,r.hor=e.hor,r.ver=e.ver,i.push(r)}}),r.bollekes&&r.bollekes.forEach(function(e){var t=$("<circle cx="+e.x+" cy="+e.y+' r="2" fill="black"></circle>');o.append(t)}),o},Circuits.Thumbnail.prototype.renderDevice=function(e){var t=this,i=$("<g></g>"),n=e.breadboard();if(n){var o=n.getDescription().svg;if(o){var r=$(o);i.append(r)}}else{var r=t.schematicDeviceToSvg(e);i.append(r)}return i},Circuits.Thumbnail.prototype.renderSchematic=function(e){var t=this;e.root.runHeavies(e.root.heavy_order);var i=$("<g></g>"),o=$("<g></g>"),r=[];e.devices.forEach(function(e){var i=t.schematicDeviceToSvg(e);o.append(i);var a=Circuits.LooseBounds.svgBounds(i),s=new n.BoundingBox(a.x1,a.y1,a.width(),a.height());r.push(s)});var a=$("<g></g>"),s=[];return e.nets.forEach(function(e){e.subnets.forEach(function(e){var i=t.renderSchematicSubNet(e,r,s);a.append(i)})}),Object.keys(Circuits.SchematicLayers).sort(function(e,t){return Circuits.SchematicLayers[e]-Circuits.SchematicLayers[t]}).forEach(function(e){switch(e){case"ELEMENT":i.append(o);break;case"NET":i.append(a)}}),i},Circuits.Thumbnail.prototype.coordsToPath=function(e,t){if(e.length<2)return null;for(var i="M"+e[0].x+" "+e[0].y,n=1;n<e.length;n++)i+="L"+e[n].x+" "+e[n].y;return(t||e[0].eq(e[e.length-1]))&&(i+="Z"),i},Circuits.Thumbnail.prototype.gerberLayerToSvg=function(e,t,i,o){var r=this,a=new Circuits.GerberGenerator(e);a.parseCircuit(e,i,!0);var s="drl"===i?a.objToTool:a.objToAperture;s.forEach(function(e,a){if(e instanceof jsts.geom.Polygon){var s=e,c=s.getExteriorRing(),l=$("<path></path>");l.attr("fill-rule","evenodd");var d=r.coordsToPath(c.getCoordinates(),!0);if(d){for(var u=0;u<s.getNumInteriorRing();++u)c=s.getInteriorRingN(u),d+=r.coordsToPath(c.getCoordinates(),!0);l.attr("d",d),o?o.append(l):t.append(l)}}else switch(e.constructor){case Circuits.RoutingSegmentData:var h=e.endPoints();$line=$('<line x1="'+h[0].x+'" y1="'+h[0].y+'" x2="'+h[1].x+'" y2="'+h[1].y+'" stroke-width="'+e.thickness()+'" stroke-linecap="round"></line>'),t.append($line);break;case Circuits.ViaData:break;case Circuits.TerminalData:if("drl"===i)for(var p=e.getDrillPositions(),g=0;g<p.points.length;g++){var m=p.points[g],f=$('<circle cx="'+m.x+'" cy="'+m.y+'" r="'+.5*a.diameter+'"></circle>');t.append(f)}break;case Circuits.DrillData:var f=$('<circle cx="'+e.getPoint().x+'" cy="'+e.getPoint().y+'" r="'+.5*a.diameter+'"></circle>');t.append(f);break;case Circuits.PCBOutlineData:break;case Circuits.BezierOutlineData:break;case n.Trace:var l=$("<path></path>"),d=r.coordsToPath(e.points,!1);d&&(l.attr("fill","none"),l.attr("stroke-linejoin","miter"),"C"===a.type&&l.attr("stroke-width",""+a.p0),l.attr("d",d),t.append(l));break;case n.Segment:break;case n.Polyglon:var s=e,_=$(s.toSVG(!0));t.append(_);break;default:r.warning("Unhandled type"),r.warning(e.constructor)}})},Circuits.Thumbnail.prototype.renderPcbSide=function(e,t,i,n){n=n||1,i&&e.root.runHeavies(e.root.heavy_order),this.backgroundColor="black";var o=t?$('<g transform="scale('+n+") matrix(-1,0,0,1,"+e.outline().lowerRight().x+","+-e.outline().upperLeft().y+')"></g>'):$('<g transform="scale('+n+") translate("+-e.outline().upperLeft().x+","+-e.outline().upperLeft().y+')"></g>'),r=$('<g id="outline" fill="#ff6e02" stroke="#ffa210" stroke-width="100" fill-opacity="0.25"></g>');r.append(this.outlineToSvg(e)),o.append(r);var a=Circuits.LooseBounds.svgBounds(o);if(t){var s=$('<g id="bottomcopper" style="fill:#0078ff;stroke:#0078ff" opacity="1"></g>'),c=$('<g style="fill:#0078ff;stroke:#0078ff" opacity="0.5"></g>');this.gerberLayerToSvg(e,s,"gbl",c),o.append(s),o.append(c);var l=$('<g id="bottomsilk" style="fill:white;stroke:white;stroke-linejoin:round;stroke-linecap:round" opacity="1"></g>');this.gerberLayerToSvg(e,l,"gbo"),o.append(l)}else{var d=$('<g id="topcopper" style="fill:#f41d1d;stroke:#f41d1d" opacity="1"></g>'),u=$('<g style="fill:#f41d1d;stroke:#f41d1d" opacity="0.5"></g>');this.gerberLayerToSvg(e,d,"gtl",u),o.append(d),o.append(u);var h=$('<g id="topsilk" style="fill:white;stroke:white;stroke-linejoin:round;stroke-linecap:round" opacity="1"></g>');this.gerberLayerToSvg(e,h,"gto"),o.append(h)}var p=$('<g id="drill" style="fill:black"></g>');this.gerberLayerToSvg(e,p,"drl"),o.append(p);var g=$('<svg xmlns="http://www.w3.org/2000/svg"></svg>');return g.append(o),g.attr("width",a.width()),g.attr("height",a.height()),g},Circuits.Thumbnail.prototype.renderPcb=function(e){this.backgroundColor="black",e.root.runHeavies(e.root.heavy_order);var t=$("<g></g>"),i=$('<g fill="#ff6e02" stroke="#ffa210" stroke-width="100" fill-opacity="0.25"></g>');i.append(this.outlineToSvg(e));var n=$('<g style="fill:white;stroke:white;stroke-linejoin:round;stroke-linecap:round"></g>'),o=$('<g style="fill:white;stroke:white;stroke-linejoin:round;stroke-linecap:round" opacity="0.2"></g>'),r=$('<g style="fill:black"></g>'),a=$('<g style="fill:#f41d1d;stroke:#f41d1d"></g>'),s=$('<g style="fill:#f41d1d;stroke:#f41d1d" opacity="0.5"></g>'),c=$('<g style="fill:#0078ff;stroke:#0078ff" opacity="0.5"></g>'),l=$('<g style="fill:#0078ff;stroke:#0078ff" opacity="0.1"></g>');return this.gerberLayerToSvg(e,a,"gtl",s),this.gerberLayerToSvg(e,c,"gbl",l),this.gerberLayerToSvg(e,n,"gto"),this.gerberLayerToSvg(e,o,"gbo"),this.gerberLayerToSvg(e,r,"drl"),Object.keys(Circuits.PCBLayers_base).sort(function(e,t){return Circuits.PCBLayers_base[e]-Circuits.PCBLayers_base[t]}).forEach(function(e){switch(e){case"OUTLINE":t.append(i);break;case"BOTTOMSILK":t.append(o);break;case"BOTTOMMETAL":t.append(c),t.append(l);break;case"TOPMETAL":t.append(s),t.append(a);break;case"SILKSCREEN":t.append(n);break;case"DRILL":t.append(r);break;case"RATSNEST":}}),t},Circuits.Thumbnail.prototype.renderFootprint=function(e){var t=$("<g></g>"),i=$('<g style="fill:#f41d1d;stroke:#f41d1d"></g>'),n=$('<g style="fill:#0078ff;stroke:#0078ff"></g>'),o=$('<g style="fill:white;stroke:white;stroke-linejoin:round;stroke-linecap:round"></g>'),r=$('<g style="fill:black"></g>');return e.outline&&o.append($(e.outline)),e.pads_attributes.forEach(function(e){var t=parseFloat(e.drill)||0,o=parseFloat(e.x)||0,a=parseFloat(e.y)||0;t&&r.append($('<circle cx="'+o+'" cy="'+a+'" r="'+.5*t+'"></circle>')),e.layer0&&i.append($('<g transform="translate('+o+","+a+')">'+e.layer0+"</g>")),e.layer1&&n.append($('<g transform="translate('+o+","+a+')">'+e.layer1+"</g>"))}),t.append(n),t.append(i),t.append(o),t.append(r),t},Circuits.Thumbnail.prototype.renderCircuit=function(e,t){var i;switch(e.circuit_type()){case"breadboard":switch(t){case"schematic":i=this.renderSchematic(e);break;case"pcb":i=this.renderPcb(e);break;case"breadboard":default:i=this.renderBreadboard(e)}break;case"circuitscribe":i=this.renderCircuitscribe(e);break;case"schematic":case"classic":case"mesh_pcb":default:switch(t){case"pcb":i=this.renderPcb(e);break;case"schematic":default:i=this.renderSchematic(e)}}return i||(i=$("<g></g>")),i}},function(e,t,i){i(788),i(789),i(790),i(791),i(787),i(792),i(793),i(794)},function(e,t){!function(e,t){e.lcdArrayGenerator={fromDecimalArray:function(t){for(var i=[],n=0;n<t.length;n++){i[n]=[];for(var o=0;o<t[n].length;o++)i[n][o]=e.lcdArrayGenerator.fromDecimalCharacter(t[n][o])}return i},fromDecimalCharacter:function(t){return null==t&&(t="_EMPTY"),"undefined"==typeof e.lcdArrayGenerator.dotMatrixChars[t]&&(t="_UNKNOWN"),e.lcdArrayGenerator.dotMatrixChars[t]},dotMatrixChars:{16:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],17:[[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],18:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,0,1],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0]],19:[[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1]],20:[[0,0,0,0,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],21:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,0]],22:[[1,0,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],23:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0]],24:[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],25:[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],26:[[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],27:[[0,0,0,1,1],[0,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],28:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],29:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],30:[[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[1,0,0,0,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],31:[[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],32:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],33:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],34:[[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],35:[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0]],36:[[0,0,1,0,0],[0,1,1,1,1],[1,0,1,0,0],[0,1,1,1,0],[0,0,1,0,1],[1,1,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],37:[[1,1,0,0,0],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[0,0,0,1,1],[0,0,0,0,0]],38:[[0,1,0,0,0],[1,0,1,0,0],[1,0,1,0,0],[0,1,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],39:[[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],40:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],
41:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],42:[[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],43:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],44:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],45:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],46:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],47:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],48:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],49:[[0,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],50:[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],51:[[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],52:[[0,0,0,1,0],[0,0,1,1,0],[0,1,0,1,0],[1,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,0,0]],53:[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],54:[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],55:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],56:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],57:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],58:[[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],59:[[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],60:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],61:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],62:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],63:[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],64:[[0,1,1,1,0],[1,0,0,0,1],[1,0,1,1,1],[1,0,1,0,1],[1,0,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],65:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],66:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],67:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],68:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0],[0,0,0,0,0]],69:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],70:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],71:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],72:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],73:[[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],74:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],75:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],76:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],77:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],78:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],79:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],80:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],81:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],82:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],83:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],84:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],85:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],86:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],87:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],88:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],89:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],90:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],91:[[0,1,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],92:[[0,0,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],93:[[0,1,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],94:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],95:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],96:[[0,0,1,1,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],97:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],98:[[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],99:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,0,0]],100:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],101:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],102:[[0,0,0,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],103:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],104:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],105:[[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],106:[[0,0,0,1,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],107:[[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,1,0,1,0],[0,1,1,0,0],[0,1,0,1,0],[0,1,0,0,1],[0,0,0,0,0]],108:[[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],109:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,0,0,0,0]],110:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],111:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],112:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],113:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,0]],114:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,1],[0,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],115:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],116:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],117:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],118:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],119:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],120:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],121:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],122:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],123:[[0,0,0,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],124:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],125:[[1,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,0,0,0],[0,0,0,0,0]],126:[[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],127:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],128:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],129:[[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],130:[[0,0,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],131:[[0,0,1,0,0],[0,1,0,1,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],132:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],133:[[0,1,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],134:[[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],135:[[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],136:[[0,0,1,0,0],[0,1,0,1,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],137:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],138:[[0,1,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],139:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],140:[[0,0,1,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],141:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],142:[[0,1,0,1,0],[0,0,0,0,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],143:[[0,0,1,0,0],[0,1,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],144:[[0,0,0,1,0],[0,0,1,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],145:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[0,0,1,0,1],[0,1,1,1,1],[1,0,1,0,0],[0,1,1,1,1],[0,0,0,0,0]],146:[[0,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,0,1,1,1],[0,0,0,0,0]],147:[[0,0,1,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],148:[[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],149:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],150:[[0,0,1,0,0],[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],151:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],152:[[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],153:[[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],154:[[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],155:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],156:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[0,0,0,0,0]],157:[[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],158:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],159:[[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],160:[[0,0,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],161:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],162:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],163:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],164:[[0,0,1,0,0],[0,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,0,1,0,0],[0,1,1,1,1],[0,0,1,0,0],[0,0,0,0,0]],165:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],166:[[1,0,0,0,1],[0,1,0,1,0],[1,1,1,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],167:[[1,1,1,0,0],[1,0,0,1,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,1,1,1],[1,0,0,1,0],[1,0,0,1,1],[0,0,0,0,0]],168:[[0,0,0,1,0],[0,0,1,0,1],[0,0,1,0,0],[0,1,1,1,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],169:[[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],170:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],171:[[0,1,1,0,1],[1,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],172:[[0,1,1,0,1],[1,0,0,1,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],173:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],174:[[0,0,0,0,1],[0,1,1,1,0],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[0,0,0,0,0]],175:[[0,0,0,0,0],[0,0,0,1,0],[0,1,1,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,1,0,0,0],[0,0,0,0,0]],176:[[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],177:[[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],178:[[0,0,1,0,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],179:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],180:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],181:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,1,0],[1,0,1,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,1],[0,0,0,0,0]],182:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,0,0],[1,0,1,0,1],[0,0,1,0,1],[0,0,1,1,1],[0,0,0,0,1],[0,0,0,0,0]],183:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],184:[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],185:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],186:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],187:[[0,0,0,0,0],[0,0,1,0,1],[0,1,0,1,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,0,0,0,0],[0,0,0,0,0]],188:[[0,0,0,0,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],189:[[0,0,0,1,0],[0,0,0,1,0],[1,1,1,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,1,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],190:[[0,0,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],191:[[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],192:[[0,0,0,1,0],[0,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],193:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],194:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],195:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],196:[[0,0,0,0,1],[0,0,0,0,1],[0,0,1,0,1],[0,1,0,0,1],[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],197:[[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],198:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],199:[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],200:[[0,0,0,0,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],201:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],202:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,0]],203:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],204:[[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],205:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],206:[[0,1,1,1,0],[1,0,0,1,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,0,0,0]],207:[[0,1,1,1,0],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,1,1],[1,0,1,0,1],[1,1,0,1,1],[0,1,1,1,0],[0,0,0,0,0]],208:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[0,0,0,0,0]],209:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],210:[[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],211:[[0,1,1,1,1],[1,1,1,0,1],[1,1,1,0,1],[0,1,1,0,1],[0,0,1,0,1],[0,0,1,0,1],[0,0,1,0,1],[0,0,0,0,0]],212:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],213:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,1,1],[0,0,1,0,1],[0,1,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],214:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],215:[[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],216:[[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],217:[[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0]],218:[[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],219:[[0,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],220:[[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0]],221:[[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],222:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[1,1,0,1,1],[0,0,0,0,0]],223:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,1],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],224:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,1,0],[1,0,0,0,0]],225:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0]],226:[[0,0,1,1,0],[0,1,0,0,1],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],227:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,0,0]],228:[[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1]],229:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[0,1,0,0,1],[0,1,0,0,1],[0,1,0,0,1],[0,1,0,0,1],[0,0,0,0,1]],230:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],231:[[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],232:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,1],[0,1,0,1,0],[0,1,1,0,0],[0,1,0,1,0],[0,1,0,0,1],[0,0,0,0,0]],233:[[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],234:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,0,1],[1,0,0,0,0]],235:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],236:[[1,1,1,1,1],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,1,1],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0]],237:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,1,1],[0,0,0,0,0]],238:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0]],239:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],240:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0]],241:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],242:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,0,1],[0,0,1,0,1],[0,0,1,1,0],[0,0,1,1,0],[0,1,1,0,0],[0,1,1,0,0]],243:[[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0]],244:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],245:[[0,0,0,0,0],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0],[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],246:[[0,0,0,0,0],[1,0,0,0,0],[1,1,1,0,0],[1,1,1,1,1],[1,1,1,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],247:[[0,0,0,0,0],[0,0,0,0,1],[0,0,1,1,1],[1,1,1,1,1],[0,0,1,1,1],[0,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],248:[[1,1,1,1,0],[1,1,1,1,1],[1,1,0,1,1],[1,1,1,1,1],[1,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[0,0,0,0,0]],249:[[0,0,0,0,1],[0,0,1,0,1],[0,1,0,0,1],[1,1,1,1,1],[0,1,0,0,1],[0,0,1,0,1],[0,0,0,0,1],[0,0,0,0,0]],250:[[1,1,1,1,1],[1,1,1,1,1],[1,1,0,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,0,0,0],[1,1,0,0,0],[0,0,0,0,0]],251:[[0,0,0,0,1],[0,0,1,0,1],[0,0,0,1,1],[1,1,1,1,1],[0,0,0,1,1],[0,0,1,0,1],[0,0,0,0,1],[0,0,0,0,0]],252:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],253:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],254:[[1,1,1,1,1],[1,1,0,0,1],[1,0,1,1,1],[1,0,0,0,1],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,0]],255:[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,1,1,1],[1,0,1,1,1],[1,1,1,1,1],[0,0,0,0,0]],_EMPTY:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_UNKNOWN:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]]}}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.defaultTheme="Polaris",e.polaris={color:{metal:"#bfbfbf",metalconnector:"#8C8C8C",shadow:"",silkscreen:"#EAEAEA",label:"#DDDDDD",select:"#3b8ed7",wire:"#8C8C8C",wireonboard:"#DDDDDD",solder:"#bfbfbf",canvas:"#f4f5f6",copper:"#D1C690",greyish:"#3c4042",black:"#333333",red:"#AF1C1C",orange:"#f9a319",blue:"#008dd1",yellow:"#F2AE16",green:"#7FBF34",debuggreen:"#00FF00",debugred:"#FF0000",brokenwhite:"#DDDDDD",white:"#FFFDFA",lightningyellow:"#ffe91d",pcbSparkfunRed:"#D82416",pcbArduinoBlue:"#316E99",pcbGreen:"#4ea36a",csRed:"#f9423a",csYellow:"#E1E000",csBlue:"#00aec7",csTransparent:"#B3B1B1",csPurple:"#ad208e",csPrintTemplate:"#000000",csElectronink:"#bfbfbf",csPCB:"#232323",csSwitchHandle:"#f0f4e6",lbBlue:"#0237cc",lbBlueDarker:"#011f8e",lbGreen:"#97d700",lbGreenDarker:"#83b200",lbPink:"#ed258f",lbPinkDarker:"#b22081",lbOrange:"#ff8a00",lbOrangeDarker:"#cc6a00",lbPurple:"#511374",lbPurplePCB:"#7c518d"},gradient:{arduinoBlue:{offset:{0:"#316E99",100:"#24516E"}},pcbGreen:{offset:{0:"#4ea36a",100:"#438c5b"}}},hue:{ledRed:0,ledGreen:.347,ledBlue:.555,ledYellow:.138,ledOrange:.1},style:{shadow:" style='fill:#000;fill-opacity:0.2'",highlight:" style='opacity:0.4;fill:#FFFFFF;'",wire:" style='fill:none;stroke:#8C8C8C;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;'",selected1:" fill='none' stroke='#3b8ed7' stroke-width='2' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'",selected2:" fill='#3b8ed7' stroke='#3b8ed7' stroke-width='3.5' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'",selected3:" style='fill:#3b8ed7;stroke:none;stroke-linejoin=round;stroke-miterlimit:10;'",selectedfill:" style='fill:#3b8ed7;stroke:none;stroke-linejoin=round;stroke-miterlimit:10;' display='none'",selectedstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='3'",selectedthinstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='2'",selectedfatstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='5'",selectedundefinedstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none'",selectedfillandstroke:" fill='#3b8ed7' stroke='#3b8ed7' stroke-width='3.5' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round' display='none'",selectedwire:" fill='none' stroke='#3b8ed7' stroke-width='2' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round' display='none'",hitareafill:" style='fill:#ff0000;' opacity='0' display='none'",hitareastroke:" style='stroke:#ff0000;fill:none;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hitareaundefinedstroke:" style='stroke:#ff0000;fill:none;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hitareafillandstroke:" style='fill:#ff0000;stroke:#ff0000;' opacity='0' display='none'",hitareawire:" style='stroke:#ff0000;fill:none;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hover:" stroke-linejoin='round' stroke='#3b8ed7' stroke-width='3' fill='none'",labelfont:" style='fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1.3'",schematic:" style='fill:none;stroke:black;stroke-width:1;'",littlebitsPCB:" style='fill:#FFFFFF;stroke:#7a7a7a;stroke-width:0.35;'"}},e.getColor=function(t){return"#"!=t.charAt(0)?e.polaris.color[t]:t},e.getHue=function(t){return e.polaris.hue[t]},e.getStyle=function(t){return e.polaris.style[t]},e.getRoundedCorners=function(){return' rx="1" ry="1"'},e.getGradient=function(t){return e.polaris.gradient[t]},e.HexFromHSB=function(t,i,n){var o=e.hsvToRgb(360*t,100*i,100*n);return"#"+e.rgbToHex(o.r,o.g,o.b)},e.HSBFromRGB=function(e,t,i){var n,a,s=r(e,t,i),c=o(e,t,i),l=s,d=s-c;if(a=0===s?0:d/s,s==c)n=0;else{switch(s){case e:n=(t-i)/d+(i>t?6:0);break;case t:n=(i-e)/d+2;break;case i:n=(e-t)/d+4}n/=6}return{h:n,s:a,b:l}},e.RGBFromHSB=function(t,i,n){return e.hsbToRgb(t,i,n)},e.HexFromBrightness=function(t){var i;return i=t>=1?"#FFF":0>=t?"#000":"#"+e.rgbToHex(255*t,255*t,255*t)};var i=Math,n=i.round,o=i.min,r=i.max;i.random;e.rgbToRgb=function(e,t,i){return{r:255*a(e,255),g:255*a(t,255),b:255*a(i,255)}},e.rgbToHsl=function(e,t,i){e=a(e,255),t=a(t,255),i=a(i,255),console.log("r:"+e),console.log("g:"+t),console.log("b:"+i);var n,s,c=r(e,t,i),l=o(e,t,i),d=(c+l)/2;if(c==l)n=s=0;else{var u=c-l;switch(s=d>.5?u/(2-c-l):u/(c+l),c){case e:n=(t-i)/u+(i>t?6:0);break;case t:n=(i-e)/u+2;break;case i:n=(e-t)/u+4}n/=6}return{h:n,s:s,l:d}},e.hslToRgb=function(e,t,i){function n(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e}var o,r,s;if(e=a(e,360),t=a(t,100),i=a(i,100),0===t)o=r=s=i;else{var c=.5>i?i*(1+t):i+t-i*t,l=2*i-c;o=n(l,c,e+1/3),r=n(l,c,e),s=n(l,c,e-1/3)}return{r:255*o,g:255*r,b:255*s}},e.rgbToHsv=function(e,t,i){e=a(e,255),t=a(t,255),i=a(i,255);var n,s,c=r(e,t,i),l=o(e,t,i),d=c,u=c-l;if(s=0===c?0:u/c,c==l)n=0;else{switch(c){case e:n=(t-i)/u+(i>t?6:0);break;case t:n=(i-e)/u+2;break;case i:n=(e-t)/u+4}n/=6}return{h:n,s:s,v:d}},e.rgbToHsb=function(e,t,i){e=a(e,255),t=a(t,255),i=a(i,255);var n,s,c=r(e,t,i),l=o(e,t,i),d=c,u=c-l;if(s=0===c?0:u/c,c==l)n=0;else{switch(c){case e:n=(t-i)/u+(i>t?6:0);break;case t:n=(i-e)/u+2;break;case i:n=(e-t)/u+4}n/=6}return{h:n,s:s,b:d}},e.hsvToRgb=function(e,t,n){e=6*a(e,360),t=a(t,100),n=a(n,100);var o=i.floor(e),r=e-o,s=n*(1-t),c=n*(1-r*t),l=n*(1-(1-r)*t),d=o%6,u=[n,c,s,s,l,n][d],h=[l,n,n,c,s,s][d],p=[s,s,l,n,n,c][d];return{r:255*u,g:255*h,b:255*p}},e.hsbToRgb=function(e,t,n){e=6*a(e,360),t=a(t,100),n=a(n,100);var o=i.floor(e),r=e-o,s=n*(1-t),c=n*(1-r*t),l=n*(1-(1-r)*t),d=o%6,u=[n,c,s,s,l,n][d],h=[l,n,n,c,s,s][d],p=[s,s,l,n,n,c][d];return{r:u,g:h,b:p}},e.rgbToHex=function(e,t,i,o){var r=[l(n(e).toString(16)),l(n(t).toString(16)),l(n(i).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")},e.rgbaToHex=function(e,t,i,o){var r=[l(convertDecimalToHex(o)),l(n(e).toString(16)),l(n(t).toString(16)),l(n(i).toString(16))];return r.join("")};var a=function(e,t){s(e)&&(e="100%");var n=c(e);return e=o(t,r(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)},s=function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)},c=function(e){return"string"==typeof e&&-1!=e.indexOf("%")},l=function(e){return 1==e.length?"0"+e:""+e}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.svgGradient=function(t){var i=e.getGradient(t.soldermask),n=t.soldermask,o='<linearGradient id="'+n+'" x1="0%" y1="0%" x2="0%" y2="100%" >';for(var r in i.offset)o+='<stop offset="'+r+'%" style="stop-color:'+i.offset[r]+';stop-opacity:1"/>';return o+="</linearGradient>"},e.svgTerminals=function(t){var i="";for(var n in t){var o=t[n];i+='<g class="cgfx__terminal">';var r="";"pth"==o.type?r="breadboard":"breadboard-round"==o.type?r="breadboard_female":"bindingpost"==o.type?r="breadboard_female":"packagepin"==o.type?r="breadboard":"wire"==o.type?r="breadboard":"pin"==o.type?r="breadboard":"pinheader-male"==o.type?r="breadboard":"pinheader-male-solderside-round"==o.type?r="breadboard":"pinheader-male-solderside-square"==o.type?r="breadboard":"pin-hidden"==o.type?r="breadboard":"pinheader"==o.type?r="breadboard_female":"pinheader-shield"==o.type?r="breadboard":"csfootprint"==o.type?r="csfootprint":"csmagnetic"==o.type?r="csmagnetic":console.log("Unknown terminaltype:"+o.type),i+='<desc class="cgfx__terminalname">'+o.terminalname+"</desc>",i+='<desc class="cgfx__terminaltype">'+r+"</desc>","undefined"!=typeof o.group&&(i+='<desc class="cgfx__terminalgroup">'+o.group+"</desc>"),i+='<line class="'+e.svgClassPrefix("origin direction reference debug")+'" x1="'+o.x+'" y1="'+o.y+'" x2="'+(o.x+25*o.direction.x)+'" y2="'+(o.y+25*o.direction.y)+'" stroke-dasharray="10,2,3,2,3,2,3" style="stroke:rgb(255,0,0);stroke-width:2;opacity:0.5" display="none"/>',i+="</g>"}return i},e.svgElements=function(t){var i="";for(var n in t.elements){var o=t.elements[n];if(o.id=n,e[o.generator]){var r=e[o.generator](o);"1"==t.debug&&(console.log("svgElement generated:"+n+" for "+t.type),console.log(r.model)),i+=r.svg}}return i},e.svgClassHitareaSelect=function(t){var i="";return i+="hitarea",t.hitareas.select.classname&&(i+=" "+t.hitareas.select.classname),t.classname&&(i+=" "+t.classname),i=e.svgClassPrefix(i)},e.svgClassHitareaInteraction=function(t){var i="";return i+="hitarea-interaction",""!=t.id&&(i+=" "+t.id),t.hitareas.interaction.classname&&(i+=" "+t.hitareas.interaction.classname),t.classname&&(i+=" "+t.classname),i=e.svgClassPrefix(i)},e.svgTerminalLabels=function(t){var i="";for(var n in t.terminals){var o=t.terminals[n];labelModel=JSON.parse(JSON.stringify(o.label)),labelModel.x=o.x+o.label.x,labelModel.y=o.y+o.label.y,i+=e.eg_Label(labelModel).svg}return i},e.svgComponents=function(t){var i="";for(var n in t.components){var o=t.components[n];e[o.generator]&&(i+=e[o.generator](o).svg)}return i},e.svgPCB=function(t){var i=e.svgInserts(t);return svg=i.opensvg,svg+=e.svgPCBBoard(t),svg+=e.svgPCBCopper(t),svg+=e.svgElements(t),svg+=e.svgTerminalLabels(t),svg+=e.svgBreakdownPolygon([0,0],15,[3.5]),"1"==t.debug&&(svg+=e.debugCrosshair()),svg+=e.svgTerminals(t.terminals),svg+=i.closesvg,svg},e.svgPCBBoard=function(t){if(svg="",t.board.svgoverride)svg+='<path class="cgfx__selected" display="none"'+e.getStyle("selected1")+" "+t.board.svgoverride+"/>",svg+='<path fill="'+e.getColor(t.board.soldermask)+'" '+t.board.svgoverride+"/>",svg+='<path class="cgfx__hitarea"'+e.getStyle("hitareafill")+" "+t.board.svgoverride+"/>";else{svg+='<rect class="cgfx__selected" '+e.getStyle("selected2")+' rx="2" ry="2" display="none" x="'+t.board.width/-2+'" y="'+t.board.height/-2+'" width="'+t.board.width+'" height="'+t.board.height+'" />',
svg+='<rect mask="url(#'+t.type+'-mask)" fill="'+e.getColor(t.board.soldermask)+'"  rx="2" ry="2" x="'+t.board.width/-2+'" y="'+t.board.height/-2+'" width="'+t.board.width+'" height="'+t.board.height+'" />',svg+='<mask id="'+t.type+'-mask">',svg+='  <rect x="-200" y="-200" width="100%" height="100%" fill="#FFF"/>';for(var i in t.throughholes)"circle"===t.throughholes[i].type&&(svg+='<circle cx="'+t.throughholes[i].x+'" cy="'+t.throughholes[i].y+'" r="'+t.throughholes[i].r+'" />');for(var n in t.terminals)"pth"===t.terminals[n].type&&(svg+='<circle cx="'+t.terminals[n].x+'" cy="'+t.terminals[n].y+'" r="2" />');svg+="</mask>"}return svg},e.svgPCBCopper=function(t){var i="";for(var n in t.terminals)i+=e.eg_ThroughHolePlate(t.terminals[n]);return i},e.svgSelected=function(t){var i='<g class="selected" display="none"'+e.getStyle("selected")+" >";return i+=t,i+="</g>"},e.svgInserts=function(t){var i={};i.id="";var n="",o=!0;"undefined"!=typeof t.id&&""!=t.id&&(n+=e.svgClassPrefix(t.id),o=!1),"undefined"!=typeof t.classname&&(n+=o?"":" ",n+=e.svgClassPrefix(t.classname),o=!1),"undefined"!=typeof t.type&&(n+=o?"":" ",n+=e.svgClassPrefix(t.type),o=!1),i["class"]=""==n?"":' class="'+n+'"',"undefined"==typeof t.x?i.x="":"undefined"!=typeof t.width?i.x=' x="'+(t.x-t.width/2+'"'):i.x=" x="+t.x,"undefined"==typeof t.y?i.y="":"undefined"!=typeof t.height?i.y=' y="'+(t.y-t.height/2+'"'):i.y=" y="+t.y,i.width="undefined"==typeof t.width?"":' width="'+t.width+'"',i.height="undefined"==typeof t.height?"":' height="'+t.height+'"',i.viewbox="undefined"==typeof t.viewbox?"":' viewBox="'+t.viewbox[0]+" "+t.viewbox[1]+" "+t.viewbox[2]+" "+t.viewbox[3]+'"';var r="",a=!0;return"undefined"!=typeof t.x&&"undefined"!=typeof t.x&&(r+="translate("+t.x+", "+t.y+")",a=!1),"undefined"!=typeof t.rotation&&(r+=a?"":" ",r+="rotate("+t.rotation+")",a=!1),"undefined"!=typeof t.scale&&(r+=a?"":" ",r+="scale("+t.scale+")",a=!1),a||(i.transform=' transform="'+r+'"'),i.opensvg='<svg class="cgfx__'+t.type+'" viewBox="-1000 -1000 2000 2000" width="2000" height="2000" x="-1000" y="-1000">',i.closesvg="</svg>",i},e.svgClassPrefix=function(e){for(var t=e.split(" "),i="",n=0;n<t.length;n++)i+="cgfx__"+t[n],i+=n==t.length-1?"":" ";return i},e.svgHitareaClassname=function(e,t){var i="";return i+=e+"-hitarea hitarea-interaction","undefined"!=typeof t&&(i+=" "+t),i},e.svgValidationStart=function(e){var t='<?xml version="1.0" encoding="utf-8"?>';return t+="<!-- Generator: 123D Circuits cGraphics Library  -->",t+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:cgraphics="http://123d.circuits.io/cgraphics/ns">'},e.updateTransform=function(e,t,i){var n=e.substring(e.indexOf("translate("),e.indexOf(")")+1),o=[parseInt(n.substring(n.indexOf("(")+1,n.indexOf(",")))+t[0],parseInt(n.substring(n.indexOf(",")+1,n.indexOf(")")))+t[1]],r=e.substring(e.indexOf("rotate("),e.lastIndexOf(")")+1),i=parseInt(r.substring(r.indexOf("(")+1,r.indexOf(")")))+i,a="translate("+o[0]+", "+o[1]+") rotate("+i+")",s=(i/90/4).toFixed(2).toString();s=s.split(".")[1],console.log(s);var c="north";"25"==s?c="east":"50"==s?c="south":"75"==s&&(c="west"),console.log(c);var l={orientation:c};return{svg:a,m:l}},e.svgUpdateTransformTranslationAbsolute=function(e,t){e||(e="");var i="";i+=-1!=e.indexOf("rotate(")?e.substring(e.indexOf("rotate("),e.lastIndexOf(")")+1):"";var n=""!=i?"translate("+t[0]+","+t[1]+") "+i:"translate("+t[0]+","+t[1]+")";return n},e.svgUpdateTransformRotationAbsolute=function(e,t,i){var n="";-1!=e.indexOf("translate(")&&(n+=e.substring(e.indexOf("translate("),e.indexOf(")")+1)),0==n.length&&(n+=" "),n+=""!=n?" ":"","undefined"==typeof i&&(i=[0,0]);var o=n+"rotate("+t+", "+i[0]+","+i[1]+")";return o},e.svgUpdateTransformRelative=function(e,t,i){for(var n=[],o=/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g;match=o.exec(e);)n.push(match)},e.debugCrosshair=function(t){var i="undefined"==typeof t?"debugred":t.color,n='<g stroke-linecap="round" style="stroke:'+e.getColor(i)+';stroke-width:0.2;stroke-opacity:0.8">';return n+='<line x1="0" y1="-10" x2="0" y2="10" />',n+='<line x1="-10" y1="0" x2="10" y2="0" />',n+="</g>"},e.svgBreakdownPolygon=function(e,t,i,n){"undefined"==typeof i[1]&&(i[1]=i[0]),t=0;var o="";"undefined"!=typeof n&&(o=" "+n);var r='<polygon class="cgfx__breakdown'+o+'" transform="translate('+e[0]+","+e[1]+")rotate("+t+") scale("+i+')" display="none" style="opacity:0.7;fill:#FF0000;stroke:#F7E60B;stroke-miterlimit:10;" ';return r+='points="2.415,-5.161 7.901,-7.299 5.471,-2.294 11.953,-0.565 5.126,1.63 8.332,8.197 2.59,5.053 -0.137,10.527 -2.24,4.375 -7.565,7.957 -6.133,2.443 -11.953,0.87 -5.945,-1.796 -8.854,-7.513 -3.289,-5.371 -1.401,-10.527 "/>'},e.svgWarning=function(t,i,n,o){"undefined"==typeof n[1]&&(n[1]=n[0]),i=0;var r="";"undefined"!=typeof o&&(r=" "+o);var a='<g class="cgfx__warning'+r+'" transform="translate('+(t[0]-5)+","+(t[1]-5)+") scale("+.44*n[0]+","+.44*n[1]+')" display="none">';return a+='<circle cx="11.6" cy="11.9" r="10.45" fill="'+e.getColor("canvas")+'" stroke="#000000" stroke-width="2.2"></circle>',a+='<path d="M11.16,7.5 C10.89,7.5 10.67,7.72 10.68,8.01 L10.85,13.46 C10.86,13.74 11.09,13.97 11.37,13.97 L11.64,13.97 C11.92,13.97 12.15,13.75 12.16,13.46 L12.33,8.01 C12.34,7.73 12.11,7.5 11.85,7.5 L11.16,7.5 Z M11.51,17.5 C12.07,17.5 12.5,17.01 12.5,16.39 C12.5,15.79 12.07,15.28 11.51,15.28 C10.95,15.28 10.5,15.79 10.5,16.39 C10.5,17.01 10.95,17.5 11.51,17.5 Z" stroke="#000000" stroke-width="0.35" fill="#231F20"></path>',a+="</g>"},e.svgLabelTextfield=function(e){for(var t="",i="0";i<e.split("").length;i++)character=e.split("")[i],"A"==character&&(console.log("A"),t+='<path id="A" d="M1.23,1.74h-2.46l-0.55,1.52C-1.86,3.47-2.05,3.6-2.27,3.6c-0.27,0-0.51-0.23-0.51-0.52c-0-0.06,0.01-0.11,0.03-0.17l2.2-6.14C-0.47-3.43-0.25-3.6,0-3.6c0.23,0,0.47,0.16,0.55,0.39l2.2,6.13c0.02,0.05,0.03,0.12,0.03,0.17c0,0.27-0.22,0.52-0.52,0.52c-0.21,0-0.41-0.13-0.49-0.34L1.23,1.74z M0-1.68l-0.87,2.42h1.74L0-1.68z"/>'),"B"==character&&(console.log("B"),t+='<path id="B" d="M-1.46,3.5c-0.36,0-0.65-0.29-0.65-0.64v-5.73c0-0.35,0.29-0.64,0.65-0.64h1.63c1.18,0,1.97,0.78,1.97,1.94c0,0.53-0.22,1.02-0.67,1.39c0.59,0.4,0.86,1,0.86,1.6c0,1.25-0.84,2.08-2.09,2.08H-1.46z M0.02-0.64c0.61,0,1.06-0.41,1.06-0.93c0-0.59-0.3-0.93-0.91-0.93h-1.22v1.86H0.02z M0.24,2.49c0.68,0,1.03-0.39,1.03-1.07c0-0.58-0.5-1.05-1.19-1.05c0.01,0-0.1,0-1.13,0v2.12H0.24z"/>'),"C"==character&&(console.log("C"),t+='<path id="C" d="M-2.07-1.02c0-1.55,1.04-2.59,2.58-2.59c0.54,0,1.06,0.16,1.54,0.47c0.15,0.1,0.24,0.26,0.24,0.43c0,0.27-0.23,0.49-0.52,0.49c-0.09,0-0.18-0.03-0.27-0.08C1.18-2.5,0.85-2.63,0.51-2.63c-0.97,0-1.52,0.64-1.52,1.61v2.03c0,0.97,0.55,1.61,1.52,1.61c0.34,0,0.66-0.14,0.98-0.34c0.09-0.06,0.19-0.09,0.29-0.09c0.27,0,0.51,0.21,0.51,0.5c0,0.17-0.09,0.34-0.24,0.44c-0.48,0.31-1,0.47-1.54,0.47c-1.54,0-2.58-1.04-2.58-2.59V-1.02z"/>');return t}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.updateEg_Potentiometer=function(t,i){var n="0"==i?45:Math.round(45+270*i),o=$(".cgfx__knob",t),r=o.attr("transform");o.attr("transform",e.svgUpdateTransformRotationAbsolute(r,n))},e.updateEg_Pushbutton=function(e,t){t?($(".cgfx__up",e).attr("display","none"),$(".cgfx__pressed",e).attr("display","inline")):($(".cgfx__up",e).attr("display","inline"),$(".cgfx__pressed",e).attr("display","none"))},e.updateEg_SwitchSlide=function(e,t){t?($(".cgfx__toggle-on",e).attr("display","inline"),$(".cgfx__toggle-off",e).attr("display","none")):($(".cgfx__toggle-on",e).attr("display","none"),$(".cgfx__toggle-off",e).attr("display","inline"))},e.updateEg_MatrixLCDPixelarray=function(e,i,n,o,r){var a="",s={};s.charspacing_hor=2.3622,s.charspacing_ver=1.5748,s.dotwidth=2.1653543,s.dotheight=2.55905512,s.dotspacing=.1968,s.hue=.23;var c=i[0][0][0].length*s.dotwidth+(i[0][0][0].length-1)*s.dotspacing,l=i[0][0].length*s.dotheight+(i[0][0].length-1)*s.dotspacing,d=c*i[0].length+(i[0].length-1)*s.charspacing_hor,u=l*i.length+(i.length-1)*s.charspacing_ver,h=[["001b54"],["9287a8"],["b6bbde"],["dbe7ff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"]],p="",g="",m=.4;p=r>m?h[Math.floor((r-m)/(1-m)*10)]:"001b54";var f=.5;g=f>=r?r/(1-f):1;var _="fill:#"+p+";fill-opacity:"+g,v="",y=.6;v=y>r?0:(r-y)/(1-y)*.2;var C="fill:#001b54;fill-opacity:"+v,b=.2+.8*o;if(e==t)return"";var w=$(".cgfx__dots",e).get(0);if(w.firstChild){var M=w.firstChild;M.setAttributeNS(null,"opacity",b);for(var S=0,x=0;x<i.length;x++)for(var T=0;T<i[x].length;T++)for(var E=0;E<i[x][T].length;E++)for(var A=0;A<i[x][T][E].length;A++){if(1==i[x][T][E][A])var D=_;else var D=C;var L=M.childNodes[S++];L.setAttributeNS(null,"style",D)}}else{var M=document.createElementNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"opacity",b);for(var x=0;x<i.length;x++)for(var T=0;T<i[x].length;T++)for(var E=0;E<i[x][T].length;E++)for(var A=0;A<i[x][T][E].length;A++){var B=A*(s.dotwidth+s.dotspacing)+c*T+s.charspacing_hor*T-d/2,k=E*(s.dotheight+s.dotspacing)+l*x+s.charspacing_ver*x-u/2;if(1==i[x][T][E][A])var D=_;else var D=C;var L=document.createElementNS("http://www.w3.org/2000/svg","rect");L.setAttributeNS(null,"x",B),L.setAttributeNS(null,"y",k),L.setAttributeNS(null,"width",s.dotwidth),L.setAttributeNS(null,"height",s.dotheight),L.setAttributeNS(null,"style",D),M.appendChild(L)}w.appendChild(M)}return a},e.updateEg_MatrixLCDBrightness=function(e,t){$(".cgfx__backlight",e).attr("fill-opacity",.95*t+.05)},e.updateLedBrightness=function(e,t){$(".cgfx__brightness",e).attr("fill-opacity",t)},e.updateLedOnboard0805=function(e,t){var i=.1>t?0:.4+.6*t,n=.1>t?0:.6+.2*t,o=.1>t?0:.2+.25*t,r=.1>t?0:.25+.15*t;$(".cgfx__default",e).attr("display","none"),$(".cgfx__basecolor",e).attr("opacity",i),$(".cgfx__brightnesscore",e).attr("opacity",n),$(".cgfx__brightnessring1",e).attr("opacity",o),$(".cgfx__brightnessring2",e).attr("opacity",r)},e.updateSlider=function(t,i,n,o){var r=$(".cgfx__knob",t),a=$(".cgfx__knoblabel",t),s=$(".cgfx__bounds",t).attr("width"),c=$(".cgfx__bounds",t).attr("height"),l=r.attr("transform"),d=n*(s-c);r.attr("transform",e.svgUpdateTransformTranslationAbsolute(l,[d,0])),a.attr("transform",e.svgUpdateTransformTranslationAbsolute(l,[d,0]));var u=$(".cgfx__arrow",t);u.attr("opacity",1-8*n),i&&i.attr("transform",e.svgUpdateTransformTranslationAbsolute(l,[d,0])),"undefined"!=typeof o&&$(".cgfx__knoblabel",t).html(o)},e.updateUSBMicro=function(e,t){var i=$(".cgfx__lightning",e),n=$(".cgfx__usbmale",e);t?(i.attr("opacity","0.1"),n.attr("transform","translate(0,40)")):(i.attr("opacity","1"),n.attr("transform","translate(0,0)"))},e.updateUSBTypeB=function(e,t,i){var n=$(".cgfx__lightning",e),o=$(".cgfx__transfer",e),r=$(".cgfx__usbmale",e);1==t?(n.attr("opacity","0"),o.attr("display","none"),r.attr("transform","translate(0,50)")):1==i?(n.attr("opacity","0"),o.attr("display","inline")):(n.attr("opacity","1"),r.attr("transform","translate(0,0)"),o.attr("display","none"))},e.updateResistorColors=function(e,t){var i=["black","saddlebrown","red","darkorange","yellow","green","blue","darkmagenta","grey","white","gold","silver"],n=t;.1>n&&(n=.1);var o=n.toExponential(1),r=parseFloat(o.substr(4,2))-1;0>r&&(r=10-r),$(".cgfx__color0",e).attr("fill",i[o.charAt(0)]),$(".cgfx__color1",e).attr("fill",i[o.charAt(2)]),$(".cgfx__color2",e).attr("fill",i[r])},e.updatePotentiometerKnob=function(t,i){var n="0"==i?45:Math.round(45+270*i),o=$(".cgfx__knob",t),r=o.attr("transform");o.attr("transform",e.svgUpdateTransformRotationAbsolute(r,n))},e.updateEg_Piezo=function(e,t){t=0>t?0:t>1?1:t;var i=.6>t?0:.6+.4*t,n=.3>t?0:.3+.7*t,o=t;$(".cgfx__outerring",e).attr("opacity",i),$(".cgfx__middlering",e).attr("opacity",n),$(".cgfx__innerring",e).attr("opacity",o)},e.updateSwitchSPDTSlideSidewaysOnboard=function(e,t){t?($(".cgfx__toggle-on",e).attr("display","inline"),$(".cgfx__toggle-off",e).attr("display","none")):($(".cgfx__toggle-on",e).attr("display","none"),$(".cgfx__toggle-off",e).attr("display","inline"))},e.updateLedColor=function(t,i){var n;switch(i){case"green":n=e.getHue("ledGreen");break;case"yellow":n=e.getHue("ledYellow");break;case"orange":n=e.getHue("ledOrange");break;case"blue":n=e.getHue("ledBlue");break;case"red":default:n=e.getHue("ledRed")}var o=e.HexFromHSB(n,.75,1),r=e.HexFromHSB(n,.75,.5);$(".basecolor",t).attr("fill",o),$(".brightness",t).attr("fill",r)},e.updateEg_LedRGBOnboard=function(t,i){var n={};n.hsb=e.HSBFromRGB(i[0],i[1],i[2]),n.basecolor={hsb:{h:n.hsb.h,s:n.hsb.s,b:n.hsb.b}},n.basecolor.brightnessminimum=.45,0==n.basecolor.hsb.b?n.basecolor.hsb.b=0:n.basecolor.hsb.b=n.basecolor.brightnessminimum+n.hsb.b*(1-n.basecolor.brightnessminimum),n.basecolor.saturationminimum=.3,n.basecolor.maxsaturation=1,"0"==n.hsb.s?n.basecolor.hsb.s=0:n.basecolor.hsb.s=n.basecolor.saturationminimum+n.hsb.s*(n.basecolor.maxsaturation-n.basecolor.saturationminimum);var o=e.HexFromHSB(n.basecolor.hsb.h,n.basecolor.hsb.s,n.basecolor.hsb.b),r=n.hsb.b<.01?0:.4+.6*n.hsb.b,a=n.hsb.b<.01?0:.8+.2*n.hsb.b,s=n.hsb.b<.01?0:.5+.5*n.hsb.b,c=n.hsb.b<.01?0:.2+.8*n.hsb.b;$(".cgfx__basecolor",t).attr("fill",o),$(".cgfx__lightvisibility",t).attr("opacity",r),$(".cgfx__brightnesscore",t).attr("opacity",a),$(".cgfx__brightnessring1",t).attr("opacity",s),$(".cgfx__brightnessring2",t).attr("opacity",c)},e.toggleLedRGB=function(e,t){var i=t?"inline":"none";$(".cgfx__inactive",e).attr("display",i)},e.updateEg_MotorVibration=function(e,t){t?($(".cgfx__toggle-on",e).attr("display","inline"),$(".cgfx__toggle-off",e).attr("display","none")):($(".cgfx__toggle-on",e).attr("display","none"),$(".cgfx__toggle-off",e).attr("display","inline"))}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.updateLb_P1_Power=function(t,i){"undefined"!=typeof i.inactive?i.inactive?($(".cgfx__powerin",t).attr("display","inline"),$(".cgfx__powerout",t).attr("display","none")):($(".cgfx__powerin",t).attr("display","none"),$(".cgfx__powerout",t).attr("display","inline")):("undefined"!=typeof i.powerledBrightness&&e.updateLedOnboard0805($(".cgfx__powerled",t),i.powerledBrightness),"undefined"!=typeof i.isOn&&e.updateSwitchSPDTSlideSidewaysOnboard($(".cgfx__switch",t),!i.isOn))},e.updateLb_O1_Led=function(t,i){"undefined"!=typeof i.ledBrightness&&e.updateLedOnboard0805($(".cgfx__led",t),i.ledBrightness)},e.updateLb_O3_RGBLed=function(t,i){"undefined"!=typeof i.position_r&&e.updateEg_Potentiometer($(".cgfx__r",t),i.position_r),"undefined"!=typeof i.position_g&&e.updateEg_Potentiometer($(".cgfx__g",t),i.position_g),"undefined"!=typeof i.position_b&&e.updateEg_Potentiometer($(".cgfx__b",t),i.position_b),"undefined"!=typeof i.inactive?e.toggleLedRGB($(".cgfx__led",t),i.inactive):"undefined"!=typeof i.rgb&&e.updateLedRGB($(".cgfx__led",t),i.rgb)},e.updateLb_O5_DCMotor=function(t,i){var n=$(".cgfx__arm",t),o=n.attr("transform");n.attr("transform",e.svgUpdateTransformRotationAbsolute(o,i.rotation))},e.updateLb_O6_Buzzer=function(t,i){e.updateEg_Piezo(t,i.volume)},e.updateLb_O9_Bargraph=function(t,i){"undefined"!=typeof i.led1Brightness&&e.updateLedOnboard0805($(".cgfx__led1",t),i.led1Brightness),"undefined"!=typeof i.led2Brightness&&e.updateLedOnboard0805($(".cgfx__led2",t),i.led2Brightness),"undefined"!=typeof i.led3Brightness&&e.updateLedOnboard0805($(".cgfx__led3",t),i.led3Brightness),"undefined"!=typeof i.led4Brightness&&e.updateLedOnboard0805($(".cgfx__led4",t),i.led4Brightness),"undefined"!=typeof i.led5Brightness&&e.updateLedOnboard0805($(".cgfx__led5",t),i.led5Brightness)},e.updateLb_W6_Arduino=function(t,i){"undefined"!=typeof i.inactive?e.updateUSBMicro($(".cgfx__usbmicro",t),i.inactive):("undefined"!=typeof i.ledrxBrightness&&e.updateLedOnboard0805($(".cgfx__led-rx",t),i.ledrxBrightness),"undefined"!=typeof i.ledtxBrightness&&e.updateLedOnboard0805($(".cgfx__led-tx",t),i.ledtxBrightness),"undefined"!=typeof i.switchd5Mode&&("analog"==i.switchd5Mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__switch-d5",t),!0),"pwm"==i.switchd5Mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__switch-d5",t),!1)),"undefined"!=typeof i.switchd9Mode&&("analog"==i.switchd9Mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__switch-d9",t),!0),"pwm"==i.switchd9Mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__switch-d9",t),!1)))},e.updateLb_I3_Button=function(t,i){"undefined"!=typeof i.isPressed&&e.updateEg_Pushbutton($(".cgfx__pushbutton",t),i.isPressed)},e.updateLb_I6_Dimmer=function(t,i){"undefined"!=typeof i.position&&e.updateEg_Potentiometer($(".cgfx__potentiometer",t),i.position)},e.updateLb_I16_Pulse=function(t,i){"undefined"!=typeof i.speed&&e.updateEg_Potentiometer($(".cgfx__speed",t),i.speed)},e.updateLb_I17_Timeout=function(t,i){"undefined"!=typeof i.time&&e.updateEg_Potentiometer($(".cgfx__time",t),i.time),"undefined"!=typeof i.mode&&("on-off"==i.mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__mode",t),!0),"off-on"==i.mode&&e.updateSwitchSPDTSlideOnboard($(".cgfx__mode",t),!1))},e.updateLb_I20_SoundTrigger=function(t,i){"undefined"!=typeof i.sensitivity&&e.updateEg_Potentiometer($(".cgfx__sensitivity",t),i.sensitivity)},e.updateLb_I23_Threshold=function(t,i){"undefined"!=typeof i.position&&e.updateEg_Potentiometer($(".cgfx__potentiometer",t),i.position)},e.updateCsBuzzer=function(t,i){e.updateEg_Piezo(t,i.volume)},e.updateCsMotor=function(t,i){var n=$(".cgfx__arm",t),o=n.attr("transform");n.attr("transform",e.svgUpdateTransformRotationAbsolute(o,i.rotation))},e.updateCsPotentiometer=function(t,i){"undefined"!=typeof i.position&&e.updatePotentiometerKnob($(".cgfx__potentiometer",t),i.position)},e.updateCsSensorPhoto=function(t,i){"undefined"!=typeof i.incominglight&&(t.view&&t.control?e.updateSlider($(".cgfx__incominglight",t.view),$(".cgfx__incominglight.cgfx__knob",t.control),i.incominglight):e.updateSlider($(".cgfx__incominglight",t),null,i.incominglight))},e.updateCsRGBled=function(t,i){"undefined"!=typeof i.inactive?e.toggleLedRGB($(".cgfx__rgbled",t),i.inactive):"undefined"!=typeof i.rgb&&e.updateEg_LedRGBOnboard($(".cgfx__rgbled",t),i.rgb)},e.updateCsBiled=function(t,i){"undefined"!=typeof i.inactive?e.toggleLedRGB($(".cgfx__biled",t),i.inactive):("undefined"!=typeof i.blueledBrightness&&e.updateEg_LedRGBOnboard($(".cgfx__biled",t),[0,0,parseFloat(i.blueledBrightness)]),"undefined"!=typeof i.redledBrightness&&e.updateEg_LedRGBOnboard($(".cgfx__biled",t),[parseFloat(i.redledBrightness),0,0]))},e.updateCsLogicgateANDNAND=function(t,i){"undefined"!=typeof i.inaBrightness&&e.updateLedOnboard0805($(".cgfx__in-a",t),i.inaBrightness),"undefined"!=typeof i.inbBrightness&&e.updateLedOnboard0805($(".cgfx__in-b",t),i.inbBrightness),"undefined"!=typeof i.vccBrightness&&e.updateLedOnboard0805($(".cgfx__vcc",t),i.vccBrightness),"undefined"!=typeof i.groundBrightness&&e.updateLedOnboard0805($(".cgfx__ground",t),i.groundBrightness),"undefined"!=typeof i.outBrightness&&e.updateLedOnboard0805($(".cgfx__out",t),i.outBrightness),"undefined"!=typeof i.and&&e.updateEg_SwitchSlide($(".cgfx__switch",t),i.and)},e.updateCsLogicgateORNOR=function(t,i){"undefined"!=typeof i.inaBrightness&&e.updateLedOnboard0805($(".cgfx__in-a",t),i.inaBrightness),"undefined"!=typeof i.inbBrightness&&e.updateLedOnboard0805($(".cgfx__in-b",t),i.inbBrightness),"undefined"!=typeof i.vccBrightness&&e.updateLedOnboard0805($(".cgfx__vcc",t),i.vccBrightness),"undefined"!=typeof i.groundBrightness&&e.updateLedOnboard0805($(".cgfx__ground",t),i.groundBrightness),"undefined"!=typeof i.outBrightness&&e.updateLedOnboard0805($(".cgfx__out",t),i.outBrightness),"undefined"!=typeof i.or&&e.updateEg_SwitchSlide($(".cgfx__switch",t),i.or)},e.updateCsLogicgateXORXNOR=function(t,i){"undefined"!=typeof i.inaBrightness&&e.updateLedOnboard0805($(".cgfx__in-a",t),i.inaBrightness),"undefined"!=typeof i.inbBrightness&&e.updateLedOnboard0805($(".cgfx__in-b",t),i.inbBrightness),"undefined"!=typeof i.vccBrightness&&e.updateLedOnboard0805($(".cgfx__vcc",t),i.vccBrightness),"undefined"!=typeof i.groundBrightness&&e.updateLedOnboard0805($(".cgfx__ground",t),i.groundBrightness),"undefined"!=typeof i.outBrightness&&e.updateLedOnboard0805($(".cgfx__out",t),i.outBrightness),"undefined"!=typeof i.xor&&e.updateEg_SwitchSlide($(".cgfx__switch",t),i.xor)},e.updateCsBlinker=function(t,i){"undefined"!=typeof i.outputledBrightness&&e.updateLedOnboard0805($(".cgfx__outputled",t),parseFloat(i.outputledBrightness)),"undefined"!=typeof i.vccledBrightness&&e.updateLedOnboard0805($(".cgfx__vccled",t),parseFloat(i.vccledBrightness)),"undefined"!=typeof i.potentiometerPosition&&e.updatePotentiometerKnob($(".cgfx__potentiometer",t),i.potentiometerPosition)},e.updateCsSwitchSPST=function(t,i){"undefined"!=typeof i.on&&e.updateEg_SwitchSlide($(".cgfx__switch",t),i.on)},e.updateCs9VBattery=function(t,i){"undefined"!=typeof i.inactive?i.inactive?$(".cgfx__battery",t).attr("transform","translate(0,25)"):$(".cgfx__battery",t).attr("transform","translate(0,0)"):("undefined"!=typeof i.powerledBrightness&&e.updateLedOnboard0805($(".cgfx__powerled",t),i.powerledBrightness),"undefined"!=typeof i.shortledBrightness&&e.updateLedOnboard0805($(".cgfx__shortled",t),i.shortledBrightness),"undefined"!=typeof i.isOn&&e.updateSwitchSPDTSlideSidewaysOnboard($(".cgfx__switch",t),i.isOn))},e.updateCs2PinResistor=function(t,i){"undefined"!=typeof i.resistance&&e.updateResistorColors($(".cgfx__resistor",t),i.resistance)},e.updateCs2PinLDR=function(t,i){"undefined"!=typeof i.incominglight&&(t.view&&t.control?e.updateSlider($(".cgfx__incominglight",t.view),$(".cgfx__incominglight.cgfx__knob",t.control),i.incominglight):e.updateSlider($(".cgfx__incominglight",t),null,i.incominglight))},e.updateCsUSBPower=function(t,i){"undefined"!=typeof i.inactive?e.updateUSBMicro($(".cgfx__usbmicro",t),i.inactive):("undefined"!=typeof i.powerledBrightness&&e.updateLedOnboard0805($(".cgfx__powerled",t),i.powerledBrightness),"undefined"!=typeof i.shortledBrightness&&e.updateLedOnboard0805($(".cgfx__shortled",t),i.shortledBrightness))},e.updateCsSwitchDPDT=function(t,i){"undefined"!=typeof i.on&&e.updateEg_SwitchSlide($(".cgfx__switch",t),i.on)},e.updateBatteryCoinCell2032=function(e,t){},e.updateBattery9v=function(e,t){},e.updateDiodePhoto=function(t,i){"undefined"!=typeof i.incominglight&&(t.view&&t.control?e.updateSlider($(".cgfx__incominglight",t.view),$(".cgfx__incominglight.cgfx__knob",t.control),i.incominglight):e.updateSlider($(".cgfx__incominglight",t),null,i.incominglight))},e.updateDisplaySevenSegment=function(e,t){"undefined"!=typeof t.inactive?t.inactive&&($(".cgfx__aled",e).attr("fill","#B2B2B2"),$(".cgfx__bled",e).attr("fill","#B2B2B2"),$(".cgfx__cled",e).attr("fill","#B2B2B2"),$(".cgfx__dled",e).attr("fill","#B2B2B2"),$(".cgfx__eled",e).attr("fill","#B2B2B2"),$(".cgfx__fled",e).attr("fill","#B2B2B2"),$(".cgfx__gled",e).attr("fill","#B2B2B2"),$(".cgfx__dpled",e).attr("fill","#B2B2B2"),$(".cgfx__aled",e).attr("opacity","1"),$(".cgfx__bled",e).attr("opacity","1"),$(".cgfx__cled",e).attr("opacity","1"),$(".cgfx__dled",e).attr("opacity","1"),$(".cgfx__eled",e).attr("opacity","1"),$(".cgfx__fled",e).attr("opacity","1"),$(".cgfx__gled",e).attr("opacity","1"),$(".cgfx__dpled",e).attr("opacity","1")):"undefined"!=typeof t.ledsBrightness&&($(".cgfx__aled",e).attr("fill",t.ledsBrightness[0]>0?"#FF1038":"#545454"),$(".cgfx__aled",e).attr("opacity",t.ledsBrightness[0]>0?.4+.6*t.ledsBrightness[0]:1),$(".cgfx__bled",e).attr("fill",t.ledsBrightness[1]>0?"#FF1038":"#545454"),$(".cgfx__bled",e).attr("opacity",t.ledsBrightness[1]>0?.4+.6*t.ledsBrightness[1]:1),$(".cgfx__cled",e).attr("fill",t.ledsBrightness[2]>0?"#FF1038":"#545454"),$(".cgfx__cled",e).attr("opacity",t.ledsBrightness[2]>0?.4+.6*t.ledsBrightness[2]:1),$(".cgfx__dled",e).attr("fill",t.ledsBrightness[3]>0?"#FF1038":"#545454"),$(".cgfx__dled",e).attr("opacity",t.ledsBrightness[3]>0?.4+.6*t.ledsBrightness[3]:1),$(".cgfx__eled",e).attr("fill",t.ledsBrightness[4]>0?"#FF1038":"#545454"),$(".cgfx__eled",e).attr("opacity",t.ledsBrightness[4]>0?.4+.6*t.ledsBrightness[4]:1),$(".cgfx__fled",e).attr("fill",t.ledsBrightness[5]>0?"#FF1038":"#545454"),$(".cgfx__fled",e).attr("opacity",t.ledsBrightness[5]>0?.4+.6*t.ledsBrightness[5]:1),$(".cgfx__gled",e).attr("fill",t.ledsBrightness[6]>0?"#FF1038":"#545454"),$(".cgfx__gled",e).attr("opacity",t.ledsBrightness[6]>0?.4+.6*t.ledsBrightness[6]:1),$(".cgfx__dpled",e).attr("fill",t.ledsBrightness[7]>0?"#FF1038":"#545454"),$(".cgfx__dpled",e).attr("opacity",t.ledsBrightness[7]>0?.4+.6*t.ledsBrightness[7]:1))},e.updateESP8266ESP01=function(t,i){"undefined"!=typeof i.ledStatusBrightness&&e.updateLedOnboard0805($(".cgfx__ledstatus",t),i.ledStatusBrightness),"undefined"!=typeof i.ledPowerBrightness&&e.updateLedOnboard0805($(".cgfx__ledpower",t),i.ledPowerBrightness)},e.updateIncandescentBulb=function(t,i){if("undefined"!=typeof i.inactive)i.inactive&&($(".cgfx__bulb",t).attr("opacity",0),$(".cgfx__bulboutline",t).attr("fill","#AAA"),$(".cgfx__filament",t).attr("stroke","#AAA"));else if("undefined"!=typeof i.brightness){$(".cgfx__bulb",t).attr("opacity",.85*i.brightness),$(".cgfx__bulboutline",t).attr("fill","#D6C421");var n={};n.h=.088+.088*i.brightness,n.s=.89-.89*i.brightness,n.b=.86+.14*i.brightness,$(".cgfx__filament",t).attr("stroke",e.HexFromHSB(n.h,n.s,n.b)),0==i.brightness&&($(".cgfx__bulboutline",t).attr("fill","#AAA"),$(".cgfx__filament",t).attr("stroke","#AAA"))}},e.updateLedRGB=function(t,i){m={},m.hsb=e.HSBFromRGB(i.rgb[0],i.rgb[1],i.rgb[2]),m.basecolor={hsb:{h:m.hsb.h,s:m.hsb.s,b:m.hsb.b}},m.basecolor.brightnessminimum=.45,0==m.basecolor.hsb.b?m.basecolor.hsb.b=0:m.basecolor.hsb.b=m.basecolor.brightnessminimum+m.hsb.b*(1-m.basecolor.brightnessminimum),m.basecolor.saturationminimum=.3,m.basecolor.maxsaturation=1,"0"==m.hsb.s?m.basecolor.hsb.s=0:m.basecolor.hsb.s=m.basecolor.saturationminimum+m.hsb.s*(m.basecolor.maxsaturation-m.basecolor.saturationminimum);var n=e.HexFromHSB(m.basecolor.hsb.h,m.basecolor.hsb.s,m.basecolor.hsb.b),o=m.hsb.b<.01?0:.2+.8*m.hsb.b,r=m.hsb.b<.01?0:.85+.25*m.hsb.b;$(t).find(".cgfx__basecolor").attr("fill",n),$(t).find(".cgfx__background").attr("opacity",r),$(t).find(".cgfx__basecolor").attr("opacity",o),$(t).find(".cgfx__highlightborderback").attr("opacity",o/3)},e.updateLed=function(t,i){if("undefined"!=typeof i.brightness){var n=i.brightness<.01?1:1-(.2+.8*i.brightness);$(t).find(".cgfx__mask").attr("fill-opacity",n)}if("undefined"!=typeof i.color)switch(i.color){case"green":i.hue=e.getHue("ledGreen");break;case"yellow":i.hue=e.getHue("ledYellow");break;case"orange":i.hue=e.getHue("ledOrange");break;case"blue":i.hue=e.getHue("ledBlue");break;case"red":default:i.hue=e.getHue("ledRed")}if("undefined"!=typeof i.hue){var o=e.HexFromHSB(i.hue,.75,1),r=e.HexFromHSB(i.hue,.75,.5);$(t).find(".cgfx__basecolor").attr("fill",o),$(t).find(".cgfx__mask").attr("fill",r)}},e.updateledBrightWhite=function(e,t){if("undefined"!=typeof t.brightness){var i=t.brightness<.01?0:.2+.8*t.brightness,n=t.brightness<.01?0:.85+.25*t.brightness;$(e).find(".cgfx__basecolor").attr("opacity",i),$(e).find(".cgfx__highlightborderback").attr("opacity",i/1.1),$(e).find(".cgfx__background").attr("opacity",n)}},e.updateNeoPixelBreadboard=function(t,i){"undefined"!=typeof i.inactive?e.toggleLedRGB($(".cgfx__neopixel",t),!i.inactive):"undefined"!=typeof i.neopixels&&"undefined"!=typeof i.neopixels.neopixel0&&e.updateEg_LedRGBOnboard($(".cgfx__neopixel",t),i.neopixels.neopixel0.rgb)},e.updateNeoPixelJewel7=function(t,i){if("undefined"!=typeof i.inactive)for(var n=0;7>n;n++)e.toggleLedRGB($(".cgfx__neopixel"+n,t),!i.inactive);else if("undefined"!=typeof i.neopixels)for(var n=0;7>n;n++)"undefined"!=typeof i.neopixels["neopixel"+n]&&e.updateEg_LedRGBOnboard($(".cgfx__neopixel"+n,t),i.neopixels["neopixel"+n].rgb)},e.updateNeoPixelRing12=function(t,i){if("undefined"!=typeof i.inactive)for(var n=0;12>n;n++)e.toggleLedRGB($(".cgfx__neopixel"+n,t),!i.inactive);else if("undefined"!=typeof i.neopixels)for(var n=0;12>n;n++)"undefined"!=typeof i.neopixels["neopixel"+n]&&e.updateEg_LedRGBOnboard($(".cgfx__neopixel"+n,t),i.neopixels["neopixel"+n].rgb)},e.updateNeoPixelRing16=function(t,i){if("undefined"!=typeof i.inactive)for(var n=0;16>n;n++)e.toggleLedRGB($(".cgfx__neopixel"+n,t),!i.inactive);else if("undefined"!=typeof i.neopixels)for(var n=0;16>n;n++)"undefined"!=typeof i.neopixels["neopixel"+n]&&e.updateEg_LedRGBOnboard($(".cgfx__neopixel"+n,t),i.neopixels["neopixel"+n].rgb)},e.updateNeoPixelRing24=function(t,i){if("undefined"!=typeof i.inactive)for(var n=0;24>n;n++)e.toggleLedRGB($(".cgfx__neopixel"+n,t),!i.inactive);else if("undefined"!=typeof i.neopixels)for(var n=0;24>n;n++)"undefined"!=typeof i.neopixels["neopixel"+n]&&e.updateEg_LedRGBOnboard($(".cgfx__neopixel"+n,t),i.neopixels["neopixel"+n].rgb)},e.updateLedRed=function(t,i){e.updateLed(t,i)},e.updateLedBlue=function(t,i){e.updateLed(t,i)},e.updateLedGreen=function(t,i){e.updateLed(t,i)},e.updateLedOrange=function(t,i){e.updateLed(t,i)},e.updateLedYellow=function(t,i){e.updateLed(t,i)},e.updateMotorDC=function(t,i){if("undefined"!=typeof i.inactive)i.inactive&&$(".cgfx__rpm",t).length&&$(".cgfx__rpm",t).text("");else{var n=$(".cgfx__arm",t),o=n.attr("transform");n.attr("transform",e.svgUpdateTransformRotationAbsolute(o,i.rotation,[0,0])),"undefined"!=typeof i.rpm&&$(".cgfx__rpm",t).text(i.rpm)}},e.updateMotorServo=function(t,i){var n=$(".cgfx__arm",t),o=n.attr("transform");n.attr("transform",e.svgUpdateTransformRotationAbsolute(o,i.rotation,[-13,-25]))},e.updateMotorServoSMS2309S=function(t,i){var n=$(".cgfx__arm",t),o=n.attr("transform");n.attr("transform",e.svgUpdateTransformRotationAbsolute(o,i.rotation,[0,0]))},e.updateMotorServoSG90=function(t,i){var n=$(".cgfx__servohorn",t),o=$(".cgfx__gear-connected",t),r=e.svgUpdateTransformRotationAbsolute(n.attr("transform"),i.rotation,[0,0]);n.attr("transform",r),o.attr("transform",r);var a=$(".cgfx__gear-opposite",t),s=e.svgUpdateTransformRotationAbsolute(a.attr("transform"),i.rotation,[0,0]);a.attr("transform",s)},e.updateMotorServo=function(t,i){e.updateEg_Motor(t,i.speed)},e.updateMotorVibration=function(e,t){if("undefined"!=typeof t.on)if(t.on){var i=.5,n=1,o=0,r=0,a=0;"undefined"!=typeof t.amplitude&&(t.amplitude=t.amplitude<0?0:t.amplitude>1?1:t.amplitude,i=.2+.3*t.amplitude,n=.5+t.amplitude,o=t.amplitude<.6?0:.6+.4*t.amplitude,r=t.amplitude<.3?0:.3+.7*t.amplitude,a=t.amplitude);var s="undefined"!=typeof t.animation?14*Math.PI*t.animation:2*Math.PI*Math.random();$(".cgfx__animation",e).attr("opacity",i),$(".cgfx__animation",e).attr("transform","translate("+n*Math.cos(s)+" "+n*Math.sin(s)+")"),$(".cgfx__outerring",e).attr("opacity",o),$(".cgfx__middlering",e).attr("opacity",r),$(".cgfx__innerring",e).attr("opacity",a)}else $(".cgfx__animation",e).attr("opacity",0),$(".cgfx__outerring",e).attr("opacity",0),$(".cgfx__middlering",e).attr("opacity",0),$(".cgfx__innerring",e).attr("opacity",0)},e.updateMultimeter=function(e,t){"undefined"!=typeof t.inactive?t.inactive?($(".cgfx__displaytext",e).text(""),$(".cgfx__screen",e).attr("opacity",.85)):$(".cgfx__screen",e).attr("opacity",1):("undefined"!=typeof t.text&&$(".cgfx__displaytext",e).text(t.text),t.ampere&&($(".cgfx__button-ampere-active",e).attr("display","inline"),$(".cgfx__button-ampere-inactive",e).attr("display","none"),$(".cgfx__button-volt-active",e).attr("display","none"),$(".cgfx__button-volt-inactive",e).attr("display","inline"),$(".cgfx__button-resistance-active",e).attr("display","none"),$(".cgfx__button-resistance-inactive",e).attr("display","inline")),t.volt&&($(".cgfx__button-ampere-active",e).attr("display","none"),$(".cgfx__button-ampere-inactive",e).attr("display","inline"),$(".cgfx__button-volt-active",e).attr("display","inline"),$(".cgfx__button-volt-inactive",e).attr("display","none"),$(".cgfx__button-resistance-active",e).attr("display","none"),$(".cgfx__button-resistance-inactive",e).attr("display","inline")),t.resistance&&($(".cgfx__button-ampere-active",e).attr("display","none"),
$(".cgfx__button-ampere-inactive",e).attr("display","inline"),$(".cgfx__button-volt-active",e).attr("display","none"),$(".cgfx__button-volt-inactive",e).attr("display","inline"),$(".cgfx__button-resistance-active",e).attr("display","inline"),$(".cgfx__button-resistance-inactive",e).attr("display","none")))},e.updateOscilloscope=function(e,t){"undefined"!=typeof t.inactive?t.inactive?($(".cgfx__screen",e).attr("opacity",.85),$(".cgfx__graph",e).attr("d","M 0 0"),$(".cgfx__xscale",e).text("Time"),$(".cgfx__yscale",e).text("Voltage")):$(".cgfx__screen",e).attr("opacity",1):("undefined"!=typeof t.xscale&&$(".cgfx__xscale",e).text(t.xscale),"undefined"!=typeof t.yscale&&$(".cgfx__yscale",e).text(t.yscale),"undefined"!=typeof t.graph&&$(".cgfx__graph",e).attr("d",t.graph))},e.updatePotentiometerRotaryLinear=function(e,t){"undefined"!=typeof t.position&&$(e).find(".cgfx__knob").attr("transform","rotate("+(45+270*t.position)+")")},e.updatePotentiometerArduinoKit=function(e,t){"undefined"!=typeof t.position&&$(e).find(".cgfx__knob").attr("transform","rotate("+(45+270*t.position)+")")},e.updatePotentiometerDFRobotKit=function(e,t){"undefined"!=typeof t.position&&($(e).find(".cgfx__knob").attr("transform","rotate("+(45+270*t.position)+")"),$(e).find(".cgfx__knobshadow").attr("transform","rotate("+(45+270*t.position)+", 0,2)"))},e.updatePowerSupplyDC=function(t,i){if("undefined"!=typeof i.inactive)if(i.inactive){var n=$(".cgfx__display-voltage",t);$(".cgfx__displaytext",n).text(""),$(".cgfx__screen",n).attr("opacity",.85),e.updateLedBrightness($(".cgfx__vcled",t),0);var n=$(".cgfx__display-current",t);$(".cgfx__displaytext",n).text(""),$(".cgfx__screen",n).attr("opacity",.85),e.updateLedBrightness($(".cgfx__ccled",t),0)}else $(".cgfx__screen",t).attr("opacity",1);else{if("undefined"!=typeof i.voltageposition&&e.updateEg_Potentiometer($(".cgfx__potentiometer-voltage",t),i.voltageposition),"undefined"!=typeof i.voltagedisplaytext){var n=$(".cgfx__display-voltage",t);$(".cgfx__displaytext",n).text(i.voltagedisplaytext)}if("undefined"!=typeof i.currentposition&&e.updateEg_Potentiometer($(".cgfx__potentiometer-current",t),i.currentposition),"undefined"!=typeof i.currentdisplaytext){var n=$(".cgfx__display-current",t);$(".cgfx__displaytext",n).text(i.currentdisplaytext)}"undefined"!=typeof i.vcledBrightness&&e.updateLedBrightness($(".cgfx__vcled",t),i.vcledBrightness),"undefined"!=typeof i.ccledBrightness&&e.updateLedBrightness($(".cgfx__ccled",t),i.ccledBrightness),"undefined"!=typeof i.isOn&&e.updateEg_SwitchSlide($(".cgfx__powerbtn",t),i.isOn)}},e.updatePrototypingShieldDFRobot=function(t,i){"undefined"!=typeof i.resetIsPressed&&e.updateEg_Pushbutton($(".cgfx__resetbutton",t),i.resetIsPressed),"undefined"!=typeof i.s1IsPressed&&e.updateEg_Pushbutton($(".cgfx__s1button",t),i.s1IsPressed),"undefined"!=typeof i.led1Brightness&&e.updateLedOnboard0805($(".cgfx__led1",t),i.led1Brightness),"undefined"!=typeof i.led2Brightness&&e.updateLedOnboard0805($(".cgfx__led2",t),i.led2Brightness)},e.updatePiezoBuzzer=function(t,i){e.updateEg_Piezo(t,i.volume)},e.updatePololuSimpleMotorController18v7=function(t,i){"undefined"!=typeof i.ledusb&&e.updateLedOnboard0805($(".cgfx__ledusb",t),i.ledusb),"undefined"!=typeof i.lederror&&e.updateLedOnboard0805($(".cgfx__lederror",t),i.lederror),"undefined"!=typeof i.ledstatus&&e.updateLedOnboard0805($(".cgfx__ledstatus",t),i.ledstatus)},e.updateRelayDPDT3VLatchingV23042C2108B101=function(e,t){"undefined"!=typeof t.inactive?t.inactive&&($(".cgfx__switch-left-top",e).attr("display","inline"),$(".cgfx__switch-left-bottom",e).attr("display","inline"),$(".cgfx__switch-right-top",e).attr("display","none"),$(".cgfx__switch-right-bottom",e).attr("display","none")):"undefined"!=typeof t.switchstate&&("6and11connected"==t.switchstate?($(".cgfx__switch-left-top",e).attr("display","inline"),$(".cgfx__switch-left-bottom",e).attr("display","inline"),$(".cgfx__switch-right-top",e).attr("display","none"),$(".cgfx__switch-right-bottom",e).attr("display","none")):"8and9connected"==t.switchstate&&($(".cgfx__switch-left-top",e).attr("display","none"),$(".cgfx__switch-left-bottom",e).attr("display","none"),$(".cgfx__switch-right-top",e).attr("display","inline"),$(".cgfx__switch-right-bottom",e).attr("display","inline")))},e.updateRelayDPDT5VKS2EMDC5=function(e,t){"undefined"!=typeof t.inactive?t.inactive&&($(".cgfx__switch-left-top",e).attr("display","inline"),$(".cgfx__switch-left-bottom",e).attr("display","inline"),$(".cgfx__switch-right-top",e).attr("display","none"),$(".cgfx__switch-right-bottom",e).attr("display","none")):"undefined"!=typeof t.switchstate&&("8and9connected"==t.switchstate?($(".cgfx__switch-left-top",e).attr("display","none"),$(".cgfx__switch-left-bottom",e).attr("display","none"),$(".cgfx__switch-right-top",e).attr("display","inline"),$(".cgfx__switch-right-bottom",e).attr("display","inline")):"6and11connected"==t.switchstate&&($(".cgfx__switch-left-top",e).attr("display","inline"),$(".cgfx__switch-left-bottom",e).attr("display","inline"),$(".cgfx__switch-right-top",e).attr("display","none"),$(".cgfx__switch-right-bottom",e).attr("display","none")))},e.updateRelaySPST5VLUR=function(e,t){"undefined"!=typeof t.inactive?t.inactive&&($(".cgfx__switch-6connected",e).attr("display","none"),$(".cgfx__switch-7connected",e).attr("display","inline")):"undefined"!=typeof t.switchstate&&("6connected"==t.switchstate?($(".cgfx__switch-6connected",e).attr("display","inline"),$(".cgfx__switch-7connected",e).attr("display","none")):"7connected"==t.switchstate&&($(".cgfx__switch-6connected",e).attr("display","none"),$(".cgfx__switch-7connected",e).attr("display","inline")))},e.updateRelaySPSTHRS1HSDC5V=function(e,t){"undefined"!=typeof t.inactive?t.inactive&&($(".cgfx__switch-6connected",e).attr("display","none"),$(".cgfx__switch-7connected",e).attr("display","inline")):"undefined"!=typeof t.switchstate&&("6connected"==t.switchstate?($(".cgfx__switch-6connected",e).attr("display","inline"),$(".cgfx__switch-7connected",e).attr("display","none")):"7connected"==t.switchstate&&($(".cgfx__switch-6connected",e).attr("display","none"),$(".cgfx__switch-7connected",e).attr("display","inline")))},e.updateResistorLDR=function(t,i){"undefined"!=typeof i.incominglight&&(t.view&&t.control?e.updateSlider($(".cgfx__incominglight",t.view),$(".cgfx__incominglight.cgfx__knob",t.control),i.incominglight):e.updateSlider($(".cgfx__incominglight",t),null,i.incominglight))},e.updateResistor=function(t,i){e.updateResistorColors(t,i.resistance)},e.updateSensorTemperature=function(t,i){"undefined"!=typeof i.temperature&&(t.view&&t.control?e.updateSlider($(".cgfx__temperature",t.view),$(".cgfx__temperature.cgfx__knob",t.control),i.temperature,i.sliderknoblabel):e.updateSlider($(".cgfx__temperature",t),null,i.temperature,i.sliderknoblabel))},e.updateSensorTilt=function(t,i){"undefined"!=typeof i.tilt&&(t.view&&t.control?e.updateSlider($(".cgfx__tilt",t.view),$(".cgfx__tilt.cgfx__knob",t.control),i.tilt):e.updateSlider($(".cgfx__tilt",t),null,i.tilt))},e.updateSwitchDIPSlide=function(t,i){"undefined"!=typeof i.switch1&&e.updateEg_SwitchSlide($(".cgfx__switch1",t),i.switch1.on),"undefined"!=typeof i.switch2&&e.updateEg_SwitchSlide($(".cgfx__switch2",t),i.switch2.on),"undefined"!=typeof i.switch3&&e.updateEg_SwitchSlide($(".cgfx__switch3",t),i.switch3.on),"undefined"!=typeof i.switch4&&e.updateEg_SwitchSlide($(".cgfx__switch4",t),i.switch4.on),"undefined"!=typeof i.switch5&&e.updateEg_SwitchSlide($(".cgfx__switch5",t),i.switch5.on),"undefined"!=typeof i.switch6&&e.updateEg_SwitchSlide($(".cgfx__switch6",t),i.switch6.on),"undefined"!=typeof i.switch7&&e.updateEg_SwitchSlide($(".cgfx__switch7",t),i.switch7.on),"undefined"!=typeof i.switch8&&e.updateEg_SwitchSlide($(".cgfx__switch8",t),i.switch8.on),"undefined"!=typeof i.switch9&&e.updateEg_SwitchSlide($(".cgfx__switch9",t),i.switch9.on),"undefined"!=typeof i.switch10&&e.updateEg_SwitchSlide($(".cgfx__switch10",t),i.switch10.on),"undefined"!=typeof i.switch11&&e.updateEg_SwitchSlide($(".cgfx__switch11",t),i.switch11.on),"undefined"!=typeof i.switch12&&e.updateEg_SwitchSlide($(".cgfx__switch12",t),i.switch12.on)},e.updateSwitchPushbutton=function(e,t){"undefined"!=typeof t.isPressed&&(t.isPressed?($(".cgfx__up",e).attr("display","none"),$(".cgfx__pressed",e).attr("display","inline")):($(".cgfx__up",e).attr("display","inline"),$(".cgfx__pressed",e).attr("display","none")))},e.updateSwitchSPSTSlide=function(t,i){"undefined"!=typeof i.on&&e.updateEg_SwitchSlide(t,i.on)},e.updateLcd16x2Blue=function(t,i){if("undefined"!=typeof i.inactive)i.inactive&&($(".cgfx__dots",t).get(0).innerHTML="",e.updateEg_MatrixLCDBrightness(t,0));else{var n=.613;"undefined"!=typeof i.dotarray&&"undefined"!=typeof i.brightness&&"undefined"!=typeof i.contrast&&(e.updateEg_MatrixLCDPixelarray(t,i.dotarray,n,i.brightness,i.contrast),e.updateEg_MatrixLCDBrightness(t,i.brightness))}},e.updateArduinoUno=function(t,i){"undefined"!=typeof i.inactive?e.updateUSBTypeB($(".cgfx__usb",t),i.inactive):("undefined"!=typeof i.transfer&&e.updateUSBTypeB($(".cgfx__usb",t),!1,i.transfer),"undefined"!=typeof i.resetIsPressed&&e.updateEg_Pushbutton($(".cgfx__resetbutton",t),i.resetIsPressed),"undefined"!=typeof i.led13Brightness&&e.updateLedOnboard0805($(".cgfx__led13",t),i.led13Brightness),"undefined"!=typeof i.ledtxBrightness&&e.updateLedOnboard0805($(".cgfx__ledtx",t),i.ledtxBrightness),"undefined"!=typeof i.ledrxBrightness&&e.updateLedOnboard0805($(".cgfx__ledrx",t),i.ledrxBrightness),"undefined"!=typeof i.ledonBrightness&&e.updateLedOnboard0805($(".cgfx__ledon",t),i.ledonBrightness))},e.updateArduinoMicro=function(t,i){"undefined"!=typeof i.inactive||("undefined"!=typeof i.resetIsPressed&&e.updateEg_Pushbutton($(".cgfx__resetbutton",t),i.resetIsPressed),"undefined"!=typeof i.led13Brightness&&e.updateLedOnboard0805($(".cgfx__led13",t),i.led13Brightness),"undefined"!=typeof i.ledtxBrightness&&e.updateLedOnboard0805($(".cgfx__ledtx",t),i.ledtxBrightness),"undefined"!=typeof i.ledrxBrightness&&e.updateLedOnboard0805($(".cgfx__ledrx",t),i.ledrxBrightness))},e.updateKeypadMembraneMatrix4x4=function(e,t){if("undefined"!=typeof t.isPressed)if("undefined"!=typeof t.row&&"undefined"!=typeof t.col){var i=".cgfx__button_"+t.row+t.col;t.isPressed?$(i,e).attr("display","inline"):$(i,e).attr("display","none")}else t.isPressed||$(".cgfx__hitarea_interaction",e).attr("display","none")},e.updateFunctionGenerator=function(t,i){if("undefined"!=typeof i.inactive)if(i.inactive){var n=$(".cgfx__display-frequency",t);$(".cgfx__screen",n).attr("opacity",.85);var n=$(".cgfx__display-amplitude",t);$(".cgfx__screen",n).attr("opacity",.85);var n=$(".cgfx__display-dc-offset",t);$(".cgfx__screen",n).attr("opacity",.85),$(".cgfx__button-overlay",t).attr("opacity",.5),$(".cgfx__displaytext",t).attr("display","none"),e.updateEg_SwitchSlide($(".cgfx__powerbtn",t),!1)}else $(".cgfx__screen",t).attr("opacity",1),$(".cgfx__button-overlay",t).attr("opacity",1),$(".cgfx__displaytext",t).attr("display","inline");else{if("undefined"!=typeof i.frequencyposition&&e.updateEg_Potentiometer($(".cgfx__potentiometer-frequency",t),i.frequencyposition),"undefined"!=typeof i.frequencydisplaytext){var n=$(".cgfx__display-frequency",t);$(".cgfx__displaytext",n).text(i.frequencydisplaytext)}if("undefined"!=typeof i.amplitudeposition&&e.updateEg_Potentiometer($(".cgfx__potentiometer-amplitude",t),i.amplitudeposition),"undefined"!=typeof i.amplitudedisplaytext){var n=$(".cgfx__display-amplitude",t);$(".cgfx__displaytext",n).text(i.amplitudedisplaytext)}if("undefined"!=typeof i.dcoffsetposition&&e.updateEg_Potentiometer($(".cgfx__potentiometer-dc-offset",t),i.dcoffsetposition),"undefined"!=typeof i.dcoffsetdisplaytext){var n=$(".cgfx__display-dc-offset",t);$(".cgfx__displaytext",n).text(i.dcoffsetdisplaytext)}"undefined"!=typeof i.isPushedSquare&&e.updateEg_Pushbutton($(".cgfx__button-square",t),i.isPushedSquare),"undefined"!=typeof i.isPushedSine&&e.updateEg_Pushbutton($(".cgfx__button-sine",t),i.isPushedSine),"undefined"!=typeof i.isPushedTriangle&&e.updateEg_Pushbutton($(".cgfx__button-triangle",t),i.isPushedTriangle),"undefined"!=typeof i.isOn&&e.updateEg_SwitchSlide($(".cgfx__powerbtn",t),i.isOn)}},e.updateSensorUltrasonicPing=function(t,i){if("undefined"!=typeof i.inactive)i.inactive?$(".cgfx__target_area",t.view).attr("display","none"):$(".cgfx__target_area",t.view).attr("display","inline");else{if("undefined"!=typeof i.targetPosition){var n=$(".cgfx__hitarea_interaction",t.view);n.attr("cx",""+i.targetPosition.x),n.attr("cy",""+i.targetPosition.y);var n=$(".cgfx__hitarea_interaction",t.control);n.attr("cx",""+i.targetPosition.x),n.attr("cy",""+i.targetPosition.y),n=$(".cgfx__target_line",t.view),n.attr("x2",""+i.targetPosition.x),n.attr("y2",""+i.targetPosition.y)}"undefined"!=typeof i.positionText&&$(".cgfx__displaytext",t.view).text(i.positionText),"undefined"!=typeof i.ledActive&&e.updateLedOnboard0805($(".cgfx__ledActive",t.view),i.ledActive),"undefined"!=typeof i.inRange&&$(".cgfx__target_range",t.view).attr("fill",i.inRange?"#339933":"#993333")}},e.updateSensorPIR=function(e,t){if("undefined"!=typeof t.inactive)t.inactive?$(".cgfx__target_area",e.view).attr("display","none"):$(".cgfx__target_area",e.view).attr("display","inline");else{if("undefined"!=typeof t.targetPosition){var i=$(".cgfx__hitarea_interaction",e.view);i.attr("cx",""+t.targetPosition.x),i.attr("cy",""+t.targetPosition.y);var i=$(".cgfx__hitarea_interaction",e.control);i.attr("cx",""+t.targetPosition.x),i.attr("cy",""+t.targetPosition.y),i=$(".cgfx__target_line",e.view),i.attr("x2",""+t.targetPosition.x),i.attr("y2",""+t.targetPosition.y)}if("undefined"!=typeof t.positionText&&$(".cgfx__displaytext",e.view).text(t.positionText),"undefined"!=typeof t.ledActive){var i=$(".cgfx__ledActive",e.view);i.attr("display",t.ledActive?"inline":"none")}"undefined"!=typeof t.inRange&&$(".cgfx__target_range",e.view).attr("fill",t.inRange?"#339933":"#993333")}},e.updateSensorGas=function(e,t){if("undefined"!=typeof t.inactive&&(t.inactive?$(".cgfx__target_area",e.view).attr("display","none"):$(".cgfx__target_area",e.view).attr("display","inline")),"undefined"!=typeof t.targetPosition){var i=$(".cgfx__gas",e.view);i.attr("transform","translate("+t.targetPosition.x+","+t.targetPosition.y+")");var i=$(".cgfx__hitarea_interaction",e.control);i.attr("cx",""+t.targetPosition.x),i.attr("cy",""+t.targetPosition.y),i=$(".cgfx__target_line",e.view),i.attr("x2",""+t.targetPosition.x),i.attr("y2",""+t.targetPosition.y)}"undefined"!=typeof t.animation&&($(".cgfx__gas1",e.view).attr("transform","rotate("+(270+360*t.animation)+")"),$(".cgfx__gas2",e.view).attr("transform","rotate("+(45+360*t.animation)+")"),$(".cgfx__gas3",e.view).attr("transform","rotate("+720*t.animation+")"))},e.updateBatteryAA=function(e,t,i){"undefined"!=typeof i.cellCount&&($(".cgfx__battery_aa_1_cell",e).attr("display",1==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_2_cell",e).attr("display",2==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_3_cell",e).attr("display",3==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_4_cell",e).attr("display",4==i.cellCount?"inline":"none"),t&&($(".cgfx__battery_aa_1_cell",t).attr("display",1==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_2_cell",t).attr("display",2==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_3_cell",t).attr("display",3==i.cellCount?"inline":"none"),$(".cgfx__battery_aa_4_cell",t).attr("display",4==i.cellCount?"inline":"none")))},e.updateKittyEarPCB=function(e,t){"undefined"!=typeof t.showBattery&&$(".cgfx__kitty_ear_battery",e).attr("display",t.showBattery?"inline":"none")}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.defaultModel={id:"",x:0,y:0,rotation:0,debug:0},e.defaultElementModel={id:"",x:0,y:0,rotation:0,debug:0,hitareas:{select:{active:!1,classname:null,svg:""},interaction:{active:!0,classname:null,svg:""}}},e.appendTerminalGroup=function(e,t,i,n,o,r,a,s,c,l){l.terminals="undefined"==typeof l.terminals?{}:l.terminals;for(var d=0;d<t.length;d++)l.terminals[t[d]]={x:r[0]+d*s[0],y:r[1]+d*s[1],direction:{x:a[0],y:a[1]},type:o,terminalname:i[d],group:e,label:{text:n[d],x:c.x,y:c.y,rotation:c.rotation,style:c.style}};return l},e.appendTerminals=function(e,t,i,n,o,r,a,s,c){c.terminals="undefined"==typeof c.terminals?{}:c.terminals;for(var l=0;l<e.length;l++)c.terminals[e[l]]={x:o[0]+l*a[0],y:o[1]+l*a[1],direction:{x:r[0],y:r[1]},type:n,terminalname:t[l],label:{text:i[l],x:s.x,y:s.y,rotation:s.rotation,style:s.style}};return c},e.appendTerminal=function(e,t,i,n,o,r){return r.terminals="undefined"==typeof r.terminals?{}:r.terminals,r.terminals[e]={x:t[0],y:t[1],direction:{x:i[0],y:i[1]},type:n,label:o},r},e.appendConnector=function(e,t,i,n,o,r){return r.connectors="undefined"==typeof r.connectors?{}:r.connectors,r.connectors[e]={x:t[0],y:t[1],direction:{x:i[0],y:i[1]},type:n,terminals:o},r},e.appendThroughHoles=function(e,t,i){i.throughholes="undefined"==typeof i.throughHoles?{}:i.throughholes;for(var n=0;n<e.length;n++)i.throughholes[e[n][0]]={type:t,x:e[n][1],y:e[n][2],r:e[n][3]};return i},e.stringToURISave=function(e){return e.replace(/[^a-z0-9]/gi,"-").toLowerCase()},e.getConstrainedHeight=function(e,t){},e.mergeModels=function(e){for(var t=e[0],i=1;i<e.length;i++)t=merge(t,e[i]);return t},merge=function(e,t){var i=Array.isArray(t),n=i&&[]||{};return i?(e=e||[],n=n.concat(e),t.forEach(function(t,i){"undefined"==typeof e[i]?n[i]=t:"object"==typeof t?n[i]=merge(e[i],t):-1===e.indexOf(t)&&n.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=merge(e[i],t[i]):n[i]=t[i]})),n}}(window.cGraphics=window.cGraphics||{})},function(e,t){!function(e,t){e.eg_Label=function(t){var i=JSON.parse(JSON.stringify(e.defaultElementModel));i.type="eg-label",i.text="",i.x=0,i.y=0,i.style={size:5,align:"middle",color:"#E3E3E3"},i.debug=0;var n="undefined"!=typeof t?e.mergeModels([i,t]):i;"1"==n.debug&&console.log(n);var o=e.svgInserts(n);if(o.text=n.text,o.size=' font-size="'+n.style.size+'"',o.textsvg="",""!==n.text){textarray=n.text.split(""),"1"==n.debug&&console.log(textarray);for(var r=0,a="0";a<textarray.length;a++){var s=textarray[a],c=!1;s!=s.toUpperCase()&&(s=s.toUpperCase(),c=!0);var l=e.eg_Label.defaultFont[s];l&&(l.svg&&(c?o.textsvg+='<g class="'+l.className+'" transform="translate('+r+',2.15) scale(1,.75)">':o.textsvg+='<g class="'+l.className+'" transform="translate('+r+',0)">',o.textsvg+=l.svg,o.textsvg+="</g>"),r+=l.width)}o.transform=' transform="rotate('+n.rotation+", "+n.x+","+n.y+')"',svg="<g "+o.transform+e.getStyle("labelfont")+' stroke="'+n.style.color+'">',tf_width=textarray.length*n.style.size*1,tf_height=n.style.size,"middle"==n.style.align&&(tf_preserveaspectratio="xMidYMid meet",svg+='<svg xmlns="http://www.w3.org/2000/svg" x="'+(n.x-tf_width/2)+'" y="'+(n.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+r+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >'),"left"==n.style.align&&(tf_preserveaspectratio="xMinYMid meet",svg+='<svg xmlns="http://www.w3.org/2000/svg" x="'+n.x+'" y="'+(n.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+r+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >'),"right"==n.style.align&&(tf_preserveaspectratio="xMaxYMid meet",svg+='<svg xmlns="http://www.w3.org/2000/svg" x="'+(n.x-tf_width)+'" y="'+(n.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+r+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >'),svg+=o.textsvg,svg+="</svg>",svg+="</g>"}return{svg:svg,model:n}},e.eg_Label.defaultFont={A:{className:"A",svg:'<polyline points="0.56,7.69 2.78,1.56 4.94,7.69"/><line x1="1.29" y1="5.81" x2="4.27" y2="5.81"/>',width:6},B:{className:"B",svg:'<path d="M0.75,4.63c0,0,1.33,0,1.68,0c0.68,0,1.06-0.55,1.06-1.69c0-1.33-1.27-1.27-1.27-1.27H0.56v5.93h1.87c0,0,1.34,0,1.34-1.35c0-1.47-1.34-1.62-1.34-1.62H0.75z"/>',width:5.5},C:{className:"C",svg:'<path d="M4.02,2.02c0.09-0.13-2.1-0.78-2.85,0.52c-0.52,0.9-0.56,3.44-0.28,4.19c0.69,1.83,3.14,0.85,3.14,0.85"/>',width:6},D:{className:"D",svg:'<path d="M1.09,1.95L1.06,7.74c0,0,2.68,0.45,3.31-0.71c0.5-0.92,0.55-3.88-0.2-4.62S1.09,1.95,1.09,1.95z"/>',width:6.5},E:{className:"E",svg:'<polyline points="3.62,7.93 0.69,7.93 0.69,1.88 3.62,1.88"/><line x1="3.22" y1="4.9" x2="0.77" y2="4.9"/>',width:6},F:{className:"F",svg:'<polyline points="0.71,7.93 0.71,1.88 3.63,1.88"/><line x1="2.95" y1="4.67" x2="0.78" y2="4.67"/>',width:6},G:{className:"G",svg:'<path d="M4.24,2.11c0,0-1.54-0.76-2.65,0.1s-0.7,2.17-0.7,4.15c0,1.05,1.24,1.53,2.25,1.5c0.89-0.03,1.56-0.54,1.56-0.54V4.87H2.95"/>',width:7},H:{className:"H",svg:'<line x1="0.95" y1="1.84" x2="0.95" y2="7.94"/><line x1="0.95" y1="4.69" x2="4.48" y2="4.69"/><line x1="4.6" y1="1.84" x2="4.6" y2="7.94"/>',width:7},I:{className:"I",svg:'<line x1="1.06" y1="1.84" x2="1.06" y2="7.94"/>',width:3.5},J:{className:"J",svg:'<path d="M2.56,1.86v4.49c0,0,0.17,1.59-2,1.59"/>',width:5},K:{className:"K",svg:'<line x1="1.24" y1="1.84" x2="1.24" y2="7.94"/><polyline points="4.13,1.86 1.58,4.69 4.26,7.94"/>',width:6},L:{className:"L",svg:'<polyline points="1.56,1.84 1.56,7.94 4.6,7.94"/>',width:7},M:{className:"M",svg:'<polyline points="0.56,7.94 0.56,1.84 3.06,6.17 5.56,1.84 5.56,7.94"/>',width:8},N:{className:"N",svg:'<polyline points="0.56,7.94 0.56,1.84 4.27,7.94 4.27,1.78"/>',width:6.5},O:{className:"O",svg:'<path d="M2.72,7.94H2.32c-0.97,0-1.76-0.79-1.76-1.76V3.54c0-0.97,0.79-1.76,1.76-1.76h0.41c0.97,0,1.76,0.79,1.76,1.76v2.65C4.48,7.15,3.69,7.94,2.72,7.94z"/>',width:6.5},P:{className:"P",svg:'<path d="M0.84,7.93V1.88h1.92c0,0,1.45-0.1,1.45,1.47c0,1.31-0.23,1.83-1.56,1.83"/><line x1="2.58" y1="5.17" x2="0.91" y2="5.17"/>',width:6},Q:{className:"Q",svg:'<path d="M2.56,7.94H2.16c-0.97,0-1.76-0.79-1.76-1.76V3.54c0-0.97,0.79-1.76,1.76-1.76h0.41c0.97,0,1.76,0.79,1.76,1.76v2.65C4.32,7.15,3.53,7.94,2.56,7.94z"/><line x1="5.15" y1="8.84" x2="1.52" y2="7.82"/>',width:6},R:{className:"R",svg:'<path d="M0.74,7.93V1.88h1.92c0,0,1.45-0.02,1.45,1.2c0,1.31-0.58,1.7-1.56,1.7H1.07"/><line x1="4.24" y1="7.93" x2="2.43" y2="4.78"/>',width:6},S:{className:"S",svg:'<path d="M4.09,2.08c0,0-2.12-1.02-2.9,0.27s0.45,2.2,1.13,2.42s1.76,0.4,1.76,1.67c0,1.14-0.92,1.63-1.7,1.56C1.61,7.92,0.56,7.46,0.56,7.46"/>',width:6},T:{className:"T",svg:'<line x1="2.34" y1="1.84" x2="2.34" y2="7.94"/><line x1="0.56" y1="1.84" x2="4.12" y2="1.84"/>',width:6},U:{className:"U",svg:'<path d="M4.73,1.82v4.36c0,0.97-0.79,1.76-1.76,1.76H2.57c-0.97,0-1.76-0.79-1.76-1.76V1.82"/>',width:7.5},V:{className:"V",svg:'<polyline points="4.72,1.84 2.74,7.69 0.78,1.84"/>',width:6.5},W:{className:"W",svg:'<polyline points="3.51,1.84 2.03,7.69 0.56,1.84"/><polyline points="6.54,1.84 5.05,7.69 3.59,1.84"/>',width:9},X:{className:"X",svg:'<line x1="4.75" y1="7.69" x2="0.56" y2="1.84"/><line x1="0.56" y1="7.69" x2="4.75" y2="1.84"/>',width:6},Y:{className:"Y",svg:'<line x1="2.78" y1="5.08" x2="0.74" y2="1.84"/><polyline points="4.76,1.84 2.78,5.08 2.78,7.95"/>',width:6},Z:{className:"Z",svg:'<polyline points="3.62,7.93 0.69,7.93 3.62,1.88 0.69,1.88"/>',width:6},0:{className:"num0",svg:'<path d="M2.4,8.07H2.29c-0.95,0-1.71-0.77-1.71-1.71V3.41c0-0.94,0.77-1.71,1.71-1.71H2.4c0.95,0,1.71,0.77,1.71,1.71v2.95C4.11,7.3,3.35,8.07,2.4,8.07z"/><line x1="1.26" y1="7.49" x2="3.35" y2="1.98"/>',width:6},1:{className:"num1",svg:'<polyline points="0.64,2.72 2.35,1.73 2.35,7.92"/>',width:5},2:{className:"num2",svg:'<path d="M0.87,2.08c0,0,1.86-1.08,2.88,0.18c0.82,1.01-0.12,2.21-0.99,3.31C1.85,6.71,0.62,7.93,0.62,7.92h3.45"/>',width:6},3:{className:"num3",svg:'<path d="M0.7,1.97c0,0,2.92-0.84,2.92,1.07c0,1.74-1.9,1.74-1.9,1.74s2.01-0.23,2.01,1.65c0,2.06-3.24,1.12-3.24,1.12"/>',width:6},4:{className:"num4",svg:'<polyline points="2.28,1.73 0.65,6.43 4.42,6.43"/><line x1="3.11" y1="4.98" x2="3.11" y2="7.89"/>',width:6},5:{className:"num5",svg:'<path d="M3.44,1.88H0.83v2.8c0,0,1.79-0.92,2.64,0.47c0.67,1.1,0.22,2.08-0.38,2.5C2.13,8.32,0.61,7.5,0.61,7.5"/>',width:6},6:{className:"num6",svg:'<path d="M3.27,1.73c0,0-1.09-0.27-1.83,0.36S0.57,4,0.57,5.62s0.5,2.41,1.48,2.41s1.61-0.77,1.61-2s-0.8-1.7-1.54-1.7C1.12,4.32,0.6,4.69,0.57,5.39"/>',width:6},7:{className:"num7",svg:'<polyline points="0.59,1.88 4.05,1.88 1.57,7.89 "/>',width:6},8:{className:"num8",svg:'<circle cx="2.19" cy="3.18" r="1.49"/><circle cx="2.2" cy="6.43" r="1.73"/>',width:6},9:{className:"num9",svg:'<path d="M3.92,3.47c0,1.07-0.75,1.93-1.67,1.93S0.58,4.53,0.58,3.47S1.33,1.7,2.25,1.7S3.92,2.4,3.92,3.47z"/><path d="M3.92,3.63c0,0,0,1,0,1.84s-0.21,2.1-1.53,2.44C1.44,8.15,0.86,7.89,0.86,7.89"/>',width:6},"+":{className:"plus",svg:'<line x1=".7" y1="5.4" x2="3.7" y2="5.4"/><line x1="2.2" y1="3.9" x2="2.2" y2="6.9"/>',width:6},"-":{className:"minus",svg:'<line x1=".7" y1="5.4" x2="3.7" y2="5.4"/>',width:6},".":{className:"point",svg:'<line x1=".25" y1="7.5" x2=".25" y2="7.51"/>',width:2},"(":{className:"left-paren",svg:'<path d="M0,0a7,7 0,0,0 0,10"/>',width:3},")":{className:"right-paren",svg:'<path d="M0,0a7,7 0,0,1 0,10"/>',width:3}," ":{className:"space",svg:null,width:3}}}(window.cGraphics=window.cGraphics||{})},function(e,t){},function(e,t,i){Circuits.EagleBreadboardExport=function(e){this.circuit=e,this.deviceLibraryLookup={3:{"package":"0207/10",terminals:{1:"1",2:"2"},value:"resistance",unit:"‎Ω"},4:{"package":"C5B2.5",terminals:{1:"1",2:"2"},value:"capacitance",unit:"F"},5:{"package":"RADIAL-D11.36MM",terminals:{"+":"+","-":"-"},value:"capacitance",unit:"F"},6:{"package":"D-7.5",terminals:{anode:"A",cathode:"C"},value:null},13:{"package":"0207/10",terminals:{1:"1",2:"2"},value:"inductance",unit:"H"},114:{"package":"TO92",terminals:{collector:"3",base:"2",emitter:"1"},value:null},115:{"package":"TO92",terminals:{collector:"1",base:"2",emitter:"3"},value:null},1495:{"package":"1X8P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8"},value:null},1538:{"package":"D-7.5",terminals:{A:"A",C:"C"},value:null},2942:{"package":"LED5MM",terminals:{anode:"A",cathode:"K"},value:null},19246:{"package":"B25V",terminals:{term0:"A",wiper:"S",term1:"E"},value:"resistance",unit:"‎Ω"},19252:{"package":"TL1105",terminals:{1:"1",2:"3",3:"2",4:"4"},value:null},19255:{"package":"M251",terminals:{1:"1",2:"3",3:"2"},value:null},19260:{"package":"TO220",terminals:{gate:"1",drain:"2",source:"3"},value:null},19263:{"package":"TO220",terminals:{gate:"1",drain:"2",source:"3"},value:null},19269:{"package":"DC-POWER",terminals:{"terminal-pos":"+","terminal-neg":"-"},value:null},19273:{"package":"2P-2.54-65/35MIL",terminals:{"terminal-1":"1","terminal-2":"2"},value:null},19277:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{"terminal-ground":"1","terminal-power":"2","terminal-signal":"3"},value:null},19280:{"package":"DC-POWER",terminals:{"+":"+","-":"-"},value:null},19285:{"package":"PHOTORESISTOR-2.54",terminals:{"terminal-1":"P$1","terminal-2":"P$2"},value:null},19289:{"package":"7-SEGMENT-CC",terminals:{"terminal-f":"1","terminal-g":"2","terminal-com1":"4","terminal-e":"6","terminal-d":"7","terminal-c":"8","terminal-dp":"9","terminal-com2":"12","terminal-b":"13","terminal-a":"14"},value:null},19404:{"package":"LED5MM",terminals:{anode:"A",cathode:"K"},value:null},19297:{"package":"LED-RGB-THRU",terminals:{"terminal-red":"1","terminal-cathode":"2","terminal-blue":"3","terminal-green":"4"},value:null},48803:{"package":"1X9P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},value:null},161369:{"package":"DIL14",terminals:{"1A":"1","1B":"2","1Y":"3","2A":"4","2B":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","4Y":"11","4A":"12","4B":"13",Vcc:"14"},value:null},161453:{"package":"DIL14",terminals:{"1Y":"1","1A":"2","1B":"3","2Y":"4","2A":"5","2B":"6",GND:"7","3A":"8","3B":"9","3Y":"10","4A":"11","4B":"12","4Y":"13",Vcc:"14"},value:null},165074:{"package":"DIL14",terminals:{"1A":"1","1Y":"2","2A":"3","2Y":"4","3A":"5","3Y":"6",GND:"7","4Y":"8","4A":"9","5Y":"10","5A":"11","6Y":"12","6A":"13",Vcc:"14"},value:null},165093:{"package":"DIL14",terminals:{"1A":"1","1B":"2","1Y":"3","2A":"4","2B":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","4Y":"11","4A":"12","4B":"13",Vcc:"14"},value:null},165208:{"package":"DIL14",terminals:{"1A":"1","1B":"2","2A":"3","2B":"4","2C":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","3C":"11","1Y":"12","1C":"13",Vcc:"14"},value:null},165230:{"package":"DIL14",terminals:{"1A":"1","1B":"2","2A":"3","2B":"4","2C":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","3C":"11","1Y":"12","1C":"13",Vcc:"14"},value:null},165249:{"package":"DIL14",terminals:{"1A":"1","1Y":"2","2A":"3","2Y":"4","3A":"5","3Y":"6",GND:"7","4Y":"8","4A":"9","5Y":"10","5A":"11","6Y":"12","6A":"13",Vcc:"14"},value:null},165313:{"package":"DIL14",terminals:{"1A":"1","1B":"2",NC:"3","1C":"4","1D":"5","1Y":"6",GND:"7","2Y":"8","2A":"9","2B":"10",NC1:"11","2C":"12","2D":"13",Vcc:"14"},value:null},165341:{"package":"DIL14",terminals:{"1A":"1","1B":"2",NC:"3","1C":"4","1D":"5","1Y":"6",GND:"7","2Y":"8","2A":"9","2B":"10",NC1:"11","2C":"12","2D":"13",Vcc:"14"},value:null},165357:{"package":"DIL14",terminals:{"1A":"1","1B":"2","2A":"3","2B":"4","2C":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","3C":"11","1Y":"12","1C":"13",Vcc:"14"},value:null},165373:{"package":"DIL14",terminals:{"1A":"1","1B":"2","1Y":"3","2A":"4","2B":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","4Y":"11","4A":"12","4B":"13",Vcc:"14"},value:null},165386:{"package":"DIL14",terminals:{"1RD":"1","1D":"2","1CP":"3","1SD":"4","1Q":"5","1NQ":"6",GND:"7","2NQ":"8","2Q":"9","2SD":"10","2CP":"11","2D":"12","2RD":"13",Vcc:"14"},value:null},165407:{"package":"DIL14",terminals:{"1CP":"1","1R":"2","1K":"3",Vcc:"4","2CP":"5","2R":"6","2J":"7","2NQ":"8","2Q":"9","2K":"10",GND:"11","1Q":"12","1NQ":"13","1J":"14"},value:null},165436:{"package":"DIL14",terminals:{"1A":"1","1B":"2","1Y":"3","2A":"4","2B":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","4Y":"11","4A":"12","4B":"13",Vcc:"14"},value:null},165456:{"package":"DIL14",terminals:{CP1:"1",MR1:"2",MR2:"3",nc1:"4",Vcc:"5",nc2:"6",nc3:"7",Q2:"8",Q1:"9",GND:"10",Q3:"11",Q0:"12",nc4:"13",CP0:"14"},value:null},165500:{"package":"DIL14",terminals:{"1A":"1","1B":"2","1Y":"3","2A":"4","2B":"5","2Y":"6",GND:"7","3Y":"8","3A":"9","3B":"10","4Y":"11","4A":"12","4B":"13",Vcc:"14"},value:null},165539:{"package":"DIL16",terminals:{Q1:"1",Q2:"2",Q3:"3",Q4:"4",Q5:"5",Q6:"6",Q7:"7",GND:"8",Q7S:"9",MR:"10",SHCP:"11",STCP:"12",OE:"13",DS:"14",Q0:"15",Vcc:"16"},value:null},195225:{"package":"ARDUINO_MICRO",terminals:{D13:"D13","3.3V":"3V3",AREF:"REF",A0:"A0",A1:"A1",A2:"A2",A3:"A3",A4:"A4",A5:"A5",NC:"NC",NC1:"NC.","5V":"+5V",RESET1:"RST.",GND1:"GND.",VIN:"VIN",MISO:"MISO]",SCK:"SCK","D12 / A11":"D12",D11:"D11","D10 / A10":"D10","D9 / A9":"D9","D8 / A8":"D8",D7:"D7","D6 / A7":"D6",D5:"D5","D4 / A6":"D4","D3 / SCL":"D3","D2 / SDA":"D2",GND:"GND",RESET:"RST","D0 / RX":"RX1","D1 / TX":"TX1",SS:"SS",MOSI:"MOSI"},value:null},195586:{"package":"DC-POWER",terminals:{pos:"+",neg:"-"},value:null},217335:{"package":"DIL08",terminals:{PB5:"1",PB3:"2",PB4:"3",GND:"4",PB0:"5",PB1:"6",PB2:"7",Vcc:"8"},value:null},217477:{"package":"DIL08",terminals:{GND:"1",TRIG:"2",OUT:"3",Reset:"4",CTRL:"5",THR:"6",DIS:"7",Vcc:"8"},value:null},217554:{"package":"DIL08",terminals:{Offset1:"1","V-":"2","V+":"3",Gnd:"4",Offset2:"5",OUT:"6",Vcc:"7",Nc:"8"},value:null},247630:{"package":"USB-A-PCB",terminals:{GND:"GND","D-":"USB_M","D+":"USB_P","5V":"5V"},value:null},373344:{"package":"2P-2.54-65/35MIL",terminals:{1:"1",2:"2"},value:null},390593:{"package":"DC-POWER",terminals:{"+":"+","-":"-"},value:null},804913:{"package":"DIL06",terminals:{Anode:"1",Cathode:"2",NC:"3",Emitter:"4",Collector:"5",Base:"6"},value:null},808228:{"package":"PIEZO-22MM",terminals:{"+":"P$1",
"-":"P$2"},value:null},808494:{"package":"1X16P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{GND:"1",VDD:"2",VO:"3",RS:"4",RW:"5",E:"6",DB0:"7",DB1:"8",DB2:"9",DB3:"10",DB4:"11",DB5:"12",DB6:"13",DB7:"14","LED+":"15","LED-":"16"},value:null},822167:{"package":"DIL16",terminals:{Enable1:"1",Input1:"2",Output1:"3",GND:"4",GND1:"5",Output2:"6",Input2:"7",Vs:"8",Enable2:"9",Input3:"10",Output3:"11",GND2:"12",GND3:"13",Output4:"14",Input4:"15",Vss:"16"},value:null},822186:{"package":"TO92",terminals:{Vcc:"3",Vout:"2",Gnd:"1"},value:null},822344:{"package":"2X02",terminals:{1:"1",2:"2",3:"3",4:"4"},value:null},838973:{"package":"2P-2.54-65/35MIL",terminals:{GND:"1",Vcc:"2"},value:"Voltage",unit:"V"},841193:{"package":"PT-10",terminals:{term1:"A",wiper:"S",term3:"E"},value:"resistance",unit:"‎Ω"},856597:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{Power:"1",Signal:"2",Ground:"3"},value:null},858399:{"package":"2P-2.54-65/35MIL",terminals:{1:"1",2:"2"},value:null},878739:{"package":"TO92",terminals:{drain:"3",gate:"2",source:"1"},value:null},878745:{"package":"TO92",terminals:{drain:"1",gate:"2",source:"3"},value:null},911960:{"package":"DIL16",terminals:{BIN:"1",CIN:"2",LT:"3",BI:"4",LE:"5",DIN:"6",AIN:"7",GND:"8",E:"9",D:"10",C:"11",B:"12",A:"13",G:"14",F:"15",Vcc:"16"},value:null},918867:{"package":"G6A-234P",terminals:{COIL2:"1",COMB:"P1",B1:"O1",B2:"S1",A2:"S2",A1:"O2",COMA:"P2",COIL1:"16"},value:null},920272:{"package":"M3XXH",terminals:{R1:"S",COIL1:"2",COM1:"P",COM2:"P@",COIL2:"1",R2:"O"},value:null},920283:{"package":"G6A-234P",terminals:{COIL2:"1",COMB:"P1",B1:"O1",B2:"S1",A2:"S2",A1:"O2",COMA:"P2",COIL1:"16"},value:null},1009209:{"package":"DIL16",terminals:{Q5:"1",Q1:"2",Q0:"3",Q2:"4",Q6:"5",Q7:"6",Q3:"7",GND:"8",Q8:"9",Q4:"10",Q9:"11","Q5-9n":"12",CP1n:"13",CP0:"14",MR:"15",Vcc:"16"},value:null},1019086:{"package":"HDSP-M",terminals:{e:"1",d:"2",com1:"3",c:"4",dp:"5",b:"6",a:"7",com2:"8",f:"9",g:"10"},value:null},1024808:{"package":"M3XXH",terminals:{R1:"S",COIL1:"2",COM1:"P",COM2:"P@",COIL2:"1",R2:"O"},value:null},1028782:{"package":"SW2-12.7-12.0X3.6X3.6MM",terminals:{1:"1",2:"2"},value:null},1030685:{"package":"ARDUINO_UNO",terminals:{D0:"0",D1:"1",D2:"2",D3:"3",D4:"4",D5:"5",D6:"6",D7:"7",D8:"8",D9:"9",D10:"10",D11:"11",D12:"12",D13:"13",GND1:"GND",AREF:"AREF",SDA:"SDA",SCL:"SCL",A0:"A0",A1:"A1",A2:"A2",A3:"A3",A4:"A4",A5:"A5",VIN:"VIN",GND3:"GND.",GND2:"GND..","5V":"5V","3V3":"3.3V",RESET:"RESET",IOREF:"I/OREF",UNUSED:"N/C"},value:null},1039060:{"package":"CR2032H",terminals:{"+":["+","+@1"],"-":"-"}},1045853:{"package":"2P-2.54-65/35MIL",terminals:{1:"1",2:"2"},value:null},1111574:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{Vcc:"1",Gnd:"2",Out:"3"},value:null},1125510:{"package":"TO220",terminals:{base:"1",collector:"2",emitter:"3"},value:null},1165761:{"package":"ARDUINO_UNO",terminals:{D0:"0",D1:"1",D2:"2",D3:"3",D4:"4",D5:"5",D6:"6",D7:"7",D8:"8",D9:"9",D10:"10",D11:"11",D12:"12",D13:"13",GND1:"GND",AREF:"AREF",SDA:"SDA",SCL:"SCL",A0:"A0",A1:"A1",A2:"A2",A3:"A3",A4:"A4",A5:"A5",GND3:"GND.",GND2:"GND..","5V":"5V","3V3":"3.3V",RESET:"RESET",IOREF:"I/OREF",UNUSED:"N/C"},value:null},1166530:{"package":"PIEZO-12MM",terminals:{"-":"P$1","+":"P$2"},value:null},1172549:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{Ground:"1",Power:"2",Signal:"3"},value:null},1172618:{"package":"PT-10",terminals:{term1:"A",wiper:"S",term3:"E"},value:"resistance",unit:"‎Ω"},1172639:{"package":"PHOTORESISTOR-2.54",terminals:{collector:"P$1",emitter:"P$2"},value:null},1200843:{"package":"TO92",terminals:{Vcc:"3",Vout:"2",Gnd:"1"},value:null},1201085:{"package":"TL1105",terminals:{1:"1",2:"3",3:"2",4:"4"},value:null},1218275:{"package":"2X4P-2.54-65/35MIL",terminals:{RX:"1",GPIO0:"2",GPIO2:"3",GND:"4",VCC:"8",RST:"7",CH_PD:"6",TX:"5"},value:null},1262104:{"package":"DIP02YL-DPST",terminals:{"1a":"1","2a":"2","2b":"3","1b":"4"},value:null},1273797:{"package":"DIP04YL",terminals:{"1a":"1","2a":"2","3a":"3","4a":"4","4b":"5","3b":"6","2b":"7","1b":"8"},value:null},1285762:{"package":"DIP06YL",terminals:{"1a":"1","2a":"2","3a":"3","4a":"4","5a":"5","6a":"6","6b":"7","5b":"8","4b":"9","3b":"10","2b":"11","1b":"12"},value:null},1334960:{"package":"1X06",terminals:{motor_neg:"1",motor_pos:"2",enc_gnd:"3",enc_b:"4",enc_a:"5",enc_vcc:"6"},value:null},1351326:{"package":"1X06",terminals:{motor_pos:"1",enc_b:"2",enc_vcc:"3",enc_gnd:"4",enc_a:"5",motor_neg:"6"},value:null},1376324:{"package":"1X06",terminals:{gnd:"1",rc1:"2","motor gnd":"3",outa:"4",outb:"5",NC:"6"},value:null},1518365:{"package":"DC-POWER",terminals:{"+":"+","-":"-"},value:null},1518381:{"package":"DC-POWER",terminals:{"+":"+","-":"-"},value:null},1518389:{"package":"DC-POWER",terminals:{"+":"+","-":"-"},value:null},2110632:{"package":"DIL14",terminals:{discharge_a:"1",threshold_a:"2",control_a:"3",reset_a:"4",output_a:"5",trigger_a:"6",gnd:"7",trigger_b:"8",output_b:"9",reset_b:"10",control_b:"11",threshold_b:"12",discharge_b:"13",vcc:"14"},value:null},2110730:{"package":"DIL14",terminals:{output1:"1",output2:"2",vcc:"3",input2_neg:"4",input2_pos:"5",input1_neg:"6",input1_pos:"7",input3_neg:"8",input3_pos:"9",input4_neg:"10",input4_pos:"11",gnd:"12",output4:"13",output3:"14"}},2133889:{"package":"1X8P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{row1:"1",row2:"2",row3:"3",row4:"4",column1:"5",column2:"6",column3:"7",column4:"8"},value:null},2256788:{"package":"DC-POWER",terminals:{pos:"+",neg:"-"},value:null},2276719:{"package":"TO220",terminals:{"in":"1",gnd:"2",out:"3"},value:null},2276833:{"package":"TO220",terminals:{gnd:"1",out:"2","in":"3"},value:null},2094025:{"package":"1X04",terminals:{gnd:"1",din:"2",dout:"3",vcc:"4"},value:null},2341253:{"package":"1X06",terminals:{dout:"1",gnd2:"2",vcc2:"3",vcc:"4",gnd:"5",din:"6"},value:null},2341353:{"package":"1X06",terminals:{dout:"1",gnd2:"2",vcc2:"3",vcc:"4",gnd:"5",din:"6"},value:null},2341422:{"package":"1X05",terminals:{din:"1",vcc:"2",gnd:"3",gnd2:"4",dout:"5"},value:null},2341518:{"package":"1X06",terminals:{dout:"1",gnd2:"2",vcc2:"3",vcc:"4",gnd:"5",din:"6"},value:null},2373929:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{neg:"1",pos:"2",sig:"3"},value:null},2521120:{"package":"1X3P-2.54-2.54-11.6-3.0-BLACK-MALE",terminals:{gnd:"1",vcc:"2",out:"3"},value:null},2631264:{"package":"SNR6-D19.0MM",terminals:{A1:"1",B1:"2",A2:"3",B2:"4",H1:"5",H2:"6"},value:null},4393599:{"package":"2P-2.54-65/35MIL",terminals:{neg:"1",pos:"2"},value:null}}},Circuits.EagleBreadboardExport.prototype.buildLibrary=function(e){var t=this;this.library={},e.find("package").each(function(e){var i=$(this),n={};i.find("pad,smd").each(function(e){var t=$(this);n[t.attr("name")]={x:Number(t.attr("x")),y:Number(t.attr("y"))}}),t.library[i.attr("name")]={terminals:n,extents:{x1:-7.62,y1:-7.62,x2:7.62,y2:7.62}}})},Circuits.EagleBreadboardExport.prototype.getDevicePropertyText=function(e,t,i){var n="";return e.properties.forEach(function(e,i){i.name==t&&(n="["!==i.unit[0]?"none"==i.prefix?i.value:i.value+i.prefix:i.prefix)}),""==n||null==i||"undefined"==typeof i?n:n+i},Circuits.EagleBreadboardExport.prototype["export"]=function(e){var t=this,i=$(t.baseEagleBoardXml()),n=$("<dummy/>");n.append($(i[i.length-1])),t.buildLibrary(n);var o=$(n.find("library")[0]),r=o.attr("name"),a={x:5,y:5},s={},c=$(n.find("elements")[0]);this.circuit.devices.forEach(function(e){var i=e.getDescription(),n=i.device.version_root_id,o=t.deviceLibraryLookup[n];if("undefined"!=typeof o){var l=t.library[o["package"]];a.y-=l.extents.y1+2.54;var d=e.getBaseName()+e.name();s[e.local_id]={name:d,versionRootId:n,position:{x:a.x,y:a.y}};var u=$('<element value=""/>');u.attr("name",d),u.attr("library",r),u.attr("package",o["package"]),u.attr("x",a.x.toString()),u.attr("y",a.y.toString()),null!=o.value&&u.attr("value",t.getDevicePropertyText(e,o.value,o.unit)),c.append(u),a.y+=l.extents.y2}else console.log("NOT FOUND: "+i.device.name)});var l=$(n.find("signals")[0]),d=1;this.circuit.nets.forEach(function(e){var i=e.getTerminals();if(i.size()){var n=$("<signal/>");n.attr("name","N$"+d);var o=null;i.forEach(function(i){var r=i.getSchematicDescription();if(r&&i.getNet()===e){var a=r.name,c=i.parent(),l=s[c.local_id];if(l){var d=t.deviceLibraryLookup[l.versionRootId];if(d){var u,h=d.terminals[a];Array.isArray(h)||(h=[h]),h.forEach(function(e){var i=$("<contactref/>");i.attr("element",l.name),i.attr("pad",e),n.append(i);var r=t.library[d["package"]],a=r.terminals[e];u={x:a.x+l.position.x,y:a.y+l.position.y},o&&($wire=$("<wire/>"),$wire.attr("x1",o.x.toString()),$wire.attr("y1",o.y.toString()),$wire.attr("x2",u.x.toString()),$wire.attr("y2",u.y.toString()),$wire.attr("width","0"),$wire.attr("layer","19"),$wire.attr("extent","1-1"),n.append($wire)),o=u})}else console.log("No footprint for device (1): "+c)}else{var p=c.getDescription();console.log("No footprint for device (2): "+p.device.name)}}}),l.append(n),++d}});var u='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE eagle SYSTEM "eagle.dtd">\n'+n[0].innerHTML;return u.replace(/(<param\b[^>]*)>/g,"$1/>")},Circuits.EagleBreadboardExport.prototype.baseEagleBoardXml=function(){return i(796)},Circuits.CircuitData.prototype.eagleBreadboardExport=function(){var e=new Circuits.EagleBreadboardExport(this),t=e["export"]();return t}},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE eagle SYSTEM "eagle.dtd">\n<eagle version="7.6.0">\n<drawing>\n<settings>\n<setting alwaysvectorfont="no"/>\n<setting verticaltext="up"/>\n</settings>\n<grid distance="0.05" unitdist="inch" unit="inch" style="lines" multiple="1" display="no" altdistance="0.025" altunitdist="inch" altunit="inch"/>\n<layers>\n<layer number="1" name="Top" color="4" fill="1" visible="yes" active="yes"/>\n<layer number="16" name="Bottom" color="1" fill="1" visible="yes" active="yes"/>\n<layer number="17" name="Pads" color="2" fill="1" visible="yes" active="yes"/>\n<layer number="18" name="Vias" color="2" fill="1" visible="yes" active="yes"/>\n<layer number="19" name="Unrouted" color="6" fill="1" visible="yes" active="yes"/>\n<layer number="20" name="Dimension" color="15" fill="1" visible="yes" active="yes"/>\n<layer number="21" name="tPlace" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="22" name="bPlace" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="23" name="tOrigins" color="15" fill="1" visible="yes" active="yes"/>\n<layer number="24" name="bOrigins" color="15" fill="1" visible="yes" active="yes"/>\n<layer number="25" name="tNames" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="26" name="bNames" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="27" name="tValues" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="28" name="bValues" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="29" name="tStop" color="7" fill="3" visible="no" active="yes"/>\n<layer number="30" name="bStop" color="7" fill="6" visible="no" active="yes"/>\n<layer number="31" name="tCream" color="7" fill="4" visible="no" active="yes"/>\n<layer number="32" name="bCream" color="7" fill="5" visible="no" active="yes"/>\n<layer number="33" name="tFinish" color="6" fill="3" visible="no" active="yes"/>\n<layer number="34" name="bFinish" color="6" fill="6" visible="no" active="yes"/>\n<layer number="35" name="tGlue" color="7" fill="4" visible="no" active="yes"/>\n<layer number="36" name="bGlue" color="7" fill="5" visible="no" active="yes"/>\n<layer number="37" name="tTest" color="7" fill="1" visible="no" active="yes"/>\n<layer number="38" name="bTest" color="7" fill="1" visible="no" active="yes"/>\n<layer number="39" name="tKeepout" color="4" fill="11" visible="yes" active="yes"/>\n<layer number="40" name="bKeepout" color="1" fill="11" visible="yes" active="yes"/>\n<layer number="41" name="tRestrict" color="4" fill="10" visible="yes" active="yes"/>\n<layer number="42" name="bRestrict" color="1" fill="10" visible="yes" active="yes"/>\n<layer number="43" name="vRestrict" color="2" fill="10" visible="yes" active="yes"/>\n<layer number="44" name="Drills" color="7" fill="1" visible="no" active="yes"/>\n<layer number="45" name="Holes" color="7" fill="1" visible="no" active="yes"/>\n<layer number="46" name="Milling" color="3" fill="1" visible="no" active="yes"/>\n<layer number="47" name="Measures" color="7" fill="1" visible="no" active="yes"/>\n<layer number="48" name="Document" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="49" name="Reference" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="50" name="dxf" color="7" fill="1" visible="no" active="no"/>\n<layer number="51" name="tDocu" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="52" name="bDocu" color="7" fill="1" visible="yes" active="yes"/>\n<layer number="53" name="tGND_GNDA" color="7" fill="9" visible="no" active="no"/>\n<layer number="54" name="bGND_GNDA" color="1" fill="9" visible="no" active="no"/>\n<layer number="56" name="wert" color="7" fill="1" visible="no" active="no"/>\n<layer number="57" name="tCAD" color="7" fill="1" visible="no" active="no"/>\n<layer number="90" name="Modules" color="5" fill="1" visible="no" active="no"/>\n<layer number="91" name="Nets" color="2" fill="1" visible="no" active="no"/>\n<layer number="92" name="Busses" color="1" fill="1" visible="no" active="no"/>\n<layer number="93" name="Pins" color="2" fill="1" visible="no" active="no"/>\n<layer number="94" name="Symbols" color="4" fill="1" visible="no" active="no"/>\n<layer number="95" name="Names" color="7" fill="1" visible="no" active="no"/>\n<layer number="96" name="Values" color="7" fill="1" visible="no" active="no"/>\n<layer number="97" name="Info" color="7" fill="1" visible="no" active="no"/>\n<layer number="98" name="Guide" color="6" fill="1" visible="no" active="no"/>\n<layer number="99" name="SpiceOrder" color="7" fill="1" visible="no" active="no"/>\n<layer number="100" name="Muster" color="7" fill="1" visible="no" active="no"/>\n<layer number="101" name="Patch_Top" color="12" fill="4" visible="no" active="no"/>\n<layer number="102" name="Vscore" color="7" fill="1" visible="no" active="no"/>\n<layer number="103" name="tMap" color="7" fill="1" visible="no" active="no"/>\n<layer number="104" name="Name" color="7" fill="1" visible="no" active="no"/>\n<layer number="105" name="tPlate" color="7" fill="1" visible="no" active="no"/>\n<layer number="106" name="bPlate" color="7" fill="1" visible="no" active="no"/>\n<layer number="107" name="Crop" color="7" fill="1" visible="no" active="no"/>\n<layer number="108" name="fp8" color="7" fill="1" visible="no" active="no"/>\n<layer number="109" name="fp9" color="7" fill="1" visible="no" active="no"/>\n<layer number="110" name="110" color="7" fill="1" visible="no" active="no"/>\n<layer number="111" name="111" color="7" fill="1" visible="no" active="no"/>\n<layer number="112" name="tSilk" color="7" fill="1" visible="no" active="no"/>\n<layer number="113" name="IDFDebug" color="7" fill="1" visible="no" active="yes"/>\n<layer number="116" name="Patch_BOT" color="9" fill="4" visible="no" active="no"/>\n<layer number="118" name="Rect_Pads" color="7" fill="1" visible="no" active="no"/>\n<layer number="121" name="_tsilk" color="7" fill="1" visible="no" active="no"/>\n<layer number="122" name="_bsilk" color="7" fill="1" visible="no" active="no"/>\n<layer number="123" name="tTestmark" color="7" fill="1" visible="no" active="no"/>\n<layer number="124" name="bTestmark" color="7" fill="1" visible="no" active="no"/>\n<layer number="125" name="_tNames" color="7" fill="1" visible="no" active="no"/>\n<layer number="126" name="_bNames" color="7" fill="1" visible="no" active="no"/>\n<layer number="127" name="_tValues" color="7" fill="1" visible="no" active="no"/>\n<layer number="128" name="_bValues" color="7" fill="1" visible="no" active="no"/>\n<layer number="131" name="tAdjust" color="7" fill="1" visible="no" active="no"/>\n<layer number="132" name="bAdjust" color="7" fill="1" visible="no" active="no"/>\n<layer number="144" name="DrillLegend" color="7" fill="1" visible="no" active="no"/>\n<layer number="150" name="Notes" color="7" fill="1" visible="no" active="yes"/>\n<layer number="151" name="HeatSink" color="14" fill="1" visible="no" active="no"/>\n<layer number="152" name="_bDocu" color="7" fill="1" visible="no" active="no"/>\n<layer number="153" name="FabDoc1" color="6" fill="1" visible="no" active="no"/>\n<layer number="154" name="FabDoc2" color="2" fill="1" visible="no" active="no"/>\n<layer number="155" name="FabDoc3" color="7" fill="15" visible="no" active="no"/>\n<layer number="199" name="Contour" color="7" fill="1" visible="no" active="no"/>\n<layer number="200" name="200bmp" color="1" fill="10" visible="no" active="no"/>\n<layer number="201" name="201bmp" color="2" fill="1" visible="no" active="no"/>\n<layer number="202" name="202bmp" color="3" fill="1" visible="no" active="no"/>\n<layer number="203" name="203bmp" color="4" fill="10" visible="no" active="no"/>\n<layer number="204" name="204bmp" color="5" fill="10" visible="no" active="no"/>\n<layer number="205" name="205bmp" color="6" fill="10" visible="no" active="no"/>\n<layer number="206" name="206bmp" color="7" fill="10" visible="no" active="no"/>\n<layer number="207" name="207bmp" color="15" fill="10" visible="no" active="no"/>\n<layer number="208" name="208bmp" color="9" fill="10" visible="no" active="no"/>\n<layer number="209" name="209bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="210" name="210bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="211" name="211bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="212" name="212bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="213" name="213bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="214" name="214bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="215" name="215bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="216" name="216bmp" color="7" fill="1" visible="no" active="no"/>\n<layer number="217" name="217bmp" color="18" fill="1" visible="no" active="no"/>\n<layer number="218" name="218bmp" color="19" fill="1" visible="no" active="no"/>\n<layer number="219" name="219bmp" color="20" fill="1" visible="no" active="no"/>\n<layer number="220" name="220bmp" color="21" fill="1" visible="no" active="no"/>\n<layer number="221" name="221bmp" color="22" fill="1" visible="no" active="no"/>\n<layer number="222" name="222bmp" color="23" fill="1" visible="no" active="no"/>\n<layer number="223" name="223bmp" color="24" fill="1" visible="no" active="no"/>\n<layer number="224" name="224bmp" color="25" fill="1" visible="no" active="no"/>\n<layer number="225" name="225bmp" color="7" fill="1" visible="no" active="yes"/>\n<layer number="226" name="226bmp" color="7" fill="1" visible="no" active="yes"/>\n<layer number="227" name="227bmp" color="7" fill="1" visible="no" active="yes"/>\n<layer number="228" name="228bmp" color="7" fill="1" visible="no" active="yes"/>\n<layer number="230" name="230bmp" color="7" fill="1" visible="no" active="yes"/>\n<layer number="248" name="Housing" color="7" fill="1" visible="no" active="no"/>\n<layer number="249" name="Edge" color="7" fill="1" visible="no" active="no"/>\n<layer number="250" name="Descript" color="3" fill="1" visible="no" active="no"/>\n<layer number="251" name="SMDround" color="12" fill="11" visible="no" active="no"/>\n<layer number="254" name="OrgLBR" color="13" fill="1" visible="no" active="no"/>\n</layers>\n<board>\n<plain>\n<wire x1="0" y1="0" x2="56.82" y2="0" width="0" layer="20"/>\n<wire x1="56.82" y1="0" x2="56.82" y2="53.33" width="0" layer="20"/>\n<wire x1="56.82" y1="53.33" x2="0" y2="53.33" width="0" layer="20"/>\n<wire x1="0" y1="53.33" x2="0" y2="0" width="0" layer="20"/>\n</plain>\n<libraries>\n<library name="AUTODESK_CIRCUITS_BREADBOARD">\n<packages>\n<package name="DIL06">\n<description>&lt;b&gt;Dual In Line Package&lt;/b&gt;</description>\n<wire x1="3.81" y1="2.921" x2="-3.81" y2="2.921" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="-2.921" x2="3.81" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="2.921" x2="3.81" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="2.921" x2="-3.81" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="-2.921" x2="-3.81" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="1.016" x2="-3.81" y2="-1.016" width="0.1524" layer="21" curve="-180"/>\n<pad name="1" x="-2.54" y="-3.81" drill="0.8128" shape="offset" rot="R270"/>\n<pad name="2" x="0" y="-3.81" drill="0.8128" shape="offset" rot="R270"/>\n<pad name="3" x="2.54" y="-3.81" drill="0.8128" shape="offset" rot="R270"/>\n<pad name="4" x="2.54" y="3.81" drill="0.8128" shape="offset" rot="R90"/>\n<pad name="5" x="0" y="3.81" drill="0.8128" shape="offset" rot="R90"/>\n<pad name="6" x="-2.54" y="3.81" drill="0.8128" shape="offset" rot="R90"/>\n<text x="-2.413" y="-0.635" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<text x="-4.064" y="-2.921" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n</package>\n<package name="DIL08">\n<description>&lt;b&gt;Dual In Line Package&lt;/b&gt;</description>\n<wire x1="5.08" y1="2.921" x2="-5.08" y2="2.921" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-2.921" x2="5.08" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="5.08" y1="2.921" x2="5.08" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="2.921" x2="-5.08" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-2.921" x2="-5.08" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="1.016" x2="-5.08" y2="-1.016" width="0.1524" layer="21" curve="-180"/>\n<pad name="1" x="-3.81" y="-3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="2" x="-1.27" y="-3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="3" x="1.27" y="-3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="4" x="3.81" y="-3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="5" x="3.81" y="3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="6" x="1.27" y="3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="7" x="-1.27" y="3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<pad name="8" x="-3.81" y="3.81" drill="0.8128" diameter="1.27" rot="R90"/>\n<text x="-5.334" y="-2.921" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="-3.556" y="-0.635" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="DIL14">\n<description>&lt;b&gt;Dual In Line Package&lt;/b&gt;</description>\n<wire x1="8.89" y1="2.921" x2="-8.89" y2="2.921" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="-2.921" x2="8.89" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="8.89" y1="2.921" x2="8.89" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="2.921" x2="-8.89" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="-2.921" x2="-8.89" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="1.016" x2="-8.89" y2="-1.016" width="0.1524" layer="21" curve="-180"/>\n<pad name="1" x="-7.62" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="-5.08" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="-2.54" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="0" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="5" x="2.54" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="6" x="5.08" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="7" x="7.62" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="8" x="7.62" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="9" x="5.08" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="10" x="2.54" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="11" x="0" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="12" x="-2.54" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="13" x="-5.08" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="14" x="-7.62" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<text x="-9.271" y="-3.048" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="-6.731" y="-0.635" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="DIL16">\n<description>&lt;b&gt;Dual In Line Package&lt;/b&gt;</description>\n<wire x1="10.16" y1="2.921" x2="-10.16" y2="2.921" width="0.1524" layer="21"/>\n<wire x1="-10.16" y1="-2.921" x2="10.16" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="10.16" y1="2.921" x2="10.16" y2="-2.921" width="0.1524" layer="21"/>\n<wire x1="-10.16" y1="2.921" x2="-10.16" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="-10.16" y1="-2.921" x2="-10.16" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="-10.16" y1="1.016" x2="-10.16" y2="-1.016" width="0.1524" layer="21" curve="-180"/>\n<pad name="1" x="-8.89" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="-6.35" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="-3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="-1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="5" x="1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="6" x="3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="7" x="6.35" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="8" x="8.89" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="9" x="8.89" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="10" x="6.35" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="11" x="3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="12" x="1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="13" x="-1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="14" x="-3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="15" x="-6.35" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="16" x="-8.89" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<text x="-10.541" y="-2.921" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="-7.493" y="-0.635" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="RADIAL-D11.36MM">\n<circle x="0" y="0" radius="5.6796" width="0.127" layer="21"/>\n<circle x="0" y="0" radius="5.6796" width="0.127" layer="39"/>\n<pad name="+" x="-2.54" y="0" drill="1.27" diameter="1.905" shape="square"/>\n<pad name="-" x="2.54" y="0" drill="1.27" diameter="1.905"/>\n<text x="-1.905" y="6.35" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="-1.905" y="-2.54" size="0.635" layer="27" ratio="10">&gt;VALUE</text>\n<text x="-7.62" y="-0.635" size="1.9304" layer="21" ratio="10">+</text>\n</package>\n<package name="0207/10">\n<description>&lt;b&gt;RESISTOR&lt;/b&gt;&lt;p&gt;\ntype 0207, grid 10 mm</description>\n<wire x1="5.08" y1="0" x2="4.064" y2="0" width="0.6096" layer="51"/>\n<wire x1="-5.08" y1="0" x2="-4.064" y2="0" width="0.6096" layer="51"/>\n<wire x1="-3.175" y1="0.889" x2="-2.921" y2="1.143" width="0.1524" layer="21" curve="-90"/>\n<wire x1="-3.175" y1="-0.889" x2="-2.921" y2="-1.143" width="0.1524" layer="21" curve="90"/>\n<wire x1="2.921" y1="-1.143" x2="3.175" y2="-0.889" width="0.1524" layer="21" curve="90"/>\n<wire x1="2.921" y1="1.143" x2="3.175" y2="0.889" width="0.1524" layer="21" curve="-90"/>\n<wire x1="-3.175" y1="-0.889" x2="-3.175" y2="0.889" width="0.1524" layer="21"/>\n<wire x1="-2.921" y1="1.143" x2="-2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="1.016" x2="-2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="-2.921" y1="-1.143" x2="-2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="-1.016" x2="-2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="1.016" x2="2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="1.016" x2="-2.413" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="-1.016" x2="2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="-1.016" x2="-2.413" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="2.921" y1="1.143" x2="2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="2.921" y1="-1.143" x2="2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="3.175" y1="-0.889" x2="3.175" y2="0.889" width="0.1524" layer="21"/>\n<pad name="1" x="-5.08" y="0" drill="0.8128" shape="octagon"/>\n<pad name="2" x="5.08" y="0" drill="0.8128" shape="octagon"/>\n<text x="-3.048" y="1.524" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-2.2606" y="-0.635" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<rectangle x1="3.175" y1="-0.3048" x2="4.0386" y2="0.3048" layer="21"/>\n<rectangle x1="-4.0386" y1="-0.3048" x2="-3.175" y2="0.3048" layer="21"/>\n</package>\n<package name="0207/12">\n<description>&lt;b&gt;RESISTOR&lt;/b&gt;&lt;p&gt;\ntype 0207, grid 12 mm</description>\n<wire x1="6.35" y1="0" x2="5.334" y2="0" width="0.6096" layer="51"/>\n<wire x1="-6.35" y1="0" x2="-5.334" y2="0" width="0.6096" layer="51"/>\n<wire x1="-3.175" y1="0.889" x2="-2.921" y2="1.143" width="0.1524" layer="21" curve="-90"/>\n<wire x1="-3.175" y1="-0.889" x2="-2.921" y2="-1.143" width="0.1524" layer="21" curve="90"/>\n<wire x1="2.921" y1="-1.143" x2="3.175" y2="-0.889" width="0.1524" layer="21" curve="90"/>\n<wire x1="2.921" y1="1.143" x2="3.175" y2="0.889" width="0.1524" layer="21" curve="-90"/>\n<wire x1="-3.175" y1="-0.889" x2="-3.175" y2="0.889" width="0.1524" layer="21"/>\n<wire x1="-2.921" y1="1.143" x2="-2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="1.016" x2="-2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="-2.921" y1="-1.143" x2="-2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="-1.016" x2="-2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="1.016" x2="2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="1.016" x2="-2.413" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="-1.016" x2="2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="2.413" y1="-1.016" x2="-2.413" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="2.921" y1="1.143" x2="2.54" y2="1.143" width="0.1524" layer="21"/>\n<wire x1="2.921" y1="-1.143" x2="2.54" y2="-1.143" width="0.1524" layer="21"/>\n<wire x1="3.175" y1="-0.889" x2="3.175" y2="0.889" width="0.1524" layer="21"/>\n<wire x1="4.445" y1="0" x2="4.064" y2="0" width="0.6096" layer="21"/>\n<wire x1="-4.445" y1="0" x2="-4.064" y2="0" width="0.6096" layer="21"/>\n<pad name="1" x="-6.35" y="0" drill="0.8128" diameter="1.6764" shape="octagon"/>\n<pad name="2" x="6.35" y="0" drill="0.8128" diameter="1.6764" shape="octagon"/>\n<text x="-3.175" y="1.397" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-2.286" y="-0.6858" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<rectangle x1="3.175" y1="-0.3048" x2="4.0386" y2="0.3048" layer="21"/>\n<rectangle x1="-4.0386" y1="-0.3048" x2="-3.175" y2="0.3048" layer="21"/>\n<rectangle x1="4.445" y1="-0.3048" x2="5.3086" y2="0.3048" layer="21"/>\n<rectangle x1="-5.3086" y1="-0.3048" x2="-4.445" y2="0.3048" layer="21"/>\n</package>\n<package name="SW2-12.7-12.0X3.6X3.6MM">\n<wire x1="3.81" y1="0" x2="1.27" y2="0" width="0.127" layer="21"/>\n<wire x1="1.27" y1="0" x2="0" y2="1.27" width="0.127" layer="21"/>\n<wire x1="-3.81" y1="0" x2="-1.27" y2="0" width="0.127" layer="21"/>\n<wire x1="6" y1="1.8" x2="-6" y2="1.8" width="0.127" layer="21"/>\n<wire x1="-6" y1="-1.8" x2="6" y2="-1.8" width="0.127" layer="21"/>\n<pad name="1" x="6.35" y="0" drill="0.8" shape="square" rot="R270"/>\n<pad name="2" x="-6.35" y="0" drill="0.8" rot="R270"/>\n<text x="-1.905" y="2.54" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="-1.905" y="-3.175" size="0.889" layer="27" ratio="11">&gt;VALUE</text>\n<rectangle x1="-1.778" y1="-5.969" x2="1.778" y2="5.969" layer="39" rot="R270"/>\n<wire x1="-6" y1="1.8" x2="-6" y2="0.7" width="0.127" layer="21"/>\n<wire x1="-6" y1="-1.8" x2="-6" y2="-0.7" width="0.127" layer="21"/>\n<wire x1="6" y1="1.8" x2="6" y2="0.8" width="0.127" layer="21"/>\n<wire x1="6" y1="-1.8" x2="6" y2="-0.8" width="0.127" layer="21"/>\n</package>\n<package name="D-7.5">\n<description>&lt;b&gt;DIODE&lt;/b&gt;</description>\n<wire x1="1.905" y1="0.889" x2="-1.905" y2="0.889" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="-0.889" x2="1.905" y2="-0.889" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="0" x2="-2.794" y2="0" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="0.889" x2="-1.905" y2="0" width="0.1524" layer="21"/>\n<wire x1="2.794" y1="0" x2="1.905" y2="0" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="-0.889" x2="1.905" y2="0" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="0" x2="-1.905" y2="-0.889" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="0" x2="1.905" y2="0.889" width="0.1524" layer="21"/>\n<pad name="A" x="3.81" y="0" drill="0.8128" shape="long"/>\n<pad name="C" x="-3.81" y="0" drill="0.8128" shape="long"/>\n<text x="-1.905" y="1.27" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-1.905" y="-2.54" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-0.889" x2="-0.762" y2="0.889" layer="21"/>\n</package>\n<package name="B25V">\n<description>&lt;b&gt;POTENTIOMETER&lt;/b&gt;&lt;p&gt;\nBeckman Helitrim 25</description>\n<wire x1="3.429" y1="3.556" x2="3.429" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="2.413" x2="0.381" y2="2.286" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="2.413" x2="0.381" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="0.254" y1="2.159" x2="0.254" y2="2.667" width="0.1524" layer="21"/>\n<wire x1="0.254" y1="2.159" x2="0.127" y2="2.032" width="0.1524" layer="21"/>\n<wire x1="0.254" y1="2.667" x2="0.127" y2="2.794" width="0.1524" layer="21"/>\n<wire x1="0.381" y1="2.286" x2="0.381" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="0.381" y1="2.286" x2="0.254" y2="2.159" width="0.1524" layer="21"/>\n<wire x1="0.381" y1="2.54" x2="0.254" y2="2.667" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="2.413" x2="0.127" y2="2.413" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="2.413" x2="-2.032" y2="2.413" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="2.413" x2="0.127" y2="2.794" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="2.032" x2="0.127" y2="2.413" width="0.1524" layer="21"/>\n<wire x1="0" y1="1.905" x2="0.127" y2="2.032" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="2.794" x2="0" y2="2.921" width="0.1524" layer="21"/>\n<wire x1="0" y1="2.921" x2="0" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="-3.429" y1="-3.048" x2="3.429" y2="-3.048" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="1.778" x2="2.54" y2="1.143" width="0.1524" layer="51"/>\n<wire x1="2.54" y1="1.143" x2="3.429" y2="1.143" width="0.1524" layer="51"/>\n<wire x1="3.429" y1="1.27" x2="3.429" y2="0" width="0.1524" layer="51"/>\n<wire x1="3.429" y1="0" x2="3.429" y2="-3.048" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="1.778" x2="-2.54" y2="1.143" width="0.1524" layer="51"/>\n<wire x1="3.429" y1="3.556" x2="2.54" y2="3.556" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="3.556" x2="-2.54" y2="3.556" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="3.556" x2="-3.429" y2="3.556" width="0.1524" layer="21"/>\n<wire x1="-3.429" y1="1.143" x2="-2.54" y2="1.143" width="0.1524" layer="51"/>\n<wire x1="-3.429" y1="-3.048" x2="-3.429" y2="0" width="0.1524" layer="21"/>\n<wire x1="-3.429" y1="0" x2="-3.429" y2="1.27" width="0.1524" layer="51"/>\n<wire x1="-3.429" y1="1.27" x2="-3.429" y2="3.556" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="1.778" x2="-2.54" y2="3.556" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="1.778" x2="2.54" y2="3.556" width="0.1524" layer="21"/>\n<pad name="A" x="2.54" y="0.635" drill="0.8128" shape="long" rot="R90"/>\n<pad name="E" x="-2.54" y="0.635" drill="0.8128" shape="long" rot="R90"/>\n<pad name="S" x="0" y="0.635" drill="0.8128" shape="long" rot="R90"/>\n<text x="-3.302" y="4.445" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.4036" y="-4.826" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<text x="-3.048" y="-2.032" size="1.27" layer="21" ratio="10">3</text>\n<text x="2.159" y="-1.905" size="1.27" layer="21" ratio="10">1</text>\n<text x="-0.381" y="1.778" size="1.27" layer="21" ratio="10"> 3 </text>\n<rectangle x1="-1.524" y1="3.556" x2="-0.254" y2="4.191" layer="21"/>\n<rectangle x1="0.254" y1="3.556" x2="1.524" y2="4.191" layer="21"/>\n<rectangle x1="-0.254" y1="3.556" x2="0.254" y2="3.81" layer="21"/>\n</package>\n<package name="C5B2.5">\n<description>&lt;B&gt;MKS2&lt;/B&gt;, 7.5 x 2.5 mm, grid 5.08 mm</description>\n<wire x1="-0.3048" y1="0.635" x2="-0.3048" y2="0" width="0.3048" layer="21"/>\n<wire x1="-0.3048" y1="0" x2="-0.3048" y2="-0.635" width="0.3048" layer="21"/>\n<wire x1="-0.3048" y1="0" x2="-1.524" y2="0" width="0.1524" layer="21"/>\n<wire x1="0.3302" y1="0.635" x2="0.3302" y2="0" width="0.3048" layer="21"/>\n<wire x1="0.3302" y1="0" x2="0.3302" y2="-0.635" width="0.3048" layer="21"/>\n<wire x1="0.3302" y1="0" x2="1.524" y2="0" width="0.1524" layer="21"/>\n<wire x1="-3.683" y1="1.016" x2="-3.683" y2="-1.016" width="0.1524" layer="21"/>\n<wire x1="-3.429" y1="-1.27" x2="3.429" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="3.683" y1="-1.016" x2="3.683" y2="1.016" width="0.1524" layer="21"/>\n<wire x1="3.429" y1="1.27" x2="-3.429" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="3.429" y1="1.27" x2="3.683" y2="1.016" width="0.1524" layer="21" curve="-90"/>\n<wire x1="3.429" y1="-1.27" x2="3.683" y2="-1.016" width="0.1524" layer="21" curve="90"/>\n<wire x1="-3.683" y1="-1.016" x2="-3.429" y2="-1.27" width="0.1524" layer="21" curve="90"/>\n<wire x1="-3.683" y1="1.016" x2="-3.429" y2="1.27" width="0.1524" layer="21" curve="-90"/>\n<pad name="1" x="-2.54" y="0" drill="0.8128" diameter="1.6002" shape="octagon"/>\n<pad name="2" x="2.54" y="0" drill="0.8128" diameter="1.6002" shape="octagon"/>\n<text x="-2.032" y="1.524" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-2.032" y="-2.794" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="LED5MM">\n<description>&lt;B&gt;LED&lt;/B&gt;&lt;p&gt;5 mm, round</description>\n<wire x1="2.54" y1="-1.905" x2="2.54" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="2.54" y1="-1.905" x2="2.54" y2="1.905" width="0.254" layer="21" curve="-286.260205"/>\n<wire x1="-1.143" y1="0" x2="0" y2="1.143" width="0.1524" layer="51" curve="-90"/>\n<wire x1="0" y1="-1.143" x2="1.143" y2="0" width="0.1524" layer="51" curve="90"/>\n<wire x1="-1.651" y1="0" x2="0" y2="1.651" width="0.1524" layer="51" curve="-90"/>\n<wire x1="0" y1="-1.651" x2="1.651" y2="0" width="0.1524" layer="51" curve="90"/>\n<wire x1="-2.159" y1="0" x2="0" y2="2.159" width="0.1524" layer="51" curve="-90"/>\n<wire x1="0" y1="-2.159" x2="2.159" y2="0" width="0.1524" layer="51" curve="90"/>\n<circle x="0" y="0" radius="2.54" width="0.1524" layer="21"/>\n<pad name="A" x="-1.27" y="0" drill="0.8128" shape="octagon"/>\n<pad name="K" x="1.27" y="0" drill="0.8128" shape="octagon"/>\n<text x="3.175" y="0.5334" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="3.2004" y="-1.8034" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="LED-RGB-THRU">\n<wire x1="2.5" y1="-1" x2="2.5" y2="1" width="0.127" layer="21"/>\n<wire x1="2.5" y1="-1" x2="2.5" y2="1" width="0.127" layer="21" curve="-316.397181"/>\n<pad name="2" x="0.635" y="0" drill="0.762" diameter="0.889" shape="long" rot="R90"/>\n<pad name="1" x="1.905" y="0" drill="0.762" diameter="0.889" shape="long" rot="R90"/>\n<pad name="3" x="-0.635" y="0" drill="0.762" diameter="0.889" shape="long" rot="R90"/>\n<pad name="4" x="-1.905" y="0" drill="0.762" diameter="0.889" shape="long" rot="R90"/>\n</package>\n<package name="PT-10">\n<description>&lt;b&gt;POTENTIOMETER&lt;/b&gt;</description>\n<wire x1="-3.175" y1="-4.064" x2="3.175" y2="-4.064" width="0.1524" layer="21" curve="-288.924644"/>\n<wire x1="3.175" y1="-4.064" x2="3.175" y2="-5.715" width="0.1524" layer="51"/>\n<wire x1="-3.175" y1="-5.715" x2="-3.175" y2="-4.064" width="0.1524" layer="51"/>\n<wire x1="-2.794" y1="-5.715" x2="-2.794" y2="-3.175" width="0.1524" layer="51"/>\n<wire x1="-2.794" y1="-3.175" x2="-1.905" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="-2.54" x2="-0.635" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="-3.175" x2="-0.635" y2="-4.445" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="-4.445" x2="-1.27" y2="-4.445" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="-4.445" x2="-1.27" y2="-5.715" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-5.715" x2="1.27" y2="-4.445" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-4.445" x2="0.635" y2="-4.445" width="0.1524" layer="21"/>\n<wire x1="0.635" y1="-4.445" x2="0.635" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="0.635" y1="-3.175" x2="1.905" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="-2.54" x2="2.794" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="2.794" y1="-3.175" x2="2.794" y2="-5.715" width="0.1524" layer="51"/>\n<wire x1="-3.175" y1="-5.715" x2="3.175" y2="-5.715" width="0.1524" layer="51"/>\n<wire x1="0.889" y1="1.397" x2="-0.127" y2="0.381" width="0.1524" layer="21"/>\n<wire x1="-0.127" y1="0.381" x2="-0.508" y2="0.762" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="0.762" x2="-0.508" y2="0" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="0" x2="-1.397" y2="-0.889" width="0.1524" layer="21"/>\n<wire x1="1.397" y1="0.889" x2="0.381" y2="-0.127" width="0.1524" layer="21"/>\n<wire x1="0.381" y1="-0.127" x2="0.762" y2="-0.508" width="0.1524" layer="21"/>\n<wire x1="0.762" y1="-0.508" x2="0" y2="-0.508" width="0.1524" layer="21"/>\n<wire x1="0" y1="-0.508" x2="-0.889" y2="-1.397" width="0.1524" layer="21"/>\n<circle x="0" y="0" radius="1.8034" width="0.1524" layer="21"/>\n<circle x="0" y="0" radius="2.794" width="0.0508" layer="21"/>\n<pad name="A" x="-2.54" y="-5.08" drill="1.016" shape="octagon"/>\n<pad name="E" x="2.54" y="-5.08" drill="1.016" shape="octagon"/>\n<pad name="S" x="0" y="5.08" drill="1.016" shape="octagon"/>\n<text x="-3.175" y="6.35" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.048" y="-7.62" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="TL1105">\n<description>&lt;b&gt;TACT SWITCH&lt;/b&gt;&lt;p&gt;\nSource: http://dkc3.digikey.com/Media/PDF/Data%20Sheets/E-Switch%20PDFs/TL1105%20Series.pdf</description>\n<wire x1="-2.9" y1="2.9" x2="-2.9" y2="-2.9" width="0.2032" layer="51"/>\n<wire x1="2.9" y1="2.9" x2="2.9" y2="-2.9" width="0.2032" layer="51"/>\n<wire x1="-2.9" y1="2.9" x2="2.9" y2="2.9" width="0.2032" layer="51"/>\n<wire x1="2.9" y1="-2.9" x2="-2.9" y2="-2.9" width="0.2032" layer="51"/>\n<wire x1="-0.995" y1="2.9" x2="0.995" y2="2.9" width="0.2032" layer="21"/>\n<wire x1="-2.9" y1="2.265" x2="-2.9" y2="-2.265" width="0.2032" layer="21"/>\n<wire x1="0.995" y1="-2.9" x2="-0.995" y2="-2.9" width="0.2032" layer="21"/>\n<wire x1="2.9" y1="2.265" x2="2.9" y2="-2.265" width="0.2032" layer="21"/>\n<circle x="0" y="0" radius="1.65" width="0.2032" layer="21"/>\n<pad name="3" x="-2.25" y="-3.25" drill="1" diameter="1.6764" rot="R90"/>\n<pad name="1" x="-2.25" y="3.25" drill="1" diameter="1.6764" rot="R90"/>\n<pad name="4" x="2.25" y="-3.25" drill="1" diameter="1.6764" rot="R90"/>\n<pad name="2" x="2.25" y="3.25" drill="1" diameter="1.6764" rot="R90"/>\n<text x="-3.175" y="-2.54" size="1.27" layer="25" rot="R90">&gt;NAME</text>\n<text x="5.08" y="-2.54" size="1.27" layer="27" rot="R90">&gt;VALUE</text>\n<rectangle x1="-2.55" y1="2.925" x2="-1.95" y2="3.85" layer="51"/>\n<rectangle x1="1.95" y1="2.925" x2="2.55" y2="3.85" layer="51"/>\n<rectangle x1="1.95" y1="-3.85" x2="2.55" y2="-2.925" layer="51" rot="R180"/>\n<rectangle x1="-2.55" y1="-3.85" x2="-1.95" y2="-2.925" layer="51" rot="R180"/>\n</package>\n<package name="TO92">\n<description>&lt;b&gt;TO 92&lt;/b&gt;</description>\n<wire x1="-2.0946" y1="-1.651" x2="-2.6549" y2="-0.254" width="0.127" layer="21" curve="-32.781"/>\n<wire x1="-2.6549" y1="-0.254" x2="-0.7863" y2="2.5485" width="0.127" layer="21" curve="-78.3185"/>\n<wire x1="0.7863" y1="2.5484" x2="2.0945" y2="-1.651" width="0.127" layer="21" curve="-111.1"/>\n<wire x1="-2.0945" y1="-1.651" x2="2.0945" y2="-1.651" width="0.127" layer="21"/>\n<wire x1="-2.2537" y1="-0.254" x2="-0.2863" y2="-0.254" width="0.127" layer="51"/>\n<wire x1="-2.6549" y1="-0.254" x2="-2.2537" y2="-0.254" width="0.127" layer="21"/>\n<wire x1="-0.2863" y1="-0.254" x2="0.2863" y2="-0.254" width="0.127" layer="21"/>\n<wire x1="2.2537" y1="-0.254" x2="2.6549" y2="-0.254" width="0.127" layer="21"/>\n<wire x1="0.2863" y1="-0.254" x2="2.2537" y2="-0.254" width="0.127" layer="51"/>\n<wire x1="-0.7863" y1="2.5485" x2="0.7863" y2="2.5485" width="0.127" layer="51" curve="-34.2936"/>\n<pad name="1" x="1.27" y="0" drill="0.8128" shape="octagon"/>\n<pad name="2" x="0" y="1.905" drill="0.8128" shape="octagon"/>\n<pad name="3" x="-1.27" y="0" drill="0.8128" shape="octagon"/>\n<text x="3.175" y="0.635" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="3.175" y="-1.27" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n<text x="-0.635" y="0.635" size="1.27" layer="51" ratio="10">2</text>\n<text x="-2.159" y="0" size="1.27" layer="51" ratio="10">3</text>\n<text x="1.143" y="0" size="1.27" layer="51" ratio="10">1</text>\n</package>\n<package name="TO220">\n<description>&lt;b&gt;TO 220 horizontal&lt;/b&gt;</description>\n<wire x1="-5.207" y1="-1.27" x2="5.207" y2="-1.27" width="0.127" layer="21"/>\n<wire x1="5.207" y1="14.605" x2="-5.207" y2="14.605" width="0.127" layer="21"/>\n<wire x1="5.207" y1="-1.27" x2="5.207" y2="11.176" width="0.127" layer="21"/>\n<wire x1="5.207" y1="11.176" x2="4.318" y2="11.176" width="0.127" layer="21"/>\n<wire x1="4.318" y1="11.176" x2="4.318" y2="12.7" width="0.127" layer="21"/>\n<wire x1="4.318" y1="12.7" x2="5.207" y2="12.7" width="0.127" layer="21"/>\n<wire x1="5.207" y1="12.7" x2="5.207" y2="14.605" width="0.127" layer="21"/>\n<wire x1="-5.207" y1="-1.27" x2="-5.207" y2="11.176" width="0.127" layer="21"/>\n<wire x1="-5.207" y1="11.176" x2="-4.318" y2="11.176" width="0.127" layer="21"/>\n<wire x1="-4.318" y1="11.176" x2="-4.318" y2="12.7" width="0.127" layer="21"/>\n<wire x1="-4.318" y1="12.7" x2="-5.207" y2="12.7" width="0.127" layer="21"/>\n<wire x1="-5.207" y1="12.7" x2="-5.207" y2="14.605" width="0.127" layer="21"/>\n<wire x1="-4.572" y1="-0.635" x2="4.572" y2="-0.635" width="0.0508" layer="21"/>\n<wire x1="4.572" y1="7.62" x2="4.572" y2="-0.635" width="0.0508" layer="21"/>\n<wire x1="4.572" y1="7.62" x2="-4.572" y2="7.62" width="0.0508" layer="21"/>\n<wire x1="-4.572" y1="-0.635" x2="-4.572" y2="7.62" width="0.0508" layer="21"/>\n<circle x="0" y="11.176" radius="1.8034" width="0.127" layer="21"/>\n<circle x="0" y="11.176" radius="4.191" width="0" layer="42"/>\n<circle x="0" y="11.176" radius="4.191" width="0" layer="43"/>\n<pad name="1" x="-2.54" y="-6.35" drill="1.1176" shape="long" rot="R90"/>\n<pad name="2" x="0" y="-6.35" drill="1.1176" shape="long" rot="R90"/>\n<pad name="3" x="2.54" y="-6.35" drill="1.1176" shape="long" rot="R90"/>\n<text x="-3.81" y="5.207" size="1.778" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.937" y="2.54" size="1.778" layer="27" ratio="10">&gt;VALUE</text>\n<text x="-4.445" y="7.874" size="0.9906" layer="21" ratio="12">A17,5mm</text>\n<text x="-3.175" y="0" size="1.27" layer="51" ratio="10">1</text>\n<text x="-0.635" y="0" size="1.27" layer="51" ratio="10">2</text>\n<text x="1.905" y="0" size="1.27" layer="51" ratio="10">3</text>\n<rectangle x1="2.159" y1="-4.699" x2="2.921" y2="-4.064" layer="21"/>\n<rectangle x1="-0.381" y1="-4.699" x2="0.381" y2="-4.064" layer="21"/>\n<rectangle x1="-2.921" y1="-4.699" x2="-2.159" y2="-4.064" layer="21"/>\n<rectangle x1="-3.175" y1="-4.064" x2="-1.905" y2="-1.27" layer="21"/>\n<rectangle x1="-0.635" y1="-4.064" x2="0.635" y2="-1.27" layer="21"/>\n<rectangle x1="1.905" y1="-4.064" x2="3.175" y2="-1.27" layer="21"/>\n<rectangle x1="-2.921" y1="-6.604" x2="-2.159" y2="-4.699" layer="51"/>\n<rectangle x1="-0.381" y1="-6.604" x2="0.381" y2="-4.699" layer="51"/>\n<rectangle x1="2.159" y1="-6.604" x2="2.921" y2="-4.699" layer="51"/>\n<hole x="0" y="11.176" drill="3.302"/>\n</package>\n<package name="USB-A-PCB">\n<wire x1="-5" y1="6" x2="3.7" y2="6" width="0.127" layer="51"/>\n<wire x1="3.7" y1="6" x2="3.7" y2="-6" width="0.127" layer="51"/>\n<wire x1="3.7" y1="-6" x2="-5" y2="-6" width="0.127" layer="51"/>\n<wire x1="-5" y1="-6" x2="-5" y2="6" width="0.127" layer="51"/>\n<smd name="5V" x="-0.2" y="-3.5" dx="7.5" dy="1.5" layer="1"/>\n<smd name="GND" x="-0.2" y="3.5" dx="7.5" dy="1.5" layer="1"/>\n<smd name="USB_M" x="0.3" y="-1" dx="6.5" dy="1" layer="1"/>\n<smd name="USB_P" x="0.3" y="1" dx="6.5" dy="1" layer="1"/>\n<text x="-1.27" y="5.08" size="0.4064" layer="25">&gt;Name</text>\n<text x="-1.27" y="-5.08" size="0.4064" layer="27">&gt;Value</text>\n</package>\n<package name="DC-POWER">\n<wire x1="-0.635" y1="6.255" x2="0.635" y2="6.255" width="0.254" layer="21"/>\n<wire x1="0" y1="6.89" x2="0" y2="5.62" width="0.254" layer="21"/>\n<wire x1="0" y1="-6.89" x2="0" y2="-5.62" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="4.445" x2="1.905" y2="4.445" width="0.127" layer="21"/>\n<wire x1="1.905" y1="4.445" x2="1.905" y2="-4.445" width="0.127" layer="21"/>\n<wire x1="1.905" y1="-4.445" x2="-1.905" y2="-4.445" width="0.127" layer="21"/>\n<wire x1="-1.905" y1="-4.445" x2="-1.905" y2="4.445" width="0.127" layer="21"/>\n<wire x1="-1.905" y1="4.445" x2="1.905" y2="4.445" width="0" layer="39"/>\n<wire x1="1.905" y1="4.445" x2="1.905" y2="-4.445" width="0" layer="39"/>\n<wire x1="-1.905" y1="-4.445" x2="-1.905" y2="4.445" width="0" layer="39"/>\n<pad name="+" x="0" y="2.54" drill="0.889" diameter="2.54" shape="octagon"/>\n<pad name="-" x="0" y="-2.54" drill="0.889" diameter="2.54" shape="octagon"/>\n<text x="-2.54" y="-3.81" size="0.889" layer="25" ratio="11" rot="R90">&gt;NAME</text>\n<text x="3.175" y="-3.81" size="0.889" layer="27" ratio="11" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.905" y1="-4.445" x2="1.905" y2="4.445" layer="39"/>\n</package>\n<package name="2P-2.54-65/35MIL">\n<wire x1="-1.27" y1="2.54" x2="1.27" y2="2.54" width="0.127" layer="21"/>\n<wire x1="1.27" y1="2.54" x2="1.27" y2="-2.54" width="0.127" layer="21"/>\n<wire x1="1.27" y1="-2.54" x2="-1.27" y2="-2.54" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="-2.54" x2="-1.27" y2="2.54" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="2.54" x2="1.27" y2="2.54" width="0" layer="39"/>\n<wire x1="1.27" y1="2.54" x2="1.27" y2="-2.54" width="0" layer="39"/>\n<wire x1="-1.27" y1="-2.54" x2="-1.27" y2="2.54" width="0" layer="39"/>\n<pad name="1" x="0" y="1.27" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="0" y="-1.27" drill="0.889" diameter="1.651"/>\n<text x="-1.905" y="-1.905" size="0.889" layer="25" ratio="11" rot="R90">&gt;NAME</text>\n<text x="2.54" y="-2.54" size="0.889" layer="27" ratio="11" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-2.54" x2="1.27" y2="2.54" layer="39"/>\n</package>\n<package name="1X3P-2.54-2.54-11.6-3.0-BLACK-MALE">\n<wire x1="-1.27" y1="3.81" x2="1.27" y2="3.81" width="0.127" layer="21"/>\n<wire x1="1.27" y1="3.81" x2="1.27" y2="-3.81" width="0.127" layer="21"/>\n<wire x1="1.27" y1="-3.81" x2="-1.27" y2="-3.81" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="-3.81" x2="-1.27" y2="3.81" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="3.81" x2="1.27" y2="3.81" width="0" layer="39"/>\n<wire x1="1.27" y1="3.81" x2="1.27" y2="-3.81" width="0" layer="39"/>\n<wire x1="1.27" y1="-3.81" x2="-1.27" y2="-3.81" width="0" layer="39"/>\n<wire x1="-1.27" y1="-3.81" x2="-1.27" y2="3.81" width="0" layer="39"/>\n<pad name="1" x="0" y="2.54" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="0" y="0" drill="0.889" diameter="1.651"/>\n<pad name="3" x="0" y="-2.54" drill="0.889" diameter="1.651"/>\n<text x="-1.905" y="3.81" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="0.635" y="-1.905" size="0.635" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-3.81" x2="1.27" y2="3.81" layer="39"/>\n</package>\n<package name="1X04">\n<wire x1="-5" y1="3.4" x2="-5" y2="-2.5" width="0.127" layer="21"/>\n<wire x1="-5" y1="-2.5" x2="-5" y2="-3.6" width="0.127" layer="21"/>\n<wire x1="-5" y1="-3.6" x2="5" y2="-3.6" width="0.127" layer="21"/>\n<wire x1="5" y1="-3.6" x2="5" y2="-2.5" width="0.127" layer="21"/>\n<wire x1="5" y1="-2.5" x2="5" y2="3.4" width="0.127" layer="21"/>\n<wire x1="5" y1="3.4" x2="-5" y2="3.4" width="0.127" layer="21"/>\n<wire x1="-5" y1="-2.5" x2="5" y2="-2.5" width="0.127" layer="21"/>\n<pad name="4" x="3.81" y="0" drill="1" diameter="2.1844"/>\n<pad name="3" x="1.27" y="0" drill="1" diameter="2.1844"/>\n<pad name="2" x="-1.27" y="0" drill="1" diameter="2.1844"/>\n<pad name="1" x="-3.81" y="0" drill="1" diameter="2.1844"/>\n<text x="6.12" y="-4.81" size="1.27" layer="25" rot="R180">&gt;NAME</text>\n</package>\n<package name="1X05">\n<wire x1="-7" y1="3.4" x2="-7" y2="-2.24" width="0.127" layer="21"/>\n<wire x1="-7" y1="-2.24" x2="-7" y2="-3.6" width="0.127" layer="21"/>\n<wire x1="-7" y1="-3.6" x2="7" y2="-3.6" width="0.127" layer="21"/>\n<wire x1="7" y1="-3.6" x2="7" y2="-2.24" width="0.127" layer="21"/>\n<wire x1="7" y1="-2.24" x2="7" y2="3.4" width="0.127" layer="21"/>\n<wire x1="7" y1="3.4" x2="-7" y2="3.4" width="0.127" layer="21"/>\n<wire x1="-7" y1="-2.24" x2="7" y2="-2.24" width="0.127" layer="21"/>\n<pad name="3" x="0" y="0" drill="1" diameter="2.1844"/>\n<pad name="4" x="-2.54" y="0" drill="1" diameter="2.1844"/>\n<pad name="2" x="2.54" y="0" drill="1" diameter="2.1844"/>\n<pad name="1" x="5.12" y="0" drill="1" diameter="2.1844"/>\n<pad name="5" x="-5.12" y="0" drill="1" diameter="2.1844"/>\n<text x="1" y="4.96" size="1.27" layer="25" rot="R180">&gt;NAME</text>\n</package>\n<package name="1X06">\n<description>&lt;b&gt;PIN HEADER&lt;/b&gt;</description>\n<wire x1="0.635" y1="1.27" x2="1.905" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="1.27" x2="2.54" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="0.635" x2="2.54" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="-0.635" x2="1.905" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="0.635" x2="3.175" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="3.175" y1="1.27" x2="4.445" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="4.445" y1="1.27" x2="5.08" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="5.08" y1="0.635" x2="5.08" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="5.08" y1="-0.635" x2="4.445" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="4.445" y1="-1.27" x2="3.175" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="3.175" y1="-1.27" x2="2.54" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="0.635" x2="-1.905" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="1.27" x2="-0.635" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="1.27" x2="0" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="0" y1="0.635" x2="0" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="0" y1="-0.635" x2="-0.635" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="-1.27" x2="-1.905" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="-1.27" x2="-2.54" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="0.635" y1="1.27" x2="0" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="0" y1="-0.635" x2="0.635" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="-1.27" x2="0.635" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-6.985" y1="1.27" x2="-5.715" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-5.715" y1="1.27" x2="-5.08" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="0.635" x2="-5.08" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-0.635" x2="-5.715" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="0.635" x2="-4.445" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-4.445" y1="1.27" x2="-3.175" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="1.27" x2="-2.54" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="0.635" x2="-2.54" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="-0.635" x2="-3.175" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="-1.27" x2="-4.445" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-4.445" y1="-1.27" x2="-5.08" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="-7.62" y1="0.635" x2="-7.62" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="-6.985" y1="1.27" x2="-7.62" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="-7.62" y1="-0.635" x2="-6.985" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-5.715" y1="-1.27" x2="-6.985" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="5.715" y1="1.27" x2="6.985" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="6.985" y1="1.27" x2="7.62" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="7.62" y1="0.635" x2="7.62" y2="-0.635" width="0.1524" layer="21"/>\n<wire x1="7.62" y1="-0.635" x2="6.985" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="5.715" y1="1.27" x2="5.08" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="5.08" y1="-0.635" x2="5.715" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="6.985" y1="-1.27" x2="5.715" y2="-1.27" width="0.1524" layer="21"/>\n<pad name="1" x="-6.35" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<pad name="2" x="-3.81" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<pad name="3" x="-1.27" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<pad name="4" x="1.27" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<pad name="5" x="3.81" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<pad name="6" x="6.35" y="0" drill="1.016" shape="octagon" rot="R90"/>\n<text x="-7.6962" y="1.8288" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-7.62" y="-3.175" size="1.27" layer="27">&gt;VALUE</text>\n<rectangle x1="3.556" y1="-0.254" x2="4.064" y2="0.254" layer="51"/>\n<rectangle x1="1.016" y1="-0.254" x2="1.524" y2="0.254" layer="51"/>\n<rectangle x1="-1.524" y1="-0.254" x2="-1.016" y2="0.254" layer="51"/>\n<rectangle x1="-4.064" y1="-0.254" x2="-3.556" y2="0.254" layer="51"/>\n<rectangle x1="-6.604" y1="-0.254" x2="-6.096" y2="0.254" layer="51"/>\n<rectangle x1="6.096" y1="-0.254" x2="6.604" y2="0.254" layer="51"/>\n</package>\n<package name="1X8P-2.54-2.54-11.6-3.0-BLACK-MALE">\n<wire x1="-1.27" y1="10.16" x2="1.27" y2="10.16" width="0.127" layer="21"/>\n<wire x1="1.27" y1="10.16" x2="1.27" y2="-10.16" width="0.127" layer="21"/>\n<wire x1="1.27" y1="-10.16" x2="-1.27" y2="-10.16" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="-10.16" x2="-1.27" y2="10.16" width="0.127" layer="21"/>\n<pad name="1" x="0" y="8.89" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="0" y="6.35" drill="0.889" diameter="1.651"/>\n<pad name="3" x="0" y="3.81" drill="0.889" diameter="1.651"/>\n<pad name="4" x="0" y="1.27" drill="0.889" diameter="1.651"/>\n<pad name="5" x="0" y="-1.27" drill="0.889" diameter="1.651"/>\n<pad name="6" x="0" y="-3.81" drill="0.889" diameter="1.651"/>\n<pad name="7" x="0" y="-6.35" drill="0.889" diameter="1.651"/>\n<pad name="8" x="0" y="-8.89" drill="0.889" diameter="1.651"/>\n<text x="-1.905" y="10.16" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="0.254" y="-1.905" size="0.635" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-10.16" x2="1.27" y2="10.16" layer="39"/>\n</package>\n<package name="1X9P-2.54-2.54-11.6-3.0-BLACK-MALE">\n<wire x1="-1.27" y1="11.43" x2="1.27" y2="11.43" width="0.127" layer="21"/>\n<wire x1="1.27" y1="11.43" x2="1.27" y2="-11.43" width="0.127" layer="21"/>\n<wire x1="1.27" y1="-11.43" x2="-1.27" y2="-11.43" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="-11.43" x2="-1.27" y2="11.43" width="0.127" layer="21"/>\n<pad name="1" x="0" y="10.16" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="0" y="7.62" drill="0.889" diameter="1.651"/>\n<pad name="3" x="0" y="5.08" drill="0.889" diameter="1.651"/>\n<pad name="4" x="0" y="2.54" drill="0.889" diameter="1.651"/>\n<pad name="5" x="0" y="0" drill="0.889" diameter="1.651"/>\n<pad name="6" x="0" y="-2.54" drill="0.889" diameter="1.651"/>\n<pad name="7" x="0" y="-5.08" drill="0.889" diameter="1.651"/>\n<pad name="8" x="0" y="-7.62" drill="0.889" diameter="1.651"/>\n<pad name="9" x="0" y="-10.16" drill="0.889" diameter="1.651"/>\n<text x="-1.905" y="11.43" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="0.254" y="-1.905" size="0.635" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-11.43" x2="1.27" y2="11.43" layer="39"/>\n</package>\n<package name="1X16P-2.54-2.54-11.6-3.0-BLACK-MALE">\n<wire x1="-1.27" y1="20.32" x2="1.27" y2="20.32" width="0.127" layer="21"/>\n<wire x1="1.27" y1="20.32" x2="1.27" y2="-20.32" width="0.127" layer="21"/>\n<wire x1="1.27" y1="-20.32" x2="-1.27" y2="-20.32" width="0.127" layer="21"/>\n<wire x1="-1.27" y1="-20.32" x2="-1.27" y2="20.32" width="0.127" layer="21"/>\n<pad name="1" x="0" y="19.05" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="0" y="16.51" drill="0.889" diameter="1.651"/>\n<pad name="3" x="0" y="13.97" drill="0.889" diameter="1.651"/>\n<pad name="4" x="0" y="11.43" drill="0.889" diameter="1.651"/>\n<pad name="5" x="0" y="8.89" drill="0.889" diameter="1.651"/>\n<pad name="6" x="0" y="6.35" drill="0.889" diameter="1.651"/>\n<pad name="7" x="0" y="3.81" drill="0.889" diameter="1.651"/>\n<pad name="8" x="0" y="1.27" drill="0.889" diameter="1.651"/>\n<pad name="9" x="0" y="-1.27" drill="0.889" diameter="1.651"/>\n<pad name="10" x="0" y="-3.81" drill="0.889" diameter="1.651"/>\n<pad name="11" x="0" y="-6.35" drill="0.889" diameter="1.651"/>\n<pad name="12" x="0" y="-8.89" drill="0.889" diameter="1.651"/>\n<pad name="13" x="0" y="-11.43" drill="0.889" diameter="1.651"/>\n<pad name="14" x="0" y="-13.97" drill="0.889" diameter="1.651"/>\n<pad name="15" x="0" y="-16.51" drill="0.889" diameter="1.651"/>\n<pad name="16" x="0" y="-19.05" drill="0.889" diameter="1.651"/>\n<text x="-1.905" y="10.16" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="0.254" y="-1.905" size="0.635" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<rectangle x1="-1.27" y1="-20.32" x2="1.27" y2="20.32" layer="39"/>\n</package>\n<package name="2X02">\n<description>&lt;b&gt;PIN HEADER&lt;/b&gt;</description>\n<wire x1="-2.54" y1="-1.905" x2="-1.905" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="-2.54" x2="0" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="0" y1="-1.905" x2="0.635" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="-2.54" x2="2.54" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="-1.905" x2="-2.54" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="-2.54" y1="1.905" x2="-1.905" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="2.54" x2="-0.635" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="-0.635" y1="2.54" x2="0" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="0" y1="1.905" x2="0.635" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="0.635" y1="2.54" x2="1.905" y2="2.54" width="0.1524" layer="21"/>\n<wire x1="1.905" y1="2.54" x2="2.54" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="0" y1="1.905" x2="0" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="2.54" y1="1.905" x2="2.54" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="0.635" y1="-2.54" x2="1.905" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="-2.54" x2="-0.635" y2="-2.54" width="0.1524" layer="21"/>\n<pad name="1" x="-1.27" y="-1.27" drill="1.016" shape="octagon"/>\n<pad name="2" x="-1.27" y="1.27" drill="1.016" shape="octagon"/>\n<pad name="3" x="1.27" y="-1.27" drill="1.016" shape="octagon"/>\n<pad name="4" x="1.27" y="1.27" drill="1.016" shape="octagon"/>\n<text x="-2.54" y="3.175" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-2.54" y="-4.445" size="1.27" layer="27">&gt;VALUE</text>\n<rectangle x1="-1.524" y1="-1.524" x2="-1.016" y2="-1.016" layer="51"/>\n<rectangle x1="-1.524" y1="1.016" x2="-1.016" y2="1.524" layer="51"/>\n<rectangle x1="1.016" y1="1.016" x2="1.524" y2="1.524" layer="51"/>\n<rectangle x1="1.016" y1="-1.524" x2="1.524" y2="-1.016" layer="51"/>\n</package>\n<package name="2X4P-2.54-65/35MIL">\n<wire x1="-2.54" y1="5.08" x2="2.54" y2="5.08" width="0.127" layer="21"/>\n<wire x1="2.54" y1="5.08" x2="2.54" y2="-5.08" width="0.127" layer="21"/>\n<wire x1="2.54" y1="-5.08" x2="-2.54" y2="-5.08" width="0.127" layer="21"/>\n<wire x1="-2.54" y1="-5.08" x2="-2.54" y2="5.08" width="0.127" layer="21"/>\n<pad name="1" x="-1.27" y="3.81" drill="0.889" diameter="1.651" shape="square"/>\n<pad name="2" x="-1.27" y="1.27" drill="0.889" diameter="1.651"/>\n<pad name="3" x="-1.27" y="-1.27" drill="0.889" diameter="1.651"/>\n<pad name="4" x="-1.27" y="-3.81" drill="0.889" diameter="1.651"/>\n<pad name="5" x="1.27" y="-3.81" drill="0.889" diameter="1.651"/>\n<pad name="6" x="1.27" y="-1.27" drill="0.889" diameter="1.651"/>\n<pad name="7" x="1.27" y="1.27" drill="0.889" diameter="1.651"/>\n<pad name="8" x="1.27" y="3.81" drill="0.889" diameter="1.651"/>\n<text x="-3.175" y="-1.905" size="0.889" layer="21" ratio="11" rot="R90">&gt;NAME</text>\n<text x="3.81" y="-1.905" size="0.889" layer="27" ratio="11" rot="R90">&gt;VALUE</text>\n<rectangle x1="-2.54" y1="-5.08" x2="2.54" y2="5.08" layer="39"/>\n</package>\n<package name="CR2032H">\n<description>&lt;b&gt;LI BATTERY&lt;/b&gt; Varta</description>\n<wire x1="-0.635" y1="8.255" x2="0.635" y2="8.255" width="0.254" layer="21"/>\n<wire x1="0" y1="8.89" x2="0" y2="7.62" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-8.89" x2="0.635" y2="-8.89" width="0.254" layer="21"/>\n<wire x1="-3.556" y1="11.049" x2="-6.604" y2="11.049" width="0.1524" layer="51"/>\n<wire x1="-6.604" y1="11.049" x2="-6.604" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="6.604" y1="-2.54" x2="6.604" y2="11.049" width="0.1524" layer="21"/>\n<wire x1="-6.604" y1="-2.54" x2="-1.27" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="3.175" x2="-1.27" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="3.175" x2="1.27" y2="3.175" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-2.54" x2="1.27" y2="3.175" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-2.54" x2="6.604" y2="-2.54" width="0.1524" layer="21"/>\n<wire x1="-6.698" y1="7.5979" x2="10.033" y2="0" width="0.1524" layer="21" curve="227.397154"/>\n<wire x1="3.556" y1="11.049" x2="-3.556" y2="11.049" width="0.1524" layer="21"/>\n<wire x1="6.477" y1="11.049" x2="3.556" y2="11.049" width="0.1524" layer="51"/>\n<wire x1="6.6203" y1="7.6668" x2="10.0331" y2="0" width="0.1524" layer="21" curve="-49.440271"/>\n<pad name="+@1" x="-5.08" y="10.795" drill="1.1176" diameter="2.54" shape="octagon"/>\n<pad name="+" x="5.08" y="10.795" drill="1.1176" diameter="2.54" shape="octagon"/>\n<pad name="-" x="0" y="-6.985" drill="1.1176" diameter="2.54" shape="octagon"/>\n<text x="-2.54" y="11.43" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="5.08" y="-1.905" size="1.27" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<text x="-2.921" y="-5.08" size="1.27" layer="21" ratio="10">Lit.3V</text>\n</package>\n<package name="M251">\n<description>&lt;b&gt;SLIDING SWITCH&lt;/b&gt;&lt;p&gt;\nMors, distributor Buerklin, 11G702</description>\n<wire x1="-1.27" y1="1.524" x2="-0.762" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="-1.778" y1="1.27" x2="-1.778" y2="-1.27" width="0.1524" layer="51"/>\n<wire x1="-3.302" y1="1.524" x2="-3.048" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="-0.254" y1="1.524" x2="-0.254" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-0.254" y1="-1.524" x2="-0.508" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-2.286" y1="1.524" x2="-2.286" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-2.794" y1="1.524" x2="-2.794" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-3.048" y1="-1.524" x2="-3.302" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="1.524" x2="-0.254" y2="1.524" width="0.1524" layer="51"/>\n<wire x1="3.302" y1="-1.27" x2="3.302" y2="1.27" width="0.1524" layer="51"/>\n<wire x1="-0.762" y1="-1.524" x2="-1.27" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="-1.524" x2="-1.778" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-2.286" y1="-1.524" x2="-2.794" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-2.286" y1="1.524" x2="-2.794" y2="1.524" width="0.1524" layer="51"/>\n<wire x1="-2.032" y1="1.524" x2="-1.778" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="-1.524" x2="-0.254" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="3.302" y1="-1.524" x2="3.048" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="2.032" y1="-1.524" x2="3.048" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="2.032" y1="-1.524" x2="0.508" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="3.302" y1="1.524" x2="3.048" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="2.032" y1="1.524" x2="3.048" y2="1.524" width="0.1524" layer="51"/>\n<wire x1="0.508" y1="1.524" x2="-0.254" y2="1.524" width="0.1524" layer="51"/>\n<wire x1="0.508" y1="1.524" x2="2.032" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="3.937" x2="6.985" y2="3.302" width="0.1524" layer="21" curve="-90"/>\n<wire x1="-6.985" y1="-3.302" x2="-6.35" y2="-3.937" width="0.1524" layer="21" curve="90"/>\n<wire x1="-6.985" y1="3.302" x2="-6.35" y2="3.937" width="0.1524" layer="21" curve="-90"/>\n<wire x1="6.35" y1="-3.937" x2="6.985" y2="-3.302" width="0.1524" layer="21" curve="90"/>\n<wire x1="-6.985" y1="-3.302" x2="-6.985" y2="3.302" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="-3.937" x2="-6.35" y2="-3.937" width="0.1524" layer="21"/>\n<wire x1="6.985" y1="-3.302" x2="6.985" y2="3.302" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="3.937" x2="-6.35" y2="3.937" width="0.1524" layer="21"/>\n<wire x1="-0.762" y1="-1.27" x2="-0.762" y2="1.27" width="0.1524" layer="51"/>\n<wire x1="-0.762" y1="1.524" x2="-0.762" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-0.762" y1="-1.27" x2="-0.762" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="-1.524" x2="-1.27" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="3.302" y1="1.524" x2="3.302" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="3.302" y1="-1.27" x2="3.302" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-0.762" y1="1.524" x2="-0.508" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="-0.762" y1="-1.524" x2="-0.508" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-3.302" y1="-1.27" x2="-3.302" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-3.302" y1="1.27" x2="-3.302" y2="-1.27" width="0.1524" layer="51"/>\n<wire x1="-3.302" y1="1.524" x2="-3.302" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-3.048" y1="-1.524" x2="-2.794" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-2.286" y1="-1.524" x2="-2.032" y2="-1.524" width="0.1524" layer="51"/>\n<wire x1="-1.778" y1="-1.27" x2="-1.778" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-1.778" y1="-1.524" x2="-2.032" y2="-1.524" width="0.1524" layer="21"/>\n<wire x1="-1.778" y1="1.27" x2="-1.778" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="-1.778" y1="1.524" x2="-1.27" y2="1.524" width="0.1524" layer="21"/>\n<wire x1="-2.032" y1="1.524" x2="-2.286" y2="1.524" width="0.1524" layer="51"/>\n<wire x1="-2.794" y1="1.524" x2="-3.048" y2="1.524" width="0.1524" layer="51"/>\n<pad name="1" x="-2.54" y="0" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="0" y="0" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="2.54" y="0" drill="0.8128" shape="long" rot="R90"/>\n<text x="-5.715" y="-0.889" size="1.778" layer="21" ratio="10">1</text>\n<text x="4.318" y="-0.889" size="1.778" layer="21" ratio="10">2</text>\n<text x="-5.715" y="2.032" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-5.715" y="-3.302" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="DIP02YL-DPST">\n<description>&lt;b&gt;DIL/CODE SWITCH DPST&lt;/b&gt;&lt;p&gt;</description>\n<wire x1="3.81" y1="-3.81" x2="3.81" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="3.81" x2="-3.81" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-1.27" y1="-1.27" x2="1.27" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="1.27" y1="-1.27" x2="1.27" y2="1.27" width="0.254" layer="21"/>\n<wire x1="1.27" y1="1.27" x2="-1.27" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-1.27" y1="1.27" x2="-1.27" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-1.27" y1="-0.635" x2="1.27" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.27" y1="-0.9398" x2="1.27" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="3.81" y1="-3.81" x2="2.032" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="-3.81" x2="-2.032" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="3.81" x2="-2.032" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="3.81" x2="2.032" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-2.032" y1="-3.81" x2="-0.508" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-0.508" y1="-3.81" x2="0.508" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="-3.81" x2="2.032" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="2.032" y1="3.81" x2="0.508" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="0.508" y1="3.81" x2="-0.508" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="3.81" x2="-2.032" y2="3.81" width="0.1524" layer="51"/>\n<circle x="-2.794" y="-2.794" radius="0.254" width="0.1524" layer="21"/>\n<pad name="1" x="-1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="-1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<text x="-1.651" y="-3.048" size="1.27" layer="51" ratio="10">1</text>\n<text x="0.889" y="-3.048" size="1.27" layer="51" ratio="10">2</text>\n<text x="-4.1402" y="-3.7592" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="3.5052" y="-3.1496" size="1.27" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<text x="-1.651" y="1.7018" size="1.27" layer="51" ratio="10">ON</text>\n</package>\n<package name="DIP04YL">\n<description>&lt;b&gt;DIL/CODE SWITCH&lt;/b&gt;&lt;p&gt;</description>\n<wire x1="6.35" y1="-3.81" x2="6.35" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-6.35" y1="3.81" x2="-6.35" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-4.445" y1="-1.27" x2="-3.175" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-1.27" x2="-3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="1.27" x2="-4.445" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="1.27" x2="-4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-1.27" x2="-0.635" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-1.27" x2="-0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="1.27" x2="-1.905" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="1.27" x2="-1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-1.27" x2="1.905" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-1.27" x2="1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="1.905" y1="1.27" x2="0.635" y2="1.27" width="0.254" layer="21"/>\n<wire x1="0.635" y1="1.27" x2="0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.9398" x2="-3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.9398" x2="-4.445" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-0.9398" x2="-3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.635" x2="-3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.635" x2="-4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-0.635" x2="-3.175" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.9398" x2="-0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.9398" x2="-1.905" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-0.9398" x2="-0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-0.635" x2="-0.635" y2="1.27" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.9398" x2="1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.9398" x2="0.635" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-0.9398" x2="1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.635" x2="1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.635" x2="0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-0.635" x2="1.905" y2="1.27" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-1.27" x2="4.445" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-1.27" x2="4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="4.445" y1="1.27" x2="3.175" y2="1.27" width="0.254" layer="21"/>\n<wire x1="3.175" y1="1.27" x2="3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.9398" x2="4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.9398" x2="3.175" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-0.9398" x2="4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.635" x2="4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.635" x2="3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-0.635" x2="4.445" y2="1.27" width="0.254" layer="21"/>\n<wire x1="6.35" y1="-3.81" x2="4.572" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-6.35" y1="-3.81" x2="-4.572" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-6.35" y1="3.81" x2="-4.572" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="3.81" x2="4.572" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-4.572" y1="-3.81" x2="-3.048" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-3.048" y1="-3.81" x2="-2.032" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-2.032" y1="-3.81" x2="-0.508" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-0.508" y1="-3.81" x2="0.508" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="-3.81" x2="2.032" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="2.032" y1="-3.81" x2="3.048" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="3.048" y1="-3.81" x2="4.572" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="4.572" y1="3.81" x2="3.048" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="3.048" y1="3.81" x2="2.032" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="2.032" y1="3.81" x2="0.508" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="0.508" y1="3.81" x2="-0.508" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="3.81" x2="-2.032" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="-2.032" y1="3.81" x2="-3.048" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-3.048" y1="3.81" x2="-4.572" y2="3.81" width="0.1524" layer="51"/>\n<circle x="-5.334" y="-2.794" radius="0.254" width="0.1524" layer="21"/>\n<pad name="1" x="-3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="-1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="5" x="3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="6" x="1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="7" x="-1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="8" x="-3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<text x="-4.191" y="-3.048" size="1.27" layer="51" ratio="10">1</text>\n<text x="-1.651" y="-3.048" size="1.27" layer="51" ratio="10">2</text>\n<text x="0.889" y="-3.048" size="1.27" layer="51" ratio="10">3</text>\n<text x="3.429" y="-3.048" size="1.27" layer="51" ratio="10">4</text>\n<text x="-6.6802" y="-3.7592" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="6.0452" y="-3.1496" size="1.27" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<text x="-4.191" y="1.7018" size="1.27" layer="51" ratio="10">ON</text>\n</package>\n<package name="DIP06YL">\n<description>&lt;b&gt;DIL/CODE SWITCH&lt;/b&gt;&lt;p&gt;</description>\n<wire x1="8.89" y1="-3.81" x2="8.89" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="3.81" x2="-8.89" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-6.985" y1="-1.27" x2="-5.715" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-5.715" y1="-1.27" x2="-5.715" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-5.715" y1="1.27" x2="-6.985" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-6.985" y1="1.27" x2="-6.985" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-1.27" x2="-3.175" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-1.27" x2="-3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="1.27" x2="-4.445" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="1.27" x2="-4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-1.27" x2="-0.635" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-1.27" x2="-0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="1.27" x2="-1.905" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="1.27" x2="-1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-6.985" y1="-0.9398" x2="-5.715" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-6.985" y1="-0.9398" x2="-6.985" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-5.715" y1="-0.9398" x2="-5.715" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-6.985" y1="-0.635" x2="-5.715" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-6.985" y1="-0.635" x2="-6.985" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-5.715" y1="-0.635" x2="-5.715" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.9398" x2="-3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.9398" x2="-4.445" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-0.9398" x2="-3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.635" x2="-3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-4.445" y1="-0.635" x2="-4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-0.635" x2="-3.175" y2="1.27" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.9398" x2="-0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.9398" x2="-1.905" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-0.9398" x2="-0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-0.635" x2="-0.635" y2="1.27" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-1.27" x2="1.905" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-1.27" x2="1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="1.905" y1="1.27" x2="0.635" y2="1.27" width="0.254" layer="21"/>\n<wire x1="0.635" y1="1.27" x2="0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.9398" x2="1.905" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.9398" x2="0.635" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-0.9398" x2="1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.635" x2="1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="0.635" y1="-0.635" x2="0.635" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="1.905" y1="-0.635" x2="1.905" y2="1.27" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-1.27" x2="4.445" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-1.27" x2="4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="4.445" y1="1.27" x2="3.175" y2="1.27" width="0.254" layer="21"/>\n<wire x1="3.175" y1="1.27" x2="3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.9398" x2="4.445" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.9398" x2="3.175" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-0.9398" x2="4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.635" x2="4.445" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="3.175" y1="-0.635" x2="3.175" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="4.445" y1="-0.635" x2="4.445" y2="1.27" width="0.254" layer="21"/>\n<wire x1="5.715" y1="-1.27" x2="6.985" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="6.985" y1="-1.27" x2="6.985" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="6.985" y1="1.27" x2="5.715" y2="1.27" width="0.254" layer="21"/>\n<wire x1="5.715" y1="1.27" x2="5.715" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="5.715" y1="-0.9398" x2="6.985" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="5.715" y1="-0.9398" x2="5.715" y2="-1.27" width="0.254" layer="21"/>\n<wire x1="6.985" y1="-0.9398" x2="6.985" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="5.715" y1="-0.635" x2="6.985" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="5.715" y1="-0.635" x2="5.715" y2="-0.9398" width="0.254" layer="21"/>\n<wire x1="6.985" y1="-0.635" x2="6.985" y2="1.27" width="0.254" layer="21"/>\n<wire x1="8.89" y1="-3.81" x2="7.112" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="-3.81" x2="-7.112" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-8.89" y1="3.81" x2="-7.112" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="8.89" y1="3.81" x2="7.112" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-7.112" y1="-3.81" x2="-5.588" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-5.588" y1="-3.81" x2="-4.572" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-4.572" y1="-3.81" x2="-3.048" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-3.048" y1="-3.81" x2="-2.032" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-2.032" y1="-3.81" x2="-0.508" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="-0.508" y1="-3.81" x2="0.508" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="0.508" y1="-3.81" x2="2.032" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="2.032" y1="-3.81" x2="3.048" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="3.048" y1="-3.81" x2="4.572" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="4.572" y1="-3.81" x2="5.588" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="5.588" y1="-3.81" x2="7.112" y2="-3.81" width="0.1524" layer="51"/>\n<wire x1="7.112" y1="3.81" x2="5.588" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="5.588" y1="3.81" x2="4.572" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="4.572" y1="3.81" x2="3.048" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="3.048" y1="3.81" x2="2.032" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="2.032" y1="3.81" x2="0.508" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="0.508" y1="3.81" x2="-0.508" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="3.81" x2="-2.032" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="-2.032" y1="3.81" x2="-3.048" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-3.048" y1="3.81" x2="-4.572" y2="3.81" width="0.1524" layer="51"/>\n<wire x1="-4.572" y1="3.81" x2="-5.588" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-5.588" y1="3.81" x2="-7.112" y2="3.81" width="0.1524" layer="51"/>\n<circle x="-7.874" y="-2.794" radius="0.254" width="0.1524" layer="21"/>\n<pad name="1" x="-6.35" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="-3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="-1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="1.27" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="5" x="3.81" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="6" x="6.35" y="-3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="7" x="6.35" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="8" x="3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="9" x="1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="10" x="-1.27" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="11" x="-3.81" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<pad name="12" x="-6.35" y="3.81" drill="0.8128" shape="long" rot="R90"/>\n<text x="-6.731" y="-3.048" size="1.27" layer="51" ratio="10">1</text>\n<text x="-4.191" y="-3.048" size="1.27" layer="51" ratio="10">2</text>\n<text x="-1.651" y="-3.048" size="1.27" layer="51" ratio="10">3</text>\n<text x="0.889" y="-3.048" size="1.27" layer="51" ratio="10">4</text>\n<text x="3.429" y="-3.048" size="1.27" layer="51" ratio="10">5</text>\n<text x="5.969" y="-3.048" size="1.27" layer="51" ratio="10">6</text>\n<text x="-9.2202" y="-3.7592" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="8.5852" y="-3.1496" size="1.27" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n<text x="-6.731" y="1.7018" size="1.27" layer="51" ratio="10">ON</text>\n</package>\n<package name="M3XXH">\n<description>&lt;b&gt;RELAY&lt;/b&gt;&lt;p&gt;\n1 x switch</description>\n<wire x1="-7.874" y1="5.461" x2="-6.985" y2="5.461" width="0.1524" layer="21"/>\n<wire x1="-6.985" y1="5.461" x2="-5.715" y2="5.461" width="0.1524" layer="51"/>\n<wire x1="-5.715" y1="5.461" x2="-4.445" y2="5.461" width="0.1524" layer="21"/>\n<wire x1="-4.445" y1="5.461" x2="-3.175" y2="5.461" width="0.1524" layer="51"/>\n<wire x1="-3.175" y1="5.461" x2="7.874" y2="5.461" width="0.1524" layer="21"/>\n<wire x1="7.874" y1="-5.461" x2="7.874" y2="5.461" width="0.1524" layer="21"/>\n<wire x1="7.874" y1="-5.461" x2="-3.175" y2="-5.461" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="-5.461" x2="-4.445" y2="-5.461" width="0.1524" layer="51"/>\n<wire x1="-4.445" y1="-5.461" x2="-5.715" y2="-5.461" width="0.1524" layer="21"/>\n<wire x1="-5.715" y1="-5.461" x2="-6.985" y2="-5.461" width="0.1524" layer="51"/>\n<wire x1="-6.985" y1="-5.461" x2="-7.874" y2="-5.461" width="0.1524" layer="21"/>\n<wire x1="-7.874" y1="5.461" x2="-7.874" y2="-5.461" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="-2.286" x2="6.35" y2="0" width="0.1524" layer="21"/>\n<wire x1="-5.334" y1="0" x2="-6.604" y2="-0.889" width="0.1524" layer="21"/>\n<wire x1="-6.35" y1="-2.032" x2="-6.35" y2="-0.762" width="0.1524" layer="21"/>\n<wire x1="-6.35" y1="2.032" x2="-6.35" y2="0.889" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="-0.762" x2="-2.413" y2="-2.794" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-2.794" x2="1.27" y2="-0.762" width="0.1524" layer="21"/>\n<wire x1="1.27" y1="-0.762" x2="0.127" y2="-0.762" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="3.81" x2="-0.508" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="-0.762" x2="-0.508" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="-0.762" x2="-2.413" y2="-0.762" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="-2.794" x2="-0.508" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="-2.794" x2="1.27" y2="-2.794" width="0.1524" layer="21"/>\n<wire x1="-0.508" y1="-3.81" x2="-2.413" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="-2.794" x2="-1.143" y2="-2.794" width="0.1524" layer="21"/>\n<wire x1="-1.143" y1="-2.794" x2="-0.508" y2="-2.794" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="-0.762" x2="-1.143" y2="-2.794" width="0.1524" layer="21"/>\n<wire x1="0.127" y1="-0.762" x2="-0.508" y2="-0.762" width="0.1524" layer="21"/>\n<wire x1="-5.334" y1="0" x2="6.35" y2="0" width="0.1524" layer="21"/>\n<wire x1="6.35" y1="0" x2="6.35" y2="2.286" width="0.1524" layer="21"/>\n<circle x="6.35" y="0" radius="0.254" width="0.254" layer="21"/>\n<pad name="P" x="6.35" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="P@" x="6.35" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="2" x="-3.81" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="O" x="-6.35" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="S" x="-6.35" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="1" x="-3.81" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<text x="9.525" y="-5.461" size="1.27" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="-8.255" y="-5.461" size="1.27" layer="27" ratio="10" rot="R90">&gt;VALUE</text>\n</package>\n<package name="G6A-234P">\n<description>&lt;b&gt;RELAY&lt;/b&gt;&lt;p&gt;\n2 x switch, 0.3 A/125 V AC, 1 A/30 V DC, Omron</description>\n<wire x1="-5.08" y1="1.27" x2="-3.81" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="1.27" x2="-3.81" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="1.27" x2="-5.08" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-3.81" y1="-1.27" x2="-5.08" y2="-1.27" width="0.1524" layer="21"/>\n<wire x1="-2.413" y1="3.81" x2="-1.905" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="3.81" x2="-1.905" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="0.635" x2="-3.175" y2="0.635" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="0.635" x2="-3.175" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="-0.635" x2="-0.635" y2="0.635" width="0.254" layer="21"/>\n<wire x1="-0.635" y1="0.635" x2="-1.905" y2="0.635" width="0.254" layer="21"/>\n<wire x1="-3.175" y1="-0.635" x2="-1.905" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-1.905" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-1.905" y1="-0.635" x2="-0.635" y2="-0.635" width="0.254" layer="21"/>\n<wire x1="-1.905" y1="-3.81" x2="-2.413" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="-0.635" x2="-0.635" y2="0.635" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="2.413" x2="3.81" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="1.905" x2="11.43" y2="1.905" width="0.1524" layer="21"/>\n<wire x1="11.43" y1="1.905" x2="11.43" y2="3.175" width="0.1524" layer="21"/>\n<wire x1="11.43" y1="3.175" x2="10.795" y2="3.81" width="0.254" layer="21"/>\n<wire x1="10.2362" y1="3.81" x2="10.795" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="12.065" y1="3.81" x2="12.5222" y2="3.81" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="-2.413" x2="3.81" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="3.81" y1="-1.905" x2="11.43" y2="-1.905" width="0.1524" layer="21"/>\n<wire x1="11.43" y1="-1.905" x2="11.43" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="11.43" y1="-3.175" x2="10.795" y2="-3.81" width="0.254" layer="21"/>\n<wire x1="10.2362" y1="-3.81" x2="10.795" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="10.795" y1="-3.81" x2="10.4902" y2="-4.1402" width="0.254" layer="21"/>\n<wire x1="12.065" y1="-3.81" x2="12.5222" y2="-3.81" width="0.1524" layer="21"/>\n<wire x1="10.795" y1="3.81" x2="10.4902" y2="4.1402" width="0.254" layer="21"/>\n<wire x1="-3.302" y1="-1.778" x2="-2.54" y2="-1.778" width="0.1524" layer="21"/>\n<wire x1="-2.921" y1="-2.159" x2="-2.921" y2="-1.397" width="0.1524" layer="21"/>\n<wire x1="15.24" y1="-5.08" x2="15.24" y2="-4.445" width="0.1524" layer="21"/>\n<wire x1="15.24" y1="-3.175" x2="15.24" y2="-4.445" width="0.1524" layer="51"/>\n<wire x1="15.24" y1="-5.08" x2="14.605" y2="-5.08" width="0.1524" layer="21"/>\n<wire x1="13.335" y1="-5.08" x2="14.605" y2="-5.08" width="0.1524" layer="51"/>\n<wire x1="15.24" y1="5.08" x2="15.24" y2="4.445" width="0.1524" layer="21"/>\n<wire x1="15.24" y1="3.175" x2="15.24" y2="4.445" width="0.1524" layer="51"/>\n<wire x1="15.24" y1="3.175" x2="15.24" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="15.24" y1="5.08" x2="14.605" y2="5.08" width="0.1524" layer="21"/>\n<wire x1="13.335" y1="5.08" x2="14.605" y2="5.08" width="0.1524" layer="51"/>\n<wire x1="13.335" y1="5.08" x2="9.525" y2="5.08" width="0.1524" layer="21"/>\n<wire x1="8.255" y1="5.08" x2="9.525" y2="5.08" width="0.1524" layer="51"/>\n<wire x1="8.255" y1="5.08" x2="4.445" y2="5.08" width="0.1524" layer="21"/>\n<wire x1="3.175" y1="5.08" x2="4.445" y2="5.08" width="0.1524" layer="51"/>\n<wire x1="-5.08" y1="5.08" x2="-4.445" y2="5.08" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="5.08" x2="-4.445" y2="5.08" width="0.1524" layer="51"/>\n<wire x1="-3.175" y1="5.08" x2="3.175" y2="5.08" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="5.08" x2="-5.08" y2="4.445" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="3.175" x2="-5.08" y2="4.445" width="0.1524" layer="51"/>\n<wire x1="-5.08" y1="3.175" x2="-5.08" y2="1.27" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-1.27" x2="-5.08" y2="-3.175" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-4.445" x2="-5.08" y2="-3.175" width="0.1524" layer="51"/>\n<wire x1="-5.08" y1="-4.445" x2="-5.08" y2="-5.08" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="-5.08" x2="-4.445" y2="-5.08" width="0.1524" layer="21"/>\n<wire x1="-3.175" y1="-5.08" x2="-4.445" y2="-5.08" width="0.1524" layer="51"/>\n<wire x1="-3.175" y1="-5.08" x2="3.175" y2="-5.08" width="0.1524" layer="21"/>\n<wire x1="4.445" y1="-5.08" x2="3.175" y2="-5.08" width="0.1524" layer="51"/>\n<wire x1="13.335" y1="-5.08" x2="9.525" y2="-5.08" width="0.1524" layer="21"/>\n<wire x1="8.255" y1="-5.08" x2="9.525" y2="-5.08" width="0.1524" layer="51"/>\n<wire x1="8.255" y1="-5.08" x2="4.445" y2="-5.08" width="0.1524" layer="21"/>\n<pad name="1" x="-3.81" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="P1" x="3.81" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="O1" x="8.89" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="S1" x="13.97" y="-3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="S2" x="13.97" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="O2" x="8.89" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="P2" x="3.81" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<pad name="16" x="-3.81" y="3.81" drill="1.016" shape="long" rot="R90"/>\n<text x="17.399" y="-5.08" size="1.778" layer="25" ratio="10" rot="R90">&gt;NAME</text>\n<text x="14.605" y="-1.905" size="1.27" layer="51" ratio="10" rot="R90">G6A</text>\n<text x="1.651" y="-0.889" size="1.778" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="PIEZO-12MM">\n<circle x="0" y="0" radius="6.096" width="0.1524" layer="21"/>\n<pad name="P$1" x="-3.25" y="0" drill="1" diameter="2.54"/>\n<pad name="P$2" x="3.25" y="0" drill="1" diameter="2.54"/>\n<text x="-2.54" y="6.35" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.8862" y="-3.81" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="PIEZO-22MM">\n<circle x="0" y="0" radius="11.096" width="0.1524" layer="21"/>\n<pad name="P$1" x="-5" y="0" drill="1" diameter="2.54"/>\n<pad name="P$2" x="5" y="0" drill="1" diameter="2.54"/>\n<text x="-2.54" y="11.35" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.8862" y="-3.81" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="PHOTORESISTOR-2.54">\n<circle x="0" y="0" radius="2.5" width="0.1524" layer="21"/>\n<pad name="P$1" x="-1.27" y="0" drill="1" diameter="1.5"/>\n<pad name="P$2" x="1.27" y="0" drill="1" diameter="1.5"/>\n<text x="-2.54" y="3.2" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-3.8862" y="-3.81" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="SNR6-D19.0MM">\n<circle x="0" y="0" radius="8.5" width="0.127" layer="21"/>\n<circle x="0" y="0" radius="8" width="0.127" layer="21"/>\n<circle x="0" y="0" radius="4.75" width="0.127" layer="51"/>\n<circle x="0" y="0" radius="4.75" width="0.127" layer="39"/>\n<pad name="1" x="-3.355" y="3.355" drill="1.3" diameter="2" rot="R135"/>\n<pad name="2" x="-3.355" y="-3.355" drill="1.3" diameter="2"/>\n<pad name="3" x="3.355" y="3.355" drill="1.3" diameter="2" rot="R45"/>\n<pad name="4" x="3.355" y="-3.355" drill="1.3" diameter="2"/>\n<pad name="5" x="0" y="4.75" drill="1.3" diameter="2"/>\n<pad name="6" x="0" y="-4.75" drill="1.3" diameter="2"/>\n<text x="-1.905" y="8.89" size="0.889" layer="25" ratio="11">&gt;NAME</text>\n<text x="-1.905" y="0" size="0.889" layer="27" ratio="11">&gt;VALUE</text>\n</package>\n<package name="7-SEGMENT-CC">\n<description>&lt;b&gt;LED DISPLAY&lt;/b&gt;&lt;p&gt;\n15-mm 1 character 7 segment, decimal point right</description>\n<wire x1="5.08" y1="-8.89" x2="5.08" y2="8.89" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="8.89" x2="5.08" y2="8.89" width="0.1524" layer="21"/>\n<wire x1="-5.08" y1="8.89" x2="-5.08" y2="-8.89" width="0.1524" layer="21"/>\n<wire x1="5.08" y1="-8.89" x2="-5.08" y2="-8.89" width="0.1524" layer="21"/>\n<wire x1="4.4704" y1="-6.35" x2="4.6482" y2="-6.35" width="0.3048" layer="51"/>\n<wire x1="4.7498" y1="6.2738" x2="4.064" y2="5.588" width="0.4064" layer="51"/>\n<wire x1="4.064" y1="5.588" x2="3.2258" y2="0.7874" width="0.4064" layer="51"/>\n<wire x1="3.2258" y1="0.7874" x2="3.7084" y2="0.3048" width="0.4064" layer="51"/>\n<wire x1="3.7084" y1="0.3048" x2="4.318" y2="0.9144" width="0.4064" layer="51"/>\n<wire x1="4.318" y1="0.9144" x2="5.1562" y2="5.8674" width="0.4064" layer="51"/>\n<wire x1="5.1562" y1="5.8674" x2="4.7498" y2="6.2738" width="0.4064" layer="51"/>\n<wire x1="4.2926" y1="6.731" x2="3.6576" y2="6.096" width="0.4064" layer="51"/>\n<wire x1="3.6576" y1="6.096" x2="-1.6256" y2="6.096" width="0.4064" layer="51"/>\n<wire x1="-1.6256" y1="6.096" x2="-2.3114" y2="6.7818" width="0.4064" layer="51"/>\n<wire x1="-2.3114" y1="6.7818" x2="-1.9812" y2="7.112" width="0.4064" layer="51"/>\n<wire x1="-1.9812" y1="7.112" x2="3.9116" y2="7.112" width="0.4064" layer="51"/>\n<wire x1="3.9116" y1="7.112" x2="4.2926" y2="6.731" width="0.4064" layer="51"/>\n<wire x1="-2.7686" y1="6.3246" x2="-2.1336" y2="5.6896" width="0.4064" layer="51"/>\n<wire x1="-2.1336" y1="5.6896" x2="-2.9718" y2="0.8128" width="0.4064" layer="51"/>\n<wire x1="-2.9718" y1="0.8128" x2="-3.556" y2="0.2286" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="0.2286" x2="-4.0386" y2="0.7112" width="0.4064" layer="51"/>\n<wire x1="-4.0386" y1="0.7112" x2="-3.1242" y2="5.969" width="0.4064" layer="51"/>\n<wire x1="-3.1242" y1="5.969" x2="-2.7686" y2="6.3246" width="0.4064" layer="51"/>\n<wire x1="-3.0734" y1="-0.254" x2="-2.4384" y2="0.381" width="0.4064" layer="51"/>\n<wire x1="-2.4384" y1="0.381" x2="2.6924" y2="0.381" width="0.4064" layer="51"/>\n<wire x1="2.6924" y1="0.381" x2="3.2004" y2="-0.127" width="0.4064" layer="51"/>\n<wire x1="3.2004" y1="-0.127" x2="2.6924" y2="-0.635" width="0.4064" layer="51"/>\n<wire x1="2.6924" y1="-0.635" x2="-2.6924" y2="-0.635" width="0.4064" layer="51"/>\n<wire x1="-2.6924" y1="-0.635" x2="-3.0734" y2="-0.254" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="-0.7366" x2="-3.302" y2="-0.9906" width="0.4064" layer="51"/>\n<wire x1="-4.7498" y1="-6.5532" x2="-4.1656" y2="-5.969" width="0.4064" layer="51"/>\n<wire x1="-4.1656" y1="-5.969" x2="-3.302" y2="-0.9906" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="-0.7366" x2="-4.445" y2="-1.6256" width="0.4064" layer="51"/>\n<wire x1="-4.445" y1="-1.6256" x2="-5.2324" y2="-6.0706" width="0.4064" layer="51"/>\n<wire x1="-5.2324" y1="-6.0706" x2="-4.7498" y2="-6.5532" width="0.4064" layer="51"/>\n<wire x1="-4.2672" y1="-7.0358" x2="-3.5814" y2="-6.35" width="0.4064" layer="51"/>\n<wire x1="-3.5814" y1="-6.35" x2="1.6764" y2="-6.35" width="0.4064" layer="51"/>\n<wire x1="1.6764" y1="-6.35" x2="2.3622" y2="-7.0358" width="0.4064" layer="51"/>\n<wire x1="2.3622" y1="-7.0358" x2="2.032" y2="-7.366" width="0.4064" layer="51"/>\n<wire x1="2.032" y1="-7.366" x2="-3.937" y2="-7.366" width="0.4064" layer="51"/>\n<wire x1="-3.937" y1="-7.366" x2="-4.2672" y2="-7.0358" width="0.4064" layer="51"/>\n<wire x1="3.683" y1="-0.5842" x2="2.8448" y2="-1.4224" width="0.4064" layer="51"/>\n<wire x1="2.8448" y1="-1.4224" x2="2.0828" y2="-5.8166" width="0.4064" layer="51"/>\n<wire x1="2.0828" y1="-5.8166" x2="2.8448" y2="-6.5786" width="0.4064" layer="51"/>\n<wire x1="2.8448" y1="-6.5786" x2="3.048" y2="-6.3754" width="0.4064" layer="51"/>\n<wire x1="3.048" y1="-6.3754" x2="3.9624" y2="-0.8636" width="0.4064" layer="51"/>\n<wire x1="3.9624" y1="-0.8636" x2="3.683" y2="-0.5842" width="0.4064" layer="51"/>\n<wire x1="3.4798" y1="-1.1684" x2="2.6416" y2="-5.9944" width="0.8128" layer="51"/>\n<wire x1="1.778" y1="-6.858" x2="-3.683" y2="-6.858" width="0.8128" layer="51"/>\n<wire x1="-4.6482" y1="-5.9436" x2="-3.7846" y2="-1.2954" width="0.8128" layer="51"/>\n<wire x1="-3.5306" y1="0.8382" x2="-2.667" y2="5.715" width="0.8128" layer="51"/>\n<wire x1="-1.7526" y1="6.604" x2="3.81" y2="6.604" width="0.8128" layer="51"/>\n<wire x1="4.572" y1="5.7658" x2="3.7592" y2="0.9144" width="0.8128" layer="51"/>\n<wire x1="2.667" y1="-0.127" x2="-2.5146" y2="-0.127" width="0.8128" layer="51"/>\n<circle x="4.572" y="-6.35" radius="0.381" width="0.762" layer="51"/>\n<pad name="1" x="-3.81" y="7.62" drill="0.8128" shape="long"/>\n<pad name="2" x="-3.81" y="5.12" drill="0.8128" shape="long"/>\n<pad name="4" x="-3.81" y="0" drill="0.8128" shape="long"/>\n<pad name="6" x="-3.81" y="-5.08" drill="0.8128" shape="long"/>\n<pad name="7" x="-3.81" y="-7.62" drill="0.8128" shape="long"/>\n<pad name="8" x="3.81" y="-7.62" drill="0.8128" shape="long"/>\n<pad name="9" x="3.81" y="-5.08" drill="0.8128" shape="long"/>\n<pad name="12" x="3.81" y="2.54" drill="0.8128" shape="long"/>\n<pad name="13" x="3.81" y="5.08" drill="0.8128" shape="long"/>\n<pad name="14" x="3.81" y="7.62" drill="0.8128" shape="long"/>\n<text x="-5.08" y="9" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-5.08" y="-10.3" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="HDSP-M">\n<description>&lt;b&gt;LED DISPLAY&lt;/b&gt;&lt;p&gt;\n15-mm 1 character 7 segment, decimal point right</description>\n<wire x1="6.223" y1="-8.509" x2="6.223" y2="8.509" width="0.1524" layer="21"/>\n<wire x1="-6.223" y1="8.509" x2="6.223" y2="8.509" width="0.1524" layer="21"/>\n<wire x1="-6.223" y1="8.509" x2="-6.223" y2="-8.509" width="0.1524" layer="21"/>\n<wire x1="6.223" y1="-8.509" x2="-6.223" y2="-8.509" width="0.1524" layer="21"/>\n<wire x1="4.4704" y1="-6.35" x2="4.6482" y2="-6.35" width="0.3048" layer="51"/>\n<wire x1="4.7498" y1="6.2738" x2="4.064" y2="5.588" width="0.4064" layer="51"/>\n<wire x1="4.064" y1="5.588" x2="3.2258" y2="0.7874" width="0.4064" layer="51"/>\n<wire x1="3.2258" y1="0.7874" x2="3.7084" y2="0.3048" width="0.4064" layer="51"/>\n<wire x1="3.7084" y1="0.3048" x2="4.318" y2="0.9144" width="0.4064" layer="51"/>\n<wire x1="4.318" y1="0.9144" x2="5.1562" y2="5.8674" width="0.4064" layer="51"/>\n<wire x1="5.1562" y1="5.8674" x2="4.7498" y2="6.2738" width="0.4064" layer="51"/>\n<wire x1="4.2926" y1="6.731" x2="3.6576" y2="6.096" width="0.4064" layer="51"/>\n<wire x1="3.6576" y1="6.096" x2="-1.6256" y2="6.096" width="0.4064" layer="51"/>\n<wire x1="-1.6256" y1="6.096" x2="-2.3114" y2="6.7818" width="0.4064" layer="51"/>\n<wire x1="-2.3114" y1="6.7818" x2="-1.9812" y2="7.112" width="0.4064" layer="51"/>\n<wire x1="-1.9812" y1="7.112" x2="3.9116" y2="7.112" width="0.4064" layer="51"/>\n<wire x1="3.9116" y1="7.112" x2="4.2926" y2="6.731" width="0.4064" layer="51"/>\n<wire x1="-2.7686" y1="6.3246" x2="-2.1336" y2="5.6896" width="0.4064" layer="51"/>\n<wire x1="-2.1336" y1="5.6896" x2="-2.9718" y2="0.8128" width="0.4064" layer="51"/>\n<wire x1="-2.9718" y1="0.8128" x2="-3.556" y2="0.2286" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="0.2286" x2="-4.0386" y2="0.7112" width="0.4064" layer="51"/>\n<wire x1="-4.0386" y1="0.7112" x2="-3.1242" y2="5.969" width="0.4064" layer="51"/>\n<wire x1="-3.1242" y1="5.969" x2="-2.7686" y2="6.3246" width="0.4064" layer="51"/>\n<wire x1="-3.0734" y1="-0.254" x2="-2.4384" y2="0.381" width="0.4064" layer="51"/>\n<wire x1="-2.4384" y1="0.381" x2="2.6924" y2="0.381" width="0.4064" layer="51"/>\n<wire x1="2.6924" y1="0.381" x2="3.2004" y2="-0.127" width="0.4064" layer="51"/>\n<wire x1="3.2004" y1="-0.127" x2="2.6924" y2="-0.635" width="0.4064" layer="51"/>\n<wire x1="2.6924" y1="-0.635" x2="-2.6924" y2="-0.635" width="0.4064" layer="51"/>\n<wire x1="-2.6924" y1="-0.635" x2="-3.0734" y2="-0.254" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="-0.7366" x2="-3.302" y2="-0.9906" width="0.4064" layer="51"/>\n<wire x1="-4.7498" y1="-6.5532" x2="-4.1656" y2="-5.969" width="0.4064" layer="51"/>\n<wire x1="-4.1656" y1="-5.969" x2="-3.302" y2="-0.9906" width="0.4064" layer="51"/>\n<wire x1="-3.556" y1="-0.7366" x2="-4.445" y2="-1.6256" width="0.4064" layer="51"/>\n<wire x1="-4.445" y1="-1.6256" x2="-5.2324" y2="-6.0706" width="0.4064" layer="51"/>\n<wire x1="-5.2324" y1="-6.0706" x2="-4.7498" y2="-6.5532" width="0.4064" layer="51"/>\n<wire x1="-4.2672" y1="-7.0358" x2="-3.5814" y2="-6.35" width="0.4064" layer="51"/>\n<wire x1="-3.5814" y1="-6.35" x2="1.6764" y2="-6.35" width="0.4064" layer="51"/>\n<wire x1="1.6764" y1="-6.35" x2="2.3622" y2="-7.0358" width="0.4064" layer="51"/>\n<wire x1="2.3622" y1="-7.0358" x2="2.032" y2="-7.366" width="0.4064" layer="51"/>\n<wire x1="2.032" y1="-7.366" x2="-3.937" y2="-7.366" width="0.4064" layer="51"/>\n<wire x1="-3.937" y1="-7.366" x2="-4.2672" y2="-7.0358" width="0.4064" layer="51"/>\n<wire x1="3.683" y1="-0.5842" x2="2.8448" y2="-1.4224" width="0.4064" layer="51"/>\n<wire x1="2.8448" y1="-1.4224" x2="2.0828" y2="-5.8166" width="0.4064" layer="51"/>\n<wire x1="2.0828" y1="-5.8166" x2="2.8448" y2="-6.5786" width="0.4064" layer="51"/>\n<wire x1="2.8448" y1="-6.5786" x2="3.048" y2="-6.3754" width="0.4064" layer="51"/>\n<wire x1="3.048" y1="-6.3754" x2="3.9624" y2="-0.8636" width="0.4064" layer="51"/>\n<wire x1="3.9624" y1="-0.8636" x2="3.683" y2="-0.5842" width="0.4064" layer="51"/>\n<wire x1="3.4798" y1="-1.1684" x2="2.6416" y2="-5.9944" width="0.8128" layer="51"/>\n<wire x1="1.778" y1="-6.858" x2="-3.683" y2="-6.858" width="0.8128" layer="51"/>\n<wire x1="-4.6482" y1="-5.9436" x2="-3.7846" y2="-1.2954" width="0.8128" layer="51"/>\n<wire x1="-3.5306" y1="0.8382" x2="-2.667" y2="5.715" width="0.8128" layer="51"/>\n<wire x1="-1.7526" y1="6.604" x2="3.81" y2="6.604" width="0.8128" layer="51"/>\n<wire x1="4.572" y1="5.7658" x2="3.7592" y2="0.9144" width="0.8128" layer="51"/>\n<wire x1="2.667" y1="-0.127" x2="-2.5146" y2="-0.127" width="0.8128" layer="51"/>\n<circle x="4.572" y="-6.35" radius="0.381" width="0.762" layer="51"/>\n<pad name="1" x="-5.08" y="-7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="2" x="-2.54" y="-7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="3" x="0" y="-7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="4" x="2.54" y="-7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="5" x="5.08" y="-7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="6" x="5.08" y="7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="7" x="2.54" y="7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="8" x="0" y="7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="9" x="-2.54" y="7.62" drill="0.8128" shape="long" rot="R90"/>\n<pad name="10" x="-5.08" y="7.62" drill="0.8128" shape="long" rot="R90"/>\n<text x="-6.223" y="8.9662" size="1.27" layer="25" ratio="10">&gt;NAME</text>\n<text x="-6.223" y="-10.2108" size="1.27" layer="27" ratio="10">&gt;VALUE</text>\n</package>\n<package name="ARDUINO_UNO">\n<description>Footprint for representing an Arduino Uno board in an EAGLE schematic.</description>\n<wire x1="66.04" y1="2.54" x2="66.04" y2="1.016" width="0.127" layer="20"/>\n<wire x1="66.04" y1="1.016" x2="65.024" y2="0" width="0.127" layer="20" curve="-90"/>\n<wire x1="65.024" y1="0" x2="1.016" y2="0" width="0.127" layer="20"/>\n<wire x1="1.016" y1="0" x2="0" y2="1.016" width="0.127" layer="20" curve="-90"/>\n<wire x1="0" y1="1.016" x2="0" y2="52.2986" width="0.127" layer="20"/>\n<wire x1="0" y1="52.2986" x2="1.016" y2="53.3146" width="0.127" layer="20" curve="-90"/>\n<wire x1="1.016" y1="53.3146" x2="64.77" y2="53.3146" width="0.127" layer="20"/>\n<wire x1="64.77" y1="53.3146" x2="66.04" y2="52.0446" width="0.127" layer="20"/>\n<wire x1="66.04" y1="52.0446" x2="66.04" y2="40.6146" width="0.127" layer="20"/>\n<wire x1="66.04" y1="40.6146" x2="68.58" y2="38.0746" width="0.127" layer="20"/>\n<wire x1="68.58" y1="38.0746" x2="68.58" y2="5.08" width="0.127" layer="20"/>\n<wire x1="68.58" y1="5.08" x2="66.04" y2="2.54" width="0.127" layer="20"/>\n<hole x="66.04" y="7.62" drill="3.2"/>\n<hole x="66.04" y="35.56" drill="3.2"/>\n<hole x="15.24" y="50.8" drill="3.2"/>\n<hole x="13.97" y="2.54" drill="3.2"/>\n<wire x1="60.325" y1="52.07" x2="61.595" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="61.595" y1="52.07" x2="62.23" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="62.23" y1="50.165" x2="61.595" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="57.15" y1="51.435" x2="57.785" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="57.785" y1="52.07" x2="59.055" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="59.055" y1="52.07" x2="59.69" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="59.69" y1="50.165" x2="59.055" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="59.055" y1="49.53" x2="57.785" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="57.785" y1="49.53" x2="57.15" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="60.325" y1="52.07" x2="59.69" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="59.69" y1="50.165" x2="60.325" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="61.595" y1="49.53" x2="60.325" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="52.705" y1="52.07" x2="53.975" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="53.975" y1="52.07" x2="54.61" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="54.61" y1="50.165" x2="53.975" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="54.61" y1="51.435" x2="55.245" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="55.245" y1="52.07" x2="56.515" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="56.515" y1="52.07" x2="57.15" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="57.15" y1="50.165" x2="56.515" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="56.515" y1="49.53" x2="55.245" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="55.245" y1="49.53" x2="54.61" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="49.53" y1="51.435" x2="50.165" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="50.165" y1="52.07" x2="51.435" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="51.435" y1="52.07" x2="52.07" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="52.07" y1="50.165" x2="51.435" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="51.435" y1="49.53" x2="50.165" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="50.165" y1="49.53" x2="49.53" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="52.705" y1="52.07" x2="52.07" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="52.07" y1="50.165" x2="52.705" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="53.975" y1="49.53" x2="52.705" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="45.085" y1="52.07" x2="46.355" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="46.355" y1="52.07" x2="46.99" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="46.99" y1="50.165" x2="46.355" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="46.99" y1="51.435" x2="47.625" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="47.625" y1="52.07" x2="48.895" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="48.895" y1="52.07" x2="49.53" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="49.53" y1="50.165" x2="48.895" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="48.895" y1="49.53" x2="47.625" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="47.625" y1="49.53" x2="46.99" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="44.45" y1="51.435" x2="44.45" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="45.085" y1="52.07" x2="44.45" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="44.45" y1="50.165" x2="45.085" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="46.355" y1="49.53" x2="45.085" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="62.865" y1="52.07" x2="64.135" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="64.135" y1="52.07" x2="64.77" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="64.77" y1="51.435" x2="64.77" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="64.77" y1="50.165" x2="64.135" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="62.865" y1="52.07" x2="62.23" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="62.23" y1="50.165" x2="62.865" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="64.135" y1="49.53" x2="62.865" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="38.481" y1="52.07" x2="39.751" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="39.751" y1="52.07" x2="40.386" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="40.386" y1="50.165" x2="39.751" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="35.306" y1="51.435" x2="35.941" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="35.941" y1="52.07" x2="37.211" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="37.211" y1="52.07" x2="37.846" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="37.846" y1="50.165" x2="37.211" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="37.211" y1="49.53" x2="35.941" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="35.941" y1="49.53" x2="35.306" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="38.481" y1="52.07" x2="37.846" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="37.846" y1="50.165" x2="38.481" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="39.751" y1="49.53" x2="38.481" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="30.861" y1="52.07" x2="32.131" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="32.131" y1="52.07" x2="32.766" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="32.766" y1="50.165" x2="32.131" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="32.766" y1="51.435" x2="33.401" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="33.401" y1="52.07" x2="34.671" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="34.671" y1="52.07" x2="35.306" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="35.306" y1="50.165" x2="34.671" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="34.671" y1="49.53" x2="33.401" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="33.401" y1="49.53" x2="32.766" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="27.686" y1="51.435" x2="28.321" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="28.321" y1="52.07" x2="29.591" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="29.591" y1="52.07" x2="30.226" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="30.226" y1="50.165" x2="29.591" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="29.591" y1="49.53" x2="28.321" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="28.321" y1="49.53" x2="27.686" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="30.861" y1="52.07" x2="30.226" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="30.226" y1="50.165" x2="30.861" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="32.131" y1="49.53" x2="30.861" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="23.241" y1="52.07" x2="24.511" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="24.511" y1="52.07" x2="25.146" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="25.146" y1="50.165" x2="24.511" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="25.146" y1="51.435" x2="25.781" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="25.781" y1="52.07" x2="27.051" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="27.051" y1="52.07" x2="27.686" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="27.686" y1="50.165" x2="27.051" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="27.051" y1="49.53" x2="25.781" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="25.781" y1="49.53" x2="25.146" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="23.241" y1="52.07" x2="22.606" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="22.606" y1="50.165" x2="23.241" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="24.511" y1="49.53" x2="23.241" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="41.021" y1="52.07" x2="42.291" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="42.291" y1="52.07" x2="42.926" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="42.926" y1="51.435" x2="42.926" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="42.926" y1="50.165" x2="42.291" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="41.021" y1="52.07" x2="40.386" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="40.386" y1="50.165" x2="41.021" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="42.291" y1="49.53" x2="41.021" y2="49.53" width="0.2032" layer="21"/>\n<pad name="6" x="48.26" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="5" x="50.8" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="4" x="53.34" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="3" x="55.88" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="2" x="58.42" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="1" x="60.96" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="0" x="63.5" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="7" x="45.72" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="GND" x="26.416" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="13" x="28.956" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="12" x="31.496" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="11" x="34.036" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="10" x="36.576" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="9" x="39.116" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="8" x="41.656" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="AREF" x="23.876" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<text x="25.654" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">GND</text>\n<text x="23.241" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">AREF</text>\n<rectangle x1="60.706" y1="50.546" x2="61.214" y2="51.054" layer="51"/>\n<rectangle x1="58.166" y1="50.546" x2="58.674" y2="51.054" layer="51"/>\n<rectangle x1="55.626" y1="50.546" x2="56.134" y2="51.054" layer="51"/>\n<rectangle x1="53.086" y1="50.546" x2="53.594" y2="51.054" layer="51"/>\n<rectangle x1="50.546" y1="50.546" x2="51.054" y2="51.054" layer="51"/>\n<rectangle x1="48.006" y1="50.546" x2="48.514" y2="51.054" layer="51"/>\n<rectangle x1="45.466" y1="50.546" x2="45.974" y2="51.054" layer="51"/>\n<rectangle x1="63.246" y1="50.546" x2="63.754" y2="51.054" layer="51"/>\n<rectangle x1="38.862" y1="50.546" x2="39.37" y2="51.054" layer="51"/>\n<rectangle x1="36.322" y1="50.546" x2="36.83" y2="51.054" layer="51"/>\n<rectangle x1="33.782" y1="50.546" x2="34.29" y2="51.054" layer="51"/>\n<rectangle x1="31.242" y1="50.546" x2="31.75" y2="51.054" layer="51"/>\n<rectangle x1="28.702" y1="50.546" x2="29.21" y2="51.054" layer="51"/>\n<rectangle x1="26.162" y1="50.546" x2="26.67" y2="51.054" layer="51"/>\n<rectangle x1="23.622" y1="50.546" x2="24.13" y2="51.054" layer="51"/>\n<rectangle x1="41.402" y1="50.546" x2="41.91" y2="51.054" layer="51"/>\n<wire x1="20.701" y1="52.07" x2="21.971" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="21.971" y1="52.07" x2="22.606" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="22.606" y1="50.165" x2="21.971" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="20.701" y1="52.07" x2="20.066" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="20.066" y1="50.165" x2="20.701" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="21.971" y1="49.53" x2="20.701" y2="49.53" width="0.2032" layer="21"/>\n<pad name="SDA" x="21.336" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<rectangle x1="21.082" y1="50.546" x2="21.59" y2="51.054" layer="51"/>\n<wire x1="18.161" y1="52.07" x2="19.431" y2="52.07" width="0.2032" layer="21"/>\n<wire x1="19.431" y1="52.07" x2="20.066" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="20.066" y1="50.165" x2="19.431" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="17.526" y1="51.435" x2="17.526" y2="50.165" width="0.2032" layer="21"/>\n<wire x1="18.161" y1="52.07" x2="17.526" y2="51.435" width="0.2032" layer="21"/>\n<wire x1="17.526" y1="50.165" x2="18.161" y2="49.53" width="0.2032" layer="21"/>\n<wire x1="19.431" y1="49.53" x2="18.161" y2="49.53" width="0.2032" layer="21"/>\n<pad name="SCL" x="18.796" y="50.8" drill="1.016" diameter="1.8796" rot="R90"/>\n<rectangle x1="18.542" y1="50.546" x2="19.05" y2="51.054" layer="51"/>\n<wire x1="62.23" y1="3.175" x2="62.865" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="62.865" y1="3.81" x2="64.135" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="64.135" y1="3.81" x2="64.77" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="64.77" y1="1.905" x2="64.135" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="64.135" y1="1.27" x2="62.865" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="62.865" y1="1.27" x2="62.23" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="57.785" y1="3.81" x2="59.055" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="59.055" y1="3.81" x2="59.69" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="59.69" y1="1.905" x2="59.055" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="59.69" y1="3.175" x2="60.325" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="60.325" y1="3.81" x2="61.595" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="61.595" y1="3.81" x2="62.23" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="62.23" y1="1.905" x2="61.595" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="61.595" y1="1.27" x2="60.325" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="60.325" y1="1.27" x2="59.69" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="54.61" y1="3.175" x2="55.245" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="55.245" y1="3.81" x2="56.515" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="56.515" y1="3.81" x2="57.15" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="57.15" y1="1.905" x2="56.515" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="56.515" y1="1.27" x2="55.245" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="55.245" y1="1.27" x2="54.61" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="57.785" y1="3.81" x2="57.15" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="57.15" y1="1.905" x2="57.785" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="59.055" y1="1.27" x2="57.785" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="50.165" y1="3.81" x2="51.435" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="51.435" y1="3.81" x2="52.07" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="52.07" y1="1.905" x2="51.435" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="52.07" y1="3.175" x2="52.705" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="52.705" y1="3.81" x2="53.975" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="53.975" y1="3.81" x2="54.61" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="54.61" y1="1.905" x2="53.975" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="53.975" y1="1.27" x2="52.705" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="52.705" y1="1.27" x2="52.07" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="49.53" y1="3.175" x2="49.53" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="50.165" y1="3.81" x2="49.53" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="49.53" y1="1.905" x2="50.165" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="51.435" y1="1.27" x2="50.165" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="44.45" y1="3.175" x2="45.085" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="45.085" y1="3.81" x2="46.355" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="46.355" y1="3.81" x2="46.99" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="46.99" y1="1.905" x2="46.355" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="46.355" y1="1.27" x2="45.085" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="45.085" y1="1.27" x2="44.45" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="40.005" y1="3.81" x2="41.275" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="41.275" y1="3.81" x2="41.91" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="41.91" y1="1.905" x2="41.275" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="41.91" y1="3.175" x2="42.545" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="42.545" y1="3.81" x2="43.815" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="43.815" y1="3.81" x2="44.45" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="44.45" y1="1.905" x2="43.815" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="43.815" y1="1.27" x2="42.545" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="42.545" y1="1.27" x2="41.91" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="36.83" y1="3.175" x2="37.465" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="37.465" y1="3.81" x2="38.735" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="38.735" y1="3.81" x2="39.37" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="39.37" y1="1.905" x2="38.735" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="38.735" y1="1.27" x2="37.465" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="37.465" y1="1.27" x2="36.83" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="40.005" y1="3.81" x2="39.37" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="39.37" y1="1.905" x2="40.005" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="41.275" y1="1.27" x2="40.005" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="32.385" y1="3.81" x2="33.655" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="33.655" y1="3.81" x2="34.29" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="34.29" y1="1.905" x2="33.655" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="34.29" y1="3.175" x2="34.925" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="34.925" y1="3.81" x2="36.195" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="36.195" y1="3.81" x2="36.83" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="36.83" y1="1.905" x2="36.195" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="36.195" y1="1.27" x2="34.925" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="34.925" y1="1.27" x2="34.29" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="32.385" y1="3.81" x2="31.75" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="31.75" y1="1.905" x2="32.385" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="33.655" y1="1.27" x2="32.385" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="46.99" y1="3.175" x2="46.99" y2="1.905" width="0.2032" layer="21"/>\n<pad name="A1" x="53.34" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="A2" x="55.88" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="A3" x="58.42" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="A4" x="60.96" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="A5" x="63.5" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="A0" x="50.8" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="RESET" x="33.02" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="3.3V" x="35.56" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="5V" x="38.1" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="GND.." x="40.64" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="GND." x="43.18" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<pad name="VIN" x="45.72" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<text x="51.562" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A0</text>\n<text x="53.848" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A1</text>\n<text x="56.642" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A2</text>\n<text x="59.182" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A3</text>\n<text x="61.722" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A4</text>\n<text x="64.135" y="4.5974" size="1.4224" layer="21" font="vector" ratio="15" rot="R90">A5</text>\n<text x="33.528" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">RESET</text>\n<text x="36.068" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">3.3V</text>\n<text x="38.608" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">5V</text>\n<text x="41.148" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">GND</text>\n<text x="43.688" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">GND</text>\n<text x="46.228" y="4.5974" size="1.016" layer="21" font="vector" ratio="15" rot="R90">Vin</text>\n<rectangle x1="63.246" y1="2.286" x2="63.754" y2="2.794" layer="51"/>\n<rectangle x1="60.706" y1="2.286" x2="61.214" y2="2.794" layer="51"/>\n<rectangle x1="58.166" y1="2.286" x2="58.674" y2="2.794" layer="51"/>\n<rectangle x1="55.626" y1="2.286" x2="56.134" y2="2.794" layer="51"/>\n<rectangle x1="53.086" y1="2.286" x2="53.594" y2="2.794" layer="51"/>\n<rectangle x1="50.546" y1="2.286" x2="51.054" y2="2.794" layer="51"/>\n<rectangle x1="45.466" y1="2.286" x2="45.974" y2="2.794" layer="51"/>\n<rectangle x1="42.926" y1="2.286" x2="43.434" y2="2.794" layer="51"/>\n<rectangle x1="40.386" y1="2.286" x2="40.894" y2="2.794" layer="51"/>\n<rectangle x1="37.846" y1="2.286" x2="38.354" y2="2.794" layer="51"/>\n<rectangle x1="35.306" y1="2.286" x2="35.814" y2="2.794" layer="51"/>\n<rectangle x1="32.766" y1="2.286" x2="33.274" y2="2.794" layer="51"/>\n<wire x1="29.845" y1="3.81" x2="31.115" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="31.115" y1="3.81" x2="31.75" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="31.75" y1="1.905" x2="31.115" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="29.845" y1="3.81" x2="29.21" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="29.21" y1="1.905" x2="29.845" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="31.115" y1="1.27" x2="29.845" y2="1.27" width="0.2032" layer="21"/>\n<pad name="I/OREF" x="30.48" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<rectangle x1="30.226" y1="2.286" x2="30.734" y2="2.794" layer="51"/>\n<wire x1="27.305" y1="3.81" x2="28.575" y2="3.81" width="0.2032" layer="21"/>\n<wire x1="28.575" y1="3.81" x2="29.21" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="29.21" y1="1.905" x2="28.575" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="26.67" y1="3.175" x2="26.67" y2="1.905" width="0.2032" layer="21"/>\n<wire x1="27.305" y1="3.81" x2="26.67" y2="3.175" width="0.2032" layer="21"/>\n<wire x1="26.67" y1="1.905" x2="27.305" y2="1.27" width="0.2032" layer="21"/>\n<wire x1="28.575" y1="1.27" x2="27.305" y2="1.27" width="0.2032" layer="21"/>\n<pad name="N/C" x="27.94" y="2.54" drill="1.016" diameter="1.8796" rot="R90"/>\n<rectangle x1="27.686" y1="2.286" x2="28.194" y2="2.794" layer="51"/>\n<wire x1="-6.35" y1="32.385" x2="9.525" y2="32.385" width="0.127" layer="21"/>\n<wire x1="9.525" y1="32.385" x2="9.525" y2="43.815" width="0.127" layer="21"/>\n<wire x1="9.525" y1="43.815" x2="-6.35" y2="43.815" width="0.127" layer="21"/>\n<wire x1="-6.35" y1="43.815" x2="-6.35" y2="32.385" width="0.127" layer="21"/>\n<wire x1="-1.778" y1="3.2766" x2="11.7348" y2="3.2766" width="0.127" layer="21"/>\n<wire x1="11.7348" y1="3.2766" x2="11.7348" y2="12.2174" width="0.127" layer="21"/>\n<wire x1="11.7348" y1="12.2174" x2="-1.778" y2="12.2174" width="0.127" layer="21"/>\n<wire x1="-1.778" y1="12.2174" x2="-1.778" y2="3.2766" width="0.127" layer="21"/>\n<text x="62.865" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">0</text>\n<text x="60.325" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">1</text>\n<text x="57.785" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">2</text>\n<text x="55.118" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">3</text>\n<text x="52.705" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">4</text>\n<text x="50.165" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">5</text>\n<text x="47.752" y="48.895" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">6</text>\n<text x="45.212" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">7</text>\n<text x="41.021" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">8</text>\n<text x="38.481" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">9</text>\n<text x="35.941" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">10</text>\n<text x="33.274" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">11</text>\n<text x="30.734" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">12</text>\n<text x="28.194" y="49.022" size="1.4224" layer="21" font="vector" ratio="15" rot="R270">13</text>\n</package>\n<package name="ARDUINO_MICRO">\n<description>Footprint for representing an Arduino Micro board in an EAGLE schematic. Created by Dave Young for Element14. More EAGLE documentation at: http://www.element14.com/community/community/knode/cadsoft_eagle</description>\n<pad name="A0" x="11.43" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="A1" x="13.97" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="A2" x="16.51" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="A3" x="19.05" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="A4" x="21.59" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="A5" x="24.13" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="REF" x="8.89" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="23.876" y1="1.016" x2="24.384" y2="1.524" layer="51"/>\n<rectangle x1="21.336" y1="1.016" x2="21.844" y2="1.524" layer="51"/>\n<rectangle x1="18.796" y1="1.016" x2="19.304" y2="1.524" layer="51"/>\n<rectangle x1="16.256" y1="1.016" x2="16.764" y2="1.524" layer="51"/>\n<rectangle x1="13.716" y1="1.016" x2="14.224" y2="1.524" layer="51"/>\n<rectangle x1="11.176" y1="1.016" x2="11.684" y2="1.524" layer="51"/>\n<rectangle x1="8.636" y1="1.016" x2="9.144" y2="1.524" layer="51"/>\n<pad name="3V3" x="6.35" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="6.096" y1="1.016" x2="6.604" y2="1.524" layer="51"/>\n<pad name="D13" x="3.81" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="3.556" y1="1.016" x2="4.064" y2="1.524" layer="51"/>\n<wire x1="0" y1="0" x2="0" y2="17.78" width="0.127" layer="20"/>\n<wire x1="0" y1="17.78" x2="48.26" y2="17.78" width="0.127" layer="20"/>\n<wire x1="48.26" y1="17.78" x2="48.26" y2="0" width="0.127" layer="20"/>\n<wire x1="48.26" y1="0" x2="0" y2="0" width="0.127" layer="20"/>\n<pad name="+5V" x="31.75" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="RST." x="34.29" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="GND." x="36.83" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="VIN" x="39.37" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="MISO]" x="41.91" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="SCK" x="44.45" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="NC." x="29.21" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="44.196" y1="1.016" x2="44.704" y2="1.524" layer="51"/>\n<rectangle x1="41.656" y1="1.016" x2="42.164" y2="1.524" layer="51"/>\n<rectangle x1="39.116" y1="1.016" x2="39.624" y2="1.524" layer="51"/>\n<rectangle x1="36.576" y1="1.016" x2="37.084" y2="1.524" layer="51"/>\n<rectangle x1="34.036" y1="1.016" x2="34.544" y2="1.524" layer="51"/>\n<rectangle x1="31.496" y1="1.016" x2="32.004" y2="1.524" layer="51"/>\n<rectangle x1="28.956" y1="1.016" x2="29.464" y2="1.524" layer="51"/>\n<pad name="NC" x="26.67" y="1.27" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="26.416" y1="1.016" x2="26.924" y2="1.524" layer="51"/>\n<pad name="D9" x="11.43" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D8" x="13.97" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D7" x="16.51" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D6" x="19.05" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D5" x="21.59" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D4" x="24.13" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D10" x="8.89" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="23.876" y1="16.256" x2="24.384" y2="16.764" layer="51"/>\n<rectangle x1="21.336" y1="16.256" x2="21.844" y2="16.764" layer="51"/>\n<rectangle x1="18.796" y1="16.256" x2="19.304" y2="16.764" layer="51"/>\n<rectangle x1="16.256" y1="16.256" x2="16.764" y2="16.764" layer="51"/>\n<rectangle x1="13.716" y1="16.256" x2="14.224" y2="16.764" layer="51"/>\n<rectangle x1="11.176" y1="16.256" x2="11.684" y2="16.764" layer="51"/>\n<rectangle x1="8.636" y1="16.256" x2="9.144" y2="16.764" layer="51"/>\n<pad name="D11" x="6.35" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="6.096" y1="16.256" x2="6.604" y2="16.764" layer="51"/>\n<pad name="D12" x="3.81" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="3.556" y1="16.256" x2="4.064" y2="16.764" layer="51"/>\n<pad name="GND" x="31.75" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="RST" x="34.29" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="RX1" x="36.83" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="TX1" x="39.37" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="SS" x="41.91" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="MOSI" x="44.45" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<pad name="D2" x="29.21" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="44.196" y1="16.256" x2="44.704" y2="16.764" layer="51"/>\n<rectangle x1="41.656" y1="16.256" x2="42.164" y2="16.764" layer="51"/>\n<rectangle x1="39.116" y1="16.256" x2="39.624" y2="16.764" layer="51"/>\n<rectangle x1="36.576" y1="16.256" x2="37.084" y2="16.764" layer="51"/>\n<rectangle x1="34.036" y1="16.256" x2="34.544" y2="16.764" layer="51"/>\n<rectangle x1="31.496" y1="16.256" x2="32.004" y2="16.764" layer="51"/>\n<rectangle x1="28.956" y1="16.256" x2="29.464" y2="16.764" layer="51"/>\n<pad name="D3" x="26.67" y="16.51" drill="1.016" diameter="1.5748" rot="R90"/>\n<rectangle x1="26.416" y1="16.256" x2="26.924" y2="16.764" layer="51"/>\n<hole x="1.27" y="1.27" drill="1.2"/>\n<hole x="1.27" y="16.51" drill="1.2"/>\n<hole x="46.99" y="16.51" drill="1.2"/>\n<hole x="46.99" y="1.27" drill="1.2"/>\n<wire x1="-0.8382" y1="5.3086" x2="4.2418" y2="5.3086" width="0.127" layer="21"/>\n<wire x1="4.2418" y1="5.3086" x2="4.2418" y2="12.3698" width="0.127" layer="21"/>\n<wire x1="4.2418" y1="12.3698" x2="-0.8382" y2="12.3698" width="0.127" layer="21"/>\n<wire x1="-0.8382" y1="12.3698" x2="-0.8382" y2="5.3086" width="0.127" layer="21"/>\n<text x="19.05" y="10.16" size="1.27" layer="21">Arduino</text>\n<text x="19.05" y="8.255" size="1.27" layer="21">Micro</text>\n<text x="4.826" y="15.875" size="0.508" layer="21">1\n2</text>\n<text x="7.366" y="15.875" size="0.508" layer="21">1\n1</text>\n<text x="9.906" y="15.875" size="0.508" layer="21">1\n0</text>\n<text x="12.446" y="16.256" size="0.508" layer="21">9</text>\n<text x="14.986" y="15.875" size="0.508" layer="21">8</text>\n<text x="17.526" y="15.875" size="0.508" layer="21">7</text>\n<text x="20.066" y="15.875" size="0.508" layer="21">6</text>\n<text x="22.606" y="15.875" size="0.508" layer="21">5</text>\n<text x="25.146" y="15.875" size="0.508" layer="21">4</text>\n<text x="27.686" y="15.875" size="0.508" layer="21">3</text>\n<text x="30.226" y="15.875" size="0.508" layer="21">2</text>\n<text x="32.766" y="15.875" size="0.508" layer="21">G</text>\n<text x="35.306" y="15.875" size="0.508" layer="21">R</text>\n<text x="37.846" y="15.875" size="0.508" layer="21">R\nX</text>\n<text x="40.386" y="15.875" size="0.508" layer="21">T\nX</text>\n<text x="42.926" y="15.875" size="0.508" layer="21">S\nS</text>\n<text x="43.688" y="14.986" size="0.508" layer="21">MOSI</text>\n<text x="47.244" y="2.921" size="0.508" layer="21">S\nC\nK</text>\n<text x="43.053" y="0.762" size="0.508" layer="21">M\nI</text>\n<text x="40.513" y="0.762" size="0.508" layer="21">V\nI</text>\n<text x="37.973" y="1.524" size="0.508" layer="21">G</text>\n<text x="35.306" y="0.762" size="0.508" layer="21">R\nS</text>\n<text x="32.766" y="0.762" size="0.508" layer="21">5\nV</text>\n<text x="25.146" y="0.635" size="0.508" layer="21">A\n5</text>\n<text x="22.606" y="0.635" size="0.508" layer="21">A\n4</text>\n<text x="20.066" y="0.635" size="0.508" layer="21">A\n3</text>\n<text x="17.526" y="0.635" size="0.508" layer="21">A\n2</text>\n<text x="14.986" y="0.635" size="0.508" layer="21">A\n1</text>\n<text x="12.446" y="0.635" size="0.508" layer="21">A\n0</text>\n<text x="10.033" y="0.635" size="0.508" layer="21">R\nF</text>\n<text x="7.366" y="0.635" size="0.508" layer="21">3\nV</text>\n<text x="4.826" y="0.635" size="0.508" layer="21">1\n3</text>\n<wire x1="47.244" y1="2.794" x2="46.482" y2="2.032" width="0.127" layer="21"/>\n<wire x1="46.482" y1="2.032" x2="45.085" y2="2.032" width="0.127" layer="21"/>\n</package>\n</packages>\n</library>\n</libraries>\n<attributes>\n</attributes>\n<variantdefs>\n</variantdefs>\n<classes>\n<class number="0" name="default" width="0" drill="0">\n</class>\n</classes>\n<designrules name="default">\n<description language="de">&lt;b&gt;EAGLE Design Rules&lt;/b&gt;\';\n&lt;p&gt;\';\nDie Standard-Design-Rules sind so gewählt, dass sie für \';\ndie meisten Anwendungen passen. Sollte ihre Platine \';\nbesondere Anforderungen haben, treffen Sie die erforderlichen\';\nEinstellungen hier und speichern die Design Rules unter \';\neinem neuen Namen ab.</description>\n<description language="en">&lt;b&gt;EAGLE Design Rules&lt;/b&gt;\';\n&lt;p&gt;\';\nThe default Design Rules have been set to cover\';\na wide range of applications. Your particular design\';\nmay have different requirements, so please make the\';\nnecessary adjustments and save your customized\';\ndesign rules under a new name.</description>\n<param name="layerSetup" value="(1*16)"/>\n<param name="mtCopper" value="0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm 0.035mm"/>\n<param name="mtIsolate" value="1.5mm 0.15mm 0.2mm 0.15mm 0.2mm 0.15mm 0.2mm 0.15mm 0.2mm 0.15mm 0.2mm 0.15mm 0.2mm 0.15mm 0.2mm"/>\n<param name="mdWireWire" value="8mil"/>\n<param name="mdWirePad" value="8mil"/>\n<param name="mdWireVia" value="8mil"/>\n<param name="mdPadPad" value="8mil"/>\n<param name="mdPadVia" value="8mil"/>\n<param name="mdViaVia" value="8mil"/>\n<param name="mdSmdPad" value="8mil"/>\n<param name="mdSmdVia" value="8mil"/>\n<param name="mdSmdSmd" value="8mil"/>\n<param name="mdViaViaSameLayer" value="8mil"/>\n<param name="mnLayersViaInSmd" value="2"/>\n<param name="mdCopperDimension" value="40mil"/>\n<param name="mdDrill" value="8mil"/>\n<param name="mdSmdStop" value="0mil"/>\n<param name="msWidth" value="10mil"/>\n<param name="msDrill" value="24mil"/>\n<param name="msMicroVia" value="9.99mm"/>\n<param name="msBlindViaRatio" value="0.5"/>\n<param name="rvPadTop" value="0.25"/>\n<param name="rvPadInner" value="0.25"/>\n<param name="rvPadBottom" value="0.25"/>\n<param name="rvViaOuter" value="0.25"/>\n<param name="rvViaInner" value="0.25"/>\n<param name="rvMicroViaOuter" value="0.25"/>\n<param name="rvMicroViaInner" value="0.25"/>\n<param name="rlMinPadTop" value="10mil"/>\n<param name="rlMaxPadTop" value="20mil"/>\n<param name="rlMinPadInner" value="10mil"/>\n<param name="rlMaxPadInner" value="20mil"/>\n<param name="rlMinPadBottom" value="10mil"/>\n<param name="rlMaxPadBottom" value="20mil"/>\n<param name="rlMinViaOuter" value="8mil"/>\n<param name="rlMaxViaOuter" value="20mil"/>\n<param name="rlMinViaInner" value="8mil"/>\n<param name="rlMaxViaInner" value="20mil"/>\n<param name="rlMinMicroViaOuter" value="4mil"/>\n<param name="rlMaxMicroViaOuter" value="20mil"/>\n<param name="rlMinMicroViaInner" value="4mil"/>\n<param name="rlMaxMicroViaInner" value="20mil"/>\n<param name="psTop" value="-1"/>\n<param name="psBottom" value="-1"/>\n<param name="psFirst" value="-1"/>\n<param name="psElongationLong" value="100"/>\n<param name="psElongationOffset" value="100"/>\n<param name="mvStopFrame" value="1"/>\n<param name="mvCreamFrame" value="0"/>\n<param name="mlMinStopFrame" value="4mil"/>\n<param name="mlMaxStopFrame" value="4mil"/>\n<param name="mlMinCreamFrame" value="0mil"/>\n<param name="mlMaxCreamFrame" value="0mil"/>\n<param name="mlViaStopLimit" value="0mil"/>\n<param name="srRoundness" value="0"/>\n<param name="srMinRoundness" value="0mil"/>\n<param name="srMaxRoundness" value="0mil"/>\n<param name="slThermalIsolate" value="10mil"/>\n<param name="slThermalsForVias" value="0"/>\n<param name="dpMaxLengthDifference" value="10mm"/>\n<param name="dpGapFactor" value="2.5"/>\n<param name="checkGrid" value="0"/>\n<param name="checkAngle" value="0"/>\n<param name="checkFont" value="1"/>\n<param name="checkRestrict" value="1"/>\n<param name="useDiameter" value="13"/>\n<param name="maxErrors" value="50"/>\n</designrules>\n<autorouter>\n<pass name="Default">\n<param name="RoutingGrid" value="50mil"/>\n<param name="AutoGrid" value="1"/>\n<param name="Efforts" value="0"/>\n<param name="TopRouterVariant" value="1"/>\n<param name="tpViaShape" value="round"/>\n<param name="PrefDir.1" value="a"/>\n<param name="PrefDir.2" value="0"/>\n<param name="PrefDir.3" value="0"/>\n<param name="PrefDir.4" value="0"/>\n<param name="PrefDir.5" value="0"/>\n<param name="PrefDir.6" value="0"/>\n<param name="PrefDir.7" value="0"/>\n<param name="PrefDir.8" value="0"/>\n<param name="PrefDir.9" value="0"/>\n<param name="PrefDir.10" value="0"/>\n<param name="PrefDir.11" value="0"/>\n<param name="PrefDir.12" value="0"/>\n<param name="PrefDir.13" value="0"/>\n<param name="PrefDir.14" value="0"/>\n<param name="PrefDir.15" value="0"/>\n<param name="PrefDir.16" value="a"/>\n<param name="cfVia" value="8"/>\n<param name="cfNonPref" value="5"/>\n<param name="cfChangeDir" value="2"/>\n<param name="cfOrthStep" value="2"/>\n<param name="cfDiagStep" value="3"/>\n<param name="cfExtdStep" value="0"/>\n<param name="cfBonusStep" value="1"/>\n<param name="cfMalusStep" value="1"/>\n<param name="cfPadImpact" value="4"/>\n<param name="cfSmdImpact" value="4"/>\n<param name="cfBusImpact" value="0"/>\n<param name="cfHugging" value="3"/>\n<param name="cfAvoid" value="4"/>\n<param name="cfPolygon" value="10"/>\n<param name="cfBase.1" value="0"/>\n<param name="cfBase.2" value="1"/>\n<param name="cfBase.3" value="1"/>\n<param name="cfBase.4" value="1"/>\n<param name="cfBase.5" value="1"/>\n<param name="cfBase.6" value="1"/>\n<param name="cfBase.7" value="1"/>\n<param name="cfBase.8" value="1"/>\n<param name="cfBase.9" value="1"/>\n<param name="cfBase.10" value="1"/>\n<param name="cfBase.11" value="1"/>\n<param name="cfBase.12" value="1"/>\n<param name="cfBase.13" value="1"/>\n<param name="cfBase.14" value="1"/>\n<param name="cfBase.15" value="1"/>\n<param name="cfBase.16" value="0"/>\n<param name="mnVias" value="20"/>\n<param name="mnSegments" value="9999"/>\n<param name="mnExtdSteps" value="9999"/>\n<param name="mnRipupLevel" value="10"/>\n<param name="mnRipupSteps" value="100"/>\n<param name="mnRipupTotal" value="100"/>\n</pass>\n<pass name="Follow-me" refer="Default" active="yes">\n</pass>\n<pass name="Busses" refer="Default" active="yes">\n<param name="cfNonPref" value="4"/>\n<param name="cfBusImpact" value="4"/>\n<param name="cfHugging" value="0"/>\n<param name="mnVias" value="0"/>\n</pass>\n<pass name="Route" refer="Default" active="yes">\n</pass>\n<pass name="Optimize1" refer="Default" active="yes">\n<param name="cfVia" value="99"/>\n<param name="cfExtdStep" value="10"/>\n<param name="cfHugging" value="1"/>\n<param name="mnExtdSteps" value="1"/>\n<param name="mnRipupLevel" value="0"/>\n</pass>\n<pass name="Optimize2" refer="Optimize1" active="yes">\n<param name="cfNonPref" value="0"/>\n<param name="cfChangeDir" value="6"/>\n<param name="cfExtdStep" value="0"/>\n<param name="cfBonusStep" value="2"/>\n<param name="cfMalusStep" value="2"/>\n<param name="cfPadImpact" value="2"/>\n<param name="cfSmdImpact" value="2"/>\n<param name="cfHugging" value="0"/>\n</pass>\n<pass name="Optimize3" refer="Optimize2" active="yes">\n<param name="cfChangeDir" value="8"/>\n<param name="cfPadImpact" value="0"/>\n<param name="cfSmdImpact" value="0"/>\n</pass>\n<pass name="Optimize4" refer="Optimize3" active="yes">\n<param name="cfChangeDir" value="25"/>\n</pass>\n</autorouter>\n<elements>\n</elements>\n<signals>\n</signals>\n</board>\n</drawing>\n</eagle>\n';
},function(e,t){}]);
//# sourceMappingURL=circuits-compiled.map